/*! For license information please see board-view.e3e3f002711b9f7e545e.js.LICENSE.txt */
(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"./app/common/lib/util/last-organization.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return i}));var r=n("./packages/storage/index.ts");function i(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:r.TrelloStorage,t="idLastOrganization",n="none";return{NO_ORGANIZATION:n,LAST_ORGANIZATION:t,set(r){e.set(t,r||n)},get(){var n=e.get(t);return"string"==typeof n?n:null}}}},"./app/common/lib/util/non-public-fields-filter.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"useNonPublicIfAvailable",(function(){return r}));var r=function(e,t){return e.nonPublic&&e.nonPublic[t]?e.nonPublic[t]:e[t]}},"./app/gamma/src/components/canonical-components/index.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return z})),n.d(t,"a",(function(){return V}));var r=n("./packages/browser/index.ts"),i=n("./packages/trello-canonical-components/index.ts"),o=n("./app/common/lib/util/i18n/index.ts"),a=n("./app/common/lib/util/preview.ts"),s=n("./node_modules/react/index.js"),l=n.n(s),c=n("./packages/dates/index.ts"),u=n("./app/gamma/src/util/dates.ts"),d=n("./app/gamma/src/util/sort.ts"),p=(n("./app/common/components/singlespa/link-wrapper.tsx"),n("./packages/trello-canonical-components/src/card-front/Badges.tsx")),m=n("./packages/colors/index.ts"),f=n("./packages/feature-flag-client/index.ts"),h=n("./packages/trello-canonical-components/src/card-front/CardLabel.tsx"),v=n("./app/src/components/CardFronts/LinkCard.tsx");function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var b=i.CanonicalCard.ArchivedBadge,y=i.CanonicalCard.AttachmentsBadge,k=i.CanonicalCard.Card,w=i.CanonicalCard.CardBadges,j=i.CanonicalCard.CardCover,_=i.CanonicalCard.CardDetails,x=i.CanonicalCard.CardLabels,C=(i.CanonicalCard.CardLink,i.CanonicalCard.CardMembers),O=i.CanonicalCard.CardStickers,S=i.CanonicalCard.CardTitle,E=i.CanonicalCard.ChecklistBadge,T=i.CanonicalCard.CommentsBadge,P=i.CanonicalCard.DescriptionBadge,N=i.CanonicalCard.DueDateBadge,I=i.CanonicalCard.NotificationBadge,A=i.CanonicalCard.Sticker,D=i.CanonicalCard.SubscribedBadge,B=i.CanonicalCard.TrelloAttachmentsBadge,R=i.CanonicalCard.VotesBadge,L=Object(o.forTemplate)("canonical_card"),M={red:m.Red400,blue:m.TrelloBlue300,green:m.Green400,orange:m.Orange400,purple:m.Purple400,yellow:m.Yellow400,pink:m.Pink400,sky:m.Sky400,lime:m.Lime400,black:m.N800},F={red:"DotsChecker",blue:"StripeHorizontal",green:"StripeDiagonal",orange:"StripeVertical",purple:"GrooveDiagonal",yellow:"WaveSquare",pink:"BrickHorizontal",sky:"BrickDiagonal",lime:"Scale",black:"BrickVertical"},V=function(e){var t=e.name,n=e.team,o=e.members,s=void 0===o?[]:o,m=e.labels,g=void 0===m?[]:m,k=e.colorBlind,V=e.cover,z=e.coverHeight,U=e.archived,H=e.badges,W=e.isTemplate,q=e.stickers,G=void 0===q?[]:q,$=e.expandLabels,K=e.numNotifications,Y=e.replacements,Z=void 0===Y?{}:Y,J=e.cardRole,Q=H&&H.attachmentsByType?H.attachmentsByType.trello.board+H.attachmentsByType.trello.card:0,X=H?H.attachments-Q:0,ee=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.hasStickers,i=t.heightOverride,o=t.colorBlind,s={height:0,img:"",bgColor:"",bgSize:"cover",sharedSourceUrl:"",pattern:null};if(!e)return s;var l=e?Object(a.smallestPreviewBiggerThan)(e.previews,Object(r.isHighDPI)()?600:300)||Object(a.biggestPreview)(e.previews):null;if(l){s.img=l.url?l.url:e.url,s.sharedSourceUrl=e.sharedSourceUrl,s.bgColor=e.edgeColor;var c=Math.min(l.height,260),u=245*l.height/l.width;u<=c?(s.height=u,s.bgSize="cover"):(s.height=c,s.bgSize="contain")}return e.color&&(s.bgColor=M[e.color],s.height=n?64:32,o&&(s.bgSize=void 0,s.pattern=F[e.color])),s.height=i||s.height,s}(V,{hasStickers:G.length>0,heightOverride:z,colorBlind:k}),te=new Set(n&&n.memberships?n.memberships.filter((function(e){return e.deactivated})).map((function(e){return e.idMember})):[]),ne=Object(f.seesVersionedVariation)("ecosystem.timeline-version","beta");return f.featureFlagClient.get("wildcard.link-cards",!1)&&"link"===J&&t?l.a.createElement(_,null,l.a.createElement(v.LinkCard,{url:t,isEditable:!1,openEditor:function(){},hideCover:!0,hideActions:!0})):l.a.createElement(l.a.Fragment,null,V&&"full"!==V.size&&l.a.createElement(j,ee),G.length>0&&l.a.createElement(O,{height:ee.height?ee.height:64},G.map((function(e){return l.a.createElement(A,{key:e.id,left:e.left,top:e.top,alt:e.image,img:Object(r.isHighDPI)()&&e.imageUrl2x?e.imageUrl2x:e.imageUrl,rotate:e.rotate,zIndex:e.zIndex})}))),l.a.createElement(_,null,g&&g.length>0&&l.a.createElement(x,null,g.filter((function(e){return!!e.color})).sort(d.b).map((function(e){return l.a.createElement(h.a,{key:e.id,color:e.color,pattern:k?h.b[e.color]:null},$?e.name||" ":null)}))),Z.CardTitle?Z.CardTitle:l.a.createElement(S,null,t),l.a.createElement(w,null,W&&l.a.createElement(p.c,null,L("card template badge label")),!!K&&l.a.createElement(I,{numUnread:K}),H&&H.subscribed&&l.a.createElement(D,null),H&&H.votes>0&&!W&&l.a.createElement(R,{numVotes:H.votes,voted:H.viewingMemberVoted}),H&&(H.start||H.due)&&!W&&l.a.createElement(N,{dueDate:H.due,isComplete:H.dueComplete},ne&&Object(u.getStringForCombinedDateBadge)(H.start,H.due),!ne&&H.due&&Object(c.b)(H.due)),H&&H.description&&l.a.createElement(P,null),H&&H.comments>0&&l.a.createElement(T,{numComments:H.comments}),X>0&&l.a.createElement(y,{numAttachments:X}),Q>0&&l.a.createElement(B,{numAttachments:Q}),H&&H.checklistItems>0&&l.a.createElement(E,{numItems:H.checklistItems,numComplete:H.checklistItemsChecked,checkItemsEarliestDue:H.checkItemsEarliestDue}),U&&!W&&l.a.createElement(b,null,L("archived card badge label"))),s&&s.length>0&&l.a.createElement(C,null,s.sort(Object(d.a)("name")).reduceRight((function(e,t){return e.push(l.a.createElement(i.CanonicalAvatar,{key:t.id,avatarSource:t.avatarSource,deactivated:te.has(t.id)||t.activityBlocked,img:t.avatars&&t.avatars[30],initials:t.initials,lightBackground:!0})),e}),[]))))},z=function(e){var t,n=e.className,r=e.style,i=g(e,["className","style"]);return l.a.createElement(k,{className:n,style:r,cover:i.cover,colorBlind:i.colorBlind,coverHeight:i.coverHeight,truncateNameForFullCover:i.truncateNameForFullCover,hasStickers:!!(null===(t=i.stickers)||void 0===t?void 0:t.length)},l.a.createElement(V,i))}},"./app/gamma/src/util/dates.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"getDateDeltaString",(function(){return c})),n.d(t,"getStringForCombinedDateBadge",(function(){return u}));var r=n("./app/common/lib/util/i18n/index.ts"),i=n("./app/scripts/views/internal/due-date-helpers.js"),o=n("./packages/dates/index.ts"),a=n("./node_modules/moment/moment.js"),s=n.n(a),l=Object(r.forNamespace)(),c=function(e,t){var n=s()(e),r=s()(t);return n.isSame(r,"day")?Math.abs(r.diff(e,"seconds"))<10?l("just now"):n.from(t):n.calendar(t)},u=function(e,t,n){if(n||(n=o.b),e&&t&&e<=t)return"".concat(n(e)," - ").concat(n(t));if(t)return"".concat(n(t));if(e){var r=Object(i.relativeInforForStartDate)(e);return l("badge.start.past"===r?["badge","start","past"]:["badge","start","future"],{date:n(e)})}return""}},"./app/gamma/src/util/sort.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return i})),n.d(t,"b",(function(){return a}));var r=n("./app/gamma/src/types/models.ts"),i=function(e){return function(t,n){if(!t[e]||!n[e])return 0;var r=t[e].toLocaleLowerCase(),i=n[e].toLocaleLowerCase();return r<i?-1:r>i?1:0}},o=new Map([[r.d.Green,0],[r.d.Yellow,1],[r.d.Orange,2],[r.d.Red,3],[r.d.Purple,4],[r.d.Blue,5],[r.d.Sky,6],[r.d.Lime,7],[r.d.Pink,8],[r.d.Black,9],[null,999]]),a=function(e,t){var n=e.color,r=t.color,i=o.get(n)-o.get(r),a=(n||"").toLowerCase().localeCompare(r||"");return o.has(n)&&o.has(r)?i:a}},"./app/scripts/data/copy-board-header-button-teams.js":function(e,t){e.exports=["54b58957112602c9a0be7aa3","54f4ca2e40406f2c50b072a0"]},"./app/scripts/data/directory.js":function(e,t,n){n("./packages/config/index.ts").customFieldsId,n("./app/scripts/data/legacy-power-ups.js");e.exports={categories:["analytics-reporting","automation","board-utilities","communication-collaboration","developer-tools","file-management","hr-operations","it-project-management","marketing-social-media","product-design","sales-support"],atlassianPowerUps:["588a331cc86ffbe08f5d2c67"]}},"./app/scripts/data/dropbox.js":function(e,t){e.exports={DropboxPluginId:"55a5d915446f517774210002",DropboxClaimedHosts:["dropbox.com","www.dropbox.com","paper.dropbox.com"]}},"./app/scripts/data/sticker-margin.js":function(e,t){e.exports=10},"./app/scripts/data/sticker-size.js":function(e,t){e.exports=80},"./app/scripts/init/useSocketSubscription.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n("./app/scripts/init/subscriber.js"),o=n.n(i),a=n("./packages/error-reporting/index.ts"),s=function(e,t,n){Object(r.useEffect)((function(){if(!n){if(t&&((r=t)&&/^[0-9a-fA-F]{24}$/.test(r)))return o()(function(e,t){switch(e){case"Member":return{idModel:t,modelType:e,tags:["messages","updates"]};case"Board":return{idModel:t,modelType:e,tags:["clientActions","updates"]};case"Organization":return{idModel:t,modelType:e,tags:["allActions","updates"]};default:throw new Error("Invalid modelType")}}(e,t));Object(a.sendErrorEvent)(new Error("Cannot setup subscription to model '".concat(e,"' using an empty or invalid id: ").concat(t,".")))}var r;return function(){}}),[e,t,n])}},"./app/scripts/lib/emoji-provider.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n("./app/scripts/db/auth.js"),s=n("./app/scripts/network/api-promise.js"),l=n("./node_modules/emoji-mart/dist-es/utils/data.js").compress,c=n("./node_modules/emoji-mart/dist-es/utils/emoji-index/nimble-emoji-index.js").default,u=n("./node_modules/underscore/underscore.js"),d=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this._fetchEmoji=this._fetchEmoji.bind(this),this._processEmoji=this._processEmoji.bind(this),this.getSpritesheetsUrl=this.getSpritesheetsUrl.bind(this)}var t,n,i;return t=e,i=[{key:"initClass",value:function(){this.prototype.categories=[["Smileys & People","people"],["Animals & Nature","nature"],["Food & Drink","foods"],["Activities","activity"],["Travel & Places","places"],["Objects","objects"],["Symbols","symbols"],["Flags","flags"]],this.prototype.apiRoot="/1/emoji",this.prototype.data=null,this.prototype.emojiIndex=null,this.prototype.spriteSheets=null}}],(n=[{key:"apiParams",value:function(){return{spritesheets:!0,locale:a.myLocale()}}},{key:"_fetchEmoji",value:function(){return null!=this.fetchPromise?this.fetchPromise:this.fetchPromise=s({url:this.apiRoot,data:this.apiParams()}).then(this._processEmoji).catch((function(e){return console.error(e)}))}},{key:"_formatName",value:function(e){var t=["and","or","nor","a","an","the","so","but","to","of","at","by","from","into","on","onto","off","out","in","over","with","for"];return e.toLowerCase().replace(/[-_]/g," ").split(" ").map((function(e){return Array.from(t).includes(e)?e:e.replace(/\b\w/g,(function(e){return e.toUpperCase()}))})).join(" ")}},{key:"_processEmoji",value:function(e){var t=this,n={compressed:!0,categories:[],emojis:{},aliases:{},spriteSheets:{}},i={};this.categories.forEach((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,2),o=t[0],a=t[1],s=arguments.length<=1?void 0:arguments[1];return n.categories[s]={id:a,name:o,emojis:[]},i[o]=s})),e.trello.forEach((function(e){var r={name:t._formatName(null!=e.name?e.name:e.shortName),unified:e.unified,sheet_x:e.sheetX,sheet_y:e.sheetY,text:null!=e.text?e.text:"",emoticons:null!=e.texts?e.texts:[],short_name:e.shortName,short_names:e.shortNames,keywords:e.keywords};if(null!=e.skinVariations&&(r.skin_variations=u.mapObject(e.skinVariations,(function(e){return{unified:e.unified,native:e.native,sheet_x:e.sheetX,sheet_y:e.sheetY}}))),"Skin Tones"!==e.category){var o=i[e.category];n.categories[o].emojis.push(r.short_name),n.emojis[r.short_name]=r}return r.short_names.forEach((function(e,t){if(0!==t)return n.aliases[e]=r.short_name})),l(r)}));var o=n.categories[i.Flags];return o.emojis=o.emojis.filter((function(e){if("flag-un"!==e)return!0})).sort(),this.data=n,this.emojiIndex=new c(n),this.spriteSheets=e.spriteSheets,n}},{key:"getData",value:function(){return this._fetchEmoji()}},{key:"getDataSync",value:function(){return this.data}},{key:"getIndex",value:function(){var e=this;return this._fetchEmoji().then((function(){return e.emojiIndex}))}},{key:"getSpritesheets",value:function(){var e=this;return this._fetchEmoji().then((function(){return e.spriteSheets}))}},{key:"getSpritesheetsUrl",value:function(e,t){return n=null!=this.spriteSheets[e]?this.spriteSheets[e][t]:void 0,r=function(e){return e.url},null!=n?r(n):void 0;var n,r}}])&&o(t.prototype,n),i&&o(t,i),e}();d.initClass(),e.exports=new d},"./app/scripts/lib/last-action/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"isUndoEnabled",(function(){return B})),n.d(t,"isRepeatEnabled",(function(){return R})),n.d(t,"undoAction",(function(){return F})),n.d(t,"redoAction",(function(){return V})),n.d(t,"repeatAction",(function(){return z}));var r=n("./packages/action-history/index.ts"),i=n("./packages/atlassian-analytics/index.ts"),o=n("./packages/error-reporting/index.ts"),a=n("./packages/feature-flag-client/index.ts"),s=n("./app/scripts/db/model-cache.js"),l=n.n(s),c=n("./app/scripts/debug/constants.ts"),u=n("./app/scripts/views/lib/alerts.js"),d=n.n(u),p=n("./packages/dates/index.ts"),m=n("./app/common/lib/util/i18n/index.ts");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){v(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function g(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function b(e){var t="function"==typeof Map?new Map:void 0;return(b=function(e){if(null===e||(n=e,-1===Function.toString.call(n).indexOf("[native code]")))return e;var n;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==t){if(t.has(e))return t.get(e);t.set(e,r)}function r(){return y(e,arguments,j(this).constructor)}return r.prototype=Object.create(e.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),w(r,e)})(e)}function y(e,t,n){return(y=k()?Reflect.construct:function(e,t,n){var r=[null];r.push.apply(r,t);var i=new(Function.bind.apply(e,r));return n&&w(i,n.prototype),i}).apply(null,arguments)}function k(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function w(e,t){return(w=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function j(e){return(j=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var _=Object(m.forNamespace)("notificationsGrouped");function x(e){var t=e.card,n=e.traceId,r=e.taskName,o=e.subTask,a=e.source,s=e.field;return Object(i.tracingCallback)({taskName:r,subTask:o,traceId:n,source:a},(function(){i.Analytics.sendUpdatedCardFieldEvent({field:s,source:a,containers:{card:{id:t.id},board:{id:t.get("idBoard")},list:{id:t.get("idList")}},attributes:{taskId:n}})}))}var C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&w(e,t)}(r,e);var t,n=(t=r,function(){var e,n=j(t);if(k()){var r=j(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return g(this,e)});function r(){var e;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(e=n.call(this,"noop")).name="NoopError",e}return r}(b(Error)),O={join:function(e,t,n){if(e.hasMember(t.idMember))throw new C;var r=n.traceId;return e.addMemberWithTracing(t.idMember,r,x(h({card:e},n))),_("notification_joined_card")},leave:function(e,t,n){if(!e.hasMember(t.idMember))throw new C;var r=n.traceId;return e.removeMemberWithTracing(t.idMember,r,x(h({card:e},n))),_("notification_left_card")},"add-member":function(e,t,n){if(e.hasMember(t.idMember))throw new C;var r=n.traceId;e.addMemberWithTracing(t.idMember,r,x(h({card:e},n)));var i=l.a.get("Member",t.idMember);return _("notification_added_member_to_card",{member:i.get("fullName")})},"remove-member":function(e,t,n){if(!e.hasMember(t.idMember))throw new C;var r=n.traceId;e.removeMemberWithTracing(t.idMember,r,x(h({card:e},n)));var i=l.a.get("Member",t.idMember);return _("notification_removed_member_from_card",{member:i.get("fullName")})},move:function(e,t){var n,r,i=e.get("idBoard"),o=e.get("idList"),a=l.a.get("List",t.idList);return n="top"===t.position?0:"bottom"===t.position?a.openCards().length:t.position+1,e.moveToList(a,n),i!==t.idBoard?_("notification_moved_card_to_board",{list:a.get("name"),board:null===(r=l.a.get("Board",t.idBoard))||void 0===r?void 0:r.get("name")}):o===t.idList?_("notification_moved_card_within_list",{list:a.get("name")}):_("notification_moved_card",{list:a.get("name")})},"add-label":function(e,t){var n=l.a.get("Label",t.idLabel);if(e.hasLabel(n))throw new C;return e.toggleLabel(n,!0),_("notification_added_label_to_card",{label:n.get("name")})},"remove-label":function(e,t){var n=l.a.get("Label",t.idLabel);if(!e.hasLabel(n))throw new C;return e.toggleLabel(n,!1),_("notification_removed_label_from_card",{label:n.get("name")})},archive:function(e,t,n){if(e.get("closed"))throw new C;var r=n.traceId;return e.close(r,x(h({card:e},n))),_("notification_archived_card")},unarchive:function(e,t,n){if(!e.get("closed"))throw new C;var r=n.traceId;return e.reopen(r,x(h({card:e},n))),_("notification_unarchived_card")},"set-due-date":function(e,t,n){var r,i=t.dueDate,o=(null===(r=e.getDueDate())||void 0===r?void 0:r.getTime())||null,a=e.get("dueReminder")||-1;if(o===i.due&&a===i.dueReminder)throw new C;var s=n.traceId;if(e.setDueDate(h({},i,{traceId:s}),x(h({card:e},n))),!i.due)return _("notification_removed_due_date");var l=Object(p.b)(new Date(i.due));return o?i.due===o?_("notification_changed_due_date_reminder"):_("notification_changed_due_date",{date:l}):_("notification_added_a_due_date",{date:l})},rename:function(e,t,n){e.recordAction(h({},t,{previousName:e.get("name")}));var r=n.traceId;return e.update({name:t.name,traceId:r},x(h({card:e},n))),_("notification_renamed_card")},"update-description":function(e,t,n){e.recordAction(h({},t,{previousDescription:e.get("desc")}));var r=n.traceId;return e.update({desc:t.description,traceId:r},x(h({card:e},n))),_("notification_updated_description_of_card")}},S={join:O.leave,leave:O.join,"add-member":O["remove-member"],"remove-member":O["add-member"],move:function(e,t,n,r){var i,o=l.a.get("List",r.idList);return e.moveToList(o,t.fromPosition),t.idBoard!==r.idBoard?_("notification_moved_card_to_board",{list:o.get("name"),board:null===(i=l.a.get("Board",r.idBoard))||void 0===i?void 0:i.get("name")}):t.idList===r.idList?_("notification_moved_card_within_list",{list:o.get("name")}):_("notification_moved_card",{list:o.get("name")})},"add-label":O["remove-label"],"remove-label":O["add-label"],archive:O.unarchive,unarchive:O.archive,"set-due-date":function(e,t,n,r){var i,o=h({},t,{dueDate:t.previousDueDate,previousDueDate:t.dueDate});return null===(i=O["set-due-date"])||void 0===i?void 0:i.call(O,e,o,n,r)},rename:function(e,t,n,r){var i,o=h({},t,{name:t.previousName,previousName:t.name});return null===(i=O.rename)||void 0===i?void 0:i.call(O,e,o,n,r)},"update-description":function(e,t,n,r){var i,o=h({},t,{description:t.previousDescription,previousDescription:t.description});return null===(i=O["update-description"])||void 0===i?void 0:i.call(O,e,o,n,r)}},E={join:"joinCardAction",leave:"leaveCardAction","add-member":"addMemberToCardAction","remove-member":"removeMemberFromCardAction",move:"moveCardAction","add-label":"addLabelToCardAction","remove-label":"removeLabelFromCardAction",archive:"archiveCardAction",unarchive:"unarchiveCardAction","set-due-date":"setCardDueDateAction",rename:"renameCardAction","update-description":"updateCardDescriptionAction"};var T=function(e,t){var n=e.idBoard,r=t.action,i=t.context;return!n||n===i.idBoard||function(e){return"move"===e.type}(r)&&r.idBoard===n},P=function(e,t){var n=e.idCard,r=t.context;return!n||n===r.idCard},N=["join","leave","add-member","remove-member","move","add-label","remove-label","archive","unarchive","set-due-date","rename"],I=function(e,t){var n=e.source,r=t.action;return"cardDetailScreen"===n||N.includes(r.type)};function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return D(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=a.featureFlagClient.get("workflowers.undo",!1),R=a.featureFlagClient.get("workflowers.repeat",!1),L={"add-checklist":{taskName:"edit-card",subTask:"checklist",field:"checklist"},"add-label":{taskName:"edit-card",subTask:"idLabels",field:"idLabels"},"add-member":{taskName:"edit-card",subTask:"idMembers",field:"idMembers"},archive:{taskName:"edit-card",subTask:"closed",field:"closed"},delete:{taskName:"delete-card",field:"id"},join:{taskName:"edit-card",subTask:"idMembers",field:"idMembers"},leave:{taskName:"edit-card",subTask:"idMembers",field:"idMembers"},move:{taskName:"edit-card",subTask:"pos",field:"position"},"remove-label":{taskName:"edit-card",subTask:"idLabels",field:"idLabels"},"remove-member":{taskName:"edit-card",subTask:"idMembers",field:"idMembers"},rename:{taskName:"edit-card",subTask:"name",field:"name"},"set-due-date":{taskName:"edit-card",subTask:"due",field:"due"},"update-description":{taskName:"edit-card",subTask:"desc",field:"description"},unarchive:{taskName:"edit-card",subTask:"closed",field:"closed"}};function M(e){var t=e.analyticsAction,n=e.entry,r=n.action,a=n.context,s=e.userContext,u=e.map,p=e.callback,m=u[r.type];if(m){var f,h,v=L[r.type],g=v.taskName,b=v.subTask,y=v.field,k={traceId:"move"!==r.type?i.Analytics.startTask({taskName:g,subTask:b,source:s.source}):"",taskName:g,subTask:b,field:y,source:s.source};try{if(!(f=l.a.get("Card","repeated"===t?s.idCard:a.idCard)))throw new Error("Card could not be loaded");h=m(f,r,k,a),null==p||p()}catch(e){var w,j;if(e instanceof C){var _=k.traceId,x=k.taskName,O=k.subTask,S=k.source;return void(_&&i.Analytics.taskAborted({traceId:_,taskName:x,subTask:O,source:S}))}Object(o.sendErrorEvent)(e,{tags:{ownershipArea:"trello-workflowers",feature:c.Feature.UndoAction},extraData:{analyticsAction:t,actionType:r.type,idCard:a.idCard,idBoard:a.idBoard,source:s.source,viewingCard:null!==(w=s.idCard)&&void 0!==w?w:"",viewingBoard:null!==(j=s.idBoard)&&void 0!==j?j:""}});var T=k.traceId,P=k.taskName,N=k.subTask,I=k.source;return void(T&&i.Analytics.taskFailed({traceId:T,taskName:P,subTask:N,source:I,error:e}))}h&&d.a.showLiteralText(h,"subtle","lastAction",2e3),function(e){var t=e.analyticsAction,n=e.actionType,r=e.card,o=e.source;i.Analytics.sendTrackEvent({action:t,actionSubject:"action",actionSubjectId:E[n],source:o,containers:{board:{id:r.get("idBoard")},card:{id:r.id}}})}({analyticsAction:t,actionType:r.type,card:f,source:s.source})}}function F(e){var t=A(r.ActionHistory.get(),1)[0];t&&!Object.prototype.hasOwnProperty.call(t,"count")&&T(e,t)&&P(e,t)&&I(e,t)&&M({analyticsAction:"undone",entry:t,userContext:e,map:S,callback:function(){return r.ActionHistory.undo()}})}function V(e){var t=A(r.ActionHistory.getUndoStack(),1)[0];t&&T(e,t)&&P(e,t)&&I(e,t)&&M({analyticsAction:"redone",entry:t,userContext:e,map:O,callback:function(){return r.ActionHistory.redo()}})}function z(e){var t=A(r.ActionHistory.get(),1)[0];t&&!Object.prototype.hasOwnProperty.call(t,"count")&&T(e,t)&&!P(e,t)&&I(e,t)&&M({analyticsAction:"repeated",entry:t,userContext:e,map:O})}},"./app/scripts/lib/limits.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n("./node_modules/underscore/underscore.js"),a={maxExceeded:0,disabled:1,warn:2,ok:3};e.exports={filterByKeys:function(e,t){return null==e?[]:t.map((function(t){var n=r(Array.from(t.split(".")),2),i=n[0],a=n[1],s=null!=e[i]?e[i][a]:void 0;if(null!=(null!=s?s.status:void 0))return o.extend({key:t},o.pick(s,"status","count"))})).filter((function(e){return null!=e}))},sort:function(e){return o.sortBy(e,(function(e){return a[e.status]}))}}},"./app/scripts/lib/localize-count.js":function(e,t,n){var r=n("./app/scripts/lib/try-babble.js"),i=n("./node_modules/underscore/underscore.js"),o=n("locale").counting;e.exports=function(e,t,n,a){null==n&&(n={}),null==a&&(a={});var s=i.extend({count:String(t)},n);return r(["counts",e,o(t)],s,a)}},"./app/scripts/lib/plugins/plugin-cover-with-defaults.js":function(e,t,n){var r=n("./node_modules/underscore/underscore.js"),i=n("./app/scripts/lib/plugins/plugin-validators.js");e.exports=function(e){var t={edgeColor:"transparent",height:e.height,size:"contain",padding:"0",position:"center",stickerHeight:e.height,url:e.url};return i.isValidHexColor(e.edgeColor)&&(t.edgeColor=e.edgeColor),"cover"===e.position?t.size="cover":r.isObject(e.position)&&(!0===e.position.padding&&(t.padding="8px",t.stickerHeight+=16),r.contains(["center","left","right"],e.position.align)&&(t.position=e.position.align)),t}},"./app/scripts/lib/recents.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var a=n("./packages/storage/index.ts").TrelloStorage,s=n("./node_modules/underscore/underscore.js"),l=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,(n=[{key:"_getKey",value:function(e){return"recent_".concat(e)}},{key:"add",value:function(e,t){var n=this.get(e),i=s.chain([t].concat(r(Array.from(n)))).uniq().first(10).value();return a.set(this._getKey(e),i)}},{key:"get",value:function(e,t){var n;return null==t&&(t=10),s.chain(null!=(n=a.get(this._getKey(e)))?n:[]).compact().first(t).value()}}])&&o(t.prototype,n),i&&o(t,i),e}();e.exports=new l},"./app/scripts/lib/util/array/count-while.js":function(e,t){function n(e){return function(e){if(Array.isArray(e))return e}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return r(e,t)}(e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function r(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}e.exports=function(){for(var e=arguments.length,t=new Array(e),r=0;r<e;r++)t[r]=arguments[r];var i=Math.max(t.length,1),o=t.slice(0,i-1),a=t[i-1],s=Array.from(o),l=n(s),c=l[0],u=l.slice(1);if(null==c)return 0;if(u.length>0)for(var d=0;d<c.length;d++)for(var p=c[d],m=0,f=Array.from(u);m<f.length;m++){var h=f[m];if(h.length<=d||!a(p,h[d]))return d}return c.length}},"./app/scripts/lib/util/decaying-interval.js":function(e,t,n){var r=n("./app/scripts/lib/util/index.js"),i={resetAfterMouseMove:!0,intervals:[{iterations:6,timeout:r.getMs({seconds:10})},{iterations:10,timeout:r.getMs({minutes:1})}]};e.exports=function(e,t){null==t&&(t=i);var n=null,r=null,o=!1,a=function(){clearTimeout(r),o&&(document.removeEventListener("mousemove",c),o=!1)},s=function(){t.resetAfterMouseMove&&!o&&(document.addEventListener("mousemove",c),o=!0)},l=function i(){if(n.length){var o=n.shift();r=setTimeout((function(){return e(),requestAnimationFrame(i)}),o),o>t.intervals[0].timeout&&s()}else s()},c=function(){a(),n=[];for(var e=0,r=Array.from(t.intervals);e<r.length;e++)for(var i=r[e],o=i.iterations,s=i.timeout,c=0,u=o,d=0<=u;d?c<u:c>u;d?c++:c--)n.push(s);l()};return c(),a}},"./app/scripts/lib/util/event/custom-event.js":function(e,t){e.exports=function(){try{return new window.CustomEvent("testEvent"),window.CustomEvent}catch(t){var e=function(e,t){null==t&&(t={bubbles:!1,cancelable:!1,detail:void 0});var n=document.createEvent("CustomEvent");return n.initCustomEvent(e,t.bubbles,t.cancelable,t.detail),n};return e.prototype=window.Event.prototype,e}}()},"./app/scripts/lib/util/event/trigger-list.js":function(e,t,n){var r=n("./app/scripts/lib/util/event/custom-event.js");e.exports=function(e,t,n){var i=new r(t,{bubbles:!1,cancelable:!1,detail:null!=n.detail?n.detail:void 0}),o=!1;i.stopPropagation=function(){return o=!0,r.prototype.stopPropagation.apply(this,arguments)};for(var a=0,s=Array.from(e);a<s.length;a++){var l=s[a];o||l.dispatchEvent(i)}}},"./app/scripts/lib/util/event/trigger.js":function(e,t,n){var r=n("./app/scripts/lib/util/event/custom-event.js");e.exports=function(e,t,n){null==n&&(n={});var i=new r(t,{bubbles:null==n.bubbles||n.bubbles,cancelable:null!=n.cancelable&&n.cancelable,detail:null!=n.detail?n.detail:void 0});return e.dispatchEvent(i)}},"./app/scripts/lib/util/naive-should-component-update.js":function(e,t,n){var r=n("./node_modules/underscore/underscore.js"),i=n("./app/scripts/lib/util/is-plain-object.js"),o=n("./node_modules/react/index.js");e.exports=function(e,t){return!(a(e,this.props)&&a(t,this.state))};var a=function e(t,n){if(i(t)&&i(n)){if(r.keys(t).length!==r.keys(n).length)return!1;for(var a in t)if(!e(t[a],n[a]))return!1}else if(o.isValidElement(t)&&o.isValidElement(n)){if(!e([t.props,t.state],[n.props,n.state]))return!1}else if(r.isArray(t)&&r.isArray(n)){if(t.length!==n.length)return!1;for(var s=0;s<t.length;s++)if(!e(t[s],n[s]))return!1}else{if(r.isFunction(t)&&r.isFunction(n))return!0;if(t!==n)return!1}return!0}},"./app/scripts/lib/util/removeAllRanges.js":function(e,t){e.exports=function(){if(window.getSelection){if(window.getSelection().empty)return window.getSelection().empty();if(window.getSelection().removeAllRanges)return window.getSelection().removeAllRanges()}else if(document.selection)return document.selection.empty()}},"./app/scripts/lib/util/selection/has-selection.js":function(e,t){e.exports=function(){return e="function"==typeof window.getSelection?window.getSelection():void 0,t=function(e){return e.toString()},(null!=e?t(e):void 0)||(null!=document.selection?document.selection.createRange().text:void 0);var e,t}},"./app/scripts/lib/util/sticker-clip.js":function(e,t,n){var r=n("./app/scripts/data/sticker-margin.js"),i=-r,o=100-r;e.exports=function(e){return e<i?i:e>o?o:e}},"./app/scripts/lib/util/text/html-encode.js":function(e,t){e.exports=function(e){return e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/'/g,"&#39;")}},"./app/scripts/lib/util/text/links-from-markdown.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n("./node_modules/underscore/underscore.js");e.exports=function(e,t){for(var n=[],i=0,a=Array.from(t.blockLex(e,{}));i<a.length;i++){var s=a[i];null!=s.children&&(n=[].concat(r(Array.from(n)),r(Array.from(t.inlineLex(s.children.text)))))}return o.chain(n).filter((function(e){return"link"===e.type})).map((function(n){return null!=(e=null!=n.children?n.children.text:void 0)?{url:n.url,text:t.textInline(null!=n.children?n.children.text:void 0)}:{url:n.url}})).value()}},"./app/scripts/lib/util/text/search-filter.js":function(e,t){e.exports=function(e){var t=e.toLowerCase().split(/[\s,]+/),n=t.map((function(e,n){return 0===e.length?function(e){return!0}:n===t.length-1?function(t){return 0===t.toLowerCase().indexOf(e)}:function(t){return t.toLowerCase()===e}}));return function(e){Array.isArray(e)&&(e=e.join(" "));var t=e.toLowerCase().split(/\s+/);return n.every((function(e){return t.some((function(t){return e(t)}))}))}}},"./app/scripts/lib/util/url/contains-valid-url.js":function(e,t){e.exports=function(e){return new RegExp("(https?|ftp):\\/\\/(([a-z0-9$_\\.\\+!\\*\\'\\(\\),;\\?&=-]|%[0-9a-f]{2})+(:([a-z0-9$_\\.\\+!\\*\\'\\(\\),;\\?&=-]|%[0-9a-f]{2})+)?@)?((([a-z0-9]\\.|[a-z0-9][a-z0-9-]*[a-z0-9]\\.)*[a-z][a-z0-9-]*[a-z0-9]|((\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5])\\.){3}(\\d|[1-9]\\d|1\\d{2}|2[0-4][0-9]|25[0-5]))(:\\d+)?)(((\\/+([a-z0-9$_\\.\\+!\\*\\'\\(\\),;:@&=-]|%[0-9a-f]{2})*)*(\\?([a-z0-9$_\\.\\+!\\*\\'\\(\\),;:@&=-]|%[0-9a-f]{2})*)?)?)?(\\#([a-z0-9$_\\.\\+!\\*\\'\\(\\),;:@&=-]|%[0-9a-f]{2})*)?").test(null!=e?e.toLowerCase():void 0)}},"./app/scripts/views/action/action-list-view.js":function(e,t,n){function r(e){return l(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||a(e)||o()}function i(e,t){return l(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||a(e,t)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function a(e,t){if(e){if("string"==typeof e)return s(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?s(e,t):void 0}}function s(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function l(e){if(Array.isArray(e))return e}function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t,n){return(d="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=h(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function p(e,t){return(p=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function m(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var v=n("./packages/jquery/index.js"),g=n("./app/scripts/views/action/action-view.js").ActionView,b=n("./app/scripts/views/action/comment-action-view.js"),y=n("./app/scripts/lib/dates.js"),k=n("./app/scripts/lib/util/index.js"),w=n("./app/scripts/views/internal/view.js"),j=n("./node_modules/underscore/underscore.js"),_=n("./node_modules/moment/moment.js");e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&p(e,t)}(s,e);var t,n,r,o,a=(t=s,function(){var e,n=h(t);if(f()){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return m(this,e)});function s(){return c(this,s),a.apply(this,arguments)}return n=s,(r=[{key:"initialize",value:function(e){var t=this,n=e.renderOpts,r=e.highlight;return this.renderOpts=n,this.highlight=r,this.makeDebouncedMethods("render"),this.listenTo(this.collection,"add reset",this.renderDebounced),this.listenTo(this.collection,"remove",(function(){return t.removeActionViews(),t.renderDebounced()})),this.actionViews=[],this.showDetails=!0}},{key:"render",value:function(){var e=this;return this.collection._getRelatedBoards().then((function(){var t=""===e.$el.html()||e.showDetails!==e._lastShowDetails||e.missingViews();e._lastShowDetails=e.showDetails,e.rerender(t,!0)})).then((function(){e.trigger("render")})).done()}},{key:"missingViews",value:function(){var e=this;return j.any(this.actionViews,(function(t){return!v.contains(e.el,t.el)}))}},{key:"sortActions",value:function(e){return j.sortBy(e,(function(e){return y.parse(e.get("date"))})).reverse()}},{key:"rerender",value:function(e,t){var n=i(Array.from(this.saveEdits()),2),r=n[0],o=n[1],a=this.collection.models;a=this.sortActions(a),this.showDetails||(a=j.filter(a,(function(e){return e.isCommentLike()})));var s=I(a).slice(0,this.renderOpts.limit);e&&t&&this.removeActionViews(),this.$(".js-board-member-profile-no-activity").toggleClass("hide",s.length>0);for(var l=0;l<s.length;l++){var c=s[l];if(e||this.actionNeedsRerender(c,l)){var u=this.rerenderAction(c,l,s,{rerenderAll:e});this.restoreEdits(r,o,u)}}}},{key:"setShowDetails",value:function(e){return this.showDetails=e}},{key:"saveEdits",value:function(){var e=[],t=0;return this.$(".editing textarea").each((function(){var n=v(this);e.push(n.val()),n.is(":focus")&&(n.parents(".editing").addClass("focused"),t=k.getCaretPosition(n))})),null!=e&&e.reverse(),[e,t]}},{key:"restoreEdits",value:function(e,t,n){if(n.$el.hasClass("editing")){n.$("textarea").val(e.pop());var r=k.getElem(n.$("textarea"));return n.$el.hasClass("focused")&&k.setCaretPosition(r,t),n.openEditView()}}},{key:"_viewForAction",value:function(e){return/^comment/.test(e.get("type"))?this.subview(b,e,this.renderOpts):this.subview(g,e,this.renderOpts)}},{key:"rerenderAction",value:function(e,t,n,r){var i=this._viewForAction(e),o=this.highlight&&this.highlight===e.id;return i.setHighlighted(o),r.rerenderAll?(this.appendSubview(i),this.actionViews.push(i)):(this.insertActionView(i,t),1===this.actionViews.length&&1===n.length?(this.actionViews[t].remove(),this.actionViews.splice(t,1,i)):null==this.actionViews[t+1]?this.actionViews.splice(t,1,i):n.length<=this.actionViews.length?this.actionViews[t+1].model.id===A(j.first(n[t+1]),(function(e){return e.id}))?(this.actionViews[t].remove(),this.actionViews.splice(t,1,i)):(this.actionViews.splice(t,0,i),A(this.actionViews[this.actionViews.length-1],(function(e){return e.remove()})),this.actionViews=this.actionViews.splice(0,this.actionViews.length-1)):this.actionViews.splice(t,0,i)),i}},{key:"actionNeedsRerender",value:function(e,t){var n=null!=e.id?"id":"cid";A(A(this.actionViews[t+1],(function(e){return e.model})),(function(e){return e[n]}))===e[n]&&(this.actionViews[t].remove(),this.actionViews.splice(t,1));var r=this.actionViews[t];return!r||e[n]!==r.model[n]}},{key:"insertActionView",value:function(e,t){return this.actionViews[t]?(e.delegateEvents(),e.render().$el.insertBefore(this.actionViews[t].el)):this.appendSubview(e)}},{key:"removeActionViews",value:function(){this.removeSubviews(),this.actionViews=[]}},{key:"delegateEvents",value:function(){d(h(s.prototype),"delegateEvents",this).apply(this,arguments);for(var e=0,t=Array.from(this.actionViews);e<t.length;e++){var n=t[e];n.delegateEvents()}}},{key:"undelegateEvents",value:function(){d(h(s.prototype),"undelegateEvents",this).apply(this,arguments);for(var e=0,t=Array.from(this.actionViews);e<t.length;e++){var n=t[e];n.undelegateEvents()}}},{key:"remove",value:function(){return this.removeActionViews(),d(h(s.prototype),"remove",this).apply(this,arguments)}},{key:"setHighlight",value:function(e){var t,n;e!==this.highlight&&(this.highlight&&null!=(n=this.collection.get(this.highlight))&&this._viewForAction(n).setHighlighted(!1),this.highlight=e,this.highlight&&(t=this.collection.get(this.highlight))&&this._viewForAction(t).setHighlighted(!0))}}])&&u(n.prototype,r),o&&u(n,o),s}(w);var x=function(e){return function(t){return function(n,r){return e in n&&e in r&&n[e].id===r[e].id?t(n,r):[!1,!1]}}},C=x("card"),O=x("board"),S=function(e){return[e,e]},E=function e(t,n){if(null==n)return!1;if(0===t.length)return!0;var i=r(Array.from(t)),o=i[0];return e(i.slice(1),n[o])},T=function(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return j.all(n,(function(t){return E(e,t)}))},P=[{a:"removeMemberFromCard",b:"addMemberToCard",cancel:C((function(e,t){return S(e.idMember===t.idMember)}))},{a:"deleteAttachmentFromCard",b:"addAttachmentToCard",cancel:C((function(e,t){return S(e.attachment.id===t.attachment.id)}))},{a:"updateCheckItemStateOnCard",b:"updateCheckItemStateOnCard",cancel:C((function(e,t){return S(e.checkItem.id===t.checkItem.id)}))},{a:"updateCard",b:"updateCard",cancel:C((function(e,t){return S("listAfter"in e&&"listBefore"in t&&e.listAfter.id===t.listBefore.id)}))},{a:"addChecklistToCard",b:"removeChecklistFromCard",cancel:C((function(e,t){return S(e.checklist.id===t.checklist.id)}))},{a:"updateBoard",b:"updateBoard",cancel:O((function(e,t){return[T(["board","prefs","background"],e,t),!1]}))}],N=function(e,t){return P.reduce((function(n,r){return e.type!==r.a||t.type!==r.b?n:function(){var e=i(Array.from(arguments.length<=0?void 0:arguments[0]),2),t=e[0],n=e[1],r=i(Array.from(arguments.length<=1?void 0:arguments[1]),2),o=r[0],a=r[1];return[t||o,n||a]}(n,r.cancel(e,t))}),[!1,!1])},I=function(e){if(1===e.length)return e;for(var t={},n=e.slice(0,-1),r=0;r<n.length;r++){var o=n[r].toJSON(),a=e[r+1].toJSON();if(j.extend(o,o.data),j.extend(a,a.data),o.idMemberCreator===a.idMemberCreator&&_(o.date).diff(a.date,"minutes")<5&&!t[o.id]&&!t[a.id]){var s=i(Array.from(N(o,a)),2),l=s[0],c=s[1];l&&(t[o.id]=!0),c&&(t[a.id]=!0)}}return j.reject(e,(function(e){return t[e.id]}))};function A(e,t){return null!=e?t(e):void 0}},"./app/scripts/views/action/action-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./packages/jquery/index.js"),d=n("./app/scripts/views/member-menu-profile/activity-member-menu-view.js"),p=(n("./packages/config/index.ts").siteDomain,n("./app/scripts/views/attachment/helpers.js")),m=n("./app/scripts/views/internal/attachment-viewer.js"),f=n("./app/scripts/db/auth.js"),h=n("./app/scripts/views/internal/board-display-helpers.js"),v=n("./packages/browser/index.ts"),g=n("./app/scripts/controller/index.js"),b=n("./app/scripts/lib/dates.js"),y=n("./app/scripts/lib/entity-display.js"),k=n("./app/scripts/lib/util/selection/has-selection.js"),w=n("./app/scripts/db/known-services.js"),j=n("./app/scripts/db/model-cache.js"),_=n("./app/scripts/views/lib/pop-over.js"),x=n("./node_modules/react/index.js"),C=n("./packages/react-dom-wrapper/index.ts"),O=n("./app/scripts/views/reactions/reaction-piles.js"),S=n("./app/scripts/lib/markdown/tfm.js"),E=n("./app/scripts/lib/util/index.js"),T=n("./app/scripts/views/internal/view.js"),P=n("./node_modules/underscore/underscore.js"),N=n("./app/scripts/views/internal/friendly-links.js"),I=n("./app/scripts/debug/log.js"),A=n("./node_modules/moment/moment.js"),D=n("./app/scripts/views/internal/templates.js"),B=n("./packages/atlassian-analytics/index.ts").Analytics,R=n("./packages/analytics/index.ts"),L=R.track,M=R.trackUe,F=n("./app/scripts/lib/localize.js"),V=n("./app/scripts/views/templates/action.js"),z=n("./node_modules/bluebird/js/browser/bluebird.js"),U=n("./app/scripts/views/internal/plugins/plugin-runner.js"),H=n("./app/scripts/views/templates/comment-unfurl-preview.js"),W=n("./app/scripts/lib/plugins/plugin-validators.js"),q=n("./packages/feature-flag-client/index.ts").featureFlagClient,G=n("./app/scripts/controller/navigate.js").navigate,$=n("./node_modules/url-parse/index.js"),K={"click .js-show-mem-menu":"viewMemberActionMenu","click .js-open-attachment-viewer":"openAttachmentViewer","click .js-open-card":"openCard","click .js-reply-to-action":"reply","click .js-reply-to-all-action":"replyAll","click .js-expand-comment":"expandComment","click .js-app-creator-link":"onAppCreatorLinkClicked","click a":"checkAttachment"},Y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(Q,e);var t,T,R,Y,J=(t=Q,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function Q(){return r(this,Q),J.apply(this,arguments)}return T=Q,Y=[{key:"initClass",value:function(){this.prototype.className="phenom",this.prototype.events=K}}],(R=[{key:"initialize",value:function(e){var t,n=this,r=e.context,i=e.highlighted,o=e.source;this.context=r,this.highlighted=i,this.source=o,this.listenTo(this.model,"takingTooLong change",this.render);var a,s=this.model.get("data");null!=(null!=s.card?s.card.id:void 0)&&s.board&&(this.listenTo(this.modelCache,"remove:Action:".concat(this.model.get("id")),(function(){return n.remove()})),null!=(a=this.model.getCard())&&a.id!==this.context.id&&this.listenTo(a,"change:name",this.render)),null!=(t=this.model.getChecklist())&&this.listenTo(t,"change:name",this.render),this.listenTo(this.model.reactionList,"add remove reset",this.renderReactions),this.linkCardFlagEnabled=q.get("wildcard.link-cards",!1)}},{key:"getData",value:function(){var e=new y("action").getEntities(this.model.getDisplay(),this.context.id);return{saved:null!=this.model.id,entities:P.map(e,this._withEntityInfo.bind(this)),date:this.model.get("date"),dateLastEdited:this.model.get("data").dateLastEdited,textData:this.model.get("data").textData,url:null!=this.model.getCard()?g.getActionUrl(this.model):null,appCreator:this.model.getAppCreator()}}},{key:"getTrackingContext",value:function(){var e=this.model.get("data"),t=e.card,n=e.list,r=e.board,i="Card"===this.context.typeName?"card detail":"board sidebar";return P.extend({},{actionId:this.model.id,cardId:null!=t?t.id:void 0,listId:null!=n?n.id:void 0,boardId:null!=r?r.id:void 0},{category:i})}},{key:"trackWithData",value:function(e,t,n,r,i){var o=this.getTrackingContext().category,a=JSON.stringify(P.omit(this.getTrackingContext(),"category"));return M(o,e,t,n,r,i,a)}},{key:"getContext",value:function(){var e={},t=f.me(),n=this.modelCache.get("Board",Z(Z(this.model.get("data"),(function(e){return e.board})),(function(e){return e.id})));if(this.options.showBoard&&null!=n&&(e.board=n.toJSON({prefs:!0,url:!0}),e.boardPLevelIconClass=h.getPermLevelIconClassForBoard(n),e.boardPLevelAltText=h.getPermLevelAltTextForBoard(n)),this.options.showOrganization){var r=this.modelCache.get("Organization",Z(Z(this.model.get("data"),(function(e){return e.organization})),(function(e){return e.id})));null!=r&&(e.organization=r.toJSON({prefs:!0,url:!0}),e.orgPLevelIconClass=r.getPermLevel(),e.orgPLevelAltText=F(["org perms",r.getPermLevel(),"text"]))}var i=this.modelCache.get("Member",this.model.get("idMemberCreator"));return e.canReply=(null!=n?n.canComment(t):void 0)&&(this.model.isAddAttachment()||this.model.isCommentLike()&&null!=i&&!f.isMe(i)),e.canReplyAll=e.canReply&&new RegExp(/@([a-z0-9_]+)/).test(this.model.get("data").text),e.canDelete=this.model.deletable(),e.canEdit=this.model.editable(),e.member=null!=i?i.toJSON():void 0,null!=e.member&&(e.member.url=g.getMemberProfileUrl(e.member.id)),null!=e.member&&(e.member.isDeactivated=null!=n?n.isDeactivated(e.member):void 0),e.showReactions="Card"===this.context.typeName&&"commentCard"===this.model.get("type"),e.canReact=this.model.canReact(),e.showInlineReactionButton=e.showReactions&&!this.model.reactionList.length,e.canLinkAppCreator="memberActivityScreen"!==this.source,e}},{key:"getOptions",value:function(){var e;return{showCompactAttachmentPreview:this.options.compact,truncateComment:null!=(e="function"==typeof this.options.truncateComments?this.options.truncateComments(this.model):void 0)&&e,showOptions:!this.model.isPlaceholder()&&!this.options.compact&&!this.options.readOnly,useEmbedly:!this.options.compact&&this.model.isCommentLike(),usePreviews:!this.options.compact&&this.model.isAddAttachment(),useCommentUnfurl:null!=this.options.compact&&!this.options.compact&&this.model.isCommentLike(),extremeTruncation:this.options.extremeTruncation}}},{key:"render",value:function(){var e,t,r=this,i=this.getData(),o=this.getOptions(),a=this.getContext();if(I("actions",i),this.$el.addClass(this.model.isCommentLike()?"mod-comment-type":"mod-attachment-type"),this.$el.html(V(i,a,o)),null!=(e=this.model.getBoard())&&(this.$(".js-friendly-links").each((function(){return N(this,e)})),this.linkCardFlagEnabled&&this.$(".js-friendly-links-for-link-card").each((function(){return N(this,e,{publicLinksVariation:"beta"})})),q.get("ecosystem.comment-link-unfurl-preview",!1)&&o.useCommentUnfurl&&this.$(".js-friendly-links").each((function(){return r.renderCommentPreviews(r,e)}))),o.useEmbedly)for(var s=this.$(".js-embedly"),l=0,c=Array.from(i.entities);l<c.length;l++){var d=c[l];if("comment"===d.type&&null!=d.embedly)try{var p=JSON.parse(d.embedly);for(t in p){var m=p[t];/wistia/i.test(t)||(m["type_".concat(m.type)]=!0,m.requireHttps=!0,s.show().append(D.fill(n("./app/scripts/views/templates/embedly.js"),m)))}}catch(e){}}if(o.usePreviews){var f=P.filter(i.entities,(function(e){return"attachment"===e.type}));if(!P.isEmpty(f)){var h=this.$(".js-previews");w.previewHtml(f[0].url,(function(e,t){if(h.empty(),null!=e){if(null!=e.login)return u("<div>").addClass("attachment-extra-info-login").html(e.login).appendTo(h),h.removeClass("hide")}else if(null!=t)return u("<div>").addClass("attachment-extra-info").html(t).appendTo(h),h.removeClass("hide")}))}}return b.update(this.el),this.$el.toggleClass("unsent",!!this.model.isTakingTooLong),this.renderHighlighted(),this.renderReactions(),this}},{key:"renderHighlighted",value:function(){return this.$el.toggleClass("mod-highlighted",!!this.highlighted),this}},{key:"renderReactions",value:function(){var e=this.getContext();if(this.reactRoot=this.$(".js-reaction-piles")[0])return C.render(x.createElement(O,{actionId:this.model.id,reactionList:this.model.reactionList,canReact:e.canReact,trackingContext:this.getTrackingContext()}),this.reactRoot)}},{key:"renderCommentPreviews",value:function(e,t){var n=this,r=P.flatten(this.$(".js-friendly-links").toArray().map((function(e){return null!=e.tagName==="A"?[e]:P.toArray(e.querySelectorAll("a"))}))).map((function(e){return e.href})).filter((function(e){return null!=e}));return z.map(r,(function(e){return z.try((function(){return U.one({command:"format-url",board:t,options:{url:e}})})).then((function(t){return null!=t?P.extend(t,{url:e}):null})).catch(U.Error.NotHandled,(function(){return null}))})).then((function(e){if(null!=e&&e.length>0){var t=e.filter(W.isValidUrlUnfurl).map((function(e){return Z(null!=e?e.actions:void 0,(function(e){return e.length}))>2&&(e.actions=e.actions.slice(0,2)),n.subview(H,n.model,{commentUnfurl:e},e.url)})),r=n.$(".comment-preview");return n.ensureSubviews(t,r),r.show()}}))}},{key:"remove",value:function(){return this.reactRoot&&C.unmountComponentAtNode(this.reactRoot),o(c(Q.prototype),"remove",this).apply(this,arguments)}},{key:"_tfmFormatOpts",value:function(){return this.model.get("data").card,this.model.get("data").board,{textData:this.model.get("data").textData}}},{key:"_withEntityInfo",value:function(e){var t,n,r,i,o,a=P.clone(e);return"attachment"===a.type&&(a.url=this.model.get("data").attachment.url,!a.url&&a.isFriendly&&(a.url=a.text)),"attachmentPreview"===a.type&&(a.previewUrlForRes=null!=(t=j.get("Card",Z(this.model.get("data").card,(function(e){return e.id}))))&&(r=t.attachmentList.get(Z(this.model.get("data").attachment,(function(e){return e.id}))))?v.isHighDPI()?Z(null!=(i=r.smallestPreviewBiggerThan(1e3))?i:r.biggestPreview(),(function(e){return e.url})):Z(null!=(o=r.smallestPreviewBiggerThan(500))?o:r.biggestPreview(),(function(e){return e.url})):void 0,null==a.previewUrlForRes&&(a.previewUrlForRes=v.isHighDPI()&&null!=a.previewUrl2x?a.previewUrl2x:a.previewUrl)),"comment"===a.type&&(a.textHtml=S.comments.format(a.text,this._tfmFormatOpts()).output),"checkItem"===a.type&&(a.nameHtml=S.checkItems.format(a.text,this._tfmFormatOpts()).output),"date"===a.type&&(a.text=A(a.date).calendar()),"card"===a.type&&null!=(t=j.get("Card",a.id))&&("link"===t.get("cardRole")&&this.linkCardFlagEnabled?a.nameHtml=S.name.format(t.get("name"),this._tfmFormatOpts()).output:a.text=t.get("name")),"checklist"===a.type&&null!=(n=j.get("Checklist",a.id))&&(a.text=n.get("name")),a}},{key:"viewMemberActionMenu",value:function(e){var t;E.stop(e);var n=this.modelCache.get("Member",null!=(t=u(e.target).closest("[idmember]").attr("idmember"))?t:this.model.get("idMemberCreator"));_.toggle({elem:this.$(e.target).closest(".js-show-mem-menu"),view:d,options:{model:n,modelCache:this.modelCache,board:this.modelCache.get("Board",Z(Z(this.model.get("data"),(function(e){return e.board})),(function(e){return e.id})))}})}},{key:"expandComment",value:function(e){return E.stop(e),this.$(".js-comment").removeClass("is-truncated")}},{key:"openCard",value:function(e){var t;"Card"===this.context.typeName||u(e.target).is("a,textarea")||k()||(E.stop(e),null!=(t=g.getActionUrl(this.model))&&G(t,{trigger:!0}))}},{key:"openAttachmentViewer",value:function(e){if(!e.metaKey&&!e.ctrlKey){var t=u(e.target);if(t.closest(".window-main-col").length>0&&(E.stop(e),!m.isActive())){var n=t.closest(".js-open-attachment-viewer").attr("data-idattachment");m.show({model:this.model.getCard(),idAttachment:n})}}}},{key:"reply",value:function(e){return E.stop(e),this.$el.trigger("replyToAction",this.model),L("Card","Reply to Comment")}},{key:"replyAll",value:function(e){return E.stop(e),this.$el.trigger("replyToAllAction",this.model),L("Card","Reply to all Comment")}},{key:"setHighlighted",value:function(e){e!==this.highlighted&&(this.highlighted=e,this.renderHighlighted())}},{key:"checkAttachment",value:function(e){var t;if(!e.metaKey&&!e.ctrlKey){var n=this.model.getCard(),r=e.currentTarget.href,i=$(r).pathname,o=null==n||null===(t=n.attachmentList)||void 0===t?void 0:t.find((function(e){return $(e.get("url")).pathname===i}));return o&&p.isViewerable(o.get("url"))?(e.preventDefault(),m.show({model:n,idAttachment:o.id})):void 0}}},{key:"onAppCreatorLinkClicked",value:function(e){E.stop(e);var t=this.model.getBoard();if(t){var n=this.model.getAppCreator();if(B.sendClickedLinkEvent({linkName:"appCreatorLink",source:this.source,attributes:{appCreatorId:null==n?void 0:n.id,appCreatorIdPlugin:null==n?void 0:n.idPlugin,actionType:this.model.get("type")},containers:{card:{id:this.model.id},board:{id:t.id}}}),null==n?void 0:n.idPlugin){var r=f.myId();(t.get("memberships")||[]).some((function(e){return e.idMember===r}))?U.one({plugin:n.idPlugin,command:"show-settings",board:t,el:e.currentTarget}):window.open("/power-ups/"+n.idPlugin)}}}}])&&i(T.prototype,R),Y&&i(T,Y),Q}(T);function Z(e,t){return null!=e?t(e):void 0}Y.initClass(),e.exports.events=K,e.exports.ActionView=Y},"./app/scripts/views/action/comment-action-view.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n("./packages/jquery/index.js"),m=n("./app/scripts/views/action/action-view.js"),f=m.ActionView,h=m.events,v=n("./app/scripts/views/internal/autocomplete/auto-insertion-view.js"),g=n("./app/scripts/views/card/attach-links-view.js"),b=n("./app/scripts/views/internal/autocomplete/completer-util.js"),y=n("./app/scripts/views/lib/confirm.js"),k=n("./packages/keybindings/index.ts"),w=k.getKey,j=k.isForceSubmitEvent,_=k.Key,x=n("./app/scripts/views/lib/layout.js"),C=n("./app/scripts/views/lib/pop-over.js"),O=n("./packages/storage/index.ts").TrelloStorage,S=n("./app/scripts/lib/markdown/tfm.js"),E=n("./app/scripts/lib/util/index.js"),T=n("./node_modules/underscore/underscore.js"),P=n("./node_modules/effing/lib/index.js"),N=n("./app/scripts/lib/util/text/links-from-markdown.js"),I=n("./packages/analytics/index.ts").track,A=n("./app/scripts/views/internal/disable-submit-if-length-too-long.js"),D=n("./app/scripts/views/lib/markdown-transform.ts").applyMarkdownShortcuts,B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(b,e);var t,n,m,f,v=(t=b,function(){var e,n=d(t);if(u()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return c(this,e)});function b(){return o(this,b),v.apply(this,arguments)}return n=b,f=[{key:"initClass",value:function(){this.prototype.events=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},h,{"click .js-confirm-delete-action":"confirmDeleteAction","click .js-edit-action":"editAction","click .js-discard-comment-edits":"cancelEdit","click .js-save-edit":"saveEdit","keyup .js-text":"keyAutoMention","keydown .js-text":"keydownJsText","input .js-text":"checkLength","mutated .js-text":"mutatedEvent","click .js-comment-add-attachment":"commentAddAttachment","click .js-comment-mention-member":"commentMentionMember","click .js-comment-add-emoji":"commentAddEmoji","click .js-comment-add-card":"commentAddCard","click .js-attach-link":"attachLink"})}}],(m=[{key:"initialize",value:function(){return s(d(b.prototype),"initialize",this).apply(this,arguments),p(window).on("beforeunload.CommentActionView-".concat(this.model.cid),P(this,"saveDraft"))}},{key:"remove",value:function(){this.saveDraft(),p(window).off(".CommentActionView-".concat(this.model.cid)),s(d(b.prototype),"remove",this).apply(this,arguments)}},{key:"mutatedEvent",value:function(e){this.checkLength(e),this.getTextInput().trigger("autosize.resize")}},{key:"potentialAttachments",value:function(){var e=this.model.getCard();return T.filter(N(this.model.get("data").text,S.comments),(function(t){var n=t.url;return!e.attachmentUrlRestricted(n)&&!e.attachmentList.any((function(e){return e.get("url")===n}))}))}},{key:"getContext",value:function(){var e=s(d(b.prototype),"getContext",this).apply(this,arguments),t=this.model.getCard();return e.canAttachLink=null!=t&&t.editable()&&this.potentialAttachments().length>0,e}},{key:"confirmDeleteAction",value:function(e){var t=this;E.stop(e),y.toggle("delete comment",{elem:p(e.target).closest(".js-confirm-delete-action")[0],model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:function(){return I("Card","Delete Comment"),t.model.destroy()}})}},{key:"getTextInput",value:function(){return this.$(".js-text")}},{key:"getMentionTarget",value:function(){return this.$(".js-comment-mention-member:visible")[0]}},{key:"getEmojiTarget",value:function(){return this.$(".js-comment-add-emoji:visible")[0]}},{key:"editAction",value:function(e){if(E.stop(e),!this.$el.hasClass("is-editing"))return this.$el.addClass("is-editing"),this.$("textarea").focus().select(),this.openEditView()}},{key:"openEditView",value:function(){this.$(".js-text").attr("placeholder","").autosize({append:!1})}},{key:"keydownJsText",value:function(e){return D(e),j(e)?this.saveEdit(e):w(e)===_.Escape?(E.stop(e),this.cancelEdit()):this.checkInsert(e)}},{key:"saveEdit",value:function(e){if("keypress"!==e.type||j(e)||w(e)===_.Enter&&(!p(e.target).is("textarea")||p(e.currentTarget).hasClass("single-line"))){E.stop(e);var t=this.$(".js-text").val();this.$(".js-spinner").show(),this.$(".js-hide-on-sending").hide(),this.$(".current-comment").text(t),x.cancelEdit(this.$el),this.discardDraft(),this.model.get("display").entities.comment.text=t,this.model.update("text",t),this.$(".js-text").trigger("autosize.destroy"),C.hide(),I("Card","Edit Comment")}}},{key:"showError",value:function(e){}},{key:"cancelEdit",value:function(){var e=this.model.get("data").text;this.$(".js-text").val(e),x.cancelEdit(this.$el),this.discardDraft(),this.$(".js-text").trigger("autosize.destroy")}},{key:"getCard",value:function(){return this.model.getCard()}},{key:"attachLink",value:function(e){E.stop(e),I("Card","Open Attach Links View");var t=this.potentialAttachments();return C.toggle({elem:p(e.currentTarget),view:new g({model:this.getCard(),modelCache:this.modelCache,links:t})})}},{key:"render",value:function(){return s(d(b.prototype),"render",this).apply(this,arguments),this.recallDraft(),this}},{key:"_draftKey",value:function(){return"draft_".concat(this.model.id,"_edit")}},{key:"recallDraft",value:function(){var e=O.get(this._draftKey());if(e)return this.getTextInput().val(e),this.$el.find(".edits-warning").show()}},{key:"saveDraft",value:function(){if(this.$el.hasClass("is-editing")){var e=this.getTextInput().val();e&&e!==this.model.get("data").text?(O.set(this._draftKey(),e),this.$el.find(".edits-warning").show()):this.discardDraft()}}},{key:"discardDraft",value:function(){return O.unset(this._draftKey()),this.$el.find(".edits-warning").hide()}}])&&a(n.prototype,m),f&&a(n,f),b}(f);B.initClass(),T.extend(B.prototype,v,b,A),e.exports=B},"./app/scripts/views/board-create/photo-attribution-component.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/react/index.js"),u=n("./app/scripts/views/internal/recup-with-helpers.js")(),d=n("./packages/unsplash/index.ts").unsplashClient,p=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(f,e);var t,n,c,p,m=(t=f,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function f(){return r(this,f),m.apply(this,arguments)}return n=f,p=[{key:"initClass",value:function(){this.prototype.displayName="PhotoAttributionComponent",this.prototype.render=u.renderable((function(){var e=this.props,t=e.user,n=e.size,r=t.name,i=[".photo-attribution-component"];return null!=n&&i.push(".".concat(n)),u.div(i.join(""),(function(){return u.a({class:"photo-attribution-component-attribution-link",href:d.appendAttribution(t.links.html),target:"_blank",title:r,onClick:e=>e.stopPropagation()},(function(){return u.text(r)}))}))}))}}],(c=null)&&i(n.prototype,c),p&&i(n,p),f}(c.Component);p.initClass(),e.exports=p},"./app/scripts/views/board-menu/board-add-to-organization-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,d=n("./app/scripts/views/board-menu/board-select-organization-view.js");e.exports=((u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(m,e);var t,n,u,d,p=(t=m,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function m(){return r(this,m),p.apply(this,arguments)}return n=m,d=[{key:"initClass",value:function(){this.prototype.viewTitleKey="add to a team"}}],(u=[{key:"getTemplateData",value:function(){var e=o(c(m.prototype),"getTemplateData",this).call(this);return e.addToTeam=!0,e}}])&&i(n.prototype,u),d&&i(n,d),m}(d)).initClass(),u=u)},"./app/scripts/views/board-menu/board-add-to-team-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/underscore/underscore.js"),u=n("./app/scripts/db/auth.js"),d=n("./app/scripts/controller/index.js"),p=n("./app/scripts/lib/localize-count.js"),m=n("./packages/config/index.ts").logoDomain,f=n("./app/scripts/db/model-loader.js"),h=n("./node_modules/bluebird/js/browser/bluebird.js"),v=n("./app/scripts/lib/util/index.js"),g=n("./app/scripts/views/internal/view.js"),b=n("./app/scripts/lib/localize.js"),y=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_power_ups"),k=n("./packages/analytics/index.ts").track,w=n("./app/scripts/controller/navigate.js").navigate;e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(x,e);var t,n,g,j,_=(t=x,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function x(){return r(this,x),_.apply(this,arguments)}return n=x,(g=[{key:"initialize",value:function(){var e=u.me();return this.menuType=this.options.menuType,this.listenTo(e.organizationList,"add remove reset change",this.frameDebounce(this.render)),this.createNewTeam=0===e.organizationList.length}},{key:"events",value:function(){return{"click .js-team":"clickTeam","click .js-create-team":"clickCreateTeam","click .js-create":"clickCreateNewTeam","click .js-cancel":"clickCancelNewTeam"}}},{key:"render",value:function(){var e=this;return this.$el.html(y.render((function(){if(e.createNewTeam){var t=e.model.memberList.length;return y.div(".create-team",(function(){return y.p((function(){return y.format("first-create-your-business-class-team")})),y.p((function(){if(y.label((function(){y.format("team-name");var e=1===t?{value:y.l("names-projects",{name:u.me().get("fullName")},{raw:!0})}:2===t?{placeholder:y.l("eg-names-projects",{name:u.me().get("fullName")},{raw:!0})}:{};return e.maxLength=100,y.input(".full.js-autofocus.js-name",e)})),t>1)return y.div(".check-div",(function(){return y.input(".js-add-members",{type:"checkbox",checked:!0,id:"addMembers"}),y.label({for:"addMembers",class:"create-team-add-members"},(function(){return y.format("add-the-members-of-this-board-to-the-team")}))}))})),y.div((function(){return y.button(".nch-button.nch-button--primary.js-create",(function(){return y.format("create")})),y.a(".create-team-cancel.quiet-button.js-cancel",(function(){return y.format("cancel")}))})),y.hr()})),c.defer((function(){return e.$(".js-name").select().focus()}))}var n=u.me().organizationList.sortBy((function(e){return e.get("displayName").toLowerCase()}));return y.div(".assign-to-team",(function(){return y.p((function(){return y.format("this-board-is-not-in-a-team-yet"),y.text(" "),y.format("please-select-a-team-or-create-a-new-team-to-upgrade")}))})),n.length>0&&y.ul(".assign-to-team-list",(function(){return function(){for(var t=[],r=function(){var n=o[i],r=n.canAddBoard(e.model)?n.isAtOrOverFreeBoardLimit()?{class:"disabled",title:b(["out of free team boards","this team has reached the maximum number of open boards"])}:{class:"js-team","data-idOrganization":n.id}:{class:"disabled",title:y.l("team-restrictions-prevent-you-from-adding-this-board-to-this-team")};t.push(y.li(".assign-to-team-list-item.js-assign-team-list-item",r,(function(){return y.div(".assign-to-team-list-item-logo.js-team-logo",(function(){var e=n.get("logoHash");return e?y.img({src:"".concat(m,"/").concat(e,"/30.png")}):y.span(".icon.icon-lg.icon-organization")})),y.div(".assign-to-team-list-item-details",(function(){return y.div(".assign-to-team-list-item-name",(function(){if(y.text(n.get("displayName")),n.isFeatureEnabled("plugins"))return y.text(" "),y.icon("business-class",{class:"icon-business-class-color"})})),y.div(".assign-to-team-list-item-member-count",(function(){var e;if(null!=(e=n.get("memberships")))return y.text(p("members",e.length))}))}))})))},i=0,o=Array.from(n);i<o.length;i++)r();return t}()})),y.div(".assign-to-team-create.js-create-team",(function(){return y.div(".assign-to-team-create-content",(function(){return y.format("create-a-new-team")}))}))}))),this}},{key:"clickTeam",value:function(e){var t=this;this.$(".js-team").addClass("disabled");var n=this.$(e.currentTarget).attr("data-idOrganization");return this.$(e.currentTarget).find(".js-team-logo").html(y.render((function(){return y.span(".spinner")}))),this.model.trigger("added-to-team"),k("".concat(this.options.menuType," Menu"),"Upsell Flow","Add To Existing Team"),h.fromNode((function(e){return t.model.update("idOrganization",n,{waitForServer:!0},e)})).then((function(){t.$(".js-team").removeClass("disabled");var e=t.model.getOrganization();return"Collections"===t.options.menuType&&null!=e&&e.isFeatureEnabled("tags")?f.loadOrganizationMinimal(n).then((function(){return t.model.trigger("team-has-bc")})):w(d.getBoardPowerUpsUpgradeUrl(t.model),{trigger:!0})})).done()}},{key:"clickCreateTeam",value:function(e){return this.createNewTeam=!0,this.render()}},{key:"clickCancelNewTeam",value:function(e){return v.stop(e),this.model.trigger("cancel-add-to-team")}},{key:"clickCreateNewTeam",value:function(e){var t=this,n=this.$(".js-name").val();if(/\S/.test(n)){var r={displayName:n};return this.$(".js-create,.js-cancel").prop("disabled",!0).addClass("disabled"),u.me().organizationList.create(r,{modelCache:this.modelCache,silent:!0,success:function(e){var n=e.id;return t.model.trigger("added-to-team"),t.model.update("idOrganization",n,{waitForServer:!0}),f.loadOrganizationMembersMinimal(n).then((function(){if(t.$(".js-add-members").prop("checked")){var n=t.model.getOrganization();return k("New Org","Create","".concat(t.menuType," Sidebar (with members)"),e.id),h.map(t.model.memberList.models,(function(e){if(!n.isMember(e))return n.changeMemberRole(e,{type:"normal"})}),{concurrency:3})}return k("New Org","Create","".concat(t.menuType," Sidebar (without members)"),e.id)})).then((function(){return w(d.getBoardPowerUpsUpgradeUrl(t.model),{trigger:!0})})).done()}})}}}])&&i(n.prototype,g),j&&i(n,j),x}(g)},"./app/scripts/views/board-menu/board-ent-select-perm-level-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./app/scripts/db/auth.js"),d=n("./app/scripts/controller/index.js"),p=n("./app/scripts/views/lib/pop-over.js"),m=n("./app/scripts/lib/util/index.js"),f=n("./app/scripts/views/internal/view.js"),h=n("./app/scripts/views/internal/templates.js"),v=n("./app/scripts/views/templates/board_menu_vis.js"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(k,e);var t,f,g,b,y=(t=k,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function k(){return r(this,k),y.apply(this,arguments)}return f=k,b=[{key:"initClass",value:function(){this.prototype.viewTitleKey="change visibility",this.prototype.tagName="ul",this.prototype.events={"click .js-select":"selectVis"},this.prototype.className="pop-over-list"}}],(g=[{key:"render",value:function(){var e=this.options.enterprise;if(e.canSetTeamlessBoardVisibility("private")||e.canSetTeamlessBoardVisibility("public")){var t=this.model.getPref("permissionLevel");this.$el.html(v({current:t,canChange:!0,mustChange:!e.canSetTeamlessBoardVisibility(t),hasOrg:!1,hasSuperAdmins:!1,privateRestricted:!e.canSetTeamlessBoardVisibility("private"),orgRestricted:!0,enterpriseRestricted:!0,publicRestricted:!e.canSetTeamlessBoardVisibility("public"),hasEnterprise:!0,enterpriseName:e.get("displayName"),isTemplate:this.model.isTemplate(),isOrgPremium:!1,isTeamlessOwnedBoard:!0}))}else{var r={isEntAdmin:e.isAdmin(u.me()),entSettingsUrl:d.getEnterpriseAdminDashboardUrl(e,"settings"),enterprise:e.toJSON()};this.$el.html(h.fill(n("./app/scripts/views/templates/cant_add_board_to_ent.js"),r))}return this}},{key:"selectVis",value:function(e){var t=this;m.stop(e);var n=c(e.target).closest(".js-select");if(!n.hasClass("disabled")&&!n.closest(".js-disabled").length){var r,i,o=n.attr("name");return this.options.idOrganizationSource&&(r=this.modelCache.get("Organization",this.options.idOrganizationSource),i=function(e){return e.boardList.remove(t.model)},null!=r&&i(r)),this.model.update({idOrganization:null,"prefs/permissionLevel":o}),p.hide()}}}])&&i(f.prototype,g),b&&i(f,b),k}(f);g.initClass(),e.exports=g},"./app/scripts/views/board-menu/board-member-add-multiple-view.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n("./app/scripts/views/lib/alerts.js"),m=n("./app/scripts/network/api-promise.js"),f=n("./app/scripts/network/api-error.js"),h=n("./app/scripts/views/board-menu/board-observer-option-component.js"),v=n("./app/scripts/views/member/member-multi-select-autocomplete-component.js"),g=n("./app/scripts/views/board-menu/board-menu-invite-team-component.js"),b=n("./app/scripts/lib/localize-server-error.js"),y=n("./app/scripts/models/member.js"),k=n("./app/scripts/views/board-menu/member-limits-error.js").maybeDisplayMemberLimitsError,w=n("./app/scripts/db/model-loader.js"),j=n("./app/scripts/views/internal/view.js"),_=n("./node_modules/react/index.js"),x=n("./packages/react-dom-wrapper/index.ts"),C=n("./app/scripts/views/invitation-link/display-invitation-link-view.js"),O=n("./app/scripts/views/lib/pop-over.js"),S=n("./node_modules/bluebird/js/browser/bluebird.js"),E=n("./app/scripts/views/internal/recup-with-helpers.js")("board_member_add_multiple"),T=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_member_add_multiple"),P=n("./app/scripts/lib/util/index.js"),N=n("./packages/jquery/index.js"),I=n("./node_modules/underscore/underscore.js"),A=n("./packages/feature-flag-client/index.ts").featureFlagClient,D=n("./packages/atlassian-analytics/index.ts").Analytics,B=/^[^@]+@[a-z0-9-]+(\.[a-z0-9-]+)+$/i,R=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(R,e);var t,n,i,j,C=(t=R,function(){var e,n=d(t);if(u()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return c(this,e)});function R(){return o(this,R),C.apply(this,arguments)}return n=R,j=[{key:"initClass",value:function(){this.prototype.displayType="board-member-add-multiple",this.prototype.initialInviteMessage=E.l("im-working-on-this-project-in-trello-and-wanted-to-share-it-with-you"),this.prototype.events={"click .js-show-invitation-link":"showInvitationLink","click .js-invitation-link":"clickInvitationLink","click .js-deactivate-link":"deactivateInvitationLink","click .js-copy-invitation-link":"copyInvitationLink"}}}],(i=[{key:"viewTitleKey",value:function(){return this.model.isTemplate()?"invite to template":"invite to board"}},{key:"initialize",value:function(){this.onAutocompleteSubmit=this.onAutocompleteSubmit.bind(this),this.onAutocompleteSearch=this.onAutocompleteSearch.bind(this),this.onObserverChange=this.onObserverChange.bind(this),this.onInviteTeamClick=this.onInviteTeamClick.bind(this),this.onInvitationMessageChange=this.onInvitationMessageChange.bind(this),this.selectInvitationMessage=this.selectInvitationMessage.bind(this),null==this.invitationMessageValue&&(this.invitationMessageValue=this.initialInviteMessage),this.observerValue="normal",this.selectedMemberOptions=[],this.onSelectMemberOption=this.onSelectMemberOption.bind(this),this.onRemoveMemberOption=this.onRemoveMemberOption.bind(this);var e=this.model.getOrganization();if(this.loadingOrg=null!=e,null!=e&&this.listenTo(e.memberList,"add remove reset",this.frameDebounce(this.renderAutocomplete)),this.listenTo(this.model.memberList,"add remove reset",this.frameDebounce(this.renderAutocomplete)),null!=e)return this.listenTo(e,"change:prefs",this.frameDebounce(this.render))}},{key:"remove",value:function(){return x.unmountComponentAtNode(this.$(".js-autocomplete-root")[0]),s(d(R.prototype),"remove",this).apply(this,arguments)}},{key:"loadOrgData",value:function(){var e=this,t=this.model.getOrganization();null!=t&&this.model.editable()?(t.paysWithPurchaseOrder()&&(t.isBusinessClass()||t.isStandard())?w.loadOrganizationMembersMinimalWithAvailableLicenseCount(t.id):w.loadOrganizationMembersMinimal(t.id)).then((function(){e.loadingOrg=!1,e.renderAutocomplete()})).done():this.loadingOrg=!1}},{key:"render",value:function(){var e,t;return this.$el.html(T.renderable((function(){return T.div(".invite-board-member-autocomplete.js-autocomplete-root")}))),this.renderAutocomplete(),D.sendScreenEvent({name:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:null===(e=this.model)||void 0===e||null===(t=e.getOrganization())||void 0===t?void 0:t.id}}}),this}},{key:"addMembers",value:function(e,t){var n=this,r=e.map((function(e,r){var i=e.member;return function(){var e=t[r].value,o=t[r].traceId;if(null!=i){var a;if(a=n.model.id,!Array.from(i.get("idBoards")).includes(a))return n.addMember(i,o)}else{if(B.test(e))return n.sendEmailInvite(e,o);D.taskAborted({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:o})}return Promise.resolve()}})),i=r.slice(0,r.length-1),o=r[r.length-1];return S.map(i,(function(e){return e()})).then(o)}},{key:"onAutocompleteSubmit",value:function(e){var t=this,n=[],r=0,i=0;return I.forEach(this.selectedMemberOptions,(function(e){var o=e.id?t.modelCache.get("Member",e.id):void 0;if(o){var a=D.startTask({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog"});return t.addMember(o,a),e.wouldBecomeBillableGuest?i++:r++}var s=e.email?e.email:e.username,l=e.email?"email":"username",c=D.startTask({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog"});return n.push({value:s,type:l,traceId:c})})),S.map(n,(function(e){return t.getMemberFromUser(e).catch((function(e){return{hasError:!0}}))})).then((function(r){var o=I.some(r,(function(e){return e.hasError}));return i=I.filter(r,(function(e){return e.wouldBecomeBillableGuest})).length,!e&&i>0||o?I.each(r,(function(e,r){var i=e.wouldBecomeBillableGuest,o=e.hasError;return t.selectedMemberOptions[r].blockInvite=i,D.taskAborted({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:n[r].traceId}),t.selectedMemberOptions[r].hasError=o})):t.addMembers(r,n).then((function(){var e,n;if(O.hide(),r.length>0)return D.sendTrackEvent({action:"sent",actionSubject:"boardInvitation",source:"inviteToBoardInlineDialog",containers:{board:{id:t.model.id},organization:{id:null===(e=t.model)||void 0===e||null===(n=e.getOrganization())||void 0===n?void 0:n.id}},attributes:{numInvitesSent:r.length,changedMessage:t.invitationMessageValue!==t.initialInviteMessage}})}))}))}},{key:"getMemberFromUser",value:function(e){var t=this,n=e.value,i=e.type,o=e.traceId,a=this.model.getOrganization(),s=m({method:"get",url:"/1/members/".concat(n),data:{fields:["idOrganizations","idBoards"]},traceId:o}).then((function(e){var r=new y(e,{modelCache:t.modelCache});return"email"===i&&r.set("email",n),r})).catch(f.NotFound,(function(e){return null})),l=!(a&&!a.isFeatureEnabled("multiBoardGuests")&&a.getAvailableLicenseCount()>0)&&m({url:"/1/search/members/",type:"get",data:{idBoard:this.model.id,idOrganization:null!=a?a.id:void 0,query:n},dataType:"json",traceId:o}).then((function(e){return 1===e.length&&e[0].wouldBecomeBillableGuest}));return S.all([s,l]).then((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,2),n=t[0],i=t[1];return{member:n,wouldBecomeBillableGuest:i}}))}},{key:"addMember",value:function(e,t){return k(this.$el,this.model,e)?(D.taskAborted({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:t}),Promise.resolve()):this.model.addMember(e,t,this.observerValue,this.invitationMessageValue,(function(e,n){if(e){D.taskFailed({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:t,error:e});var r=/organization restricts invites/.test(e.message)?E.l("team-restricts-invites"):b(e.message);return p.showLiteralText(r,"error","alert",5e3)}D.taskSucceeded({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:t})}))}},{key:"sendEmailInvite",value:function(e,t){var n=this,r={email:e,type:this.observerValue,invitationMessage:this.invitationMessageValue};return k(this.$el,this.model)?(D.taskAborted({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:t}),Promise.resolve()):m({url:"/1/board/".concat(this.model.id,"/members"),type:"put",dataType:"json",data:r,traceId:t}).then((function(e){var r,i,o,a,s=new y(e,{modelCache:n.modelCache}),l=n.observerValue?n.observerValue:"normal";return D.sendTrackEvent({action:"sent",actionSubject:"emailBoardInvitation",actionSubjectId:s.id,source:"inviteToBoardInlineDialog",containers:{board:{id:n.model.id},organization:{id:null===(r=n.model)||void 0===r||null===(i=r.getOrganization())||void 0===i?void 0:i.id}},attributes:{memberType:l,taskId:t}}),D.sendTrackEvent({action:"added",actionSubject:"member",actionSubjectId:s.id,source:"inviteToBoardInlineDialog",containers:{board:{id:n.model.id},organization:{id:null===(o=n.model)||void 0===o||null===(a=o.getOrganization())||void 0===a?void 0:a.id}},attributes:{addedTo:"board",confirmed:!!s.get("confirmed"),memberType:l,taskId:t}}),D.taskSucceeded({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:t})})).catch((function(e){throw D.taskFailed({taskName:"edit-board",subTask:"members/add",source:"boardMemberBulkAddInlineDialog",traceId:t,error:e})}))}},{key:"onAutocompleteSearch",value:function(e){var t=this;e=e.toLowerCase().trim();var n=this.model.getOrganization(),r=[],i=function(e){return I.extend(e.toJSON(),{active:!0,similarity:0,joined:null!=t.model.getMembershipFor(e),idOrganizations:[n.id]})};return null!=n&&(r=e.length>0?n.memberList.chain().filter((function(t){return I.any(P.getMemNameArray(t),(function(t){return 0===t.indexOf(e)}))})).map(i).value():n.memberList.map(i)),e.length>2?m({url:"/1/search/members/",type:"get",data:{idBoard:this.model.id,idOrganization:null!=n?n.id:void 0,query:e},dataType:"json"}).then((function(e){return I.uniq(I.union(e,r),!1,(function(e){return e.username?e.username:e.email}))})):null!=n?r:[]}},{key:"onInviteTeamClick",value:function(e){var t=this;D.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"inviteTeamToBoardDropdownItem",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:this.model.getOrganization().id}}});var n=this.model.orgMembersAvailable().map((function(e){return I.extend(e.toJSON(),{active:!0,similarity:0,joined:t.model.hasActiveMembership(e),idOrganizations:[t.model.getOrganization().id]})}));return this.selectedMemberOptions=I.uniq(I.union(this.selectedMemberOptions,n),!1,(function(e){return e.username?e.username:e.email})),this.renderAutocomplete()}},{key:"onObserverChange",value:function(e){return this.observerValue=e,this.renderAutocomplete()}},{key:"onInvitationMessageChange",value:function(e){return this.invitationMessageValue=e.target.value,this.renderAutocomplete()}},{key:"selectInvitationMessage",value:function(){if(this.invitationMessageValue===this.initialInviteMessage)return N(".js-invitation-message").select()}},{key:"onSelectMemberOption",value:function(e){return this.selectedMemberOptions=I.uniq(I.union(this.selectedMemberOptions,I.flatten([e])),!1,(function(e){return e.username?e.username:e.email})),this.renderAutocomplete()}},{key:"onRemoveMemberOption",value:function(e){return this.selectedMemberOptions=this.selectedMemberOptions.filter((function(t,n){return n!==e})),this.renderAutocomplete()}},{key:"renderAutocomplete",value:function(){var e,t,n,r,i=this,o=this.$(".js-autocomplete-root")[0];if(null!=o){var a=this.model.getOrganization(),s={onAutocompleteSearch:this.onAutocompleteSearch,displayDetails:!0,displayUsername:!1,shouldFocusOnSelectMemberOption:!0,onSubmit:this.onAutocompleteSubmit,submitText:E.l("send-invitation"),emptySearchText:E.l("looks-like-that-person-isnt-a-trello-member-yet"),placeholder:E.l("email-address-or-name"),onSelectMemberOption:this.onSelectMemberOption,onRemoveMemberOption:this.onRemoveMemberOption,selectedOptions:this.selectedMemberOptions,loadingOrg:this.loadingOrg,showMultiboardGuestWarning:null!=a?a.isFeatureEnabled("multiBoardGuests"):void 0,isTemplate:this.model.isTemplate()};if(a){var l=this.model.orgMembersAvailable();(l=I.filter(l,(function(e){var t;return t=e.get("username"),!Array.from(I.pluck(i.selectedMemberOptions,"username")).includes(t)}))).length>1&&(s.extraSearchOption=_.createElement(g,{onClick:this.onInviteTeamClick,availableToInvite:l})),s.displayOrg=a}var c=[];return(null===(e=this.model)||void 0===e||null===(t=e.getOrganization())||void 0===t?void 0:t.isPremium())&&!(null===(n=this.model)||void 0===n||null===(r=n.getOrganization())||void 0===r?void 0:r.isStandard())&&c.push(_.createElement(h,{onChange:this.onObserverChange,value:this.observerValue,key:"observerOption"})),A.get("enable-invite-email-message",!1)&&c.push(_.createElement("textarea",{onChange:this.onInvitationMessageChange,onClick:this.selectInvitationMessage,className:"invitation-message-input js-invitation-message",value:this.invitationMessageValue,key:"invitationMessage",placeholder:E.l("sharing-is-caring-let-your-collaborators-know-what-youre-working-on"),maxLength:500})),x.render(_.createElement(v,s,c),o)}}}])&&a(n.prototype,i),j&&a(n,j),R}(j);R.initClass(),I.extend(R.prototype,C),e.exports=R},"./app/scripts/views/board-menu/board-menu-invite-team-component.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/react/index.js"),u=n("./app/scripts/views/internal/recup-with-helpers.js")("board_menu_invite_team"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(m,e);var t,n,c,d,p=(t=m,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function m(){return r(this,m),p.apply(this,arguments)}return n=m,d=[{key:"initClass",value:function(){this.prototype.render=u.renderable((function(){var e=this.props,t=e.onClick,n=e.availableToInvite;return u.div(".invite-team",{onMouseDown:t},(function(){return u.span(".icon-lg.icon-organization"),u.div(".invite-team-text",(function(){return u.format("add-all-x-team-members",{memberCount:n.length})}))}))}))}}],(c=null)&&i(n.prototype,c),d&&i(n,d),m}(c.Component);d.initClass(),e.exports=d},"./app/scripts/views/board-menu/board-observer-option-component.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./node_modules/react/index.js"),c=n("./app/scripts/views/internal/recup-with-helpers.js")("board_member_add_multiple"),u={normal:{label:c.l("add-as-members"),description:c.l("board-members-can-edit-comment-and-invite-people-to-this-board")},observer:{label:c.l("add-as-observers"),description:c.l("observers-can-view-and-comment-on-this-board")}},d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(m,e);var t,n,l,d,p=(t=m,function(){var e,n=s(t);if(a()){var r=s(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return o(this,e)});function m(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),(t=p.call(this,e)).state={isOpen:!1},t}return n=m,d=[{key:"initClass",value:function(){this.prototype.render=c.renderable((function(){var e=this,t=this.props,n=t.onChange,r=t.value,i=this.state.isOpen,o=u[r];return c.div(".board-observer-dropdown",{onBlur:function(){return e.setState({isOpen:!1})},tabIndex:0},(function(){if(c.div(".board-observer-selected",{onClick:function(){return e.setState({isOpen:!i})}},(function(){return c.p((function(){return c.text(o.label)})),c.icon("down")})),i)return c.div(".board-observer-options",(function(){return Object.keys(u).map((function(t){return c.div(".board-observer-option",{onClick:function(r){return n(t),e.setState({isOpen:!1})}},(function(){return c.div(".board-observer-option-title",(function(){if(c.text(u[t].label),t===r)return c.icon("check")})),c.div(".board-observer-option-description",(function(){return c.text(u[t].description)}))}))}))}))}))}))}}],(l=null)&&r(n.prototype,l),d&&r(n,d),m}(l.Component);d.initClass(),e.exports=d},"./app/scripts/views/board-menu/board-org-select-perm-level-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./app/scripts/controller/index.js"),d=n("./app/scripts/views/lib/pop-over.js"),p=n("./app/scripts/lib/util/index.js"),m=n("./app/scripts/views/internal/view.js"),f=n("./app/scripts/views/internal/templates.js"),h=n("./app/scripts/views/templates/board_menu_vis.js"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(y,e);var t,m,v,g,b=(t=y,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function y(){return r(this,y),b.apply(this,arguments)}return m=y,g=[{key:"initClass",value:function(){this.prototype.viewTitleKey="change visibility",this.prototype.tagName="ul",this.prototype.events={"click .js-select":"selectVis"},this.prototype.className="pop-over-list"}}],(v=[{key:"render",value:function(){var e=this.options.organization;if(e.canSetVisibility("private")||e.canSetVisibility("org")||e.canSetVisibility("enterprise")||e.canSetVisibility("public")){var t=this.model.getPref("permissionLevel"),r=null!=e?e.getEnterprise():void 0;this.$el.html(h({current:t,canChange:!0,mustChange:!e.canSetVisibility(t),hasSuperAdmins:e.hasPremiumFeature("superAdmins"),hasOrg:!0,orgName:e.get("displayName"),privateRestricted:!e.canSetVisibility("private"),orgRestricted:!e.canSetVisibility("org"),enterpriseRestricted:!e.canSetVisibility("enterprise"),publicRestricted:!e.canSetVisibility("public"),hasEnterprise:null!=e?e.belongsToRealEnterprise():void 0,enterpriseName:null!=r?r.get("displayName"):void 0,isTemplate:this.model.isTemplate(),isOrgPremium:null!=e?e.isPremium():void 0}))}else{var i={isOrgAdmin:e.owned(),orgSettingsUrl:u.getOrganizationAccountUrl(e),organization:e.toJSON()};this.$el.html(f.fill(n("./app/scripts/views/templates/cant_add_board_to_org.js"),i))}return this}},{key:"selectVis",value:function(e){var t=this;p.stop(e);var n=c(e.target).closest(".js-select");if(!n.hasClass("disabled")&&!n.closest(".js-disabled").length){var r,i,o=n.attr("name");return this.options.idOrganizationSource&&(r=this.modelCache.get("Organization",this.options.idOrganizationSource),i=function(e){return e.boardList.remove(t.model)},null!=r&&i(r)),this.model.update({idOrganization:this.options.organization.id,"prefs/permissionLevel":o}),this.options.organization.boardList.add(this.model),d.hide()}}}])&&i(m.prototype,v),g&&i(m,g),y}(m);v.initClass(),e.exports=v},"./app/scripts/views/board-menu/board-select-organization-for-perm-change-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./app/scripts/views/board-menu/board-org-select-perm-level-view.js"),d=n("./app/scripts/views/board-menu/board-select-organization-view.js"),p=n("./app/scripts/views/lib/pop-over.js");e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(h,e);var t,n,d,m,f=(t=h,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function h(){return r(this,h),f.apply(this,arguments)}return n=h,(d=[{key:"initialize",value:function(e){return this.disableNone=null!=e?e.disableNone:void 0,o(c(h.prototype),"initialize",this).apply(this,arguments)}},{key:"render",value:function(){return o(c(h.prototype),"render",this).apply(this,arguments),this.disableNone&&this.$(".js-submit").addClass("disabled").attr("disabled","disabled"),this}},{key:"showOrgBoardVisPerms",value:function(e,t){return p.pushView({view:new u({model:this.model,organization:e,idOrganizationSource:t,modelCache:this.modelCache})})}},{key:"submit",value:function(e){return o(c(h.prototype),"submit",this).apply(this,arguments)}},{key:"canAddToOrg",value:function(e){return!e.isFeatureEnabled("restrictVis")||e.canSetVisibility("org")}},{key:"changeOrg",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n["prefs/permissionLevel"]="org",o(c(h.prototype),"changeOrg",this).call(this,e,t,n)}},{key:"orgSelected",value:function(){if(o(c(h.prototype),"orgSelected",this).apply(this,arguments),this.disableNone)return""===this.$(".js-org").val()?this.$(".js-submit").addClass("disabled").attr("disabled","disabled"):this.$(".js-submit").removeClass("disabled").removeAttr("disabled")}}])&&i(n.prototype,d),m&&i(n,m),h}(d)},"./app/scripts/views/board-menu/board-select-organization-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./app/scripts/network/api-promise.js"),d=n("./app/scripts/db/auth.js"),p=n("./app/src/components/BillableGuestsAlert/index.ts").BillableGuestsAlert,m=n("./app/scripts/views/board/billable-guest-list-popover-view.js"),f=n("./app/scripts/views/board-menu/board-org-select-perm-level-view.js"),h=n("./app/scripts/views/board-menu/board-ent-select-perm-level-view.js"),v=n("./app/scripts/views/templates/popover_change_board_org.js"),g=n("./app/scripts/views/lib/confirm.js"),b=n("./app/scripts/views/organization/create-org-view.js"),y=n("./app/scripts/views/organization/constants.js").BoardInviteRestrictValues,k=n("./app/scripts/db/model-loader.js"),w=n("./packages/product-features/index.ts").ProductFeatures,j=n("./app/scripts/views/lib/pop-over.js"),_=n("./node_modules/bluebird/js/browser/bluebird.js"),x=n("./packages/react-dom-wrapper/index.ts"),C=n("./node_modules/react/index.js"),O=n("./app/scripts/network/api-error.js"),S=n("./app/scripts/controller/index.js"),E=n("./packages/atlassian-analytics/index.ts").Analytics,T=n("./app/scripts/lib/util/index.js"),P=n("./app/scripts/views/internal/view.js"),N=n("./packages/analytics/index.ts").track,I=n("./packages/feature-flag-client/index.ts").featureFlagClient,A=n("./node_modules/underscore/underscore.js"),D=n("./packages/browser/index.ts").isDesktop(),B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(M,e);var t,n,P,B,L=(t=M,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function M(){return r(this,M),L.apply(this,arguments)}return n=M,B=[{key:"initClass",value:function(){this.prototype.viewTitleKey="change organization",this.prototype.events={"click .js-submit":"submit","change .js-org":"orgSelected","click .js-new-org":"newOrg"}}}],(P=[{key:"initialize",value:function(){this.makeDebouncedMethods("render"),this.haveAvailableLicenses=!0,this.listenTo(this.model,"change:memberships",this.updateOrgOptions),this.sendGASEvent=I.get("dataeng.gasv3-event-tracking",!1),this.blockTeamlessBoardsEnabled=I.get("btg.block-teamless-boards",!1)}},{key:"getTemplateData",value:function(){var e,t=this.model.toJSON({org:!0}),n=this.model.owned()?d.me().organizationList.models:[];this.model.hasEnterprise()&&(t.hasEnterprise=!0,t.enterpriseName=R(this.model.getEnterprise(),(function(e){return e.get("displayName")})),n=A.filter(n,(function(e){var n=e.get("idEnterprise");return null!=t.idEnterprise&&n===t.idEnterprise||!(!t.org||n!==t.org.idEnterprise)})),t.showPrivateBoardsOptionForEntBoards=null!=this.model.get("idEnterprise")),t.orgs=function(){for(var t=[],r=0,i=Array.from(n);r<i.length;r++)e=i[r],t.push(e.toJSON());return t}(),t.hasOrgs=0!==t.orgs.length,t.isDesktop=D;var r=this.selectedOrganization||t.idOrganization;if(r)for(var i=0,o=Array.from(t.orgs);i<o.length;i++)(e=o[i]).id===r&&(e.select=!0);return t.isPrivate=this.model.isPrivate(),t.isTemplate=this.model.isTemplate(),t.allowsSelfJoin=this.model.allowsSelfJoin(),t.addToTeam=!1,t}},{key:"render",value:function(){var e=this.getTemplateData();return this.sendGASEvent&&E.sendScreenEvent({name:"changeBoardOrganizationInlineDialog",containers:{board:{id:this.model.id}}}),e.blockTeamlessBoardsEnabled=this.blockTeamlessBoardsEnabled,this.$el.html(v(e)),this.updateOrgOptions(),this}},{key:"remove",value:function(){return this.reactRoot&&x.unmountComponentAtNode(this.reactRoot),o(c(M.prototype),"remove",this).apply(this,arguments)}},{key:"showOrgBoardVisPerms",value:function(e,t){return j.pushView({view:new f({model:this.model,organization:e,idOrganizationSource:t,modelCache:this.modelCache})})}},{key:"showEntBoardVisPerms",value:function(e,t){return j.pushView({view:new h({model:this.model,enterprise:e,idOrganizationSource:t,modelCache:this.modelCache})})}},{key:"changeOrg",value:function(e,t){var n,r=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},o=e!==t;return o&&t&&R(this.modelCache.get("Organization",t),(function(e){return e.boardList.remove(r.model)})),i.idOrganization=e,e&&(this.$(".js-make-org-visible").is(":checked")&&(i["prefs/permissionLevel"]="org"),this.$(".js-make-org-joinable").is(":checked")&&(i["prefs/selfJoin"]=!0)),o&&e&&(n=this.modelCache.get("Organization",e),i.keepBillableGuests=(null!=n?n.owned():void 0)&&this.haveAvailableLicenses&&!D),this.model.isTemplate()&&o&&!this.model.isPublic()&&!(null!=n?n.isPremium():void 0)&&(i["prefs/isTemplate"]=!1),this.model.update(i,(function(e){e instanceof O.Unauthorized&&S.displayErrorPage({errorType:"notPermissionsToSeeBoard"})})),null!=n&&n.boardList.add(this.model),j.hide()}},{key:"newOrg",value:function(e){var t;if(N("Board Header","Add to a Team menu","New Org"),this.sendGASEvent&&E.sendClickedLinkEvent({linkName:"createNewOrgLink",source:"changeBoardOrganizationInlineDialog",containers:{board:{id:this.model.id}}}),T.stop(e),d.me().isPaidManagedEntMember())t={boardToAddToOrg:this.model,isEnterprise:!0};else{var n=this.model.isTemplate()&&!this.model.isPublic();t={boardToAddToOrg:this.model,isPrivateTemplate:n}}return j.pushView({view:new b({model:this.model,modelCache:this.modelCache,createOpts:t,trackingOpts:{category:"board",method:"by clicking create team in board change team menu"}})})}},{key:"canAddToOrg",value:function(e){return e.canAddBoard(this.model)}},{key:"submit",value:function(e){var t=this;if(!this.$(".js-submit").hasClass("disabled")){this.$(".js-submit").prop("disabled",!0).toggleClass("disabled",!0),T.stop(e),N("Board","Change Org");var n=this.$(".js-org").val(),r=this.model.get("idOrganization"),i=this.modelCache.get("Organization",n);return this.sendGASEvent&&E.sendUpdatedBoardFieldEvent({field:"organization",source:"changeBoardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:n}},attributes:{previous:r,change:n!==r}}),_.try((function(){if(i&&i.boardMembershipRestricted()){var r=i.getPref("boardInviteRestrict");return k.loadOrganizationMembersData(n).then((function(){var n=t.model.memberList.chain().filter((function(e){return function(e){switch(r){case y.ORG:return!i.isMember(e);case y.MANAGED:return!e.isManagedEntMemberOf(i.get("idEnterprise"));case y.ORG_OR_MANAGED:return!i.isMember(e)&&!e.isManagedEntMemberOf(i.get("idEnterprise"))}}(e)})).map((function(e){return e.get("fullName")})).value(),o=n.length;if(0!==o){var a=function(){switch(r){case y.ORG:return 1===o?"external member not allowed":"external members not allowed";case y.MANAGED:return 1===o?"non managed member not allowed":"non managed members not allowed";case y.ORG_OR_MANAGED:return 1===o?"external and non managed member not allowed":"external and non managed members not allowed"}}();return _.fromNode((function(r){return g.toggle(a,{elem:e.currentTarget,model:t.model,confirmBtnClass:"nch-button nch-button--danger",templateData:{count:String(o),members:n.length>20?A.first(n,20).join(", ")+"…":n.join(", "),team:i.get("displayName")},fxConfirm:function(){return r()},fxCancel:function(){return r(new Error("cancelled"))}})}))}}))}})).then((function(){if(i&&(i.isFeatureEnabled("restrictVis")||"enterprise"===t.model.getPref("permissionLevel")))return k.loadOrganizationMembersData(n).then((function(){t.canAddToOrg(i)?t.changeOrg(n,r):t.showOrgBoardVisPerms(i,r)})).done();if(!t.model.get("idEnterprise"))return t.changeOrg(n,r);var e=t.model.getEnterprise();if(!e||e.canAddTeamlessBoard(t.model))return t.changeOrg(n,r);t.showEntBoardVisPerms(e,r)})).error((function(){})).done()}T.stop(e)}},{key:"showTemplateAlert",value:function(){return this.$(".js-template-alert").addClass("show-template-alert")}},{key:"hideTemplateAlert",value:function(){return this.$(".js-template-alert").removeClass("show-template-alert")}},{key:"allowBoardCreate",value:function(){return this.$(".js-submit").removeClass("disabled"),this.$(".js-board-limits-upgrade-ad").addClass("hide"),this.$(".js-permissions").removeClass("hide")}},{key:"updateOrgOptions",value:function(){var e=this;this.$(".js-submit").addClass("disabled"),this.$(".js-billable-guests-warning").addClass("hide"),this.selectedOrganization=this.$(".js-org").val();var t=""!==this.selectedOrganization;if(this.$(".js-make-org-visible,.js-make-org-joinable").closest(".js-check-div").toggleClass("hide",!t),this.model.isTemplate()&&!this.model.isPublic()&&this.model.get("idOrganization")!==this.selectedOrganization){var n=this.modelCache.get("Organization",this.selectedOrganization);t&&(null!=n?n.isPremium():void 0)?this.hideTemplateAlert():this.showTemplateAlert()}else this.hideTemplateAlert();return t?(this.showSpinner(),this.model.get("idOrganization")===this.selectedOrganization?(this.hideSpinner(),void this.allowBoardCreate()):_.all([u({type:"GET",url:"/1/organizations/".concat(this.selectedOrganization,"/newBillableGuests/").concat(this.model.id)}),k.loadOrganizationMembersMinimalWithAvailableLicenseCount(this.selectedOrganization)]).spread((function(t,n){return(null!=n?n.isAtOrOverFreeBoardLimit():void 0)?(e.$(".js-board-limits-upgrade-ad").removeClass("hide"),e.$(".js-permissions").addClass("hide"),e.$(".js-target-team").text(n.get("displayName")),e.$(".js-upgrade-link").attr("href",n.getBillingUrl()),e.hideSpinner()):t.length>0?(e.renderBillableGuestAlert({org:n,newBillableGuests:t}),e.haveAvailableLicenses=t.length<=n.getAvailableLicenseCount()):e.allowBoardCreate()})).finally((function(){return e.hideSpinner()}))):(this.hideSpinner(),void this.allowBoardCreate())}},{key:"renderBillableGuestAlert",value:function(e){var t=e.org,n=e.newBillableGuests,r=t.getProduct(),i={adminNames:t.adminList.map((function(e){return e.get("fullName")||e.get("username")})),newBillableGuestsCount:n.length,availableLicenseCount:t.getAvailableLicenseCount(),orgName:t.get("displayName")||t.get("name"),pricePerGuest:w.getPrice(r),isMonthly:w.isMonthly(r),isOrgAdmin:t.owned(),orgUrl:t.url,isReopen:!1,isDesktop:D,onCountClick:function(){return j.pushView({view:new m({newBillableGuests:n})})}},o=C.createElement(p,i);return this.reactRoot=this.$(".js-billable-guests-warning")[0],x.render(o,this.reactRoot),this.$(".js-billable-guests-warning").removeClass("hide"),this.allowBoardCreate()}},{key:"orgSelected",value:function(e){return this.updateOrgOptions()}},{key:"showSpinner",value:function(){return this.$(".js-loading").toggleClass("hide",!1),this.$(".js-loaded").toggleClass("hide",!0)}},{key:"hideSpinner",value:function(){return this.$(".js-loading").toggleClass("hide",!0),this.$(".js-loaded").toggleClass("hide",!1)}}])&&i(n.prototype,P),B&&i(n,B),M}(P);function R(e,t){return null!=e?t(e):void 0}B.initClass(),e.exports=B},"./app/scripts/views/board-menu/card-filter-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./packages/keybindings/index.ts"),d=u.getKey,p=u.Key,m=n("./packages/atlassian-analytics/index.ts").Analytics,f=n("./app/scripts/lib/util/index.js"),h=n("./app/scripts/views/internal/view.js"),v=n("./node_modules/underscore/underscore.js"),g=n("./app/scripts/views/internal/templates.js"),b=n("./app/scripts/lib/localize.js"),y=n("./packages/feature-flag-client/index.ts").featureFlagClient.getTrackedVariation("board-header-filtering-experiment",!1),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(j,e);var t,u,h,k,w=(t=j,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function j(){return r(this,j),w.apply(this,arguments)}return u=j,k=[{key:"initClass",value:function(){this.prototype.viewTitleKey=y?"filter cards":"search cards",this.prototype.viewIcon="search cards",this.prototype.className="board-menu-content-frame",this.prototype.events={"click .js-toggle-label-filter":"toggleLabelFilter","click .js-select-member":"toggleMemberFilter","click .js-show-all-labels":"showAllLabels","click .js-show-all-members":"showAllMembers","click .js-clear-all":"clearFilter","click .js-due-filter":"toggleDateFilter","click .js-mode-filter":"toggleModeFilter","mouseenter .js-filter-search-results li":"hoverSelect","mouseenter .js-clear-all":"clearAllSelected","mouseenter .js-show-all-members":"clearAllSelected","keydown .js-input":"keyDownEvent","keyup .js-input":"keyUpEvent"}}}],(h=[{key:"initialize",value:function(){return this.listenTo(this.model.board,"change:labelNames change:memberships",this.renderFilterOptions),this.listenTo(this.model,"change",this.renderFilterOptions)}},{key:"render",value:function(){var e,t;y&&m.sendScreenEvent({name:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(e=this.model.board.getOrganization())||void 0===e?void 0:e.id},enterprise:{id:null===(t=this.model.board.getEnterprise())||void 0===t?void 0:t.id}}}),this.isFiltering=!1;var r=this.model.toJSON();return this.$el.html(g.fill(n("./app/scripts/views/templates/filter_cards.js"),r)),this.renderFilterOptions(),this}},{key:"renderFilterOptions",value:function(){var e,t,r=this.model.toJSON({board:!0,expanded:!0}),i=!v.isEmpty(r.labels),o=!v.isEmpty(r.members),a=this.model.get("title")&&(i||o),s=this.model.getBoard();a?(r.limitMembers=!1,r.limitLabels=!1):((null==(e=this.model.get("limitMembers"))||e)&&(7===r.members.length?r.limitMembers=!1:(r.remainingMembers=Math.max(0,r.members.length-6),r.members=v.first(r.members,6).map((function(e){return e.isDeactivated=s.isDeactivated(e),e})),r.limitMembers=r.remainingMembers>0)),(null==(t=this.model.get("limitLabels"))||t)&&(7===r.labels.length?r.limitLabels=!1:(r.remainingLabels=Math.max(0,r.labels.length-6),r.labels=v.first(r.labels,6),r.limitLabels=r.remainingLabels>0)));return v.extend(r,{filtering:a,showHelper:!a,showLabels:!a||i,showMembers:!a||o,showDueTimes:!a,showMatchMode:!a,isFiltering:this.model.isFiltering(),labels:r.labels.map((function(e){var t=e.color?b(["labels",e.color]):"";return v.extend({defaultColorName:t},e)}))}),this.$(".js-filter-search-results").html(g.fill(n("./app/scripts/views/templates/filter_cards_search_results.js"),r,{},{member:g.member,select_member:g.select_member})),null===this.model.get("title")&&this.$(".js-input").val(""),y&&(r.isFiltering?c(".board-header-filter-clear-btn").removeClass("hide"):c(".board-header-filter-clear-btn").addClass("hide")),this}},{key:"keyDownEvent",value:function(e){var t=d(e);if([p.Enter,p.ArrowUp,p.ArrowDown].includes(t)){f.stop(e);var n=".item, .label-list-item",r=this.$(n),i=r.filter(".selected").first();t===p.Enter?i.find("a").click():[p.ArrowUp,p.ArrowDown].includes(t)&&(0===i.length?r.first().addClass("selected"):f.navMenuList(this.$el,n,t))}}},{key:"keyUpEvent",value:function(e){var t=d(e);if(![p.Escape,p.Enter,p.ArrowUp,p.ArrowDown].includes(t))return this.model.save({title:this.$(".js-input").val(),limitMembers:!0,limitLabels:!0})}},{key:"showAllMembers",value:function(e){f.stop(e),this.model.save("limitMembers",!1)}},{key:"showAllLabels",value:function(e){f.stop(e),this.model.save("limitLabels",!1)}},{key:"_clearAndFocusInput",value:function(){return this.model.save({title:""}),this.$(".js-input").val("").focus()}},{key:"toggleLabelFilter",value:function(e){f.stop(e);var t,n,r,i,o=c(e.target).closest("a").attr("data-idlabel");y?m.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(t=this.model.board.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(n=this.model.board.getEnterprise())||void 0===n?void 0:n.id}},attributes:{type:"label",id:o}}):m.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"boardMenuDrawerFilterScreen",containers:{board:{id:this.model.board.id},organization:{id:null===(r=this.model.board.getOrganization())||void 0===r?void 0:r.id},enterprise:{id:null===(i=this.model.board.getEnterprise())||void 0===i?void 0:i.id}},attributes:{type:"label",id:o}});var a=this.model.toJSON({expanded:!0});return v.isEmpty(a.labels)||this._clearAndFocusInput(),this.model.toggleIdLabel(o)}},{key:"toggleMemberFilter",value:function(e){f.stop(e);var t,n,r,i,o=c(e.target).closest("a").attr("idMember");y?m.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(t=this.model.board.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(n=this.model.board.getEnterprise())||void 0===n?void 0:n.id}},attributes:{type:"member",id:o}}):m.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"boardMenuDrawerFilterScreen",containers:{board:{id:this.model.board.id},organization:{id:null===(r=this.model.board.getOrganization())||void 0===r?void 0:r.id},enterprise:{id:null===(i=this.model.board.getEnterprise())||void 0===i?void 0:i.id}},attributes:{type:"member",id:o}});var a=this.model.toJSON({expanded:!0});return v.isEmpty(a.members)||this._clearAndFocusInput(),f.stop(e),this.model.toggleMember(o)}},{key:"toggleDateFilter",value:function(e){var t,n,r,i;f.stop(e),y?m.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(t=this.model.board.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(n=this.model.board.getEnterprise())||void 0===n?void 0:n.id}},attributes:{type:"date"}}):m.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:"viewsCardFilterDropdownItem",source:"boardMenuDrawerFilterScreen",containers:{board:{id:this.model.board.id},organization:{id:null===(r=this.model.board.getOrganization())||void 0===r?void 0:r.id},enterprise:{id:null===(i=this.model.board.getEnterprise())||void 0===i?void 0:i.id}},attributes:{type:"date"}});var o=c(e.target).closest("a").attr("time");return this.model.get("due")===o?this.model.save("due",null):this.model.save("due",o)}},{key:"toggleModeFilter",value:function(e){f.stop(e);var t=c(e.target).closest("a").attr("mode");if(this.model.get("mode")!==t)return this.model.save("mode",t)}},{key:"clearFilter",value:function(e){var t,n,r,i;return y?m.sendClickedButtonEvent({buttonName:"viewsCardFilterClearFilterButton",source:"viewsCardFilterInlineDialog",containers:{board:{id:this.model.board.id},organization:{id:null===(t=this.model.board.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(n=this.model.board.getEnterprise())||void 0===n?void 0:n.id}}}):m.sendClickedButtonEvent({buttonName:"viewsCardFilterClearFilterButton",source:"boardMenuDrawerFilterScreen",containers:{board:{id:this.model.board.id},organization:{id:null===(r=this.model.board.getOrganization())||void 0===r?void 0:r.id},enterprise:{id:null===(i=this.model.board.getEnterprise())||void 0===i?void 0:i.id}}}),this.model.clear()}},{key:"clearAllSelected",value:function(){return this.$("li").removeClass("selected")}},{key:"hoverSelect",value:function(e,t){return this.clearAllSelected(),f.selectMenuItem(c(e.currentTarget).closest("ul"),"li",c(e.currentTarget))}}])&&i(u.prototype,h),k&&i(u,k),j}(h);k.initClass(),e.exports=k},"./app/scripts/views/board-menu/change-board-visibility-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./packages/atlassian-analytics/index.ts"),d=u.Analytics,p=u.tracingCallback,m=n("./app/scripts/views/board-menu/board-select-organization-for-perm-change-view.js"),f=n("./app/scripts/views/board/confirmation-public-boards-view.js"),h=n("./app/scripts/views/lib/pop-over.js"),v=n("./app/scripts/lib/util/index.js"),g=n("./app/scripts/views/internal/view.js"),b=n("./packages/analytics/index.ts").trackUe,y=n("./app/scripts/views/templates/board_menu_vis.js"),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(w,e);var t,n,u,g,k=(t=w,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function w(){return r(this,w),k.apply(this,arguments)}return n=w,g=[{key:"initClass",value:function(){this.prototype.tagName="ul",this.prototype.className="pop-over-list",this.prototype.maxWidth=370,this.prototype.events={"click .js-select":"selectVis"}}}],(u=[{key:"viewTitleKey",value:function(){return this.model.owned()?"change visibility":"visibility"}},{key:"initialize",value:function(){this.listenTo(this.model,"change",this.render)}},{key:"render",value:function(){var e=this.model.getOrganization(),t=null!=e?e.getEnterprise():void 0;return this.$el.html(y({canChange:this.model.owned(),current:this.model.getPref("permissionLevel"),hasSuperAdmins:(null==e?void 0:e.hasPremiumFeature("superAdmins"))||!1,hasOrg:null!=e,orgName:null!=e?e.get("displayName"):void 0,privateRestricted:!this.model.canSetVisibility("private"),orgRestricted:null!=e&&!(null!=e?e.canSetVisibility("org"):void 0),enterpriseRestricted:null!=e&&!(null!=e?e.canSetVisibility("enterprise"):void 0),publicRestricted:!this.model.canSetVisibility("public"),hasEnterprise:null!=e?e.belongsToRealEnterprise():void 0,enterpriseName:null!=t?t.get("displayName"):void 0,isTemplate:this.model.isTemplate(),isOrgPremium:null!=e?e.isPremium():void 0})),this}},{key:"selectVis",value:function(e){var t=this;v.stop(e);var n=c(e.target).closest(".js-select");if(!n.hasClass("disabled")&&!n.closest(".js-disabled").length){var r=n.attr("name");if("public"!==r)if("org"!==r||this.model.getOrganization()){var i=d.startTask({taskName:"edit-board",subTask:"prefs/permissionLevel",source:"changeBoardVisibilityInlineDialog"}),o=this.model.getPref("permissionLevel"),a=o!==r?1:0;this.model.setPrefWithTracing("permissionLevel",r,i,p({taskName:"edit-board",subTask:"prefs/permissionLevel",source:"changeBoardVisibilityInlineDialog",traceId:i},(function(e,n){var a;n&&d.sendUpdatedBoardFieldEvent({field:"visibility",value:r,source:"changeBoardVisibilityInlineDialog",containers:{board:{id:t.model.id},organization:{id:null===(a=t.model.getOrganization())||void 0===a?void 0:a.id}},attributes:{change:o!==r,previous:o,taskId:i}})}))),this.model.save(),"org"===r?b("board","sets","board visibility","","to team","",{boardid:this.model.id,change:a}):"private"===r?b("board","sets","board visibility","","to private","",{boardid:this.model.id,change:a}):"enterprise"===r&&b("board","sets","board visibility","","to enterprise","",{boardid:this.model.id,change:a}),h.popView()}else h.pushView({view:m,options:{model:this.model,modelCache:this.modelCache,disableNone:!0}});else h.pushView({elem:e.target,view:new f({model:this.model,modelCache:this.modelCache}),maxWidth:370})}}}])&&i(n.prototype,u),g&&i(n,g),w}(g);k.initClass(),e.exports=k},"./app/scripts/views/board-menu/member-limits-error.js":function(e,t,n){var r=n("./node_modules/underscore/underscore.js"),i=n("./app/scripts/db/auth.js"),o=n("./app/scripts/views/lib/limit-error-popover.js");e.exports={maybeDisplayMemberLimitsError:function(e,t,n){var a=(null!=t?t.isOverLimit("boards","totalMembersPerBoard"):void 0)?{message:"members exceeds total per board limit",params:{boardName:t.get("name"),boardId:t.get("id")}}:(null!=n?n.isOverLimit("boards","totalPerMember"):void 0)?i.isMe(n)?{message:"your boards exceed total per member limit"}:{message:"boards exceeds total per member limit",params:{memberName:n.get("name")}}:void 0;return null!=a&&(o(r.extend({trackingArea:"boardMemberLimit",elem:e},a)),!0)}}},"./app/scripts/views/board/add-list-popover-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./packages/jquery/index.js"),d=n("./app/scripts/views/lib/alerts.js"),p=n("./app/scripts/views/lib/pop-over.js"),m=n("./app/scripts/lib/util/index.js"),f=n("./app/scripts/views/internal/view.js"),h=n("./node_modules/underscore/underscore.js"),v=n("./app/scripts/views/templates/popover_add_list.js"),g=n("./packages/analytics/index.ts").track,b=n("./packages/atlassian-analytics/index.ts").Analytics,y=n("./packages/feature-flag-client/index.ts").featureFlagClient,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(j,e);var t,n,f,k,w=(t=j,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function j(){return r(this,j),w.apply(this,arguments)}return n=j,k=[{key:"initClass",value:function(){this.prototype.viewTitleKey="add list",this.prototype.events={"change .js-select-list-pos":"renderValue","click .js-add-list":"addList","submit form":"addList"}}}],(f=[{key:"initialize",value:function(e){var t=e.didAddList;return this.didAddList=t,o(c(j.prototype),"initialize",this).apply(this,arguments)}},{key:"getLists",value:function(){return this.lists=this.model.listList,this.listsLength=this.lists.length+1}},{key:"render",value:function(){var e=this;return this.$el.html(v({tooManyTotalLists:this.model.isOverLimit("lists","totalPerBoard"),tooManyOpenLists:this.model.isOverLimit("lists","openPerBoard")})),this.setTimeout((function(){return e.getClosestListPos(),e.getLists(),e.updateListList()}),10),this}},{key:"getClosestListPos",value:function(){var e=this,t=u(".js-list"),n=[];this.closestListIdx=0,t.each((function(r){var i=parseInt(Math.abs(u(t[r]).offset().left+u(t[r]).width()/2-e.$el.offset().left),10);return n.push(i)})),this.closestListIdx=h.indexOf(n,h.min(n));var r=u(t[this.closestListIdx]);if(r.length>0&&this.$el.offset().left>r.offset().left+r.width()/2&&this.closestListIdx<t.length)return this.closestListIdx+=1}},{key:"updateListList",value:function(){for(var e=u(this.el).find(".js-select-list-pos"),t=0,n=this.listsLength,r=0<=n;r?t<n:t>n;r?t++:t--)u("<option>").val(t).text(t+1).appendTo(e);return e.find("option:last"),e.find("option:eq(".concat(this.closestListIdx,")")).attr("selected","selected"),this.renderValue()}},{key:"renderValue",value:function(){var e=parseInt(this.$(".js-select-list-pos").val(),10)+1;u(".js-pos-value").text(e.toString())}},{key:"addList",value:function(e){var t,n;m.stop(e);var r=this.$(".js-list-name").val().trim();if(""!==r){var i=this.$(".js-select-list-pos"),o=parseInt(i.find("option:selected").val(),10);n=o!==this.listsLength-1,t="List"!==r,p.hide(),this.createList({name:r,pos:this.model.calcPos(o),closed:!1},t,n).catch((function(){return d.flash("could not connect","error")}))}else this.$(".js-list-name").focus().select()}},{key:"createList",value:function(e,t,n){var r=this;return new Promise((function(i,o){var a=r.model.listList.create(e,{success:function(e){return g("Board","Add List",t&&n?"Successfully Add List - Changed Name, Changed Position":t?"Successfully Add List - Changed Name, Default Position":n?"Successfully Add List - Default Name, Changed Position":"Successfully Add List - Default Name, Default Position"),y.get("dataeng.gasv3-core-event-tracking",!1)&&b.sendTrackEvent({action:"created",actionSubject:"list",source:"addListInlineDialog",containers:{board:{id:r.model.id},list:{id:e.id}},attributes:{changedPosition:n}}),r.didAddList(e)},error:function(){return r.model.listList.remove(a),o()}})}))}}])&&i(n.prototype,f),k&&i(n,k),j}(f);k.initClass(),e.exports=k},"./app/scripts/views/board/billable-guest-list-popover-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/internal/teacup-with-helpers.js")(),u=n("./app/scripts/views/internal/templates.js"),d=n("./app/scripts/views/internal/view.js"),p=c.renderable((function(e){var t=e.newBillableGuests;return this.newBillableGuests=t,c.ul(".pop-over-member-list.js-billable-guest-list")})),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(h,e);var t,c,d,m,f=(t=h,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function h(){return r(this,h),f.apply(this,arguments)}return c=h,m=[{key:"initClass",value:function(){this.prototype.viewTitleKey="billable guest list"}}],(d=[{key:"initialize",value:function(e){var t=e.newBillableGuests;this.newBillableGuests=t}},{key:"render",value:function(){this.$el.html(p({newBillableGuests:this.newBillableGuests}));for(var e=this.$(".js-billable-guest-list").first().empty(),t=0,r=Array.from(this.newBillableGuests);t<r.length;t++){var i=r[t],o=Object.assign(i,{url:"/".concat(i.username),unconfirmed:!i.confirmed});e.append(u.fill(n("./app/scripts/views/templates/select_member.js"),o,{},{member:u.member}))}return this}}])&&i(c.prototype,d),m&&i(c,m),h}(d);m.initClass(),e.exports=m},"./app/scripts/views/board/board-clean-up-view.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./app/scripts/views/lib/confirm.js"),p=n("./app/scripts/lib/dates.js"),m=n("./node_modules/bluebird/js/browser/bluebird.js"),f=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_clean_up"),h=n("./packages/analytics/index.ts").track,v=n("./app/scripts/lib/util/index.js"),g=n("./app/scripts/views/internal/view.js"),b=n("./node_modules/underscore/underscore.js"),y=f.renderable((function(e){var t=e.ageCategories,n=e.lists,r=!b.isEmpty(n),i=!b.isEmpty(t),o=function(e,t){return t&&f.div(".board-clean-up-cards-options",(function(){return f.span(".board-clean-up-cards-option.js-select-all",(function(){return f.format("select-all")})),f.span(".board-clean-up-cards-option.js-select-none",(function(){return f.format("select-none")}))})),f.div(".board-clean-up-cards",(function(){return Array.from(e).map((function(e){return f.div(".board-clean-up-card",(function(){return t&&f.div((function(){return f.span(".board-clean-up-checkbox.js-toggle-checkbox",{"data-checked":"checked","data-card":e.id},(function(){return f.icon("check",{class:"board-clean-up-checkbox-check"})}))})),f.a(".list-card",{href:e.get("url")},(function(){return f.span(".board-clean-up-card-name",(function(){return f.text(e.get("name"))}))}))}))}))}))};return f.div(".window-header.u-clearfix",(function(){return f.span(".window-header-icon.icon-lg.icon-board"),f.div(".window-title",(function(){return f.h2(".window-title-text",(function(){return f.format("board-clean-up")}))}))})),f.div(".window-main-col.window-main-col-full",(function(){if(r&&(f.p(".board-clean-up-explanation",(function(){return f.format("it-looks-like-you-have-some-lists-that-havent-been-updated-recently")})),f.table(".board-clean-up-table",(function(){return f.tbody((function(){return f.tr((function(){return f.th((function(){return f.format("list")})),f.th((function(){return f.format("cards")})),f.th((function(){return f.format("last-updated")})),f.th((function(){}))})),function(){for(var e=[],t=function(){var t=i[r],n=t.id,a=t.listName,s=t.cards,l=t.cardCount,c=t.lastModified;f.tr(".board-clean-up-top",(function(){return f.td((function(){return f.text(a)})),f.td((function(){return f.text(l)})),f.td((function(){return f.text(p.toDateString(c))})),f.td(".board-clean-up-button-cell",(function(){return f.button(".board-clean-up-button.js-archive-list",{"data-list":n},(function(){return f.format("archive-list")}))}))})),e.push(f.tr(".board-clean-up-bottom",(function(){return f.td({colspan:4},(function(){return o(s,!1)}))})))},r=0,i=Array.from(n);r<i.length;r++)t();return e}()}))}))),r&&i&&f.hr(),i&&(f.p(".board-clean-up-explanation",(function(){return r?f.format("you-can-also-clean-things-up-by-archiving-cards-that-havent-been-updated-in-a-while"):f.format("you-can-clean-things-up-by-archiving-cards-that-havent-been-updated-in-a-while")})),f.table(".board-clean-up-table",(function(){return f.tbody((function(){return f.tr((function(){return f.th((function(){return f.format("cards-updated")})),f.th((function(){return f.format("cards")})),f.th((function(){}))})),function(){var e=[],n=function(n){var r=t[n];f.tr(".board-clean-up-top.js-category-heading",{"data-category":n},(function(){return f.td((function(){return f.format(["more-than",n])})),f.td(".js-card-count",(function(){return f.text(r.length)})),f.td(".board-clean-up-button-cell",(function(){return f.button(".board-clean-up-button.js-archive-category",{"data-category":n},(function(){return f.format("archive-selected-cards")}))}))})),e.push(f.tr(".board-clean-up-bottom.js-category-cards",{"data-category":n},(function(){return f.td({colspan:3},(function(){return o(r,!0)}))})))};for(var r in t)n(r);return e}()}))}))),!r&&!i)return f.p(".board-clean-up-explanation",(function(){return f.format("it-doesnt-look-like-there-are-any-old-cards-to-clean-up")}))}))})),k=f.renderable((function(e){var t=e.count,n=e.total;return f.div(".window-header.u-clearfix",(function(){return f.span(".window-header-icon.icon-lg.icon-board"),f.div(".window-title",(function(){return f.h2(".window-title-text",(function(){return f.format("board-clean-up")}))}))})),f.div(".window-main-col.window-main-col-full",(function(){return f.div(".board-clean-up-progress",(function(){return f.format("archiving",{count:t,total:n})}))}))})),w={threeMonths:{age:v.getMs({days:90})},month:{age:v.getMs({days:30})},week:{age:v.getMs({days:7})}},j=function(e,t){return function(n,r){return r.getAttribute(e)===t}},_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(_,e);var t,n,i,f,g=(t=_,function(){var e,n=u(t);if(c()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function _(){return o(this,_),g.apply(this,arguments)}return n=_,f=[{key:"initClass",value:function(){this.prototype.events={"click .js-archive-category":"archiveCategory","click .js-archive-list":"archiveList","click .js-toggle-checkbox"(e){var t=this.$(e.currentTarget);return t.is("[data-checked]")?t.removeAttr("data-checked"):t.attr("data-checked","checked"),this._updateCategory(t.closest(".js-category-cards").attr("data-category"))},"click .js-select-all"(e){var t=this.$(e.currentTarget).closest(".js-category-cards");return t.find(".js-toggle-checkbox").attr("data-checked","checked"),this._updateCategory(t.attr("data-category"))},"click .js-select-none"(e){var t=this.$(e.currentTarget).closest(".js-category-cards");return t.find(".js-toggle-checkbox").removeAttr("data-checked"),this._updateCategory(t.attr("data-category"))}}}}],(i=[{key:"initialize",value:function(){this.progress=null,this.aborted=!1,this.makeDebouncedMethods("render"),this.listenTo(this.model.listList,"add remove reset change:closed change:idBoard",this.renderDebounced),this.listenForCards()}},{key:"_updateCategory",value:function(e){var t=j("data-category",e),n=this.$(".js-category-heading").filter(t),r=this.$(".js-category-cards").filter(t),i=r.find(".js-toggle-checkbox:not([data-checked])"),o=r.find(".js-toggle-checkbox[data-checked]");return r.find(".js-select-all").toggleClass("hide",!i.length),r.find(".js-select-none").toggleClass("hide",!o.length),n.find(".js-card-count").text(o.length),n.find(".js-archive-category").toggleClass("hide",!o.length)}},{key:"listenForCards",value:function(){return this.listenTo(this.modelCache,"add:Card remove:Card change:Card:closed change:Card:idList",this.renderDebounced)}},{key:"stopListeningForCards",value:function(){return this.stopListening(this.modelCache)}},{key:"_ageCategories",value:function(){var e=this,t=this.modelCache.find("Card",(function(t){return t.get("idBoard")===e.model.id&&t.isVisible()}));return b.chain(w).pairs().map((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),n=r(e,2),i=n[0],o=n[1].age,a=t.filter((function(e){return Date.now()-p.parse(e.get("dateLastActivity"))>o}));return[i,a]})).filter((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,2),n=t[1];return n.length>0})).object().value()}},{key:"render",value:function(){var e=this;if(null!=this.progress)return this.$el.html(k(this.progress)),this;var t=this.model.listList.chain().filter((function(e){return e.isOpen()})).map((function(e){var t=e.openCards().models,n=b.chain(t).sortBy((function(e){return e.get("dateLastActivity")})).reverse().first().value();return{id:e.id,listName:e.get("name"),cardCount:t.length,cards:t,lastModified:null!=n?n.get("dateLastActivity"):void 0}})).filter((function(e){return null!=e.lastModified&&p.parse(e.lastModified)<Date.now()-v.getMs({days:30})})).sortBy((function(e){return-e.cardCount})).first(5).value();return this.$el.html(y({ageCategories:this._ageCategories(),lists:t})),b.keys(w).forEach((function(t){return e._updateCategory(t)})),this}},{key:"archiveCategory",value:function(e){var t=this;v.stop(e);var n=this.$(e.currentTarget).attr("data-category"),r={};this.$(".js-category-cards").filter(j("data-category",n)).find(".js-toggle-checkbox").each((function(e,n){var i=t.$(n),o=i.attr("data-card");r[o]=i.is("[data-checked]")}));var i=this._ageCategories()[n].filter((function(e){return r[e.id]}));if(null!=i)return d.toggle("archive cards",{elem:e.target,model:this.model,fxConfirm:function(e){return h("Board Clean-Up","Archive By Age",n,i.length),t.stopListeningForCards(),t.progress={count:0,total:i.length},t.render(),t.aborted=!1,m.map(i,(function(e){if(!t.aborted){var n=Date.now();return m.fromNode((function(t){return e.close(t)})).then((function(){var e=1e3-(Date.now()-n);if(e>0)return m.delay(e)})).then((function(){return t.progress.count++,t.render()}))}}),{concurrency:5}).catch((function(){})).then((function(){return t.progress=null,t.listenForCards(),t.render()})).done()}})}},{key:"archiveList",value:function(e){v.stop(e);var t=this.$(e.currentTarget).attr("data-list"),n=this.model.listList.get(t);return h("Board Clean-Up","Archive List",void 0,n.openCards().models.length),n.close()}},{key:"abort",value:function(){if(this.aborted=!0,this.progress)return h("Board Clean-Up","Abort Archive By Age",void 0,this.progress.total-this.progress.count)}}])&&a(n.prototype,i),f&&a(n,f),_}(g);_.initClass(),e.exports=_},"./app/scripts/views/board/board-header-all-members-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/atlassian-analytics/index.ts").Analytics,u=n("./app/scripts/db/auth.js"),d=n("./app/scripts/views/lib/drag-sort.js"),p=n("./packages/feature-flag-client/index.ts").featureFlagClient,m=n("./app/scripts/views/member-menu-profile/member-on-board-view.js"),f=n("./app/scripts/views/lib/pop-over.js"),h=n("./packages/analytics/index.ts").trackUe,v=n("./app/scripts/lib/util/index.js"),g=n("./app/scripts/lib/util/text/search-filter.js"),b=n("./app/scripts/views/internal/view.js"),y=n("./node_modules/underscore/underscore.js"),k=n("./app/scripts/views/templates/popover_board_header_all_members.js"),w=n("./app/scripts/views/board-menu/board-member-add-multiple-view.js"),j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(C,e);var t,n,b,j,x=(t=C,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function C(){return r(this,C),x.apply(this,arguments)}return n=C,j=[{key:"initClass",value:function(){this.prototype.viewTitleKey="board members",this.prototype.events={"input .js-search-board-member":"onSearchEvent","click .js-invite-to-board-link":"renderInvitationLink"}}}],(b=[{key:"renderMembers",value:function(e){var t,n=this;null==e&&(e=this.model.orderedVisibleMembers());for(var r=y.pluck(this.options.newInvitees,"id"),i=null!=this.model.get("idOrganization"),o=this.model.getOrganization(),a=u.me(),s=this.model.isMember(a)||this.model.isObserver(a)||(null!=o?o.isMember(a):void 0)?y.groupBy(e,(function(e){var t=n.model.getMembershipFor(e);return Array.from(r).includes(e.id)?"recentlyJoined":n.model.isVirtual(e)?"invited":null==t?"other":t.deactivated?"deactivated":"observer"===t.memberType?"observer":null!=t.orgMemberType||null!=(null!=o?o.getMembershipFor(e):void 0)?"team":i?"other":"member"})):{member:y.filter(e,(function(e){var t=n.model.getMembershipFor(e);return!t.deactivated&&"observer"!==t.memberType}))},l=[{selector:".js-list-members",list:s.member},{selector:".js-list-team-members",list:s.team},{selector:".js-list-recently-joined-members",list:s.recentlyJoined},{selector:".js-list-invited-members",list:s.invited},{selector:".js-list-guests",list:s.other},{selector:".js-list-observers",list:s.observer},{selector:".js-deactivated-members",list:s.deactivated}],c=1===y.keys(s).length&&(null!=s.member||null!=s.team),p=function(){var e=h[f],r=e.selector,i=e.list,o=void 0===i?[]:i,a=n.$(r),s=a.find(".js-list"),l=a.find(".js-heading");a.toggleClass("is-hidden",0===o.length),l.toggleClass("is-hidden",c),a.toggleClass("is-partial-row",o.length<8);var u=function(){for(var e=[],r=0,i=Array.from(o);r<i.length;r++)t=i[r],e.push(n.subview(m,t,{board:n.model,pushView:!0}));return e}();s.length&&n.ensureSubviews(u,s)},f=0,h=Array.from(l);f<h.length;f++)p();return this.defer((function(){return d.refreshDraggableSidebarMembers()}))}},{key:"filterMembersResult",value:function(e){var t=g(e);return y.filter(this.model.orderedVisibleMembers(),(function(e){return t(v.getMemNameArray(e))}))}},{key:"onSearchEvent",value:function(e){this.memberSearch=this.$(".js-search-board-member").val().trim();var t=this.memberSearch?this.filterMembersResult(this.memberSearch):this.model.orderedVisibleMembers();return this.$(".js-invite-no-results").toggleClass("hide",0!==t.length),this.renderMembers(t)}},{key:"renderInvitationLink",value:function(e){v.stop(e),h("board view","adds","board member","","","board-header-button",w),p.get("dataeng.gasv3-event-tracking",!1)&&c.sendClickedLinkEvent({linkName:"inviteToBoardLink",source:"allBoardMembersInlineDialog",containers:{board:{id:this.model.id},organization:{id:_(this.model.getOrganization(),(function(e){return e.id}))}}});var t=new w({model:this.model,modelCache:this.modelCache});t.loadOrgData(),f.toggle({elem:$(".js-open-manage-board-members"),view:t})}},{key:"render",value:function(){var e={canAssign:this.model.editable(),showInviteLink:this.model.canInviteMembers()};return this.$el.html(k(e)),this.renderMembers(),p.get("dataeng.gasv3-event-tracking",!1)&&c.sendScreenEvent({name:"allBoardMembersInlineDialog",containers:{board:{id:this.model.id},organization:{id:_(this.model.getOrganization(),(function(e){return e.id}))}},attributes:{numMembers:this.model.orderedVisibleMembers().length}}),this}}])&&i(n.prototype,b),j&&i(n,j),C}(b);function _(e,t){return null!=e?t(e):void 0}j.initClass(),e.exports=j},"./app/scripts/views/board/board-header-org-menu-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./app/scripts/db/auth.js"),d=n("./app/scripts/views/board-menu/board-select-organization-view.js"),p=n("./app/scripts/views/lib/pop-over.js"),m=n("./app/scripts/lib/util/index.js"),f=n("./app/scripts/views/internal/view.js"),h=n("./app/scripts/views/templates/popover_board_header_org_menu.js"),v=n("./packages/analytics/index.ts").track,g=n("./packages/browser/index.ts").dontUpsell,b=n("./packages/feature-flag-client/index.ts").featureFlagClient,y=n("./packages/atlassian-analytics/index.ts").Analytics,k=n("./node_modules/react/index.js"),w=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,j=n("./app/src/components/UpgradePathAudit/index.ts").BoardHeaderOrgMenuPopoverButton,_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(O,e);var t,n,f,_,C=(t=O,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function O(){return r(this,O),C.apply(this,arguments)}return n=O,_=[{key:"initClass",value:function(){this.prototype.events={"click .js-change-org":"openChangeOrg","click .js-view-org":"viewOrg","click .js-upgrade-to-bc":"trackBcUpgrade"}}}],(f=[{key:"initialize",value:function(){o(c(O.prototype),"initialize",this).apply(this,arguments),this.makeDebouncedMethods("render");var e=this.model.getOrganization();e&&this.listenTo(e,{"change:products":this.renderDebounced})}},{key:"getViewTitle",value:function(){return this.model.getOrganization().get("displayName")}},{key:"render",value:function(){var e=this.model.getOrganization(),t=e.toJSON(),n=b.get("btg.upgrade-prompt-audit",!1),r=b.get("btg.block-teamless-boards",!1);return r?t.canChangeOrg=this.model.owned():(t.canChangeOrg=(null!=e?e.owned():void 0)||this.model.owned(),t.setOrgNull=(null!=e?e.owned():void 0)&&!this.model.owned()),t.isOrgMember=e.isMember(u.me()),t.upgradePathAuditEnabled=n,t.blockTeamlessBoardsEnabled=r,t.upsellEnabled=!g(),this.$el.html(h(t)),b.get("dataeng.gasv3-event-tracking",!1)&&y.sendScreenEvent({name:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:x(this.model.getOrganization(),(function(e){return e.id}))}}}),n&&this.renderUpsellComponent(null==e?void 0:e.get("id")),this}},{key:"renderUpsellComponent",value:function(e){var t=this.$("#upgrade-path-react-component")[0];e&&t&&w(k.createElement(j,{orgId:e}),t)}},{key:"openChangeOrg",value:function(e){var t=this;if(m.stop(e),this.model.owned())p.pushView({view:d,options:{model:this.model,modelCache:this.modelCache}}),v("Board Header","Change Org from Board Header Org Menu"),b.get("dataeng.gasv3-event-tracking",!1)&&y.sendClickedLinkEvent({linkName:"changeBoardOrganizationLink",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:x(this.model.getOrganization(),(function(e){return e.id}))}}});else{var n=this.model.get("idOrganization");x(this.modelCache.get("Organization",n),(function(e){return e.boardList.remove(t.model)})),this.model.update("idOrganization",""),p.hide(),v("Board Header","Remove Org from Board Header Org Menu"),y.sendUpdatedBoardFieldEvent({field:"organization",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:x(this.model.getOrganization(),(function(e){return e.id}))}},attributes:{previous:n}})}}},{key:"viewOrg",value:function(){if(v("Board Header","View Org From Board Header Org Menu"),b.get("dataeng.gasv3-event-tracking",!1))return y.sendClickedLinkEvent({linkName:"viewOrganizationLink",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:x(this.model.getOrganization(),(function(e){return e.id}))}}})}},{key:"trackBcUpgrade",value:function(){if(v("Board Header","Org Menu","Upgrade to Business Class link"),b.get("dataeng.gasv3-event-tracking",!1))return y.sendClickedLinkEvent({linkName:"upgradeToBCLink",source:"boardOrganizationInlineDialog",containers:{board:{id:this.model.id},organization:{id:x(this.model.getOrganization(),(function(e){return e.id}))}}})}}])&&i(n.prototype,f),_&&i(n,_),O}(f);function x(e,t){return null!=e?t(e):void 0}_.initClass(),e.exports=_},"./app/scripts/views/board/board-view-background.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./packages/unsplash/index.ts").UnsplashTracker,o=n("./app/scripts/lib/favicon.js"),a=n("./app/scripts/data/backgrounds.js"),s=n("./app/scripts/lib/util/index.js");function l(e,t){return null!=e?t(e):void 0}e.exports.getAllBackgroundClasses=function(){return["body-custom-board-background","body-custom-board-background-tiled","body-light-board-background","body-dark-board-background","body-ambiguous-board-background","body-default-header"].join(" ")},e.exports.defaultBoardBackground=function(){this.clearBoardBackground(),r("#trello-root").addClass("body-default-header")},e.exports.clearBoardBackground=function(){var e=this.getAllBackgroundClasses();r("#trello-root").removeClass(e).css({"background-image":"","background-color":""})},e.exports.renderBoardBackground=function(e){null==e&&(e=!1),this.clearBoardBackground();var t,n,c,u,d,p=this.model.get("prefs"),m=r("#trello-root");if(null!=p.backgroundColor){var f=this.model.getClientBackgroundColor(p.background);return m.css({"background-color":f}),o.setBackground({color:f})}n=a.hasOwnProperty(p.background)?null!=(c=l(s.smallestPreviewBiggerThan(p.backgroundImageScaled,640,480),(function(e){return e.url})))?c:p.backgroundImage:null!=(u=l(s.biggestPreview(p.backgroundImageScaled,p.backgroundImage),(function(e){return e.url})))?u:p.backgroundImage,t=p.backgroundTile?n:null!=(d=l(s.smallestPreviewBiggerThan(p.backgroundImageScaled,64,64),(function(e){return e.url})))?d:p.backgroundImage;var h=function(){m.addClass("body-custom-board-background"),p.backgroundTile&&m.addClass("body-custom-board-background-tiled");var e=p.backgroundBrightness;p.backgroundTopColor&&(e!==s.calculateBrightness(p.backgroundTopColor)&&m.addClass("body-ambiguous-board-background"));switch(e){case"light":m.addClass("body-light-board-background");break;case"dark":m.addClass("body-dark-board-background")}return m.css({"background-image":'url("'.concat(n,'")')}),i.trackOncePerInterval(n),o.setBackground({url:t,tiled:p.backgroundTile})};return e?s.waitForImageLoad(n).then(h):h()},e.exports.renderBoardHeaderSubscribed=function(){var e=this.model.get("subscribed");return this.$(".js-board-header-subscribed").toggleClass("hide",!e),this}},"./app/scripts/views/board/board-view-card.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./packages/analytics/index.ts"),o=i.track,a=i.trackUe,s=n("./packages/atlassian-analytics/index.ts").Analytics,l=n("./app/scripts/db/id-cache.js"),c=n("./app/scripts/models/card.js"),u=n("./app/scripts/network/payloads.ts").default,d=n("./app/scripts/lib/util/index.js"),p=n("./app/scripts/views/lib/pop-over.js"),m=n("./app/scripts/views/board/add-list-popover-view.js"),f=n("./app/scripts/views/card/card-limits-error.js").canAddCard;e.exports.openCardComposerInFirstList=function(){var e=this.model.listList.first();this.model.composer.save({list:e,index:e.openCards().length,vis:!0}),a("card composer","open","","","","via navigating to board",{boardid:this.model.get("id")}),this.sendGASEvent&&s.sendUIEvent({action:"opened",actionSubject:"cardComposer",source:"boardScreen",attributes:{method:"firstList"}})},e.exports.scrollToCard=function(e){var t=e.getList();return this.scrollToList(t),this.viewForList(t).scrollToCard(e)},e.exports.preventScrollSelection=function(){var e=this;if(!this.ignoreMouseCardSelects){this.ignoreMouseCardSelects=!0;!function t(){return r(document).one("mousemove",(function(n){!function(e){var t=e.originalEvent,n=t.movementX,r=t.movementY;return 0!==n||0!==r}(n)?t():e.ignoreMouseCardSelects=!1}))}()}},e.exports.moveCard=function(e){var t,n,r=this;this.preventScrollSelection();var i=this.model.viewState.getCard();if(null!=i){var o=i.getList(),a=o.openCards(),s=a.indexOf(i),l=function(e,t,n,i){var o=e+t;if(r.model.filter.isFiltering)for(;0<=o&&o<n&&!i(o);)o+=t;return o};if(["up","down"].includes(e)){if(0<=(n=l(s,"up"===e?-1:1,a.length,(function(e){return r.model.filter.satisfiesFilter(a.at(e))})))&&n<a.length)return t=a.at(n),this.scrollToCard(t),this.model.viewState.selectCard(t)}else if(["left","right"].includes(e)){var c=this.model.listList,u=c.indexOf(o),d=l(u,"left"===e?-1:1,c.length,(function(e){return c.at(e).openCards().any((function(e){return r.model.filter.satisfiesFilter(e)}))}));if(0<=d&&d<c.length){var p=c.at(d).openCards(),m=Math.min(s,p.length-1);return function(){for(var e=[],i=0,o=[1,-1];i<o.length;i++){var a=o[i];if(0<=(n=l(m-a,a,p.length,(function(e){return r.model.filter.satisfiesFilter(p.at(e))})))&&n<p.length){t=p.at(n),r.model.viewState.selectCard(t),r.scrollToCard(t);break}e.push(void 0)}return e}()}}}else{var f=this.model.listList.find((function(e){return!e.openCards().isEmpty()}));null!=f&&f.selectFirstCardInList()}},e.exports.dblClickAddListMenu=function(e){var t,n=this;if((d.stop(e),!(r(e.target).closest(".js-card-templates-button").length>0))&&this.model.editable())if(0===r(e.target).closest(".js-list-content").length)this.model.viewState.get("listComposerOpen")||(o("Board View","Open Add List Menu via Double Click"),this.sendGASEvent&&s.sendScreenEvent({name:"addListInlineDialog",attributes:{method:"doubleClick"}}),p.show({clientx:e.clientX,clienty:e.clientY,view:new m({model:this.model,modelCache:this.modelCache,didAddList:function(e){return n.scrollToList(e)}})}));else if(null!=(t=this.model.viewState.getList())){if(0===this.$(document.elementFromPoint(e.clientX,e.clientY)).closest(".list-header-name,.card-composer,.list-card").length){var i=this.$(document.elementFromPoint(e.clientX,e.clientY-16)).closest(".list-card");o("Board View","Open Card Composer via Double Click"),this.sendGASEvent&&s.sendUIEvent({action:"opened",actionSubject:"cardComposer",source:"boardScreen",attributes:{method:"doubleClick"}}),this.model.composer.save({list:t,index:i.length?Math.max(i.closest(".js-list-cards").find(">.list-card").index(i),0)+1:0,vis:!0})}}},e.exports._insertCardPosition=function(e){var t=this.model.viewState.getCard();return null!=t?{idList:t.get("idList"),index:t.getIndexInList()}:{idList:e,index:this.model.listList.get(e).cardList.length}},e.exports.moveCardRequested=function(e,t){var n,r,i=this,o=t.shortLink,a=t.idList,s=this._insertCardPosition(a);a=s.idList,n=s.index;var d=null!=(r=l.getId("Card",o))?r:o;return c.load(d,u.cardMinimal,this.modelCache).then((function(e){var t=i.model.listList.get(a);if(e.get("idList")===a||f({destinationList:t}))return e.moveToList(t,n)})).done()},e.exports.copyCardRequested=function(e,t){var n,r,i=this,o=t.shortLink,a=t.idList,s=t.traceId,d=this._insertCardPosition(a);a=d.idList,n=d.index;var p=null!=(r=l.getId("Card",o))?r:o;return c.load(p,u.cardMinimal,this.modelCache).then((function(e){var t=i.model.listList.get(a),r={hasChecklists:e.checklistList.length>0,hasAttachments:e.attachmentList.length>0,destinationBoard:i.model,destinationList:t};if(f(r))return e.copyTo({idList:a,pos:i.model.listList.get(a).calcPos(n,e),traceId:s})})).done()}},"./app/scripts/views/board/board-view-collaboration.js":function(e,t,n){var r=n("./app/scripts/controller/index.js"),i=n("./node_modules/react/index.js"),o=n("./packages/react-dom-wrapper/index.ts"),a=n("./app/scripts/debug/constants.ts").Feature,s=n("./packages/error-reporting/index.ts").sendErrorEvent,l=n("./app/src/components/WorkspacesPreamble/index.ts"),c=l.WorkspacesPreambleBoardHeaderButton,u=l.WorkspacesPreambleBoardInviteButton,d=n("./app/src/components/WorkspacesAutoNameAlert/index.ts").WorkspacesAutoNameAlert,p=n("./app/src/components/ComponentWrapper/index.ts").renderComponent;e.exports.unmountWorkspacesAutoNameAlert=function(){this.workspacesAutoNameAlertTarget&&(o.unmountComponentAtNode(this.workspacesAutoNameAlertTarget),this.workspacesAutoNameAlertTarget=null)},e.exports.renderWorkspacesAutoNameAlert=function(){if(!this.workspacesAutoNameAlertTarget&&(this.workspacesAutoNameAlertTarget=this.$("#workspaces-auto-name-alert")[0],this.workspacesAutoNameAlertTarget))try{p(i.createElement(d,{boardId:this.model.id,orgId:this.model.get("idOrganization")}),this.workspacesAutoNameAlertTarget)}catch(e){s(e,{tags:{ownershipArea:"trello-bizteam",feature:a.WorkspacesAutoNameAlert},extraData:{component:"board-view-collaboration"}})}},e.exports.unmountWorkspacesPreambleBoardHeaderButton=function(){this.workspacesPreambleBoardHeaderButtonTarget&&(o.unmountComponentAtNode(this.workspacesPreambleBoardHeaderButtonTarget),this.workspacesPreambleBoardHeaderButtonTarget=null)},e.exports.onWorkspacesPreambleCreateTeamSuccess=function(e){var t=this;if(e)return r.organizationBoardsView(e,{shouldShowTeamfulCollaborationPrompt:!0}).then((function(){return t.unmountWorkspacesPreambleBoardHeaderButton()}))},e.exports.renderWorkspacesPreambleBoardHeaderButton=function(){var e=this;this.unmountWorkspacesPreambleBoardHeaderButton(),this.workspacesPreambleBoardHeaderButtonTarget=this.$("#workspaces-preamble-board-header-button")[0],this.workspacesPreambleBoardHeaderButtonTarget&&(p(i.createElement(c,{boardId:this.model.id,canAutoShow:!this.workspacesPreamblePromptHasBeenSeen,onCreateTeamSuccess:function(t){return e.onWorkspacesPreambleCreateTeamSuccess(t)}}),this.workspacesPreambleBoardHeaderButtonTarget),this.workspacesPreamblePromptHasBeenSeen=!0)},e.exports.unmountWorkspacesPreambleInviteButton=function(){if(this.workspacesPreambleInviteButtonTarget)return o.unmountComponentAtNode(this.workspacesPreambleInviteButtonTarget)},e.exports.renderWorkspacesPreambleInviteButton=function(){var e=this;this.unmountWorkspacesPreambleInviteButton(),this.workspacesPreambleInviteButtonTarget=this.$("#workspaces-preamble-invite-button")[0],this.workspacesPreambleInviteButtonTarget&&(p(i.createElement(u,{boardId:this.model.id,onSuccess:function(){e.hasAddedBoardToTeamViaInviteButton=!0}}),this.workspacesPreambleInviteButtonTarget),this.hasAddedBoardToTeamViaInviteButton&&(this.hasAddedBoardToTeamViaInviteButton=!1,this.openAddMembers()))}},"./app/scripts/views/board/board-view-copy.js":function(e,t,n){var r=n("./app/scripts/lib/util/index.js"),i=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/views/board/copy-board-view.js");e.exports.copyBoard=function(e){return r.stop(e),i.toggle({elem:this.$(e.target).closest(".js-copy-board"),view:new o({model:this.model,modelCache:this.modelCache})})}},"./app/scripts/views/board/board-view-getting-started-tip.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"unmountGettingStartedTip",(function(){return u})),n.d(t,"renderGettingStartedTip",(function(){return d}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/react-dom-wrapper/index.ts"),a=n("./app/src/components/ComponentWrapper/index.ts"),s=n("./packages/use-lazy-component/index.ts"),l=function(e){var t=Object(s.useLazyComponent)((function(){return n.e(71).then(n.bind(null,"./app/src/components/FreeTeamOnboardingPupPopover/FreeTeamOnboardingPupPopover.tsx"))}),{namedImport:"FreeTeamOnboardingPupPopover"});return i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(t,e))},c=function(e){var t=Object(s.useLazyComponent)((function(){return n.e(41).then(n.bind(null,"./app/src/components/FreeTeamOnboardingButlerPopover/ButlerPopover.tsx"))}),{namedImport:"ButlerPopover"});return i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(t,e))};function u(){var e=document.querySelector("#getting-started-tip-target");if(null!==e)return o.default.unmountComponentAtNode(e)}function d(e){var t=document.querySelector("#getting-started-tip-target");if(!t){var n,r=document.createElement("div");r.id="getting-started-tip-target",null===(n=document.querySelector(".board-main-content"))||void 0===n||n.append(r),t=document.querySelector("#getting-started-tip-target")}var o=this.model.get("id"),s=this.model.getOrganization();if(s){var u=s.get("id"),d=s.get("name");"butler"===e?Object(a.renderComponent)(i.a.createElement(c,{boardId:o}),t):"pups"===e&&Object(a.renderComponent)(i.a.createElement(l,{orgId:u,boardId:o,teamName:d}),t)}}},"./app/scripts/views/board/board-view-header.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var s=n("./node_modules/underscore/underscore.js"),l=n("./packages/analytics/index.ts").track,c=n("./packages/atlassian-analytics/index.ts").Analytics,u=n("./app/scripts/lib/util/index.js"),d=n("./app/scripts/views/board/board-clean-up-view.js"),p=n("./app/scripts/db/auth.js"),m=n("./app/scripts/lib/localize.js"),f=n("./app/scripts/views/templates/board_header.js"),h=n("./app/scripts/data/copy-board-header-button-teams.js"),v=n("./packages/feature-flag-client/index.ts"),g=v.featureFlagClient,b=v.seesVersionedVariation,y=n("./packages/config/index.ts").logoDomain,k=n("./packages/browser/index.ts").isDesktop(),w=n("./app/scripts/views/lib/dialog.js"),j=n("./node_modules/react/index.js"),_=n("./packages/react-dom-wrapper/index.ts"),x=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,C=n("./app/src/components/BoardViewsButton/index.ts").BoardViewsButton,O=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx").ErrorBoundary,S=n("./app/scripts/debug/constants.ts").Feature,E=n("./app/src/components/TimelineViewWrapper/index.ts").TimelineViewWrapper,T=n("./app/src/components/AdvancedCalendarView/index.ts").AdvancedCalendarView,P=n("./app/scripts/controller/index.js"),N=n("./app/scripts/data/legacy-power-ups.js"),I=n("./app/scripts/controller/navigate.js").navigate,A=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginTrackEvent,D=n("./packages/product-features/index.ts").PremiumFeature,B=n("./packages/test-ids/index.ts").BoardHeaderTestIds,R=n("./app/src/components/ViewsGenerics/index.ts").canViewTeamTablePage,L=n("./packages/nachos/icons/calendar.tsx").CalendarIcon,M=n("./packages/nachos/icons/timeline.tsx").TimelineIcon,F=n("./packages/nachos/icons/location.tsx").LocationIcon,V=n("./packages/nachos/icons/list.tsx").ListIcon,z=n("./packages/nachos/icons/dashboard.tsx").DashboardIcon,U=n("./packages/config/index.ts").mapPowerUpId,H=N.calendar;e.exports.renderBoardHeader=function(){var e,t=this,n=this.model.isPremOrgAdmin(p.me()),r=g.getTrackedVariation("remarkable.board-views-button",!1),i={name:this.model.get("name"),canRename:n||this.model.owned(),isLoggedIn:p.isLoggedIn(),isAdmin:this.model.ownedByMember(p.me()),isMember:this.model.isMember(p.me()),isPrivateTeam:this.model.hasOrganization()&&!this.model.getOrganization(),isPrivateTeamForEnterpriseVisibleBoard:this.model.hasOrganization()&&"enterprise"===this.model.getPref("permissionLevel"),isUntitled:this.model.get("name")===m(["untitled board"]),canJoin:this.model.canJoin(),canInviteMembers:this.model.canInviteMembers(),selfJoin:this.model.allowsSelfJoin(),canAssign:this.model.editable(),boardCardCount:null===(e=this.model.openCards())||void 0===e?void 0:e.filter((function(e){return t.model.filter.satisfiesFilter(e)})).length,isTemplate:this.model.isTemplate(),boardViewsButtonEnabled:r};this.calendarView?i.currentBoardView="calendar":this.mapView?i.currentBoardView="map":i.currentBoardView="list",i.starTooltipKey=this.model.isTemplate()?"click-to-star-or-unstar-this-template-starred-templates-show-up-at-the-top-of-your-boards-list":"click-to-star-or-unstar-this-board-starred-boards-show-up-at-the-top-of-your-boards-list";var o=this.model.getOrganization();if(o){var a;i.orgDisplayName=o.get("displayName"),i.orgName=o.get("name"),i.showCopyButton=s.contains(h,o.id);var l=o.get("logoHash"),c=null===(a=o.getEnterprise())||void 0===a?void 0:a.get("logoHash");c?(i.orgLogoUrl="".concat(y,"/").concat(c,"/30.png"),i.orgLogoUrl2x="".concat(y,"/").concat(c,"/170.png")):l&&(i.orgLogoUrl="".concat(y,"/").concat(l,"/30.png"),i.orgLogoUrl2x="".concat(y,"/").concat(l,"/170.png")),i.isStandard=o.isStandard(),i.hasBusinessClass=o.isPremium(),i.isBusinessClass=o.isBusinessClass(),i.isEnterprise=o.get("idEnterprise")}return this.$(".js-board-header").html(f(i)),this.renderWorkspacesPreambleInviteButton(),o?this.unmountWorkspacesPreambleBoardHeaderButton():this.renderWorkspacesPreambleBoardHeaderButton(),this.renderPermissionLevel(),this.renderBoardHeaderCalendar(),this.renderBoardHeaderSubscribed(),this.renderBoardHeaderMap(),this.renderFilteringStatus(),this.renderBoardHeaderStarred(),this.renderPluginButtons(),this.renderBoardHeaderFacepile(),this.renderBoardTemplateBadge(),this.renderWorkspacesAutoNameAlert(),r&&this.renderBoardViewsButton(),this},e.exports.renderBoardHeaderStarred=function(){return this.$(".js-star-board").toggleClass("board-header-btn-enabled",this.model.isStarred()),this},e.exports.toggleStarred=function(){var e=p.me().boardStarList,t=e.getBoardStar(this.model.id);return t?(e.unstarBoard(this.model.id),l("Board Header","Unstar Board")):(e.starBoard(this.model.id),l("Board Header","Star Board")),c.sendUpdatedBoardFieldEvent({field:"star",value:!!t,source:"boardScreen",containers:{board:{id:this.model.id}}}),this},e.exports.openFilter=function(e){var t,n;u.stop(e),l("Board Header","Open Filtering via Header"),c.sendClickedButtonEvent({buttonName:"boardFilterButton",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(n=this.model.getEnterprise())||void 0===n?void 0:n.id}}}),this.sidebarView.pushView("filter")},e.exports.clearFilters=function(e){var t,n;u.stop(e),l("Board Header","Clear Filtering via Header"),c.sendClickedButtonEvent({buttonName:"clearBoardFilterButton",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(n=this.model.getEnterprise())||void 0===n?void 0:n.id}}}),this.model.filter.clear()},e.exports.showCleanUp=function(e){u.stop(e),l("Board Header","Show Clean-Up");var t=new d({model:this.model,modelCache:this.modelCache});w.show({view:t,maxWidth:800,hide:()=>t.abort()})},e.exports.renderBoardViewsButton=function(){var e=this;if(g.get("remarkable.board-views-button",!1)){var t=this.el.querySelector(".js-board-views-btn-container");if(t){var n=function(){var n,r=(n=regeneratorRuntime.mark((function n(){var r,i,o,a,s,l,c,u,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:r=p.me(),i=void 0,o=void 0,a=!1,s=!1,l=void 0,c=!1,u=!1,e.model.hasOrganization()&&(o=e.model.get("idOrganization"),(d=e.model.getOrganization())?(i=d.get("name"),s=Boolean(d.isPremium()),c=Boolean(d.isMember(r)),u=d.isFeatureEnabled(D.Views),a=R(u,s)):l=!0),x(j.createElement(O,{tags:{ownershipArea:"trello-remarkable",feature:S.BoardViewsButton},errorHandlerComponent:function(){return null}},j.createElement(C,{isTeamMember:c,orgName:i,idOrg:o,isOrgPrivate:l,isPremiumTeam:s,hasViewsFeature:u,shouldShowTeamTableLink:a,idBoard:e.model.id,oneTimeMessagesDismissed:r.attributes.oneTimeMessagesDismissed,shortLink:e.model.get("shortLink"),preloadPlugins:function(){return e.model.getAvailablePlugins()},viewOptions:e.getBoardViewsButtonOptions(),clearFilters:function(){return e.model.filter.clear()}})),t);case 10:case"end":return n.stop()}}),n)})),function(){var e=this,t=arguments;return new Promise((function(r,i){var o=n.apply(e,t);function s(e){a(o,r,i,s,l,"next",e)}function l(e){a(o,r,i,s,l,"throw",e)}s(void 0)}))});return function(){return r.apply(this,arguments)}}();this.boardViewsButtonPreviouslyRender?n():s.defer((function(){return n(),e.boardViewsButtonPreviouslyRender=!0}))}}},e.exports.getBoardViewsButtonOptions=function(){var e=this,t=this.model.getEnterprise(),n=p.me(),r="none"!==this.model.getViewPermState(n),o=!this.model.canEnableAdditionalPowerUps(),a=this.model.editable(),s=this.model.hasOrganization()&&!this.model.getOrganization(),l=this.model.hasOrganization()&&this.model.getOrganization()&&!this.model.getOrganization().isMember(n),u=s||l,d=this.model.isFeatureEnabled(D.Views),m=function(e){var t=e.isPowerUpEnabled,n=e.isPowerUpAllowed;if(!t){if(!n)return!1;if(o&&a)return!u&&!k;if(r)return a}return a||r},f=function(n,r){var o={pluginName:r,pluginId:n,pluginTags:e.model.get("tags")},a=c.startTask({taskName:"enable-plugin",source:"boardViewsInlineDialog",attributes:o}),s=P.getBoardUrl(e.model.id,r);if(e.model.isPluginEnabled(n))c.taskAborted({taskName:"enable-plugin",source:"boardViewsInlineDialog",traceId:a,attributes:i({},o,{reason:"PLUGIN_ALREADY_ENABLED"})}),I(s,{trigger:!0});else if(e.model.editable()){if(!(!t||t.isPluginAllowed(n)))return void c.taskAborted({taskName:"enable-plugin",source:"boardViewsInlineDialog",traceId:a,attributes:i({},o,{reason:"POWER_UP_NOT_ALLOWED"})});e.model.enablePluginWithTracing(n,{traceId:a,attributes:o,taskName:"enable-plugin",source:"boardViewsInlineDialog",next:function(t){t||(A({idPlugin:n,idBoard:e.model.id,event:{action:"added",actionSubject:"powerUp",source:"boardViewsInlineDialog",attributes:{tags:e.model.get("tags"),taskId:a}}}),I(s,{trigger:!0}))}})}},h=function(t){var n,r;c.sendUIEvent({action:"clicked",actionSubject:"dropdownItem",actionSubjectId:t,source:"boardViewsInlineDialog",containers:{board:{id:e.model.id},organization:{id:null===(n=e.model.getOrganization())||void 0===n?void 0:n.id},enterprise:{id:null===(r=e.model.getEnterprise())||void 0===r?void 0:r.id}}})},v={name:"board",descriptionString:"board-view-description",icon:V,navigateTo:function(){var t=P.getBoardUrl(e.model.id);I(t,{trigger:!0})},track:function(){return h("boardViewDropdownItem")},isVisible:!0,isGA:!0,testId:B.BoardViewOption},y=b("ecosystem.calendar-view","stable")&&d,w=g.get("ecosystem.pups-views-transition",!1),j=!w,_={name:"calendar",descriptionString:"calendar-view-description",icon:L,showUpsell:!this.model.canEnableAdditionalPowerUps()&&!this.model.isPluginEnabled(H)&&!k,navigateTo:function(){return f(H,"calendar")},track:function(){return h("calendarViewDropdownItem")},isVisible:j&&!y&&m({isPowerUpEnabled:this.model.isPluginEnabled(H),isPowerUpAllowed:!t||t.isPluginAllowed(H)}),isGA:!0},x=!w||d,C={name:"map",descriptionString:"map-view-description",icon:F,showUpsell:!this.model.canEnableAdditionalPowerUps()&&!this.model.isPluginEnabled(U)&&!k,navigateTo:function(){return f(U,"map")},track:function(){return h("mapViewDropdownItem")},isVisible:x&&m({isPowerUpEnabled:this.model.isPluginEnabled(U),isPowerUpAllowed:!t||t.isPluginAllowed(U)}),isGA:!0,testId:B.MapViewOption},O=g.get("ecosystem.views-beta-phase-transition",!1),S=g.get("ecosystem.timeline-version","none");return[v,_,C,{name:"timeline",descriptionString:"timeline-view-description",icon:M,navigateTo:function(){var t=P.getBoardUrl(e.model.id,"timeline");I(t,{trigger:!0})},track:function(){return h("timelineViewDropdownItem")},isVisible:"none"!==S&&d,isBeta:!O,testId:B.TimelineViewOption},{name:"calendar-view",descriptionString:"calendar-view-description",icon:L,navigateTo:function(){var t=P.getBoardUrl(e.model.id,"calendar-view");I(t,{trigger:!0})},track:function(){return h("advancedCalendarViewDropdownItem")},isVisible:y,isBeta:!O,testId:B.CalendarViewOption},{name:"dashboard",descriptionString:"dashboard-view-description",icon:z,navigateTo:function(){var t=P.getBoardUrl(e.model.id,"dashboard");I(t,{trigger:!0})},track:function(){return h("dashboardViewDropdownItem")},isBeta:!O,isVisible:b("wildcard.board-dashboard-view","stable")&&d,testId:B.DashboardViewOption}]},e.exports.removeBoardViewsButton=function(){if(g.get("remarkable.board-views-button",!1)&&this.$(".js-board-views-btn-container").length)return _.unmountComponentAtNode(this.$(".js-board-views-btn-container")[0])},e.exports.showTimeline=function(){var e=this,t=g.get("ecosystem.timeline-version","none"),n=this.model.isFeatureEnabled(D.Views);if("none"!==t&&n){this.$("#board").addClass("hide");var r=this.$(".js-board-view-container")[0];x(j.createElement(E,{idBoard:this.model.id,navigateToCard:function(t,n){P.showCardDetail(e.modelCache.get("Card",t),n)},closeView:function(){var t=P.getBoardUrl(e.model.id);I(t,{trigger:!0})}}),r)}else{var i=P.getBoardUrl(this.model.id);I(i,{trigger:!0})}},e.exports.showAdvancedCalendar=function(){var e=this,t=b("ecosystem.calendar-view","stable"),n=this.model.isFeatureEnabled(D.Views);if(t&&n){this.$("#board").addClass("hide");var r=this.$(".js-board-view-container")[0];x(j.createElement(T,{idBoard:this.model.id,navigateToCard:function(t){P.showCardDetail(e.modelCache.get("Card",t))},closeView:function(){var t=P.getBoardUrl(e.model.id);I(t,{trigger:!0,shouldTrack:!1})}}),r)}else{var i=P.getBoardUrl(this.model.id);I(i,{trigger:!0,shouldTrack:!1})}},e.exports.closeSingleBoardView=function(){var e=this.$(".js-board-view-container")[0];_.unmountComponentAtNode(e),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1),this.renderBoardViewsButtonDebounced()}},"./app/scripts/views/board/board-view-invitation.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./node_modules/react/index.js"),o=n("./packages/react-dom-wrapper/index.ts"),a=n("./node_modules/moment/moment.js"),s=n("./app/scripts/views/board/invite-acceptance-notification.js"),l=n("./app/scripts/db/auth.js"),c=n("./app/scripts/lib/util/index.js"),u=n("./node_modules/underscore/underscore.js"),d=n("./packages/analytics/index.ts").trackUe,p=n("./packages/atlassian-analytics/index.ts").Analytics;e.exports.closeInviteAcceptanceNotification=function(){return this.unmountInviteAcceptanceNotification()},e.exports.buildInviteAcceptanceNotification=function(e){var t=this;return i.createElement(s,{members:e,onClose:function(){return t.closeInviteAcceptanceNotification()}})},e.exports.getNewlySignedUpInvitees=function(){var e=l.me().id,t=a(this.model.get("previousDateLastView")),n={};return this.model.memberList.models.forEach((function(e){return n[e.get("id")]=e})),this.model.get("memberships").reduce((function(r,i){var o=n[i.idMember];return o&&a(c.idToDate(o.id)).isAfter(t)&&o.get("idMemberReferrer")===e&&"normal"===o.get("memberType")?r.concat(o):r}),[])},e.exports.renderPopovers=function(){var e=this.model.orderedVisibleMembers(),t=this.getNewlySignedUpInvitees();!l.me().isDismissed("notify-invite-acceptance")&&0!==t.length&&!this.hasSeenInviteAcceptanceNotification?(this.renderInviteAcceptanceNotification(t,u.map(e,(function(e){return e.id}))),t.forEach((function(e){return d("board header","sees","new member signed up","","","by invite acceptance notification",{referringMember:l.me().id,newMember:e.id}),p.sendOperationalEvent({action:"rendered",actionSubject:"inviteAcceptanceNotification",source:"boardScreen",attributes:{referringMember:l.me().id,newMember:e.id}})}))):t.forEach((function(e){return d("board header","doesnt see","new member signed up","","","",{referringMember:l.me().id,newMember:e.id}),p.sendOperationalEvent({action:"skipped",actionSubject:"inviteAcceptanceNotification",source:"boardScreen",attributes:{referringMember:l.me().id,newMember:e.id}})}))},e.exports.renderInviteAcceptanceNotification=function(e,t){var n="#member-count-notifications";if(1===e.length&&Array.from(t).includes(e[0].id)){var i="#".concat(e[0].id,"-avatar");null!=r(i).offset()||(n=i)}this.unmountInviteAcceptanceNotification(),this.hasSeenInviteAcceptanceNotification=!0,this.inviteAcceptanceNotificationDiv=document.createElement("div"),this.$("#board-header-notification").append(this.inviteAcceptanceNotificationDiv),this.inviteAcceptanceNotificationComponent=o.render(this.buildInviteAcceptanceNotification(e),this.inviteAcceptanceNotificationDiv);var a=r(n);return r(".invite-acceptance-notification").css("left",a.offset().left-16),this},e.exports.unmountInviteAcceptanceNotification=function(){null!=this.inviteAcceptanceNotificationDiv&&(o.unmountComponentAtNode(this.inviteAcceptanceNotificationDiv),this.inviteAcceptanceNotificationDiv=null,this.inviteAcceptanceNotificationComponent=null)}},"./app/scripts/views/board/board-view-limit.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n("./node_modules/underscore/underscore.js"),a=n("./packages/storage/index.ts").TrelloStorage,s=n("./app/scripts/views/templates/board_header_warnings.js"),l=n("./app/scripts/lib/limits.js"),c=n("./app/scripts/lib/util/index.js");e.exports.renderBoardWarnings=function(){var e=this,t=this.$(".js-board-warnings"),n=l.sort(l.filterByKeys(this.model.get("limits"),["cards.openPerBoard","cards.totalPerBoard","checklists.perBoard","labels.perBoard","lists.openPerBoard","lists.totalPerBoard","attachments.perBoard"]).filter((function(e){return"ok"!==e.status}))),i={"cards.openPerBoard":"open-cards-per-board-limit","cards.totalPerBoard":"total-cards-per-board-limit","checklists.perBoard":"checklists-per-board-limit","labels.perBoard":"labels-per-board-limit","lists.openPerBoard":"open-lists-per-board-limit","lists.totalPerBoard":"total-lists-per-board-limit","attachments.perBoard":"attachments-per-board-limit"},u=this.model.editable(),d=c.dateBefore({months:6}),p=n.map((function(e){var t=e.key,n="warn"===e.status?"warn":"disabled";return[t,{key:"".concat(i[e.key],"-").concat(n),test:function(){return u},minDismiss:d}]})),m=function(t){return"BoardWarning-".concat(t,"-").concat(e.model.id)},f=o.chain(p).filter((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,2),n=t[0],i=t[1],o=i.test,s=i.minDismiss;if(o()){var l=a.get(m(n));return!l||l<s}})).map((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,2),n=t[0],i=t[1].key;return{name:n,key:i,dismiss:m(n)}})).first().value();return o.chain(p).filter((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,2),n=t[0],i=t[1].test;return!i()&&null!=a.get(m(n))})).each((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,1),n=t[0];return a.unset(m(n))})).value(),f?t.removeClass("hide").html(s({canDismiss:a.isEnabled(),warning:f})):t.addClass("hide"),this}},"./app/scripts/views/board/board-view-list.js":function(e,t,n){var r=n("./app/scripts/lib/util/index.js"),i=n("./app/scripts/views/lib/drag-sort.js"),o=n("./app/scripts/debug/log.js");e.exports.openListComposer=function(){return this.model.viewState.openListComposer()},e.exports.scrollToList=function(e){r.scrollElementIntoView(this.$("#board")[0],this.viewForList(e).el,{horizontal:!0,animated:!0})},e.exports.viewForList=function(e){return this.listListView.viewForModel(e)},e.exports.postListListRender=function(){return o("render","rendering inline composer and calculating list layout"),this.renderFilteringStatus(),this.renderInspirationPopover(),i.refreshListCardSortable()},e.exports.renderLists=function(){return this.listListView.$el.toggleClass("js-list-sortable",this.model.editable()),this.$(".board-canvas").append(this.listListView.el),this.listListView.render(),this.listListView.delegateEvents(),this},e.exports.sortCommit=function(e,t){return t.item.trigger("movelist",t)}},"./app/scripts/views/board/board-view-member.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./packages/atlassian-analytics/index.ts"),o=i.Analytics,a=i.tracingCallback,s=n("./app/scripts/db/auth.js"),l=n("./app/scripts/views/member/member-board-profile-view.js"),c=n("./app/scripts/views/lib/dialog.js"),u=n("./app/scripts/controller/index.js"),d=n("./app/scripts/views/lib/pop-over.js"),p=n("./app/scripts/views/member-menu-profile/member-on-board-view.js"),m=n("./app/scripts/views/lib/drag-sort.js"),f=n("./app/scripts/lib/util/index.js");m=n("./app/scripts/views/lib/drag-sort.js");var h=n("./app/scripts/views/board/board-header-all-members-view.js"),v=n("./app/scripts/views/board-menu/member-limits-error.js").maybeDisplayMemberLimitsError,g=n("./app/scripts/views/board-menu/board-member-add-multiple-view.js");e.exports.onMemberAdd=function(){return this.renderBoardHeaderFacepileDebounced()},e.exports.renderBoardHeaderFacepile=function(){var e=this,t=this.$(".js-fill-facepile"),n=this.model.orderedVisibleMembers(),r=n.length;n=n.slice(0,5);var i=r-5;i>0?this.$(".js-fill-board-member-count").text("+".concat(i)):this.$(".js-fill-board-member-count").text("");var o=n.length,a=Array.from(n).map((function(t){return e.subview(p,t,{board:e.model,zIndex:o--})}));return t.length>0&&this.ensureSubviews(a,t),this.defer((function(){return e.model.isTemplate()||m.refreshDraggableSidebarMembers(),e.renderPopovers()})),this},e.exports.openAllMembers=function(e){f.stop(e),o.sendClickedButtonEvent({buttonName:"allBoardMembersButton",source:"boardScreen"});var t=this.getNewlySignedUpInvitees();return d.toggle({elem:this.$(".js-open-show-all-board-members"),view:h,options:{model:this.model,modelCache:this.modelCache,newInvitees:t}})},e.exports.openAddMembers=function(e){e&&f.stop(e);var t=this.$(".js-open-manage-board-members");if(!v(t,this.model)){o.sendClickedButtonEvent({buttonName:"inviteToBoardButton",source:"boardScreen"});var n=new g({model:this.model,modelCache:this.modelCache});n.loadOrgData(),d.toggle({elem:t,view:n})}},e.exports.joinBoard=function(e){var t=this;if(f.stop(e),o.sendClickedButtonEvent({buttonName:"joinBoardButton",source:"boardScreen"}),!v(r(e.target),this.model,s.me())){var n=o.startTask({taskName:"edit-board",subTask:"members/join",source:"boardScreen"});this.$(".js-join-board").remove(),this.model.joinBoard(n,a({taskName:"edit-board",subTask:"members/join",source:"boardScreen",traceId:n},(function(e,r){var i;r&&o.sendTrackEvent({action:"joined",actionSubject:"board",source:"boardScreen",containers:{board:{id:t.model.id},organization:{id:null===(i=t.model.getOrganization())||void 0===i?void 0:i.id}},attributes:{taskId:n}})})))}},e.exports.showMemberProfile=function(e){var t=this;u.saveMemberBoardProfileLocation(e,this.model.id),c.show({view:new l({model:e,board:this.model,modelCache:this.modelCache}),maxWidth:500,hide:function(){return u.setBoardLocation(t.model.id)}})}},"./app/scripts/views/board/board-view-name.js":function(e,t,n){var r=n("./node_modules/underscore/underscore.js"),i=n("./packages/atlassian-analytics/index.ts"),o=i.Analytics,a=i.tracingCallback,s=n("./packages/analytics/index.ts").track,l=n("./packages/keybindings/index.ts"),c=l.getKey,u=l.Key,d=n("./app/scripts/lib/util/index.js"),p=n("./app/scripts/lib/util/removeAllRanges.js"),m=n("./app/scripts/controller/index.js");e.exports.saveBoardName=function(e){var t=this,n=this.$(".js-board-name-input"),r=n&&n.val().trim();if(""!==r){var i=o.startTask({taskName:"edit-board",subTask:"name",source:"boardScreen"});this.model.update({traceId:i,name:r},a({taskName:"edit-board",subTask:"name",traceId:i,source:"boardScreen"},(function(e,n){n&&o.sendUpdatedBoardFieldEvent({field:"name",source:"boardScreen",containers:{board:{id:t.model.id}},attributes:{taskId:i}})})))}else n.focus().select()},e.exports.keyDownEvent=function(e){if(c(e)===u.Enter)return d.stop(e),void this.stopRenaming();c(e)!==u.Escape||this.stopRenaming()},e.exports.onInputChanged=function(e){var t=this.$el.find(".js-board-name-input")[0];t.style.width="0";var n=t.offsetWidth;t.scrollLeft=1e10,n+=t.scrollLeft;var r=this.$el.find(".js-board-header")[0].offsetWidth-24,i=n<r?n:r;t.style.width=i+"px"},e.exports.startRenaming=function(e){var t=this;if(d.stop(e),!this.isEditingName){var n=this.$el.find(".js-rename-board")[0];if(n){var i=n.offsetWidth;r.defer((function(){return t.$(".js-rename-board").addClass("is-editing"),t.$(".js-board-name-input").val(t.model.get("name")).css("width",i).focus().select()})),this.isEditingName=!0,s("Board Header","Open Rename Board From Title"),this.sendGASEvent&&o.sendUIEvent({action:"clicked",actionSubject:"input",actionSubjectId:"boardNameInput",source:"boardScreen",containers:{board:{id:this.model.id}}})}}},e.exports.stopRenaming=function(e){if(this.isEditingName){var t=this.$(".js-rename-board").removeClass("is-editing");t.is(":focus")&&t.blur(),p(),this.isEditingName=!1,this.saveBoardName()}},e.exports.updateControllerTitle=function(){return m.title(this.model.get("name"))}},"./app/scripts/views/board/board-view-notifications.js":function(e,t){function n(e,t){return null!=e?t(e):void 0}e.exports.markRelatedNotificationsRead=function(){for(var e=this,t=function(t){return t.get("unread")&&null==n(t.get("data"),(function(e){return e.card}))&&n(t.get("data").board,(function(e){return e.id}))===e.model.get("id")},r=0,i=Array.from(this.modelCache.all("Notification"));r<i.length;r++){var o=i[r];t(o)&&o.markRead()}}},"./app/scripts/views/board/board-view-onboarding.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./node_modules/react/index.js"),o=n("./packages/react-dom-wrapper/index.ts"),a=n("./packages/feature-flag-client/index.ts").featureFlagClient,s=n("./app/scripts/views/onboarding/inspiration-popover.js"),l=n("./app/scripts/views/onboarding/helpers.js").isInspirationBoard,c=n("./app/scripts/views/board/invitee-orientation-view.js");e.exports.unmountInspirationPopover=function(){if(null!=this.inspirationPopoverDiv)return o.unmountComponentAtNode(this.inspirationPopoverDiv),this.inspirationPopoverDiv=null},e.exports.renderInspirationPopover=function(){var e=this;if(a.get("activation.onboarding_v2",!1)&&l(this.model.get("id"))){var t=0;return this.inspirationPopoverDiv||(t=2e3,r("#surface").append('<div id="js-inspiration-popover-mount"></div>'),this.inspirationPopoverDiv=r("#js-inspiration-popover-mount")[0]),setTimeout((function(){return o.render(i.createElement(s,{onClose:e.unmountInspirationPopover,boardId:e.model.get("id"),modelCache:e.modelCache}),e.inspirationPopoverDiv)}),t),this}},e.exports.renderInviteeOrientation=function(){this.$(".board-canvas").append('<div class="invitee-orientation-mount-point"></div>');var e=this.subview(c,this.model,{modelCache:this.modelCache});return this.ensureSubview(e,this.$(".invitee-orientation-mount-point"))}},"./app/scripts/views/board/board-view-open-close-delete.js":function(e,t,n){var r=n("./app/scripts/lib/util/index.js"),i=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/views/board/reopen-board-popover-view.js"),a=n("./app/scripts/views/lib/confirm.js"),s=n("./packages/atlassian-analytics/index.ts").Analytics,l=n("./packages/analytics/index.ts").track;e.exports.reopen=function(e){var t=this;r.stop(e);var n=this.model.getOrganization();return this.model.getNewBillableGuests().then((function(e){var r=e.newBillableGuests,a=e.availableLicenseCount;return r.length>0?i.show({elem:t.$(".js-reopen"),view:new o({board:t.model,org:n,newBillableGuests:r,availableLicenseCount:a})}):t.model.reopen()}))},e.exports._delete=function(e){var t=this;return r.stop(e),a.toggle("delete board",{elem:e.target,model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:function(e){return t.model.startDelete().then((function(){var e,n;return t.sendGASEvent&&s.sendTrackEvent({action:"deleted",actionSubject:"board",source:"closeBoardScreen",containers:{board:{id:t.model.id},organization:{id:(e=t.model.getOrganization(),n=function(e){return e.id},(null!=e?n(e):void 0)||"")}}}),l("Board","Delete","Via Closed Board")})).done()}})}},"./app/scripts/views/board/board-view-organization.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./packages/atlassian-analytics/index.ts").Analytics,o=n("./packages/feature-flag-client/index.ts").featureFlagClient,a=n("./packages/analytics/index.ts").track,s=n("./app/scripts/views/lib/pop-over.js"),l=n("./app/scripts/views/board/board-header-org-menu-view.js"),c=n("./app/scripts/lib/util/index.js");e.exports.renderOrgChanges=function(){return this.model.get("closed")?this.renderClosed():this.renderBoardHeader()},e.exports.refreshOrganization=function(){var e=this.modelCache.get("Organization",this.model.previous("idOrganization")),t=this.model.getOrganization();if(null!=e&&this.stopListening(e),null!=t)for(var n=0,r=["name","logoHash","displayName","limits","products"];n<r.length;n++){var i=r[n];this.listenTo(t,"change:".concat(i),this.frameDebounce(this.renderOrgChanges))}return this.renderOrgChanges()},e.exports.openOrgMenu=function(e){c.stop(e),a("Board Header","Open Org Menu",r(e.target).closest(".js-open-org-menu").data("boardtype")),o.get("dataeng.gasv3-event-tracking",!1)&&i.sendClickedButtonEvent({buttonName:"boardOrganizationButton",source:"boardScreen"}),s.toggle({elem:r(e.target).closest("a"),view:new l({model:this.model,modelCache:this.modelCache})})}},"./app/scripts/views/board/board-view-permission.js":function(e,t,n){var r=n("./app/scripts/controller/index.js"),i=n("./app/scripts/views/internal/board-display-helpers.js"),o=n("./app/scripts/views/templates/board_header_permissions.js"),a=n("./app/scripts/lib/localize.js"),s=n("./app/scripts/db/auth.js"),l=n("./app/scripts/lib/util/index.js"),c=n("./packages/analytics/index.ts").track,u=n("./packages/atlassian-analytics/index.ts").Analytics,d=n("./app/scripts/views/board-menu/change-board-visibility-view.js"),p=n("./app/scripts/views/lib/pop-over.js"),m=n("./app/scripts/views/board-menu/board-add-to-organization-view.js");e.exports.permChange=function(e){"none"===e?r.memberHomePage():(this.render(),this.model.editable()||this.model.composer.save("vis",!1))},e.exports.renderPermissionLevel=function(){var e=this.$("#permission-level"),t={permIconClass:i.getPermLevelIconClassForBoard(this.model),permText:a(["board perms",this.model.getPermLevel(),"name"])};e.html(o(t)),this.model.isTemplate()?e.attr("title",i.getPermLevelAltTextForTemplate(this.model)):e.attr("title",i.getPermLevelAltTextForBoard(this.model));var n=this.model.canInvite(s.me());return this.$(".js-manage-board-members").toggle(n),this},e.exports.changeVis=function(e){l.stop(e),c("Board Header","Open Change Visibilty via Header"),this.sendGASEvent&&u.sendClickedButtonEvent({buttonName:"changeBoardVisibilityButton",source:"boardScreen"}),p.toggle({elem:this.$(".js-change-vis"),view:d,options:{model:this.model,modelCache:this.modelCache}})},e.exports.addBoardToTeam=function(e){return l.stop(e),c("Board Header","Open Add to a Team menu"),this.sendGASEvent&&u.sendClickedButtonEvent({buttonName:"changeBoardOrganizationButton",source:"boardScreen"}),p.toggle({elem:this.$(".js-add-board-to-team"),view:m,options:{model:this.model,modelCache:this.modelCache}})}},"./app/scripts/views/board/board-view-plugin.js":function(e,t,n){function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}}var o=n("./packages/use-lazy-component/index.ts").importWithRetry,a=n("./node_modules/react/index.js"),s=n("./app/scripts/db/auth.js"),l=n("./app/scripts/views/internal/plugins/plugin-runner.js"),c=n("./app/scripts/db/model-loader.js"),u=n("./app/scripts/views/plugin/plugin-header-buttons-view.js"),d=n("./app/scripts/controller/index.js"),p=n("./app/scripts/views/lib/dialog.js"),m=n("./packages/atlassian-analytics/index.ts").Analytics,f=n("./packages/feature-flag-client/index.ts"),h=f.featureFlagClient,v=f.seesVersionedVariation,g=n("./packages/product-features/index.ts").PremiumFeature,b=n("./app/scripts/lib/window-size.js"),y=n("./app/scripts/views/directory/directory-view.js"),k=n("./app/scripts/views/lib/pop-over.js"),w=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),j=w.sendPluginUIEvent,_=w.sendPluginScreenEvent,x=n("./app/scripts/data/legacy-power-ups.js"),C=n("./packages/analytics/index.ts"),O=C.Noun,S=C.Verb,E=C.track,T=C.trackUe,P=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,N=n("./app/scripts/views/board/calendar-board-button.tsx").CalendarBoardButton,I=n("./app/scripts/views/board-menu/card-filter-view.js"),A=n("./app/scripts/controller/navigate.js").navigate,D=n("./app/scripts/data/butler-id.js").BUTLER_POWER_UP_ID,B=n("./packages/config/index.ts").customFieldsId,R=n("./packages/config/index.ts").mapPowerUpId,L=x.calendar;e.exports.reloadCustomFields=function(){var e=this;if(this.model.isPluginEnabled(B))return setTimeout((function(){return c.loadCustomFields(e.model.id)}),1e3)},e.exports.renderPluginButtons=function(){return null!=this.pluginHeaderButtonsView?this.pluginHeaderButtonsView.requestButtonsDebounced():this.pluginHeaderButtonsView=this.subview(u,this.model),this.appendSubview(this.pluginHeaderButtonsView,this.$(".js-plugin-header-btns")),this},e.exports.renderBoardHeaderCalendar=function(e){var t=this;null==e&&(e={});var n=this.$(".js-calendar-board-btn");if(n.length){var r=this.model.isPowerUpEnabled("calendar");return n.toggleClass("hide",!r),r?P(a.createElement(N,{idBoard:this.model.id,backgroundBrightness:this.model.get("prefs").backgroundBrightness,showAutoEnablePopover:e.showAutoEnablePopover,dateAutoEnabled:e.dateAutoEnabled,popoverFlag:h.get("ecosystem.auto-enable-calendar-popover","none"),onClick:function(){return j({idPlugin:x.calendar,idBoard:t.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpBoardButton",source:"boardScreen"}}),t.toggleCalendar()},onDisableCalendarClick:function(){var e=m.startTask({taskName:"disable-plugin",source:"powerUpBoardButton",attributes:{pluginId:L,pluginName:"calendar",installSource:"boardScreen"}});return t.model.disablePluginWithTracing(L,{taskName:"disable-plugin",source:"powerUpBoardButton",attributes:{pluginId:L,pluginName:"calendar",installSource:"boardScreen"},traceId:e})},onOpenDirectoryClick:function(){return t.toggleDirectory()},onPrimaryButtonClick:function(){return t.toggleCalendar()},onAutoEnablePopoverShown:function(){return s.me().setPluginDataByKey(L,"private","seenPopover",!0)},countDueDates:function(){return t.model.countDueDates()}}),n[0]):void 0}},e.exports.renderAutoEnableCalendarPopover=function(){var e=this.model.getPluginDataByKey(L,"shared","dateAutoEnabled",null);return this.renderBoardHeaderCalendar({showAutoEnablePopover:!0,dateAutoEnabled:e})},e.exports.navigateToBoard=function(){var e=d.getBoardUrl(this.model.id);return A(e,{trigger:!0})},e.exports.closeDetailView=function(){p.hide(!0),this.closeCalendar(!1),this.closeDirectory(!1),this.closeMap(!1),this.closeButler(!1),this.closeSingleBoardView()},e.exports.clickCloseDirectory=function(){return this.directoryView&&m.sendClickedButtonEvent({buttonName:"boardDirectoryCloseButton",attributes:{boardId:this.model.id,organizationId:this.model.get("idOrganization")},source:this.directoryView.activeEventSource()}),this.toggleDirectory()},e.exports.toggleDirectory=function(){return this.directoryView?this.directoryReturnCard?(this.closeDirectory(!1),d.showCardDetail(this.directoryReturnCard),this.directoryReturnCard=null):this.navigateToBoard():this.navigateToDirectory()},e.exports.navigateToDirectory=function(e){var t=d.getBoardUrl(this.model.id,"power-ups");if(A(t,{trigger:!0}),this.directoryReturnCard=e,!b.fExtraLarge)return this.sidebarView.hideSidebar()},e.exports.showDirectory=function(e,t,n,r){return this.$("#board").addClass("hide"),this.directoryView=new y({model:this.model,modelCache:this.modelCache,section:e,category:t,idPlugin:n,isEnabling:r,boardView:this}),this.$(".board-canvas").append(this.directoryView.render().el)},e.exports.closeDirectory=function(e){null==e&&(e=!0),null!=this.directoryView&&(this.directoryView.remove(),this.directoryView=null,e&&this.navigateToBoard(),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1))},e.exports.toggleCalendar=function(){return this.calendarView?this.calendarReturnCard?(this.closeCalendar(!1),d.showCardDetail(this.calendarReturnCard),this.calendarReturnCard=null):this.navigateToBoardEvent():this.navigateToCalendarEvent()},e.exports.dismissFeedback=function(){s.me().setPluginDataByKey(L,"private","dismissedFeedback",!0),this.$(".calendar-header-toolbar-feedback").addClass("hide")},e.exports.navigateToCalendarEvent=function(){return E("Board Header","Open Calendar View via Header"),T("board view","opens","Power-Up","","","board-button",x.calendar),_({idPlugin:x.calendar,idBoard:this.model.id,screenName:"calendarViewScreen"}),this.navigateToCalendar()},e.exports.navigateToCalendar=function(e){this.calendarReturnCard=e;var t=d.getBoardUrl(this.model.id,"calendar");return A(t,{trigger:!0})},e.exports.navigateToBoardEvent=function(){return this.navigateToBoard()},e.exports.isShowingCalendar=function(){return null!=this.calendarView},e.exports.showCalendar=function(e){var t=this;if(this.model.isPowerUpEnabled("calendar")&&!this.isShowingCalendar())return this.$(".calendar-btn").addClass("board-header-btn-enabled"),this.$("#board").addClass("hide"),o((function(){return n.e(45).then(n.t.bind(null,"./app/scripts/views/calendar/calendar-controller-view.js",7))})).then((function(e){return e.default})).then((function(n){t.calendarView=new n({model:t.model,modelCache:t.modelCache}),t.$(".board-canvas").append(t.calendarView.render(e).el),t.calendarView.addedToDOM();var r="onBoardButton"===h.get("ecosystem.auto-enable-calendar-popover","none");return t.model.shouldRenderAutoEnableCalendarPopover()&&r&&t.renderAutoEnableCalendarPopover(),t.renderBoardViewsButtonDebounced()}))},e.exports.closeCalendar=function(e){null==e&&(e=!0),null!=this.calendarView&&(this.calendarView.remove(),this.calendarView=null,e&&this.navigateToBoard(),this.$(".calendar-btn").removeClass("board-header-btn-enabled"),this.$("#board").removeClass("hide"),this.renderBoardViewsButtonDebounced(),this.$(".js-list-name-input").trigger("autosize.resize",!1))},e.exports.toggleFilter=function(e){var t,n;return m.sendClickedButtonEvent({buttonName:"viewsCardFilterButton",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:null===(t=this.model.getOrganization())||void 0===t?void 0:t.id},enterprise:{id:null===(n=this.model.getEnterprise())||void 0===n?void 0:n.id}}}),k.isVisible?this.closeFilter():this.showFilter(e)},e.exports.showFilter=function(e){var t=new I({model:this.model.filter,modelCache:this.modelCache});return k.show({elem:this.$(".js-header-filter-btn"),view:t,isFilterPopover:!0,clearFilter:function(){t.clearFilter()},alignRight:!0}),this.renderBoardViewsButtonDebounced()},e.exports.closeFilter=function(){k.hide(),this.renderBoardViewsButtonDebounced()},e.exports.toggleMap=function(){return j({idPlugin:R,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpBoardButton",source:"boardScreen"}}),this.mapView?this.mapReturnCard?(this.closeMap(!1),d.showCardDetail(this.mapReturnCard),this.mapReturnCard=null):this.navigateToBoardEvent():this.navigateToMapEvent()},e.exports.navigateToMapEvent=function(){return T("board view","opens","Power-Up","","","board-button",R),T(O.BOARD,S.OPENS,O.BOARD_MAP,"","","by clicking the map button",{idBoard:this.model.id}),this.navigateToMap()},e.exports.navigateToMap=function(e,t){this.mapCenterTo=e,this.mapReturnCard=t;var n=d.getBoardUrl(this.model.id,"map");return A(n,{trigger:!0})},e.exports.showMap=function(e){var t=this,r=e.mapCenterTo,i=e.zoom;if(this.model.isMapPowerUpEnabled()&&null==this.mapView)return this.$(".js-map-btn").addClass("board-header-btn-enabled"),this.$("#board").addClass("hide"),o((function(){return n.e(106).then(n.t.bind(null,"./app/scripts/views/map/map-view.js",7))})).then((function(e){return e.default})).then((function(e){return t.mapView=new e({model:t.model,modelCache:t.modelCache,mapCenterTo:t.mapCenterTo||r,zoom:i}),t.$(".board-canvas").append(t.mapView.render().el),t.renderBoardViewsButtonDebounced()}))},e.exports.closeMap=function(e){null==e&&(e=!0),null!=this.mapView&&(this.mapView.remove(),this.mapView=null,e&&this.navigateToBoard(),this.$(".js-map-btn").removeClass("board-header-btn-enabled"),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1),this.renderBoardViewsButtonDebounced())},e.exports.renderBoardHeaderMap=function(){if(!this.model.isMapCore())return this.model.isMapPowerUpEnabled()?this.$(".js-map-btn").removeClass("hide"):this.$(".js-map-btn").addClass("hide"),this;this.$(".js-map-btn").addClass("hide")},e.exports.showDashboard=i(regeneratorRuntime.mark((function e(){var t,r,i,s,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(this.$("#board").addClass("hide"),t=this.model,r=v("wildcard.board-dashboard-view","stable"),i=t.isFeatureEnabled(g.Views),!(r&&i)){e.next=13;break}return e.next=8,o((function(){return n.e(37).then(n.bind(null,"./app/src/components/BoardDashboardView/index.ts"))}));case 8:s=e.sent,l=s.BoardDashboardView,P(a.createElement(l,{idBoard:t.id,navigateToBoardView:this.navigateToBoard.bind(this)}),this.$(".js-board-view-container").get(0)),e.next=14;break;case 13:this.navigateToBoard();case 14:case"end":return e.stop()}}),e,this)}))),e.exports.toggleButler=function(e){return this.butlerView||null==e?this.navigateToBoardEvent():(this.butlerUrl=e,this.navigateToButler(e))},e.exports.navigateToButler=function(){var e=d.getBoardUrl(this.model.id,"butler");return A(e,{trigger:!0})},e.exports.showButler=function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},r=t.butlerTab,i=t.butlerCmdEdit,a=t.butlerCmdLog;if(null==this.butlerView){if(this.model.editable())return null==this.butlerUrl||null!=r||null!=i||null!=a?(this.$("#board").addClass("hide"),void l.one({plugin:D,command:"show-settings",board:this.model,options:{butlerTab:r,butlerCmdEdit:i,butlerCmdLog:a}}).then((function(){if(e.model.canShowButlerUI())return e.showButler();e.closeButler(),e.navigateToBoard()}))):(this.$("#board").addClass("hide"),o((function(){return n.e(44).then(n.t.bind(null,"./app/scripts/views/butler/butler-view.js",7))})).then((function(e){return e.default})).then((function(t){return e.butlerView&&e.butlerView.remove(),e.butlerView=new t({butlerUrl:e.butlerUrl}),e.$(".board-canvas").append(e.butlerView.render().el)})));this.navigateToBoardEvent()}},e.exports.closeButler=function(e){null==e&&(e=!0),null!=this.butlerView&&(this.butlerView.remove(),this.butlerView=null,e&&this.navigateToBoard(),this.$("#board").removeClass("hide"),this.$(".js-list-name-input").trigger("autosize.resize",!1))}},"./app/scripts/views/board/board-view-sidebar.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./packages/browser/index.ts"),o=n("./app/scripts/views/lib/drag-sort.js"),a=n("./app/scripts/controller/index.js"),s=n("./app/scripts/db/auth.js"),l=n("./app/scripts/views/internal/templates.js"),c=n("./app/scripts/lib/util/index.js"),u=n("./app/scripts/views/onboarding/helpers.js").isInspirationBoard;e.exports._applySettings=function(){var e=this;if(null!=this.options.settings){var t=this.options.settings,n=t.menu,r=t.filter;switch(n){case"closed":this.model.viewState.setShowSidebar(!1);break;case"filter":case"activity":this.sidebarViewPromise.then((function(){return e.setSidebarShow(),e.sidebarView.pushView(n)}))}return r?this.model.filter.fromQueryString(r):void 0}},e.exports.renderOpen=function(){var e=this;this.showSidebarOnOpen();var t={};t.url=a.getBoardUrl(this.model);for(var i=0,c=Array.from(this.model.prefNames.concat(this.model.myPrefNames));i<c.length;i++){var u=c[i];t["".concat(u,"_").concat(this.model.getPref(u))]=!0}t.canJoin=this.model.canJoin(),t.canInviteMembers=this.model.canInviteMembers(),t.confirmed=s.me().get("confirmed"),this.listListView.$el.detach(),this.$el.html(l.fillFromModel(n("./app/scripts/views/templates/board.js"),this.model,{isCollapsedWorkspaceNav:this.workspaceNavState.enabled&&!this.workspaceNavState.expanded})),this.renderBoardHeader(),this.renderBoardWarnings(),this.renderBoardBackground(),this.model.viewState.get("showSidebar")&&this.$el.addClass("is-show-menu"),this.sidebarViewPromise.then((function(){return e.appendSubview(e.sidebarView,e.$(".js-fill-board-menu")),e.renderSidebarState()})),this.renderLists(),this.renderInspirationPopover(),this.renderInviteeOrientation(),a.setLocation({title:t.name}),this.defer((function(){return e.$("#board").unbind("mousedown.dragscrollable").dragscrollable({fxIgnore(e){var t=r(e.target).closest("#board"),n=e.offsetY>t.height()-11,i=r(e.target).closest(".js-list-content").length>0,o=r(e.target).closest(".js-add-list").length>0;return n||i||o}}),o.refreshListSortable()}))},e.exports._shouldCloseBoardMenu=function(){var e=new Date-c.idToDate(this.model.id)<18e4;return this.shouldCloseBoardMenu||!s.me().isDismissed("close-menu-of-first-board")||e&&this.model.isFirstOwnedBoard()||u(this.model.get("id"))},e.exports._isFirstBoardEverLoaded=function(){return!s.me().isDismissed("close-menu-of-first-board")&&!this.model.isWelcomeBoard()},e.exports._isGhostUsingInviteLink=function(){return c.hasValidInviteTokenFor(this.model)},e.exports.removeSidebarDisplayTypes=function(){this.$el.removeClass("sidebar-display-wide")},e.exports.renderSidebarDisplayType=function(){var e=this.model.viewState.getSidebarDisplayType();this.$el.addClass(e)},e.exports.showSidebarOnOpen=function(){var e=this.model.viewState.getShowSidebarFromPref()||s.me().get("notLoggedIn"),t=!!this.model.get("desc"),n=this.model.isMember(s.me());return this.model.isPublic()&&!n&&t&&e&&!i.isTouch()?this.model.viewState.set("showSidebar",!0):this._shouldCloseBoardMenu()||i.isTouch()?(this.model.viewState.set("showSidebar",!1),this._isFirstBoardEverLoaded()&&!this._isGhostUsingInviteLink()&&(this.shouldCloseBoardMenu=!0,s.isLoggedIn())?s.me().dismiss("close-menu-of-first-board"):void 0):this.model.viewState.setShowSidebarFromPref()},e.exports.renderSidebarState=function(){this.renderSidebarDisplayType(),this.model.viewState.get("showSidebar")?this.showSidebar():this.hideSidebar()},e.exports.toggleSidebar=function(){return this.model.viewState.setShowSidebar(!this.model.viewState.get("showSidebar"))},e.exports.setSidebarShow=function(){this.model.viewState.setShowSidebar(!0),this.shouldCloseboardMenu=!1},e.exports.showSidebar=function(){var e=this;this.renderSidebarDisplayType(),this.unmountTeamOnboardingPupTooltip(),clearTimeout(this._sidebarHideTimeout),this.$(".js-fill-board-menu").removeClass("hide"),this.defer((function(){return e.$el.addClass("is-show-menu")})),this.sidebarViewPromise.then((function(){return e.sidebarView.sendDrawerScreenEvent(e.sidebarView.topSidebarViewName(),"showSidebar")}))},e.exports.hideSidebar=function(){var e=this;this.$el.removeClass("is-show-menu"),clearTimeout(this._sidebarHideTimeout),this._sidebarHideTimeout=this.setTimeout((function(){e.$(".js-fill-board-menu").addClass("hide")}),250)}},"./app/scripts/views/board/board-view-team-onboarding-pups.js":function(e,t,n){var r=n("./node_modules/react/index.js"),i=n("./packages/react-dom-wrapper/index.ts"),o=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,a=n("./packages/error-reporting/index.ts").sendErrorEvent,s=n("./app/scripts/debug/constants.ts").Feature,l=n("./app/src/components/BusinessClassTeamOnboardingPupPopover/index.ts"),c=l.LazyTeamOnboardingPupPopover,u=l.LazyTeamOnboardingPupTooltip;e.exports.unmountTeamOnboardingPupPopover=function(){if(null!=this.teamOnboardingPupPopoverDiv)return i.unmountComponentAtNode(this.teamOnboardingPupPopoverDiv)},e.exports.unmountTeamOnboardingPupTooltip=function(){if(null!=this.teamOnboardingPupTooltipDiv)return i.unmountComponentAtNode(this.teamOnboardingPupTooltipDiv)},e.exports.renderTeamOnboardingPupTooltip=function(){var e=this;if(!this.model.viewState.get("showSidebar"))return setTimeout((function(){var t=r.createElement(u,{onDismiss:function(){return e.unmountTeamOnboardingPupTooltip()}});return e.teamOnboardingPupTooltipDiv=document.createElement("div"),$(e.teamOnboardingPupTooltipDiv).insertAfter(".js-show-sidebar"),i.render(t,e.teamOnboardingPupTooltipDiv)}),1e3)},e.exports.renderTeamOnboardingPupPopover=function(){var e=this;try{var t=this.model.getOrganization();if(null==t)return;if(null==this.teamOnboardingPupPopoverDiv){var n=this.$("#team-onboarding-pup-popover-target")[0];null!=n?this.teamOnboardingPupPopoverDiv=n:(this.$(".board-main-content").append("<div id='team-onboarding-pup-popover-target'></div>"),this.teamOnboardingPupPopoverDiv=this.$("#team-onboarding-pup-popover-target")[0])}var i=this.model.get("id");return o(r.createElement(c,{orgId:t.id,boardId:i,onShowPowerUps:function(){return e.toggleDirectory()},onDismissed:function(){return e.renderTeamOnboardingPupTooltip()}}),this.teamOnboardingPupPopoverDiv)}catch(e){a(e,{tags:{ownershipArea:"trello-bizteam",feature:s.TeamOnboarding},extraData:{component:"board-view-team-onboarding-pups"}})}}},"./app/scripts/views/board/board-view-template.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./node_modules/underscore/underscore.js"),o=n("./node_modules/react/index.js"),a=n("./packages/react-dom-wrapper/index.ts"),s=n("./app/src/components/BoardTemplateBadge/index.ts").BoardTemplateBadge;e.exports.isTemplate=function(){return this.templateFlagEnabled&&this.model.isTemplate()},e.exports.renderBoardTemplateReactSection=function(){return r(".js-board-template-badge").append(this.boardTemplateBadgeDiv),a.render(this.boardTemplateBadgeComponent,this.boardTemplateBadgeDiv)},e.exports.renderBoardTemplateBadge=function(){var e=this;if(this.model.isTemplate())return null!=this.boardTemplateBadgeDiv&&null!=this.boardTemplateBadgeComponent?this.renderBoardTemplateReactSection():i.defer((function(){return e.boardTemplateBadgeComponent=o.createElement(s,null),e.boardTemplateBadgeDiv=document.createElement("div"),e.renderBoardTemplateReactSection()}));this.boardTemplateBadgeDiv&&(a.unmountComponentAtNode(this.boardTemplateBadgeDiv),this.boardTemplateBadgeDiv=null,this.boardTemplateBadgeComponent=null)}},"./app/scripts/views/board/board-view-unsubscribe.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./packages/analytics/index.ts").track,o=n("./packages/atlassian-analytics/index.ts").Analytics,a=n("./app/scripts/lib/util/index.js"),s=n("./app/scripts/views/lib/confirm.js");e.exports.openUnsubscribe=function(e){var t=this;a.stop(e),s.toggle("unwatch",{elem:r(e.target).closest(".js-board-header-subscribed")[0],model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:function(e){return i("Board Header","Unsubscribe"),t.sendGASEvent&&o.sendTrackEvent({action:"unsubscribed",actionSubject:"board",source:"boardScreen",containers:{board:{id:t.model.id}}}),t.model.subscribe(!1)}})}},"./app/scripts/views/board/board-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=n("./packages/use-lazy-component/index.ts").importWithRetry,f=n("./packages/jquery/index.js"),h=n("./node_modules/react/index.js"),v=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,g=n("./packages/error-reporting/index.ts").sendChunkLoadErrorEvent,b=n("./packages/atlassian-analytics/index.ts").Analytics,y=n("./app/scripts/db/auth.js"),k=n("./app/scripts/controller/index.js"),w=n("./app/scripts/views/lib/dialog.js"),j=n("./app/scripts/views/lib/drag-sort.js"),_=n("./packages/keybindings/index.ts"),x=_.getKey,C=_.Key,O=_.registerShortcutHandler,S=_.Scope,E=_.unregisterShortcutHandler,T=n("./app/scripts/view-models/label-state.js"),P=n("./app/scripts/views/lib/layout.js"),N=n("./app/scripts/views/list/list-list-view.js"),I=n("./app/scripts/views/lib/pop-over.js"),A=n("./packages/storage/index.ts").TrelloStorage,D=n("./app/scripts/lib/util/index.js"),B=n("./app/scripts/views/internal/view.js"),R=n("./app/scripts/views/templates/BoardClosed.js").BoardClosed,L=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),M=n("./packages/analytics/index.ts"),F=M.track,V=M.trackUe,z=n("./packages/feature-flag-client/index.ts").featureFlagClient,U=n("./app/scripts/views/onboarding/helpers.js").isInspirationBoard,H=n("./app/src/components/WorkspaceNavigation/workspaceNavigationState.ts").workspaceNavigationState,W=n("./app/src/components/BoardSidebarLoadingError/index.ts").BoardSidebarLoadingError,q=n("./packages/browser/index.ts").isDesktop(),G=n("./app/scripts/lib/last-action/index.ts"),$=G.undoAction,K=G.redoAction,Y=G.isUndoEnabled,Z=n("./app/scripts/views/board/board-view-team-onboarding-pups.js"),J=Z.renderTeamOnboardingPupPopover,Q=Z.renderTeamOnboardingPupTooltip,X=Z.unmountTeamOnboardingPupPopover,ee=Z.unmountTeamOnboardingPupTooltip,te=n("./app/scripts/views/board/board-view-getting-started-tip.tsx"),ne=te.renderGettingStartedTip,re=te.unmountGettingStartedTip,ie=n("./app/scripts/views/board/board-view-member.js"),oe=ie.onMemberAdd,ae=ie.renderBoardHeaderFacepile,se=ie.openAllMembers,le=ie.openAddMembers,ce=ie.joinBoard,ue=ie.showMemberProfile,de=n("./app/scripts/views/board/board-view-background.js"),pe=de.getAllBackgroundClasses,me=de.defaultBoardBackground,fe=de.clearBoardBackground,he=de.renderBoardBackground,ve=de.renderBoardHeaderSubscribed,ge=n("./app/scripts/views/board/board-view-template.js"),be=ge.isTemplate,ye=ge.renderBoardTemplateReactSection,ke=ge.renderBoardTemplateBadge,we=n("./app/scripts/views/board/board-view-sidebar.js"),je=we._applySettings,_e=we.renderOpen,xe=we._shouldCloseBoardMenu,Ce=we._isFirstBoardEverLoaded,Oe=we._isGhostUsingInviteLink,Se=we.removeSidebarDisplayTypes,Ee=we.renderSidebarDisplayType,Te=we.showSidebarOnOpen,Pe=we.renderSidebarState,Ne=we.toggleSidebar,Ie=we.setSidebarShow,Ae=we.showSidebar,De=we.hideSidebar,Be=n("./app/scripts/views/board/board-view-permission.js"),Re=Be.permChange,Le=Be.renderPermissionLevel,Me=Be.changeVis,Fe=Be.addBoardToTeam,Ve=n("./app/scripts/views/board/board-view-list.js"),ze=Ve.openListComposer,Ue=Ve.scrollToList,He=Ve.viewForList,We=Ve.postListListRender,qe=Ve.renderLists,Ge=Ve.sortCommit,$e=n("./app/scripts/views/board/board-view-card.js"),Ke=$e.openCardComposerInFirstList,Ye=$e.scrollToCard,Ze=$e.preventScrollSelection,Je=$e.moveCard,Qe=$e.dblClickAddListMenu,Xe=$e._insertCardPosition,et=$e.moveCardRequested,tt=$e.copyCardRequested,nt=n("./app/scripts/views/board/board-view-notifications.js").markRelatedNotificationsRead,rt=n("./app/scripts/views/board/board-view-onboarding.js"),it=rt.unmountInspirationPopover,ot=rt.renderInspirationPopover,at=rt.renderInviteeOrientation,st=n("./app/scripts/views/board/board-view-organization.js"),lt=st.renderOrgChanges,ct=st.refreshOrganization,ut=st.openOrgMenu,dt=n("./app/scripts/views/board/board-view-limit.js").renderBoardWarnings,pt=n("./app/scripts/views/board/board-view-unsubscribe.js").openUnsubscribe,mt=n("./app/scripts/views/board/board-view-open-close-delete.js"),ft=mt.reopen,ht=mt._delete,vt=n("./app/scripts/views/board/board-view-copy.js").copyBoard,gt=n("./app/scripts/views/board/board-view-collaboration.js"),bt=gt.onWorkspacesPreambleCreateTeamSuccess,yt=gt.renderWorkspacesPreambleBoardHeaderButton,kt=gt.unmountWorkspacesPreambleBoardHeaderButton,wt=gt.renderWorkspacesPreambleInviteButton,jt=gt.unmountWorkspacesPreambleInviteButton,_t=gt.renderWorkspacesAutoNameAlert,xt=gt.unmountWorkspacesAutoNameAlert,Ct=n("./app/scripts/views/board/board-view-plugin.js"),Ot=Ct.reloadCustomFields,St=Ct.renderPluginButtons,Et=Ct.renderBoardHeaderCalendar,Tt=Ct.renderAutoEnableCalendarPopover,Pt=Ct.navigateToBoard,Nt=Ct.closeDetailView,It=Ct.clickCloseDirectory,At=Ct.toggleDirectory,Dt=Ct.navigateToDirectory,Bt=Ct.showDirectory,Rt=Ct.closeDirectory,Lt=Ct.toggleCalendar,Mt=Ct.dismissFeedback,Ft=Ct.navigateToCalendarEvent,Vt=Ct.navigateToCalendar,zt=Ct.navigateToBoardEvent,Ut=Ct.isShowingCalendar,Ht=Ct.showCalendar,Wt=Ct.closeCalendar,qt=Ct.toggleFilter,Gt=Ct.showFilter,$t=Ct.closeFilter,Kt=Ct.toggleMap,Yt=Ct.navigateToMapEvent,Zt=Ct.navigateToMap,Jt=Ct.showMap,Qt=Ct.closeMap,Xt=Ct.renderBoardHeaderMap,en=Ct.showDashboard,tn=Ct.toggleButler,nn=Ct.navigateToButler,rn=Ct.showButler,on=Ct.closeButler,an=n("./app/scripts/views/board/board-view-header.js"),sn=an.renderBoardHeader,ln=an.renderBoardHeaderStarred,cn=an.toggleStarred,un=an.openFilter,dn=an.clearFilters,pn=an.showCleanUp,mn=an.renderBoardViewsButton,fn=an.getBoardViewsButtonOptions,hn=an.removeBoardViewsButton,vn=an.showTimeline,gn=an.showAdvancedCalendar,bn=an.closeSingleBoardView,yn=n("./app/scripts/views/board/board-view-name.js"),kn=yn.saveBoardName,wn=yn.keyDownEvent,jn=yn.onInputChanged,_n=yn.startRenaming,xn=yn.stopRenaming,Cn=yn.updateControllerTitle,On=n("./app/scripts/views/board/board-view-invitation.js"),Sn=On.closeInviteAcceptanceNotification,En=On.buildInviteAcceptanceNotification,Tn=On.getNewlySignedUpInvitees,Pn=On.renderPopovers,Nn=On.renderInviteAcceptanceNotification,In=On.unmountInviteAcceptanceNotification,An=z.getTrackedVariation("board-header-filtering-experiment",!1),Dn=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(_,e);var t,o=(t=_,function(){var e,n=d(t);if(u()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function _(e){var t,n=e.headerBranding;return r(this,_),p(c(t=o.apply(this,arguments)),"onShortcut",(function(e){if(!k.showingBoardView()){var n=t.model.editable(),r=y.isLoggedIn(),i=x(e),o=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.shortcutKey,o=void 0===r?i:r,a=n.toggleValue;b.sendPressedShortcutEvent({shortcutName:e,source:"boardScreen",keyValue:o,containers:{board:{id:t.model.id},organization:{id:t.model.get("idOrganization")},enterprise:{id:t.model.get("idEnterprise")}},attributes:{toggleValue:void 0!==a?a.toLowerCase():void 0}})};switch(i){case C.f:return void t.toggleFilter();case C.q:return void(r&&(t.model.filter.toggleQuietMode(),e.preventDefault(),o("myCardsShortcut")));case C.x:return t.model.filter.clear(),e.preventDefault(),void o("clearAllFiltersShortcut");case C.w:return t.toggleSidebar(),e.preventDefault(),void o("toggleBoardMenuDrawerShortcut",{toggleValue:t.model.viewState.get("showSidebar")?"show":"hide"});case C.SemiColon:var a=T.getShowText();T.toggleText(),e.preventDefault();var s=a?"hide":"show";return F("Toggle Labels Text on Card Front",s,t.model.id,"shortcut"),void o("toggleLabelTextShortcut",{toggleValue:s});case C.ArrowDown:case C.j:return t.moveCard("down"),e.preventDefault(),void o("moveDownShortcut");case C.ArrowUp:case C.k:return t.moveCard("up"),e.preventDefault(),void o("moveUpShortcut");case C.ArrowRight:return t.moveCard("right"),e.preventDefault(),void o("moveRightShortcut");case C.ArrowLeft:return t.moveCard("left"),e.preventDefault(),void o("moveLeftShortcut");case C.n:if(n){var l=t.model.viewState.getList(),u=t.model.viewState.getCard();if(null!=l){var d=null!=u?l.openCards().indexOf(u)+1:l.openCards().length;t.model.composer.save({list:l,index:d,vis:!0}),e.preventDefault(),o("insertCardShortcut")}}return;case C.z:case C.Z:return void(Y&&n&&(e.preventDefault(),e.shiftKey?(K({source:"boardScreen",idBoard:t.model.id}),o("redoActionShortcut",{shortcutKey:"Shift+Z"})):($({source:"boardScreen",idBoard:t.model.id}),o("undoActionShortcut"))));case C.Escape:return void(n&&(j.sorting?j.abort():P.isEditing()||I.isVisible||w.isVisible||(t.model.composer.get("vis")?t.model.composer.save("vis",!1):t.model.viewState.get("listComposerOpen")?t.model.viewState.set("listComposerOpen",!1):t.sidebarViewPromise.then((function(){return t.sidebarView.popView()}))),k.showingCalendar(c(t))&&f(".calendar-day.active").removeClass("active"),e.preventDefault()));default:return}}})),t.headerBranding=n,t.onShortcut=t.onShortcut.bind(c(t)),t.renderTemplateTips=t.renderTemplateTips.bind(c(t)),O(t.onShortcut,{scope:S.Board}),t}return a(_,null,[{key:"initClass",value:function(){this.prototype.className="board-wrapper",this.prototype.displayName="BoardView",this.prototype.events={sortcommit:"sortCommit","keydown .js-board-name-input":"keyDownEvent","input .js-board-name-input":"onInputChanged","change .js-board-name-input":"onInputChanged","blur .js-board-name-input":"stopRenaming","click .js-board-editing-target":"startRenaming","click .js-open-org-menu":"openOrgMenu","click .js-add-board-to-team:not(.no-edit)":"addBoardToTeam","click .js-change-vis":"changeVis","click .js-close-calendar":"toggleCalendar","click .js-calendar":"toggleCalendar","click .js-disable-feedback":"dismissFeedback","click .js-close-map":"toggleMap","click .js-map-btn":"toggleMap","click .js-header-filter-btn":"toggleFilter","click .js-close-filter":"toggleFilter","click .js-close-dashboard":"navigateToBoard","click .js-filter-cards-indicator":"openFilter","click .js-filter-card-clear":"clearFilters","click .js-board-header-subscribed":"openUnsubscribe","click .js-star-board":"toggleStarred","click .js-show-sidebar"(e){return V("board sidebar","opens","sidebar","","","",{boardId:this.model.id,teamId:Bn(this.model.getOrganization(),(function(e){return e.id}))}),b.sendClickedLinkEvent({linkName:"boardMenuDrawerToggleLink",source:"boardScreen",containers:{board:{id:this.model.id},organization:{id:Bn(this.model.getOrganization(),(function(e){return e.id}))}}}),this.setSidebarShow()},"click .js-dismiss-warning"(e){return A.set(this.$(e.currentTarget).attr("data-dismiss"),Date.now()),this.renderBoardWarnings()},"dblclick #board":"dblClickAddListMenu","click #board":"blurInputsOnBoardClick","click .js-reopen":"reopen","click .js-delete":"delete","click .js-clean-up":"showCleanUp","prevent-scroll-selection":"preventScrollSelection","click .js-close-directory":"clickCloseDirectory","click .js-copy-board":"copyBoard","click .js-open-show-all-board-members":"openAllMembers","click .js-open-manage-board-members":"openAddMembers","click .js-join-board":"joinBoard"},this.prototype.onMemberAdd=oe,this.prototype.isTemplate=be,this.prototype.renderBoardTemplateReactSection=ye,this.prototype.renderBoardTemplateBadge=ke,this.prototype._applySettings=je,this.prototype.permChange=Re,this.prototype.openListComposer=ze,this.prototype.openCardComposerInFirstList=Ke,this.prototype.scrollToList=Ue,this.prototype.viewForList=He,this.prototype.scrollToCard=Ye,this.prototype.preventScrollSelection=Ze,this.prototype.markRelatedNotificationsRead=nt,this.prototype.moveCard=Je,this.prototype.unmountInspirationPopover=it,this.prototype.renderInspirationPopover=ot,this.prototype.renderTeamOnboardingPupPopover=J,this.prototype.renderTeamOnboardingPupTooltip=Q,this.prototype.unmountTeamOnboardingPupPopover=X,this.prototype.unmountTeamOnboardingPupTooltip=ee,this.prototype.renderGettingStartedTip=ne,this.prototype.unmountGettingStartedTip=re,this.prototype._shouldCloseBoardMenu=xe,this.prototype._isFirstBoardEverLoaded=Ce,this.prototype._isGhostUsingInviteLink=Oe,this.prototype.renderOpen=_e,this.prototype.removeSidebarDisplayTypes=Se,this.prototype.renderSidebarDisplayType=Ee,this.prototype.showSidebarOnOpen=Te,this.prototype.renderSidebarState=Pe,this.prototype.toggleSidebar=Ne,this.prototype.setSidebarShow=Ie,this.prototype.showSidebar=Ae,this.prototype.hideSidebar=De,this.prototype.renderOrgChanges=lt,this.prototype.refreshOrganization=ct,this.prototype.reloadCustomFields=Ot,this.prototype.renderBoardHeader=sn,this.prototype.renderBoardWarnings=dt,this.prototype.renderPluginButtons=St,this.prototype.renderBoardHeaderStarred=ln,this.prototype.toggleStarred=cn,this.prototype.renderBoardHeaderCalendar=Et,this.prototype.renderAutoEnableCalendarPopover=Tt,this.prototype.getAllBackgroundClasses=pe,this.prototype.defaultBoardBackground=me,this.prototype.clearBoardBackground=fe,this.prototype.renderBoardBackground=he,this.prototype.renderBoardHeaderSubscribed=ve,this.prototype.renderBoardViewsButton=mn,this.prototype.getBoardViewsButtonOptions=fn,this.prototype.removeBoardViewsButton=hn,this.prototype.saveBoardName=kn,this.prototype.keyDownEvent=wn,this.prototype.onInputChanged=jn,this.prototype.startRenaming=_n,this.prototype.stopRenaming=xn,this.prototype.openOrgMenu=ut,this.prototype.renderPermissionLevel=Le,this.prototype.postListListRender=We,this.prototype.renderLists=qe,this.prototype.sortCommit=Ge,this.prototype.closeInviteAcceptanceNotification=Sn,this.prototype.buildInviteAcceptanceNotification=En,this.prototype.getNewlySignedUpInvitees=Tn,this.prototype.renderPopovers=Pn,this.prototype.renderInviteAcceptanceNotification=Nn,this.prototype.unmountInviteAcceptanceNotification=In,this.prototype.renderBoardHeaderFacepile=ae,this.prototype.openAllMembers=se,this.prototype.openAddMembers=le,this.prototype.joinBoard=ce,this.prototype.changeVis=Me,this.prototype.addBoardToTeam=Fe,this.prototype.toggleCalendar=Lt,this.prototype.dismissFeedback=Mt,this.prototype.navigateToCalendarEvent=Ft,this.prototype.navigateToCalendar=Vt,this.prototype.navigateToBoardEvent=zt,this.prototype.navigateToBoard=Pt,this.prototype.isShowingCalendar=Ut,this.prototype.toggleMap=Kt,this.prototype.toggleFilter=qt,this.prototype.showFilter=Gt,this.prototype.closeFilter=$t,this.prototype.navigateToMapEvent=Yt,this.prototype.navigateToMap=Zt,this.prototype.toggleButler=tn,this.prototype.navigateToButler=nn,this.prototype.showMemberProfile=ue,this.prototype.showCalendar=Ht,this.prototype.showMap=Jt,this.prototype.showDashboard=en,this.prototype.showButler=rn,this.prototype.closeDetailView=Nt,this.prototype.closeCalendar=Wt,this.prototype.closeMap=Qt,this.prototype.closeButler=on,this.prototype.clickCloseDirectory=It,this.prototype.toggleDirectory=At,this.prototype.navigateToDirectory=Dt,this.prototype.showDirectory=Bt,this.prototype.closeDirectory=Rt,this.prototype.showTimeline=vn,this.prototype.showAdvancedCalendar=gn,this.prototype.closeSingleBoardView=bn,this.prototype.openFilter=un,this.prototype.clearFilters=dn,this.prototype.openUnsubscribe=pt,this.prototype.dblClickAddListMenu=Qe,this.prototype.reopen=ft,this.prototype.delete=ht,this.prototype.updateControllerTitle=Cn,this.prototype.copyBoard=vt,this.prototype._insertCardPosition=Xe,this.prototype.moveCardRequested=et,this.prototype.copyCardRequested=tt,this.prototype.showCleanUp=pn,this.prototype.renderInviteeOrientation=at,this.prototype.renderBoardHeaderMap=Xt,this.prototype.unmountWorkspacesPreambleBoardHeaderButton=kt,this.prototype.renderWorkspacesPreambleBoardHeaderButton=yt,this.prototype.onWorkspacesPreambleCreateTeamSuccess=bt,this.prototype.renderWorkspacesPreambleInviteButton=wt,this.prototype.unmountWorkspacesPreambleInviteButton=jt,this.prototype.renderWorkspacesAutoNameAlert=_t,this.prototype.unmountWorkspacesAutoNameAlert=xt}}]),a(_,[{key:"initialize",value:function(){var e=this;i(d(_.prototype),"initialize",this).apply(this,arguments);var t=function(t){return e.sidebarView=e.subview(t.default,e.model,{boardView:e})};this.sidebarViewPromise=m((function(){return n.e(39).then(n.t.bind(null,"./app/scripts/views/board-menu/board-sidebar-view.js",7))})).then(t.bind(this)).catch((function(e){if("ChunkLoadError"!==e.name)throw e;g(e);var t=f(".board-menu")[0];if(t)return v(h.createElement(W,null),t)})),this.workspaceNavState=H.value,this.unsubscribeWorkspaceNavState=H.subscribe((function(t){e.workspaceNavState=t,t.enabled&&!t.expanded?(f("#board").addClass("collapsed-workspace-nav"),f(".js-board-header").addClass("collapsed-workspace-nav")):(f("#board").removeClass("collapsed-workspace-nav"),f(".js-board-header").removeClass("collapsed-workspace-nav"))})),this.inviteAcceptanceNotificationDiv=null,this.inviteAcceptanceNotificationComponent=null,this.hasSeenInviteAcceptanceNotification=!1,this.workspacesPreambleBoardHeaderButtonTarget=null,this.workspacesPreamblePromptHasBeenSeen=!1,this.workspacesPreambleInviteButtonTarget=null,this.teamOnboardingPupPopoverDiv=null,this.teamOnboardingPupTooltipDiv=null,this.workspacesAutoNameAlertTarget=null,this.makeDebouncedMethods("refreshOrganization","reloadCustomFields","render","renderBoardBackground","renderBoardHeader","renderBoardHeaderCalendar","renderBoardHeaderSubscribed","renderBoardHeaderMap","renderBoardWarnings","renderLists","renderPermissionLevel","updateControllerTitle","renderBoardHeaderFacepile","renderPluginButtons","renderBoardViewsButton"),this.listenTo(this.model,{"change:closed deleting":this.renderDebounced,"change:idOrganization":function(){return e.reloadDirectoryPlugins=!0,e.refreshOrganizationDebounced(),e.headerBranding()},"change:memberships":this.renderPermissionLevelDebounced,"change:limits":this.renderBoardWarningsDebounced,"change:name":function(){return e.renderBoardHeaderDebounced(),e.updateControllerTitleDebounced()},"change:powerUps"(){if(this.renderBoardHeaderMapDebounced(),this.model.isMapPowerUpEnabled()||this.closeMap(),this.renderBoardHeaderCalendarDebounced(),!this.model.isPowerUpEnabled("calendar"))return this.closeCalendar()},"change:prefs.cardCovers":this.renderListsDebounced,"change:prefs.permissionLevel":function(){return e.renderListsDebounced(),e.renderPermissionLevelDebounced(),e.renderBoardHeaderDebounced()},"change:prefs.background change:prefs.backgroundTile change:prefs.backgroundBrightness":function(){return e.renderBoardHeaderCalendarDebounced(),e.renderBoardBackgroundDebounced(!0),e.renderPluginButtonsDebounced()},"change:prefs.isTemplate":this.renderBoardHeaderDebounced,"change:prefs.selfJoin":this.renderBoardHeaderDebounced,"change:subscribed":this.renderBoardHeaderSubscribedDebounced,permChange:this.permChange,ownedChange:this.renderBoardHeaderDebounced,destroy:function(){return k.displayErrorPage({errorType:"boardNotFound"})}}),this.listenTo(this.model.memberList,{"change:status":this.renderBoardHeaderDebounced,add:this.onMemberAdd,"remove reset":this.renderBoardHeaderFacepileDebounced}),this.listenTo(this.model.boardPluginList,"add reset",(function(){return e.reloadCustomFieldsDebounced(),e.renderBoardViewsButtonDebounced()})),this.subscribe(L(this.model),(function(){return e.renderBoardHeaderMapDebounced(),e.model.isMapPowerUpEnabled()||e.closeMap(),e.renderBoardHeaderCalendarDebounced(),e.model.isPowerUpEnabled("calendar")||e.closeCalendar(),e.renderBoardViewsButtonDebounced()})),this.listenTo(this.model.viewState,{"change:showSidebar":this.renderSidebarState,"change:sidebarDisplayType":this.renderSidebarDisplayType}),this.listenTo(y.me().boardStarList,"add remove reset",(function(){return e.renderBoardHeaderStarred()})),this.memberTypeMe=this.model.getMemberType(y.me()),this.refreshOrganization(),this.listScrollLeft=null,this.savingScroll=!1,this.calcState={},this.listenTo(this.model.filter,"change",(function(){return e.renderFilteringStatus(),e.renderBoardHeader()})),this.listListView=this.collectionSubview(N,this.model.listList,{id:"board",model:this.model,className:"u-fancy-scrollbar js-no-higher-edits ".concat(this.workspaceNavState.enabled&&!this.workspaceNavState.expanded?"collapsed-workspace-nav":""),resetCallback:function(){return e.postListListRender()}}),this.listenTo(this.listListView,{mouseMoveListView(e){return this.model.viewState.selectList(e.model)},mouseLeaveListView(e){return this.model.viewState.selectList(null)},mouseMoveCardView(e,t){if(!(this.ignoreMouseCardSelects||I.isVisible||j.sorting))return this.model.viewState.selectCard(t.model)},mouseLeaveCardView(e,t){if(!(this.ignoreMouseCardSelects||I.isVisible||j.sorting))return this.model.viewState.selectCard(null)},moveCard:this.moveCardRequested,copyCard:this.copyCardRequested}),this._applySettings(),this.markRelatedNotificationsRead(),this.reloadDirectoryPlugins=!1,this.sendCoreGASEvent=z.get("dataeng.gasv3-core-event-tracking",!1),this.sendCoreGASEvent&&b.sendScreenEvent({name:"boardScreen",attributes:{isTemplate:this.model.isTemplate(),visibility:this.model.getPermLevel()},containers:{board:{id:this.model.id},organization:{id:Bn(this.model.getOrganization(),(function(e){return e.id}))||""}}})}},{key:"renderTemplateTips",value:function(){var e=this;return this.sidebarViewPromise.then((function(){return e.sidebarView.renderTemplateTips()}))}},{key:"renderClosed",value:function(){this.unmountInspirationPopover();var e=this.model.getOrganization(),t=z.get("btg.upgrade-prompt-audit",!1),n=null!=e?e.isAtOrOverFreeBoardLimit():void 0,r={name:this.model.get("name"),canReopen:this.model.owned(),canDelete:this.model.canDelete(),deleting:this.model.isDeleting(),isAtOrOverLimit:n,isDesktop:q,orgId:e&&e.get("id"),orgName:e&&e.get("displayName"),billingUrl:e&&e.getBillingUrl(),upgradePathAuditEnabled:t};this.unmountBoardClosed=v(h.createElement(R,r),this.$el[0]),this.defaultBoardBackground()}},{key:"render",value:function(){return this.model.get("closed")&&!U(this.model.get("id"))?this.renderClosed():(this.unmountBoardClosed&&this.unmountBoardClosed(),this.renderOpen()),this}},{key:"renderFilteringStatus",value:function(){var e=this.model.filter.isFiltering();this.$(".js-filter-cards-indicator").toggleClass("hide",!e),An&&(this.$(".js-filter-cards-count").toggleClass("hide",!e),this.$(".js-header-filter-btn").toggleClass("board-header-filter-btn-active",e)),this.$(".js-num-cards").toggleClass("hide",!e),this.$("#board").toggleClass("filtering",e);var t=this.model.filter.toQueryString();if(new URLSearchParams(location.search).toString()!==new URLSearchParams(t).toString())return history.replaceState(null,null,location.pathname+t)}},{key:"remove",value:function(){return null!=this.calendarView&&this.calendarView.remove(),E(this.onShortcut),this.unmountWorkspacesPreambleBoardHeaderButton(),this.unmountWorkspacesPreambleInviteButton(),this.unmountTeamOnboardingPupPopover(),this.unmountTeamOnboardingPupTooltip(),this.unmountBoardClosed&&this.unmountBoardClosed(),this.removeBoardViewsButton(),this.unmountWorkspacesAutoNameAlert(),this.unsubscribeWorkspaceNavState(),i(d(_.prototype),"remove",this).apply(this,arguments)}},{key:"blurInputsOnBoardClick",value:function(e){var t=f(e.target);return t.is("input")||t.is("textarea")?D.stopPropagation(e):f("input, textarea").blur()}}]),_}(B);function Bn(e,t){return null!=e?t(e):void 0}Dn.initClass(),e.exports=Dn},"./app/scripts/views/board/calendar-board-button.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarBoardButton",(function(){return j}));var r,i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./app/common/lib/util/i18n/index.ts"),s=n("./packages/nachos/popover.ts"),l=n("./packages/nachos/button.ts"),c=n("./packages/nachos/icons/power-up.tsx"),u=n("./packages/feature-flag-client/index.ts"),d=n("./app/src/components/AutoEnableCalendar/AutoEnableCalendar.less"),p=n.n(d),m=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),f=Object(a.forTemplate)("auto_enable_calendar"),h=n("./app/scripts/data/legacy-power-ups.js").calendar,v=n("./resources/images/auto-enable-calendar/calendar-hero.jpg");!function(e){e.OKTHANKS="ok-thanks",e.OPENCALENDAR="open-calendar"}(r||(r={}));var g=function(e){var t=e.primaryButtonText,n=e.onDisableCalendarClick,r=e.onOpenDirectoryClick,i=e.onPrimaryButtonClick,a=e.countDueDates,s=e.idBoard,d=e.popoverFlag,g=Object(u.useFeatureFlag)("ecosystem.auto-enable-calendar-popover-open-directory-text","learn-more-about-powerups");return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:p.a.calendarHeroContainer},o.a.createElement("img",{alt:"Calendar Hero",src:v,className:p.a.calendarHero})),o.a.createElement("div",null,o.a.createElement("p",null,f("auto-enable-calendar-message"))),o.a.createElement("div",{className:p.a.buttonGroup},o.a.createElement("div",null,o.a.createElement(l.Button,{appearance:"primary",onClick:function(){i(),Object(m.sendPluginUIEvent)({idPlugin:h,idBoard:s,event:{action:"clicked",actionSubject:"button",actionSubjectId:"autoEnableCalendarPrimaryButton",source:"autoEnableCalendarInlineDialog",attributes:{dueDateCount:a(),popoverFlag:d,primaryButtonText:t}}})}},f(t))),o.a.createElement("div",null,o.a.createElement("a",{className:p.a.quiet,role:"button",onClick:function(){n(),Object(m.sendPluginUIEvent)({idPlugin:h,idBoard:s,event:{action:"clicked",actionSubject:"button",actionSubjectId:"autoEnableCalendarDisableButton",source:"autoEnableCalendarInlineDialog",attributes:{dueDateCount:a(),popoverFlag:d}}})}},f("disable-calendar"))),o.a.createElement("hr",null),o.a.createElement("div",null,o.a.createElement("a",{className:p.a.quiet,role:"button",onClick:function(){r(),Object(m.sendPluginUIEvent)({idPlugin:h,idBoard:s,event:{action:"clicked",actionSubject:"button",actionSubjectId:"autoEnableCalendarOpenDirectoryButton",source:"autoEnableCalendarInlineDialog",attributes:{dueDateCount:a(),openDirectoryTextFlag:g,popoverFlag:d}}})}},f(g),o.a.createElement(c.a,{dangerous_className:p.a.powerUpIcon})))))},b=n("./packages/nachos/icons/calendar.tsx");function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var k=n("./app/scripts/data/legacy-power-ups.js").calendar,w=Object(a.forTemplate)("board_header"),j=function(e){var t=e.idBoard,n=e.backgroundBrightness,a=e.showAutoEnablePopover,c=e.dateAutoEnabled,u=e.popoverFlag,d=e.onClick,p=e.onDisableCalendarClick,f=e.onOpenDirectoryClick,h=e.onPrimaryButtonClick,j=e.onAutoEnablePopoverShown,_=e.countDueDates,x=Object(s.e)(),C=x.toggle,O=x.hide,S=x.triggerRef,E=x.popoverProps;return Object(i.useEffect)((function(){(new Image).src=v}),[]),Object(i.useEffect)((function(){a&&!E.isVisible&&(C(),j(),Object(m.sendPluginScreenEvent)({idPlugin:k,idBoard:t,screenName:"autoEnableCalendarInlineDialog",attributes:{daysFromAutoEnableToFirstToggle:c?Math.round((Date.now()-c)/864e5):null,showAutoEnablePopover:a,popoverFlag:u}}))}),[t,a,E,j,C,c,u]),o.a.createElement("div",null,o.a.createElement(l.Button,{style:{margin:"0 4px 0 0"},appearance:"dark"===n?"transparent":"transparent-dark",iconBefore:o.a.createElement(b.CalendarIcon,null),ref:S,onClick:function(){d()}},w("calendar")),o.a.createElement(s.b,y({},E,{title:w("calendar")}),o.a.createElement(g,{onDisableCalendarClick:function(){p(),O()},onPrimaryButtonClick:"onBoardView"===u?h:O,primaryButtonText:"onBoardView"===u?r.OPENCALENDAR:r.OKTHANKS,onOpenDirectoryClick:function(){f(),O()},countDueDates:_,idBoard:t,popoverFlag:u})))}},"./app/scripts/views/board/confirmation-public-boards-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./packages/atlassian-analytics/index.ts"),d=u.Analytics,p=u.tracingCallback,m=n("./app/scripts/views/lib/pop-over.js"),f=n("./app/scripts/lib/util/index.js"),h=n("./app/scripts/views/internal/view.js"),v=n("./app/scripts/views/templates/popover_confirmation_public_boards.js"),g=n("./app/scripts/views/board-menu/board-member-add-multiple-view.js"),b=n("./packages/analytics/index.ts").trackUe,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(k,e);var t,n,u,h,y=(t=k,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function k(){return r(this,k),y.apply(this,arguments)}return n=k,h=[{key:"initClass",value:function(){this.prototype.viewTitleKey="change to public",this.prototype.className="confirmation-popover",this.prototype.events={"click .js-submit":"selectVis","click .js-action-link":"renderInvitationLink","mouseenter .js-action-link":"mouseenter","mouseleave .js-action-link":"mouseleave"}}}],(u=[{key:"render",value:function(){var e=this.model.toJSON();return e.isTemplate=this.model.isTemplate(),this.$el.html(v(e)),this}},{key:"selectVis",value:function(e){var t=this;f.stop(e);var n=d.startTask({taskName:"edit-board",subTask:"prefs/permissionLevel",source:"makeBoardPublicInlineDialog"}),r="public"!==this.model.getPref("permissionLevel")?1:0;return this.model.setPrefWithTracing("permissionLevel","public",n,p({taskName:"edit-board",subTask:"prefs/permissionLevel",source:"makeBoardPublicInlineDialog",traceId:n},(function(e,i){var o;i&&d.sendUpdatedBoardFieldEvent({field:"visibility",value:"public",source:"makeBoardPublicInlineDialog",containers:{board:{id:t.model.id},organization:{id:null===(o=t.model.getOrganization())||void 0===o?void 0:o.id}},attributes:{change:r,taskId:n}})}))),this.model.save(),b("board","sets","board visibility","","to public","",{boardid:this.model.id,change:r}),m.hide()}},{key:"renderInvitationLink",value:function(e){f.stop(e);var t=new g({model:this.model,modelCache:this.modelCache});t.loadOrgData(),c(".js-open-manage-board-members").removeClass("open-manage-boards-offset"),m.toggle({elem:c(".js-open-manage-board-members"),view:t},b("Invitation Link","opens","Multiple members invite view","","","by clicking invite link in confirmation view",{boardid:this.model.id}))}},{key:"mouseenter",value:function(e){return c(".js-open-manage-board-members").addClass("open-manage-boards-offset")}},{key:"mouseleave",value:function(e){return this.setTimeout((function(){return c(".js-open-manage-board-members").removeClass("open-manage-boards-offset")}),0)}}])&&i(n.prototype,u),h&&i(n,h),k}(h);y.initClass(),e.exports=y},"./app/scripts/views/board/copy-board-view.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./packages/jquery/index.js"),d=n("./node_modules/react/index.js"),p=n("./app/scripts/views/lib/alerts.js"),m=n("./packages/atlassian-analytics/index.ts").Analytics,f=n("./app/scripts/db/auth.js"),h=n("./app/scripts/views/internal/board-display-helpers.js"),v=n("./app/scripts/controller/index.js"),g=n("./app/scripts/views/organization/create-org-view.js"),b=n("./packages/locale/index.ts"),y=n("./app/common/lib/util/last-organization.ts").default,k=n("./app/scripts/db/model-loader.js"),w=n("./app/scripts/views/board/new-board-helper-add-org-view.js"),j=n("./app/scripts/views/lib/pop-over.js"),_=n("./node_modules/bluebird/js/browser/bluebird.js"),x=n("./packages/storage/index.ts").TrelloStorage,C=n("./app/scripts/lib/util/index.js"),O=n("./app/scripts/views/internal/view.js"),S=n("./node_modules/underscore/underscore.js"),E=n("./app/scripts/views/internal/templates.js"),T=n("./packages/analytics/index.ts").trackUe,P=n("./app/scripts/lib/localize.js"),N=n("./packages/feature-flag-client/index.ts").featureFlagClient,I=n("./app/scripts/views/templates/board_menu_vis.js"),A=n("./packages/browser/index.ts").isDesktop(),D=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,B=n("./app/src/components/UpgradePathAudit/index.ts").CopyBoardFromTemplatePopoverButton,R=y(x),L=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(y,e);var t,r=(t=y,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function y(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,y),(t=r.call(this,e)).getViewTitle=t.getViewTitle.bind(s(t)),t}return i(y,null,[{key:"initClass",value:function(){this.prototype.events={'change select[name="org-id"]':"changeOrg","click .js-helper-add-org":"helperAddOrg","submit form":"submit",'input input[id="boardNewTitle"]':"onBoardNameChange","click .js-submit":"submit","click .js-create-org":"newOrg","click .js-change-vis":"openChangeVis","click .js-select":"selectVis","click .js-confirm-public":"confirmPublic","click .js-cancel-public":"cancelPublic"}}}]),i(y,[{key:"initialize",value:function(e){var t=e.boardNameInputValue,n=e.gasSource;this.boardNameInputValue=t,this.gasSource=n,this.upgradePathAuditEnabled=N.get("btg.upgrade-prompt-audit",!1),this.blockTeamlessBoardsEnabled=N.get("btg.block-teamless-boards",!1)}},{key:"getData",value:function(){var e=this;return this.loading=!0,k.loadBoardMinimal(this.model.get("id")).finally((function(){return e.loading=!1,m.sendScreenEvent({name:"copyBoardInlineDialog",containers:{board:{id:e.model.id},organization:{id:M(e.model.getOrganization(),(function(e){return e.id}))}},attributes:{isTemplate:e.model.isTemplate()}}),e.render()}))}},{key:"getViewTitle",value:function(){return this.model.isTemplate()?P(["view title","create board from template"]):P(["view title","copy board"])}},{key:"getOrganization",value:function(){switch(this.model.typeName){case"Organization":return this.model;case"Board":return this.model.getOrganization();case"Member":return null}}},{key:"getDefaultIdOrganization",value:function(e){var t,n;if(0===e.length)return null;if(this.options.useLastOrganization){if(1===e.length)return e[0];var r=R.get();if(r===R.NO_ORGANIZATION)return null;if(null!=r&&Array.from(e).includes(r))return r;n=null;for(var i=0,o=Array.from(e);i<o.length;i++)t=o[i],(null==n||t>n)&&(n=t);return n}if(null!=(n=M(this.getOrganization(),(function(e){return e.id}))))return n;var a=M(f.me().getBestOrganization(),(function(e){return e.id}));return null!=a?a:null}},{key:"render",value:function(){var e,t=f.me(),r=this.getDefaultIdOrganization(t.organizationList.pluck("id")),i=t.organizationList,o=this.model.get("enterpriseOwned"),a=t.isPaidManagedEntMember();(o||a)&&(i=(e=this.model.getEnterprise())?i.filter((function(t){return t.get("idEnterprise")===e.get("id")})):a?i.filter((function(e){return e.belongsToRealEnterprise()})):i.filter((function(e){return e.get("idEnterprise")}))),i=i.map((function(e){return S.extend(e.toJSON(),{selectOrg:e.id===r})}));var s=null!=this.model.get("idEnterprise"),l={orgs:i,canAddToOrgs:0!==i.length,willRemovePowerUps:this.model.powerUpsCount()>t.getPowerUpsLimit(this.getOrganization()),isDesktop:A,loading:this.loading,hasEnterprise:o,upgradePathAuditEnabled:this.upgradePathAuditEnabled,showPrivateBoardsOptionForEntBoards:s,blockTeamlessBoardsEnabled:this.blockTeamlessBoardsEnabled};e&&(l.enterpriseName=e.get("displayName"));var c=Math.floor(13*Math.random()).toString();return l.placeholder=P(["board name placeholder",c]),l.publicConfirmationText=P(["confirm","public board confirmation","text"]),l.publicConfirmationConfirm=P(["confirm","public board confirmation","confirm"]),l.publicConfirmationCancel=P(["cancel"]),l.isTemplate=this.model.isTemplate(),this.boardNameInputValue&&(l.boardNameInputValue=this.boardNameInputValue),l.pLevel="private",this.model.owned()?l.pLevel=this.model.get("prefs").permissionLevel:null!=r&&(l.pLevel="org"),(null!=this.options?this.options.newOrgBoard:void 0)&&(l.hideOrg=!0),this.$el.html(E.fill(n("./app/scripts/views/templates/board_copy.js"),l)),this.checkBoardPermissions(),this}},{key:"checkBoardPermissions",value:function(){var e=this,t=this.$('select[name="org-id"]').val();if(t)return this.loadOrg(t).then((function(t){return(null!=t?t.isAtOrOverFreeBoardLimit():void 0)?(e.$(".js-board-limits-upgrade-ad").removeClass("hide"),e.$(".js-target-team").text(t.get("displayName")),e.upgradePathAuditEnabled?e.$(".js-upgrade-link").attr("href",e.onDisplayPlanSelection(null==t?void 0:t.get("id"),t.get("displayName"))):(e.$(".js-upgrade-link").attr("href",t.getBillingUrl()),e.disableSubmit())):e.renderBoardVisChooser()}));this.renderBoardVisChooser()}},{key:"loadOrg",value:function(e){var t=this;return _.try((function(){if(e){var n=t.modelCache.get("Organization",e);return null!=n&&n.memberships?n:k.loadOrganizationMinimal(e)}return null}))}},{key:"renderBoardVisChooser",value:function(e){var t=this;this.$(".js-permissions").removeClass("hide");var n=this.$('select[name="org-id"]').val(),r={isNewBoard:!0,canChange:!0};this.disableSubmit();return this.$(".js-vis-display").html("<p>".concat(P("checking visibility permissions"),"</p>")),this.loadOrg(n).then((function(n){if(null!=n){var i=null!=n?n.getEnterprise():void 0;t.canChangeOrg(n,e)||(e=null),S.extend(r,{hasOrg:!0,orgName:n.get("displayName"),hasSuperAdmins:n.hasPremiumFeature("superAdmins"),privateRestricted:!t.canChangeOrg(n,"private"),orgRestricted:!t.canChangeOrg(n,"org"),enterpriseRestricted:!t.canChangeOrg(n,"enterprise"),publicRestricted:!t.canChangeOrg(n,"public"),hasEnterprise:null!=n?n.belongsToRealEnterprise():void 0,enterpriseName:null!=i?i.get("displayName"):void 0,isTemplate:t.model.isTemplate(),isOrgPremium:null!=n?n.isPremium():void 0})}else if(f.me().isPaidManagedEntMember()){var o=f.me().getEnterprise();o&&(o.canSetTeamlessBoardVisibility(e)||(e=null),S.extend(r,{hasOrg:!1,hasSuperAdmins:!1,privateRestricted:!o.canSetTeamlessBoardVisibility("private"),orgRestricted:!0,enterpriseRestricted:!0,publicRestricted:!o.canSetTeamlessBoardVisibility("public"),hasEnterprise:!0,enterpriseName:o.get("displayName"),isTemplate:t.model.isTemplate(),isOrgPremium:!1,isTeamlessOwnedBoard:!0}))}var a=null!=n&&t.canChangeOrg(n,"org")?t.model.isPrivate()&&t.canChangeOrg(n,"private")?"private":"org":r.isTeamlessOwnedBoard&&r.privateRestricted&&!r.publicRestricted?"public":"private";return r.current=null!=e?e:a,{org:n,visData:r}})).then((function(e){var n=e.org,r=e.visData,i=!1;if(r.privateRestricted&&r.orgRestricted&&r.enterpriseRestricted&&r.publicRestricted){i=!0;var o=t.$(".js-no-valid-org-privs");null!=n&&n.owned()?o.html(P("board create restriction admin",{urlSettings:"/".concat(n.get("name"),"/account")})):r.isTeamlessOwnedBoard?o.html(P("board create restriction enterprise")):o.html(P("board create restriction not admin")),o.removeClass("hide"),t.$(".js-vis-chooser,.js-vis-display").addClass("hide")}t.$(".js-vis-chooser").html(I(r));var a=t.getPermissionLevel(),s=r.current;if(a!==s&&"public"===s)return t.openPublicConfirmation();t.setPermissionLevel(s),t.renderVisDisplay(s);var l=t.$('input[id="boardNewTitle"]').val().trim(),c=!t.$(".js-submit").hasClass("disabled");i||!l||c||t.enableSubmit()})).done(),this}},{key:"enableSubmit",value:function(){return this.$(".js-submit").removeClass("disabled")}},{key:"disableSubmit",value:function(){return this.$(".js-submit").addClass("disabled")}},{key:"renderVisDisplay",value:function(e){return this.$(".js-vis-display").html(E.fill(n("./app/scripts/views/templates/board_copy_vis.js"),{visIconClass:h.getPermLevelIconClass(e),visDisplayText:P(["board perms",e,"name"])}))}},{key:"resetVisChooser",value:function(){this.$(".js-no-valid-org-privs").addClass("hide")}},{key:"openPublicConfirmation",value:function(){return this.$(".js-vis-display").addClass("hide"),this.$(".js-confirm-public-message").removeClass("hide")}},{key:"hidePublicConfirmation",value:function(){return this.$(".js-confirm-public-message").addClass("hide"),this.$(".js-vis-display").removeClass("hide")}},{key:"confirmPublic",value:function(){return m.sendUpdatedBoardFieldEvent({field:"visibility",value:"public",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:M(this.model.getOrganization(),(function(e){return e.id}))}},attributes:{previous:this.model.getPermLevel(),change:"public"!==this.model.getPermLevel(),isTemplate:this.model.isTemplate()}}),this.setPermissionLevel("public"),this.renderVisDisplay("public"),this.hidePublicConfirmation(),this.enableSubmit(),T("copy board menu","sets","board visibility","","to public","",{change:1})}},{key:"cancelPublic",value:function(){var e=this.getPermissionLevel();return this.renderBoardVisChooser(e),this.hidePublicConfirmation(),T("copy board menu","cancels","board visibility","","to public","",{change:0}),m.sendTrackEvent({action:"cancelled",actionSubject:"visibility",source:"copyBoardInlineDialog",attributes:{visibility:"public"}})}},{key:"openChangeVis",value:function(e){C.stop(e),this.$(".js-vis-display").addClass("hide"),this.$(".js-vis-chooser").removeClass("hide"),this.$(".js-confirm-public-message").addClass("hide")}},{key:"onBoardNameChange",value:function(e){var t=this,n=this.$('select[name="org-id"]').val(),r=u(e.target).val().trim(),i=!this.$(".js-submit").hasClass("disabled");!r||i?!r&&i&&this.disableSubmit():this.loadOrg(n).then((function(e){e&&e.isAtOrOverFreeBoardLimit()||t.enableSubmit()}))}},{key:"selectVis",value:function(e){C.stop(e);var t=u(e.target).closest(".js-select");if(!t.hasClass("disabled")){this.$(".js-vis-display").removeClass("hide"),this.$(".js-vis-chooser").addClass("hide");var n=this.getPermissionLevel(),r=t.attr("name");this.renderBoardVisChooser(r),"public"!==r&&T("copy board menu","sets","board visibility","to ".concat(r),"","",{boardId:this.model.id,teamId:M(this.model.getOrganization(),(function(e){return e.id})),isTemplate:this.model.isTemplate(),change:n!==r?1:0}),m.sendUpdatedBoardFieldEvent({field:"visibility",value:r,source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:M(this.model.getOrganization(),(function(e){return e.id}))}},attributes:{previous:n,change:n!==r,isTemplate:this.model.isTemplate()}})}}},{key:"setPermissionLevel",value:function(e){return this.$('input[name="permissionLevel"]').val(e)}},{key:"getPermissionLevel",value:function(){var e;return null!=(e=this.$('input[name="permissionLevel"]').val())?e:""}},{key:"canChangeOrg",value:function(e,t){return e.canSetVisibility(t)}},{key:"allowBoardCopy",value:function(){return this.$(".js-board-limits-upgrade-ad").addClass("hide"),this.resetVisChooser(),this.$(".js-vis-display").removeClass("hide"),this.$(".js-vis-chooser").addClass("hide"),this.renderBoardVisChooser()}},{key:"onDisplayPlanSelection",value:function(e,t){var n=this.$(".copy-board-upsell-react-component")[0];e&&n&&D(d.createElement(B,{orgId:e,teamName:t}),n)}},{key:"changeOrg",value:function(e){var t=this,n=e.target.value;if(T("copy board menu","sets","board organization","","","",{boardId:this.model.id,teamId:n,isTemplate:this.model.isTemplate()}),m.sendUpdatedBoardFieldEvent({field:"organization",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:n}},attributes:{previous:M(this.model.getOrganization(),(function(e){return e.id})),change:M(this.model.getOrganization(),(function(e){return e.id}))!==n,isTemplate:this.model.isTemplate()}}),this.hidePublicConfirmation(),n){return this.$(".js-vis-display").html("<p>".concat(P("checking visibility permissions"),"</p>")),this.$(".js-board-limits-upgrade-ad").addClass("hide"),this.disableSubmit(),this.loadOrg(n).then((function(e){return(null!=e?e.isAtOrOverFreeBoardLimit():void 0)?(t.$(".js-permissions").addClass("hide"),t.$(".js-board-limits-upgrade-ad").removeClass("hide"),t.$(".js-target-team").text(e.get("displayName")),t.upgradePathAuditEnabled?t.$(".js-upgrade-link").attr("href",t.onDisplayPlanSelection(null==e?void 0:e.get("id"),e.get("displayName"))):t.$(".js-upgrade-link").attr("href",e.getBillingUrl())):t.allowBoardCopy()}))}this.allowBoardCopy()}},{key:"helperAddOrg",value:function(e){C.stop(e),j.pushView({view:new w({model:this.model,modelCache:this.modelCache})}),T("copy board menu","opens","add org helper","","","",{boardId:this.model.id,teamId:M(this.getOrganization(),(function(e){return e.id})),isTemplate:this.model.isTemplate()}),m.sendUIEvent({action:"clicked",actionSubject:"icon",actionSubjectId:"infoIcon",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:M(this.getOrganization(),(function(e){return e.id}))}},attributes:{isTemplate:this.model.isTemplate()}})}},{key:"defaultBackgroundColor",value:function(){if(b.usesEnglish()){var e=new Date,t=e.getMonth(),n=e.getDate();if(2===t&&17===n)return"green"}return"blue"}},{key:"submit",value:function(e){var t,n=this;if(C.stop(e),!this.$(".js-submit").hasClass("disabled")){var r=this.$('input[name="name"]'),i=r.val().trim();if(""!==i){var o=this.gasSource||"copyBoardInlineDialog",a=m.startTask({taskName:"create-board",subTask:this.model.isTemplate()?"template":"copy",source:o});m.sendClickedButtonEvent({buttonName:"createButton",source:this.gasSource||"copyBoardInlineDialog",attributes:{isTemplate:this.model.isTemplate(),taskId:a}});var s=null!=(t=this.$('select[name="org-id"]').val())?t:"";R.set(s);var l={name:i,idOrganization:s},c=this.$('input[name="permissionLevel"]').val(),u=S.extend({prefs_permissionLevel:c},l);return this.model.isTemplate()&&(u=S.extend({prefs_isTemplate:!1},u)),u.idBoardSource=this.model.id,u.keepFromSource=this.$("input:checkbox:checked").map((function(){return this.name})).get().join(),f.me().boardList.create(l,{modelCache:this.modelCache,requestData:u,traceId:a,success:function(e){var t,r,i,l,c;p.hide("copying"),p.hide("templates"),n.model.isTemplate()?(l="copy template menu",c="new board"):(l="copy board menu",c="new board"),T(l,"creates",c,"","","by clicking Create button",{boardId:e.id,sourceBoardId:n.model.id,teamId:s,fromTemplate:n.model.isTemplate()}),m.sendCopiedBoardEvent({source:o,containers:{board:{id:e.id},organization:{id:s}},attributes:{sourceBoardId:n.model.id,fromTemplate:n.model.isTemplate(),templateCategory:null===(t=n.model.get("templateGallery"))||void 0===t?void 0:t.category,visibility:e.getPermLevel(),isBCFeature:!0,requiredBC:!1,taskId:a}}),m.taskSucceeded({taskName:"create-board",subTask:n.model.isTemplate()?"template":"copy",traceId:a,source:o}),i=e.id,Array.from(r=f.me().get("idBoards")).includes(i)||f.me().set("idBoards",r.concat(e.id)),v.displayBoard({idBoard:e.id}).done()},error:function(e,t){if(/ENTERPRISE_OWNED_ENTITY/.test(t))return m.taskAborted({taskName:"create-board",subTask:n.model.isTemplate()?"template":"copy",traceId:a,source:o,attributes:{textStatus:t}}),p.hide("copying"),p.show(["unlicensed member cannot copy enterprise board",{enterpriseName:M(n.model.getEnterprise(),(function(e){return e.get("displayName")}))}],"error","create error",7e3);if(/SOURCE_TEMPLATE_CONTAINS_FORBIDDEN_ENTERPRISE_POWER_UPS/.test(t)){m.taskAborted({taskName:"create-board",subTask:n.model.isTemplate()?"template":"copy",traceId:a,source:o,attributes:{textStatus:t}});var r=n.parseTemplateContainsForbiddenPowerUpsError(t);return p.hide("templates"),p.show(["source template contains forbidden enterprise power ups",{powerUps:r}],"error","forbiddenPowerUps",7e3)}return m.taskFailed({taskName:"create-board",subTask:"copy",traceId:a,source:o,error:new Error(t),attributes:{status:e}}),p.flash("could not create board","error","create error")}}),this.model.isTemplate()?p.show("creating-board","info","templates"):p.show("copying","info","copying"),j.hide()}r.focus().select()}}},{key:"newOrg",value:function(e){m.sendClickedLinkEvent({linkName:"createNewOrgLink",source:"copyBoardInlineDialog",containers:{board:{id:this.model.id},organization:{id:M(this.getOrganization(),(function(e){return e.id}))}},attributes:{isTemplate:this.model.isTemplate()}});var t={};f.me().isPaidManagedEntMember()&&(t.isEnterprise=!0),C.stop(e),j.pushView({view:new g({model:this.model,modelCache:this.modelCache,createOpts:t,trackingOpts:{category:"board",method:"by clicking create team in copy board menu"}})})}},{key:"parseTemplateContainsForbiddenPowerUpsError",value:function(e){var t=JSON.parse(e).message;return t.slice(1+t.indexOf(":")).trimLeft()}}]),y}(O);function M(e,t){return null!=e?t(e):void 0}L.initClass(),e.exports=L},"./app/scripts/views/board/invite-acceptance-notification.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./app/scripts/db/auth.js"),d=n("./node_modules/react/index.js"),p=n("./app/scripts/views/internal/recup-with-helpers.js")("invite_acceptance_notification"),m=n("./packages/analytics/index.ts").trackUe,f=n("./node_modules/underscore/underscore.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,e);var t,n=(t=r,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).state={members:e.members},t.clickDontShowAgain=t.clickDontShowAgain.bind(s(t)),t}return i(r,null,[{key:"initClass",value:function(){this.prototype.render=p.renderable((function(){var e=this;return p.div(".invite-acceptance-notification",(function(){return p.div(".invite-acceptance-notification-close",(function(){return p.a({onClick:e.props.onClose,href:"#"},(function(){return p.span(".icon-lg.icon-close")}))})),p.h6((function(){return e.getTitle()})),p.p((function(){return e.getBody()})),p.div(".invite-acceptance-notification-dont-show-again",(function(){return p.a({onClick:e.clickDontShowAgain,href:"#"},(function(){return p.format("Do not show this again")}))}))}))}))}}]),i(r,[{key:"getTitle",value:function(){return 1===this.state.members.length?(p.text("".concat(this.state.members[0].get("fullName")," ")),p.format("joined your board")):p.format("new members joined your board")}},{key:"getBody",value:function(){var e=this.state.members.length,t=[];if(t=1===e?f.map(this.state.members,(function(e){if(null!=e.get("fullName")){var t=e.get("fullName").split(" ");if(t.length>0)return t[0]}})):f.map(this.state.members,(function(e){return e.get("fullName")})),1===e)p.text(t[0]+" "),p.format("is new to trello");else if(2===e)p.text(t[0]+" "),p.format("and"),p.text(" ".concat(t[1]," ")),p.format("are new to trello");else if(3===e)p.text(t[0]+", "),p.text(t[1]+", "),p.format("and"),p.text(" "),p.text(t[2]+" "),p.format("are new to trello");else{var n="";t.slice(0,3).forEach((function(e){return n+=e+", "})),p.text(n),p.format("and"),p.text(" "),p.text(e-3+" "),4===e?p.format("other are new to trello"):p.format("others are new to trello")}return p.text(" "),1===e?p.a({href:"https://trello.com/guide/feature-deep-dive",target:"_blank",onClick:this.clickAddCardLink},(function(){return p.format("help them get started by adding them to a card")})):p.a({href:"https://trello.com/guide/feature-deep-dive",target:"_blank",onClick:this.clickAddCardLink},(function(){return p.format("help your board members get started by adding them to a card")})),p.text(" "),p.a({href:"https://trello.com/guide/collaboration",target:"_blank",onClick:this.clickMentionLink},(function(){return 1===e?p.format("you can mention them sg in a comment too"):p.format("you can mention them pl in a comment too")}))}},{key:"clickAddCardLink",value:function(){return m("invite acceptance notification","click","help adding them to a card","","","",{member:u.me().id})}},{key:"clickMentionLink",value:function(){return m("invite acceptance notification","click","help mentioning them","","","",{member:u.me().id})}},{key:"clickDontShowAgain",value:function(){return u.me().dismiss("notify-invite-acceptance"),m("invite acceptance notification","dismiss","future notifications","","","by clicking dont show again",{member:u.me().id}),this.props.onClose()}}]),r}(d.Component);h.initClass(),e.exports=h},"./app/scripts/views/board/invitee-orientation-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/db/auth.js"),u=n("./app/scripts/views/member-menu-profile/member-on-board-view.js"),d=n("./app/scripts/lib/util/index.js"),p=n("./app/scripts/views/internal/view.js"),m=n("./app/scripts/views/templates/invitee-orientation.js"),f=n("./app/common/lib/util/date.ts").idToDate,h=n("./app/common/lib/util/text/truncate.ts").truncate,v=n("./node_modules/underscore/underscore.js"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(y,e);var t,n,p,g,b=(t=y,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function y(){return r(this,y),b.apply(this,arguments)}return n=y,g=[{key:"initClass",value:function(){this.prototype.className="invitee-orientation-wrapper",this.prototype.events={"click .js-close-orientation":"onClose"}}}],(p=[{key:"initialize",value:function(){return this.hasRendered=!1}},{key:"getInviteToken",value:function(){return d.inviteTokenFor(this.model.id)}},{key:"getMemberForAvatar",value:function(){var e=this.getInviteToken().split("-")[1],t=this.modelCache.get("Member",e);return null==t&&(t=this.model.adminList.models[0]),t}},{key:"renderableMembers",value:function(){var e=this.model.orderedVisibleMembers().slice(0,3);if(c.isLoggedIn()){var t=e.shift();e.push(t)}return e}},{key:"shouldSeePopover",value:function(){return c.isLoggedIn()&&!c.me().isDismissed("invitee-orientation")&&this.getInviteToken()&&f(c.myId())>=new Date("2019-06-15")}},{key:"renderFacepile",value:function(){var e=this,t=Array.from(this.renderableMembers()).map((function(t){return e.subview(u,t,{board:e.model,notClickable:!0,small:!0,hideBadges:!0})}));return this.ensureSubviews(t.reverse(),this.$(".js-invitee-orientation-facepile"))}},{key:"_getDataForMessage",value:function(){var e=this.model.orderedVisibleMembers(),t=this.renderableMembers();return{visibleMembersCount:e.length,maxVisible:3,firstMemberFullName:h(t[0].get("fullName"),30),boardName:this.model.get("name")}}},{key:"_getDataForAvatar",value:function(){return{inviterAvatarUrl:this.getMemberForAvatar().get("avatarUrl"),inviterFullName:this.getMemberForAvatar().getMemberViewTitle(),inviterUsername:this.getMemberForAvatar().get("username"),inviterInitials:this.getMemberForAvatar().get("initials")}}},{key:"render",value:function(){if(!this.shouldSeePopover()||this.hasRendered)return this;var e={};e=v.extend(e,this._getDataForAvatar()),e=v.extend(e,this._getDataForMessage()),this.$el.html(m(e)),this.renderFacepile();var t=this.$el.find(".invitee-orientation-message-container"),n=this.$el.find(".invitee-orientation-avatar-container");return setTimeout((function(){return n.addClass("active")}),1200),setTimeout((function(){return t.addClass("active")}),1350),this.hasRendered=!0,this}},{key:"onClose",value:function(){return c.me().dismiss("invitee-orientation"),this.remove()}}])&&i(n.prototype,p),g&&i(n,g),y}(p);g.initClass(),e.exports=g},"./app/scripts/views/board/new-board-helper-add-org-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/atlassian-analytics/index.ts").Analytics,u=n("./app/scripts/db/auth.js"),d=n("./app/scripts/views/organization/create-org-view.js"),p=n("./packages/feature-flag-client/index.ts").featureFlagClient,m=n("./app/scripts/views/lib/pop-over.js"),f=n("./app/scripts/lib/util/index.js"),h=n("./app/scripts/views/internal/view.js"),v=n("./app/scripts/views/internal/templates.js"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(k,e);var t,h,g,b,y=(t=k,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function k(){return r(this,k),y.apply(this,arguments)}return h=k,b=[{key:"initClass",value:function(){this.prototype.viewTitleKey="add an organization",this.prototype.events={"click .js-create-org":"newOrg"}}}],(g=[{key:"render",value:function(){return this.$el.html(v.fill(n("./app/scripts/views/templates/popover_helper_new_board_add_org.js"))),p.get("dataeng.gasv3-event-tracking",!1)&&c.sendScreenEvent({name:"newBoardHelperAddOrganizationInlineDialog"}),this}},{key:"newOrg",value:function(e){var t={};return u.me().isPaidManagedEntMember()&&(t.isEnterprise=!0),f.stop(e),m.pushView({view:new d({model:this.model,modelCache:this.modelCache,createOpts:t,trackingOpts:{category:"board",method:"by clicking team info icon in copy board menu"}})})}}])&&i(h.prototype,g),b&&i(h,b),k}(h);g.initClass(),e.exports=g},"./app/scripts/views/board/reopen-board-popover-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./packages/react-dom-wrapper/index.ts"),d=n("./node_modules/react/index.js"),p=n("./app/src/components/BillableGuestsAlert/index.ts").BillableGuestsAlert,m=n("./app/scripts/views/board/billable-guest-list-popover-view.js"),f=n("./app/scripts/views/lib/pop-over.js"),h=n("./app/scripts/views/internal/view.js"),v=n("./app/scripts/views/templates/popover_reopen_board.js"),g=n("./packages/product-features/index.ts").ProductFeatures,b=n("./packages/browser/index.ts").isDesktop(),y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(w,e);var t,n,h,y,k=(t=w,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function w(){return r(this,w),k.apply(this,arguments)}return n=w,y=[{key:"initClass",value:function(){this.prototype.viewTitleKey="reopen board",this.prototype.events={"click .js-confirm-reopen":"confirmReopen"}}}],(h=[{key:"initialize",value:function(e){var t=e.board,n=e.org,r=e.newBillableGuests,i=e.availableLicenseCount,a=e.onReopen;return this.board=t,this.org=n,this.newBillableGuests=r,this.availableLicenseCount=i,this.onReopen=a,o(c(w.prototype),"initialize",this).apply(this,arguments)}},{key:"remove",value:function(){return this.reactRoot&&u.unmountComponentAtNode(this.reactRoot),o(c(w.prototype),"remove",this).apply(this,arguments)}},{key:"renderReactSection",value:function(){var e=this,t=this.org.getProduct(),n={adminNames:this.org.adminList.map((function(e){return e.get("fullName")||e.get("username")})),newBillableGuestsCount:this.newBillableGuests.length,availableLicenseCount:this.availableLicenseCount,orgName:this.org.get("displayName")||this.org.get("name"),pricePerGuest:g.getPrice(t),isMonthly:g.isMonthly(t),isOrgAdmin:this.org.owned(),isDesktop:b,orgUrl:this.org.url,isReopen:!0,onCountClick:function(){return f.pushView({view:new m({newBillableGuests:e.newBillableGuests})})}},r=d.createElement(p,n);if(this.reactRoot=this.$(".js-billable-guests-alert")[0])return u.render(r,this.reactRoot)}},{key:"render",value:function(){return this.$el.html(v()),this.renderReactSection(),this}},{key:"confirmReopen",value:function(e){var t=this.org.owned()&&!b;return this.org.owned()&&null!==this.availableLicenseCount&&this.availableLicenseCount<this.newBillableGuests.length&&(t=!1),this.board.reopen({newBillableGuests:this.newBillableGuests,keepBillableGuests:t}),"function"==typeof this.onReopen&&this.onReopen(),f.hide()}}])&&i(n.prototype,h),y&&i(n,y),w}(h);y.initClass(),e.exports=y},"./app/scripts/views/card-composer/card-composer-inline-view.js":function(e,t,n){function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./packages/jquery/index.js"),p=n("./app/scripts/views/lib/alerts.js"),m=n("./packages/atlassian-analytics/index.ts").Analytics,f=n("./packages/browser/index.ts"),h=n("./app/scripts/views/card-composer/composer-label-selector-view.js"),v=n("./app/scripts/views/card-composer/composer-member-selector-view.js"),g=n("./app/scripts/views/card-composer/composer-pos-selector-view.js"),b=n("./app/scripts/views/card-composer/composer-selector-menu-view.js"),y=n("./app/scripts/views/card/card-limits-error.js").maybeDisplayLimitsErrorOnCardAdd,k=n("./app/scripts/views/lib/confirm.js"),w=n("./app/scripts/controller/index.js"),j=n("./packages/feature-flag-client/index.ts"),_=j.featureFlagClient,x=j.seesVersionedVariation,C=n("./app/scripts/lib/util/text/html-encode.js"),O=n("./packages/keybindings/index.ts"),S=O.Key,E=O.getKey,T=O.isArrow,P=n("./app/scripts/lib/make-error-enum.js"),N=n("./app/scripts/views/lib/pop-over.js"),I=n("./node_modules/bluebird/js/browser/bluebird.js"),A=n("./node_modules/promise-queue/lib/index.js"),D=n("./app/scripts/lib/util/index.js"),B=n("./app/scripts/views/internal/view.js"),R=n("./node_modules/underscore/underscore.js"),L=n("./app/scripts/views/internal/templates.js"),M=n("./packages/analytics/index.ts").track,F=n("./app/scripts/lib/localize.js"),V=n("./app/scripts/views/templates/member.js"),z=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts").trackSeparator,U=n("./app/scripts/network/object-resolver-client/index.ts").objectResolverClient,H=P("CardComposer",["TooManyCards"]),W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(W,e);var t,j,O,P,B=(t=W,function(){var e,n=u(t);if(c()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function W(){return i(this,W),B.apply(this,arguments)}return j=W,P=[{key:"initClass",value:function(){this.prototype.className="card-composer",this.prototype.events={"click .js-add-card":"submitCard","click .js-cancel":"clearAndHide","click .js-cc-menu":"openMenu",keyup:"keyupEvent",paste:"pasteEvent",keydown:"keydownEvent"}}}],(O=[{key:"initialize",value:function(){return this.sendGASEvent=_.get("dataeng.gasv3-event-tracking",!1),this.sendGASCoreEvent=_.get("dataeng.gasv3-core-event-tracking",!1),this.makeDebouncedMethods("render"),this.listenTo(this.model,"change:idLabels change:idMembers",this.renderSelectedItems),this.listenTo(this.model,"change:vis",this.autosaveCard),this.listenTo(this.model.labelList,"add remove reset change",this.frameDebounce(this.renderSelectedItems)),this._cardCreationApiQueue=new A(5),this.handleClickOutside=this.handleClickOutside.bind(this),d(document).on("click",this.handleClickOutside)}},{key:"remove",value:function(){return d(document).off("click",this.handleClickOutside),a(u(W.prototype),"remove",this).apply(this,arguments)}},{key:"handleClickOutside",value:function(e){if(this.model.get("vis")){var t=d(e.target);return 0===t.closest(".card-composer").length&&0===t.closest(".pop-over").length?this.model.save("vis",!1):void 0}}},{key:"render",value:function(e,t){var r=this;this.sendGASEvent&&m.sendScreenEvent({name:"inlineCardComposerInlineDialog",containers:{board:{id:q(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},list:{id:q(q(null!=this.model?this.model.attributes:void 0,(function(e){return e.list})),(function(e){return e.id}))},organization:{id:q(q(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}});var i=R.extend({placeholder:this.getPlaceholder()},this.model.toJSON({board:!0}));return this.renderVisibility(),this.$el.html(L.fill(n("./app/scripts/views/templates/card_composer_inline.js"),i)),this.renderSelectedItems(),this.defer((function(){return D.setCaretAtEnd(r.$(".js-card-title")[0]),"function"==typeof t?t():void 0})),this.$(".js-card-title").autosize(),this}},{key:"autosaveCard",value:function(){var e=d.trim(this.$(".js-card-title").val());return""!==e&&e!==this.getPlaceholder()&&e.length<=16384?this.submitCard(null,!0):this.frameDebounce(this.renderVisibility())}},{key:"renderVisibility",value:function(){return this.$el.toggleClass("hide",!this.model.get("vis")),this}},{key:"clearTextField",value:function(){return this.model.save("title",""),this.$(".js-card-title").val("").trigger("autosize.resize")}},{key:"submitCard",value:function(e,t){var n=this;null==t&&(t=!1),e&&D.stop(e),N.hide();var r=d.trim(this.$(".js-card-title").val());if(""!==r){if(r.length>16384)return this.$el.find(".js-card-title").focus().select(),void p.flash("card title too long","error");var i=e?d(e.target):this.$el,o={$elem:i,destinationBoard:this.model.getBoard(),destinationList:this.model.getList()};if(!y(o)){var a=R.compact(r.split(/\r\n|\r|\n/)),s=a.length,l=s.toString();I.try((function(){if(s>100)throw new H.TooManyCards;return s>1&&new I((function(e){return k.toggle("create many cards",{elem:i,html:F("confirm.create many cards.text",{count:l}),confirmText:F("confirm.create many cards.confirm",{count:l}),fxConfirm:function(t){return e(!0)},fxCancel:function(t){return e(!1)}})}))})).then((function(i){n.clearTextField();var o=!0===(null!=e?e.shiftKey:void 0);return i?n.createMultipleCards(a,o):n.createCard(r,{openCard:o,selectCard:!t,removeNewLines:!0}).catch((function(){return p.flash("could not connect","error")})),n.clearItems()})).then((function(){if(t)return n.hide(),n.renderVisibility()})).catch(H.TooManyCards,(function(){return k.toggle("too many cards",{elem:i,html:F("confirm.too many cards.text",{count:l}),fxConfirm:function(e){return N.hide()}})})).done()}}else this.$el.find(".js-card-title").focus().select()}},{key:"queueCreateCard",value:function(e,t){var n=this;return null==t&&(t={}),t.requestData=this._createCardRequestData(e,t.removeNewLines),this._cardCreationApiQueue.add((function(){return n.createCard(e,t)}))}},{key:"_createCardRequestData",value:function(e,t){e=e.trim(),this.$el.trigger("prevent-scroll-selection"),t&&(e=e.replace(/(\r\n|\n|\r)/gm," "));var n=R.clone(this.model.get("idMembers")),r=R.pluck(this.model.labelList.models,"id");return{newCardData:{name:e,closed:!1,idLabels:r,idMembers:n,dateLastActivity:Date.now()},addsLabels:r.length>0,membersToAdd:n}}},{key:"createCard",value:function(e,t){var n=this;null==t&&(t={});var i=t,o=i.openCard,a=i.selectCard,s=i.removeNewLines,l=i.requestData;return new I((function(t,i){var c=null!=l?l:n._createCardRequestData(e,s),u=c.newCardData,d=c.addsLabels,p=c.membersToAdd;if(""===e)return t();var f=m.startTask({taskName:"create-card",subTask:"list",source:"inlineCardComposerInlineDialog"});u.pos=n.model.getList().calcPos(n.model.get("index")),n.model.moveToNext();var h,v,g=n.model.getList().cardList.create(u,{traceId:f,error:function(e){return n.model.getList().cardList.remove(g),m.taskFailed({taskName:"create-card",subTask:"list",traceId:f,source:"inlineCardComposerInlineDialog",error:new Error(e)}),i(e)},success:(h=regeneratorRuntime.mark((function r(i){var o,a,s;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(d&&p.length>0?M("Card Composer","Card Added","With Members and Labels"):p.length>0?M("Card Composer","Card Added","With Members"):M("Card Composer","Card Added",d?"With Labels":"No items included"),!n.sendGASCoreEvent){r.next=10;break}if(o=void 0,"link"!==(a=i.getCardRole())){r.next=9;break}return r.next=7,U.resolveUrl(i.get("name"),{publicLinksEnabled:x("wildcard.public-links","beta")});case 7:(s=r.sent)&&s.meta&&(o=s.meta.key||s.meta.definitionId);case 9:m.sendTrackEvent({action:"created",actionSubject:"card",source:"inlineCardComposerInlineDialog",attributes:{numMembersAdded:p.length,labelsAdded:d,taskId:f,cardRole:a,linkCardProvider:o},containers:{card:{id:null!=i?i.id:void 0},list:{id:q(null!=i?i.getList():void 0,(function(e){return e.id}))},board:{id:q(null!=i?i.getBoard():void 0,(function(e){return e.id}))},organization:{id:q(q(null!=i?i.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}});case 10:z(e,{category:"card composer",method:"by creating a card"}),m.taskSucceeded({taskName:"create-card",subTask:"list",traceId:f,source:"inlineCardComposerInlineDialog"}),t();case 13:case"end":return r.stop()}}),r)})),v=function(){var e=this,t=arguments;return new Promise((function(n,i){var o=h.apply(e,t);function a(e){r(o,n,i,a,s,"next",e)}function s(e){r(o,n,i,a,s,"throw",e)}a(void 0)}))},function(e){return v.apply(this,arguments)}),modelCache:n.modelCache}),b=n.model.getBoard();return b.filter.addNewCard(g),a&&b.viewState.selectCard(g),o?w.showCardDetail(g,{runMethod:g.shouldSuggestDescription()?"expandDesc":void 0,method:"via the Shift shortcut from card composer"}):void 0}))}},{key:"createMultipleCards",value:function(e,t){for(var n=e.length,r=0;r<e.length;r++){var i=e[r];e.length-1===r?this.queueCreateCard(i,{openCard:t,selectCard:!0}):this.queueCreateCard(i)}M("Card Composer","Added Mulitple Cards",n),this.sendGASCoreEvent&&m.sendTrackEvent({action:"created",actionSubject:"multipleCards",source:"createMultipleCardsInlineDialog",attributes:{numCardsLength:n},containers:{board:{id:q(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},list:{id:q(q(null!=this.model?this.model.attributes:void 0,(function(e){return e.list})),(function(e){return e.id}))},organization:{id:q(q(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}})}},{key:"pasteEvent",value:function(){this.$(".js-card-title").focus().keyup().trigger("autosize.resize")}},{key:"keydownEvent",value:function(e){var t=E(e),n=this.$(".js-card-title"),r=d(e.target).closest(".js-card-title").hasClass("js-card-title"),i=d(e.target).closest(".js-add-card").hasClass("js-add-card");if((r||i)&&!N.isVisible&&t===S.Enter)return D.stop(e),void this.submitCard(e);if(t===S.Escape)return this.saveDraftAndHide();if([S.Tab,S.Enter].includes(t)){n.focus();var o=D.getWordFromCaret(n[0]),a=d(null!=N.view?N.view.el:void 0),s=!1;return N.view instanceof v?(a.find(".js-members-list .item.selected:first .js-select-member").first().click(),s=!0):N.view instanceof h?(a.find(".js-select-label.selected").first().click(),s=!0):N.view instanceof g?a.find(".js-pos-results").length>0&&(a.find(".js-pos-results li.selected:first a").first().click(),s=!0):t===S.Tab&&""===n.val()&&(D.stop(e),this.hide(),e.shiftKey?d(this.el).closest(".js-list").find(".editable:first .current").click():d(this.el).closest(".js-list").next().find(".editable:first .current").click()),s&&(D.stop(e),D.insertSelection(n,"",o.start,o.end),this.model.set("title",n.val())),this.renderSelectedItems(),void N.hide()}}},{key:"keyupEvent",value:function(e){var t=this.$(".js-card-title"),n=E(e);if(![S.Tab,S.Enter].includes(n)){if(n===S.Escape)return D.stop(e),N.hide(),void t.focus();if(T(n)){D.stop(e);var r=d(null!=N.view?N.view.el:void 0);N.view instanceof v?D.navMenuList(r.find(".js-members-list"),".item",n):N.view instanceof h?D.navMenuList(r,".js-select-label",n):N.view instanceof g&&r.find(".js-pos-results").length>0&&D.navMenuList(r.find(".js-pos-results"),"li",n)}else if(!f.isTouch()&&d(e.target).closest(".js-card-title").hasClass("js-card-title")){var i,o,a=D.getWordFromCaret(t[0]),s=new RegExp("^@\\S").test(a.str.substring(0,2)),l=new RegExp("^\\#\\S").test(a.str.substring(0,2)),c=new RegExp("^\\^\\S").test(a.str.substring(0,2)),u=a.str.substring(1).toLowerCase();if(!(s||l||c))return this.model.set("title",this.$(".js-card-title").val()),N.hide();if([S.Shift,S.Alt,S.Control].includes(n))return;if(s){o=new v({model:this.model,modelCache:this.modelCache});var p=R.pluck(this.model.getBoard().memberList.filterDeactivated({force:!0}).models,"id"),m=D.filterMembers(this.modelCache,u,p);return m.length>0?(o.populate(m,!0),N.show({elem:this.$(".js-cc-menu"),view:o}),t.focus(),i=d(o.el).find(".js-members-list .item:first"),D.selectMenuItem(d(o.el).find(".js-members-list"),".item",i)):N.hide()}if(l){o=new h({model:this.model,modelCache:this.modelCache});var b=this.model.getBoard().filterLabels(u);return b.length>0?(o.populate(b),N.show({elem:this.$(".js-cc-menu"),view:o}),t.focus(),i=d(o.el).find(".edit-labels-pop-over .js-select-label:first"),D.selectMenuItem(d(o.el).find(".edit-labels-pop-over"),"li",i)):N.hide()}if(c){var y=(o=new g({model:this.model,modelCache:this.modelCache})).filterPos(u);return y.hasData?(o.populateResults(y),N.show({elem:this.$(".js-cc-menu"),view:o}),t.focus(),i=d(o.el).find(".js-pos-results li:first"),D.selectMenuItem(d(o.el).find(".js-pos-results"),"li",i)):N.hide()}}}}},{key:"renderSelectedItems",value:function(){for(var e=this.model.get("idMembers"),t=!R.isEmpty(e),n=this.$(".js-list-card-composer-members").empty(),r=0,i=Array.from(this.modelCache.get("Member",e));r<i.length;r++){var o=i[r];n.append("<div class='member js-remove-member' idMember='".concat(o,"'>").concat(V(o.toJSON()),"</div>"))}for(var a=this.model.get("labels"),s=!R.isEmpty(a),l=this.$(".js-list-card-composer-labels").empty(),c=0,u=Array.from(this.model.labelList.models);c<u.length;c++){var d=u[c];R.isEmpty(d.get("color"))||l.append("<div class='card-label card-label-".concat(d.get("color")," mod-card-front' title='").concat(C(d.get("name")),"' >").concat(C(d.get("name")),"</div>"))}this.$(".js-clear-all-items").toggle(s||t)}},{key:"openMenu",value:function(e){return D.stop(e),M("Card Composer","Open Selector Menu"),this.sendGASEvent&&m.sendClickedButtonEvent({buttonName:"cardComposerMenuButton",source:"inlineCardComposerInlineDialog",containers:{board:{id:q(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},list:{id:q(q(null!=this.model?this.model.attributes:void 0,(function(e){return e.list})),(function(e){return e.id}))},organization:{id:q(q(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),N.toggle({elem:e.target,view:new b({model:this.model,modelCache:this.modelCache})})}},{key:"clearItems",value:function(e){return this.model.clearItems()}},{key:"hide",value:function(e){this.model.save("vis",!1)}},{key:"saveDraftAndHide",value:function(){return this.model.save("title",this.$(".js-card-title").val()),this.$(".js-card-title").val(""),this.hide()}},{key:"clearAndHide",value:function(e){return this.$(".js-card-title").val(""),this.clearItems(),this.hide()}},{key:"scrollIntoView",value:function(){var e=this.$el.offset().top;return this.$el.closest(".list-cards").scrollTop(e+this.$el.height())}},{key:"getPlaceholder",value:function(){return F(["templates","card_composer_inline","enter-a-title-for-this-card-ellipsis"])}}])&&o(j.prototype,O),P&&o(j,P),W}(B);function q(e,t){return null!=e?t(e):void 0}W.initClass(),e.exports=W},"./app/scripts/views/card-composer/composer-label-selector-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./app/scripts/lib/util/index.js"),d=n("./app/scripts/views/internal/view.js"),p=n("./node_modules/underscore/underscore.js"),m=n("./app/scripts/views/internal/templates.js"),f=n("./packages/analytics/index.ts").track,h=n("./packages/atlassian-analytics/index.ts").Analytics,v=n("./packages/feature-flag-client/index.ts").featureFlagClient,g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(k,e);var t,d,g,b,y=(t=k,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function k(){return r(this,k),y.apply(this,arguments)}return d=k,b=[{key:"initClass",value:function(){this.prototype.viewTitleKey="select labels",this.prototype.tagName="ul",this.prototype.className="edit-labels-pop-over",this.prototype.events={"mouseenter .item":"hoverLabelSelect","click .card-label":"addOrRemoveLabel"}}}],(g=[{key:"initialize",value:function(){return this.sendGASEvent=v.get("dataeng.gasv3-event-tracking",!1)}},{key:"populate",value:function(e){this.populatedLabelList=e}},{key:"render",value:function(){var e=this.model.getLabels(),t=null!=this.populatedLabelList?this.populatedLabelList:this.model.getBoard().getLabels(),r={labels:function(){for(var n=[],r=0,i=Array.from(t);r<i.length;r++){var o=i[r],a=p.include(e,o);n.push({id:o.id,color:o.get("color"),name:o.get("name"),isActive:a})}return n}()};return this.$el.html(m.fill(n("./app/scripts/views/templates/select_labels.js"),r)),u.selectMenuItem(this.$(".edit-labels-pop-over"),".js-select-label",this.$(".js-select-label").first()),this}},{key:"hoverLabelSelect",value:function(e){return u.selectMenuItem(this.$(".edit-labels-pop-over"),".js-select-label",c(e.target).closest(".js-select-label"))}},{key:"addOrRemoveLabel",value:function(e){u.stop(e);var t=c(e.target).closest(".js-select-label");t.toggleClass("active");var n=t.attr("data-idlabel");this.model.toggleLabel(this.modelCache.get("Label",n))?(f("Card Composer","Add Label"),this.sendGASEvent&&h.sendTrackEvent({action:"added",actionSubject:"label",source:"cardComposerLabelSelectorInlineDialog"})):(f("Card Composer","Remove Label"),this.sendGASEvent&&h.sendTrackEvent({action:"removed",actionSubject:"label",source:"cardComposerLabelSelectorInlineDialog"}))}}])&&i(d.prototype,g),b&&i(d,b),k}(d);g.initClass(),e.exports=g},"./app/scripts/views/card-composer/composer-member-selector-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./packages/keybindings/index.ts"),d=u.getKey,p=u.Key,m=n("./app/scripts/views/member/select-member-on-card-view.js"),f=n("./app/scripts/lib/util/index.js"),h=n("./app/scripts/views/internal/view.js"),v=n("./node_modules/underscore/underscore.js"),g=n("./app/scripts/views/internal/templates.js"),b=n("./packages/analytics/index.ts").track,y=n("./app/scripts/lib/localize.js"),k=n("./packages/atlassian-analytics/index.ts").Analytics,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(_,e);var t,u,h,w,j=(t=_,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function _(){return r(this,_),j.apply(this,arguments)}return u=_,w=[{key:"initClass",value:function(){this.prototype.viewTitleKey="select members",this.prototype.events={"mouseenter .item":"hoverMemberSelect","click .item":"addOrRemoveMember",keyup:"keyupEvent"}}}],(h=[{key:"populate",value:function(e,t){return this.data={idMems:null!=e?e:v.pluck(this.model.getBoard().memberList.filterDeactivated({force:!0}).models,"id")},this.data.showSearch=!(this.data.idMems.length<=5||t)}},{key:"render",value:function(){var e=this;return this.$el.html(g.fill(n("./app/scripts/views/templates/popover_member_searcher.js"),this.data)),this.fillMems(this.data.idMems),this.$(".js-filter-emoji").length>0&&this.setTimeout((function(){return e.$(".js-filter-emoji").focus().select()}),20),this.$(".js-filter-members").length>0&&this.setTimeout((function(){return e.$(".js-filter-members").focus().select()}),20),this}},{key:"fillMems",value:function(e){var t=this.$(".js-members-list");t.empty();for(var n=0,r=Array.from(e.slice(0,5));n<r.length;n++){var i=r[n],o=this.modelCache.get("Member",i);this.appendSubview(this.subview(m,o,{card:this.model}),t)}}},{key:"filterAndFillMembers",value:function(e){var t=v.pluck(this.model.getBoard().memberList.models,"id"),n=f.filterMembers(this.modelCache,e,t);if(n.length>0){this.fillMems(n);var r=this.$(".js-members-list .item:first");f.selectMenuItem(this.$(".js-members-list"),".item",r)}else this.$(".js-members-list").html('<li><p class="empty"></p></li>').find("p").text(y("no matched members"))}},{key:"hoverMemberSelect",value:function(e){var t=c(e.target).closest(".item");return f.selectMenuItem(this.$(".js-members-list"),".item",t)}},{key:"keyupEvent",value:function(e){var t=d(e),n=c(".js-filter-members").val().trim().toLowerCase();return[p.Tab,p.Enter].includes(t)?(f.stop(e),void this.$(".js-members-list .item.selected:first .js-select-member").first().click()):[p.ArrowUp,p.ArrowDown].includes(t)?(f.stop(e),void f.navMenuList(this.$(".js-members-list"),".item",t)):void this.filterAndFillMembers(n)}},{key:"addOrRemoveMember",value:function(e){f.stop(e);var t=c(e.target).closest(".item");t.toggleClass("active");var n=t.find("[idMember]").attr("idMember");this.model.toggle("idMembers",n)?(b("Card Composer","Add Member"),k.sendTrackEvent({action:"added",actionSubject:"member",source:"cardComposerMemberSelectorInlineDialog",attributes:{addedTo:"card"}})):(b("Card Composer","Remove Member"),k.sendTrackEvent({action:"removed",actionSubject:"member",source:"cardComposerMemberSelectorInlineDialog",attributes:{removedFrom:"card"}}))}}])&&i(u.prototype,h),w&&i(u,w),_}(h);w.initClass(),e.exports=w},"./app/scripts/views/card-composer/composer-pos-selector-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./app/scripts/views/lib/pop-over.js"),d=n("./app/scripts/lib/util/index.js"),p=n("./app/scripts/views/internal/view.js"),m=n("./node_modules/underscore/underscore.js"),f=n("./app/scripts/views/internal/templates.js"),h=n("./packages/analytics/index.ts").track,v=n("./app/scripts/lib/localize.js"),g=n("./packages/atlassian-analytics/index.ts").Analytics,b=n("./packages/feature-flag-client/index.ts").featureFlagClient,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(_,e);var t,p,y,w,j=(t=_,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function _(){return r(this,_),j.apply(this,arguments)}return p=_,w=[{key:"initClass",value:function(){this.prototype.viewTitleKey="select position",this.prototype.events={"change .js-select-list":"changeList","change .js-select-position":"changePosition","mouseenter .js-pos-results li":"hoverPosResultsSelect","click .js-select-pos-keyword":"selectPosResult","click .js-select-pos-pos":"selectPosResult","click .js-select-pos-list":"selectPosResult"}}}],(y=[{key:"initialize",value:function(){if(this.sendGASEvent=b.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent)return g.sendScreenEvent({name:"cardComposerPositionSelectorInlineDialog",containers:{list:{id:k(null!=this.model?this.model.getList():void 0,(function(e){return e.id}))},board:{id:k(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:k(k(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}})}},{key:"populateResults",value:function(e){var t=this;return this.data={filtered:!0,keywordList:e.keywordList.map((function(e){return{value:e,indexString:e,listName:t.model.get("list").get("name")}})),indexList:e.indexList.map((function(e){return{value:e,indexString:String(e),listName:t.model.get("list").get("name")}})),listList:e.listList.map((function(e){return{value:e.get("id"),indexString:String(t.model.get("index")+1),listName:e.get("name")}}))}}},{key:"render",value:function(){return this.data?this.$el.html(f.fill(n("./app/scripts/views/templates/popover_filter_pos_results.js"),this.data)):(this.$el.html(f.fill(n("./app/scripts/views/templates/move_card_controls.js"),{hideBoard:!0})),this.updateListList()),this}},{key:"hoverPosResultsSelect",value:function(e){var t=c(e.target).closest("li");return d.selectMenuItem(this.$(".js-pos-results"),"li",t)}},{key:"selectPosResult",value:function(e){d.stop(e);var t=c(e.target).closest("a"),n=t.attr("name"),r=this.model.getList().openCards().length,i=r+1;if(t.hasClass("js-select-pos-keyword"))"top"===n?(this.model.set("index",0),h("Card Composer","Select Position in List by Autocomplete",'Top of List - Used "Top"')):"bottom"===n&&(this.model.set("index",i),h("Card Composer","Select Position in List by Autocomplete",'Bottom of List - Used "Bottom"'));else if(t.hasClass("js-select-pos-pos"))this.model.set("index",parseInt(n,10)-1),h("Card Composer","Select Position in List by Autocomplete","Selected Position - Used Number");else if(t.hasClass("js-select-pos-list")){var o=r===this.model.get("pos");this.model.set("list",this.model.getBoard().getList(n)),o?(this.model.set("index",r),h("Card Composer","Select List by Autocomplete","Bottom")):h("Card Composer","Select List by Autocomplete","Not Bottom"),this.sendGASEvent&&g.sendUIEvent({action:"selected",actionSubject:"list",actionSubjectId:"cardComposerList",source:"cardComposerPositionSelectorInlineDialog",attributes:{isAtTopofList:"top"===n,isAtBottomOfList:"top"===n},containers:{list:{id:k(null!=this.model?this.model.getList():void 0,(function(e){return e.id}))},board:{id:k(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:k(k(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}})}(t.hasClass("js-select-pos-keyword")||t.hasClass("js-select-pos-pos"))&&this.sendGASEvent&&g.sendUIEvent({action:"selected",actionSubject:"position",actionSubjectId:"cardComposerPosition",source:"cardComposerPositionSelectorInlineDialog",attributes:{isAtTopofList:"top"===n,isAtBottomOfList:"top"===n},containers:{list:{id:k(null!=this.model?this.model.getList():void 0,(function(e){return e.id}))},board:{id:k(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:k(k(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),u.hide()}},{key:"filterPos",value:function(e){for(var t=new RegExp("^".concat(d.escapeForRegex(e))),n=new RegExp("^".concat(d.escapeForRegex(e),"$")),r=this.model.getList().openCards(),i={keywordList:function(){for(var e=[],n=0,r=["top","bottom"];n<r.length;n++){var i=r[n];t.test(i)&&e.push(i)}return e}(),indexList:function(){for(var e=[],t=1,i=r.length+1,o=1<=i;o?t<=i:t>=i;o?t++:t--)n.test(String(t))&&e.push(t);return e}(),listList:[]},o=0,a=Array.from(this.model.getBoard().listList.models);o<a.length;o++){var s=a[o],l=m.compact(s.get("name").toLowerCase().split(/\s+/));m.find(l,(function(e){return t.test(e)}))&&i.listList.push(s)}return i.hasData=!m.isEmpty(i.keywordList)||!m.isEmpty(i.indexList)||!m.isEmpty(i.listList),i}},{key:"updateListList",value:function(){var e=this.model.getList(),t=e.id,n=this.model.getBoard(),r=this.$(".js-select-list");r.empty();for(var i=0,o=Array.from(m.sortBy(n.listList.models,(function(e){return e.get("pos")})));i<o.length;i++){var a=(e=o[i]).get("name"),s=e.id===t?v("selected list",{listName:a}):a,l=c("<option>").val(e.id).text(s);r.append(l),e.id===t&&(l.attr("selected","selected"),this.$(".js-list-value").text(a))}return this.updatePositionList()}},{key:"updatePositionList",value:function(){var e,t=this.$(".js-select-position");t.empty();var n=this.model.getList().cardList;if(this.model.get("index")>n.length&&this.model.set("index",n.length),0===n.length)return e=c("<option>").val("0").text("1").appendTo(t),void this.$(".js-pos-value").text("1");for(var r=0,i=n.length,o=0<=i;o?r<=i:r>=i;o?r++:r--){var a=String(r+1);e=c("<option>").val(r).text(a).appendTo(t),r===this.model.get("index")&&e.attr("selected","selected")}this.$(".js-pos-value").text(this.model.get("index").toString())}},{key:"changeList",value:function(){var e=this.model.get("index"),t=this.model.getList().openCards().length===e,n=k(null!=this.model?this.model.getList():void 0,(function(e){return e.id})),r=this.$(".js-select-list").find("option:selected").val(),i=this.model.getBoard().getList(r);this.model.set("list",i);var o=i.openCards().length;t?(this.model.set("index",o),h("Card Composer","Change Position by Click","Change List - Bottom")):(this.model.set("index",Math.min(o,e)),h("Card Composer","Change Position by Click","Change List - Not Bottom")),this.sendGASEvent&&g.sendUIEvent({action:"moved",actionSubject:"cardComposer",source:"cardComposerPositionSelectorInlineDialog",attributes:{isAtBottomOfList:t,listSourceId:n},containers:{list:{id:k(null!=this.model?this.model.getList():void 0,(function(e){return e.id}))},board:{id:k(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:k(k(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),u.hide()}},{key:"changePosition",value:function(){var e=this.$(".js-select-position"),t=parseInt(e.find("option:selected").val(),10);this.model.set("index",t),h("Card Composer","Change Position by Click","Change Position in List"),this.sendGASEvent&&g.sendUIEvent({action:"moved",actionSubject:"cardComposer",source:"cardComposerPositionSelectorInlineDialog",attributes:{posSelected:t},containers:{list:{id:k(null!=this.model?this.model.getList():void 0,(function(e){return e.id}))},board:{id:k(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:k(k(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),u.hide()}}])&&i(p.prototype,y),w&&i(p,w),_}(p);function k(e,t){return null!=e?t(e):void 0}y.initClass(),e.exports=y},"./app/scripts/views/card-composer/composer-selector-menu-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/atlassian-analytics/index.ts").Analytics,u=n("./app/scripts/views/label/card-label-select-view.js"),d=n("./app/scripts/views/card/card-member-select-view.js"),p=n("./app/scripts/views/card-composer/composer-pos-selector-view.js"),m=n("./app/scripts/views/lib/pop-over.js"),f=n("./app/scripts/lib/util/index.js"),h=n("./app/scripts/views/internal/view.js"),v=n("./app/scripts/views/templates/popover_selector_menu.js"),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(k,e);var t,n,h,g,y=(t=k,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function k(){return r(this,k),y.apply(this,arguments)}return n=k,g=[{key:"initClass",value:function(){this.prototype.viewTitleKey="options",this.prototype.events={"click .js-mem-selector":"openMemSelector","click .js-label-selector":"openLabelSelector","click .js-pos-selector":"openPosSelector"}}}],(h=[{key:"initialize",value:function(){if(this.sendGASEvent)return c.sendScreenEvent({name:"cardComposerMenuInlineDialog",containers:{board:{id:b(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},list:{id:b(b(null!=this.model?this.model.attributes:void 0,(function(e){return e.list})),(function(e){return e.id}))},organization:{id:b(b(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}})}},{key:"render",value:function(){return this.$el.html(v({isTemplate:this.model.board.isTemplate()})),this}},{key:"openMemSelector",value:function(e){return f.stop(e),m.pushView({view:d,options:{model:this.model,modelCache:this.modelCache}})}},{key:"openLabelSelector",value:function(e){return f.stop(e),m.pushView({view:u,options:{model:this.model,modelCache:this.modelCache,hideOnSelect:!1}})}},{key:"openPosSelector",value:function(e){return f.stop(e),m.pushView({view:p,options:{model:this.model,modelCache:this.modelCache}})}}])&&i(n.prototype,h),g&&i(n,g),k}(h);function b(e,t){return null!=e?t(e):void 0}g.initClass(),e.exports=g},"./app/scripts/views/card/SeparatorCard/SeparatorCard.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/card/SeparatorCard/SeparatorCard.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/scripts/views/card/SeparatorCard/SeparatorCard.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"SeparatorType",(function(){return r})),n.d(t,"SeparatorNumCharacters",(function(){return i})),n.d(t,"getSeparator",(function(){return m})),n.d(t,"trackSeparator",(function(){return f})),n.d(t,"getSeparatorClassName",(function(){return h}));var r,i,o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.less"),l=n.n(s),c=n("./packages/atlassian-analytics/index.ts"),u=new Set(["-","_","=","*","#","/","\\","<",">","."]);function d(e){return u.has(e)}function p(e,t){var n=e.startsWith(t),o=e.endsWith(t),a=e.startsWith(t.repeat(3)),s=e.endsWith(t.repeat(3)),l=/^(.)\1*$/.test(e);switch(!0){case n&&l:return{character:t,type:r.SeparatorOnly,numCharacters:a?i.ThreeOrMore:i.TwoOrFewer};case n&&o:return{character:t,type:r.SeparatorTitle,numCharacters:a&&s?i.ThreeOrMore:i.TwoOrFewer};case n:return{character:t,type:r.SeparatorStartTitle,numCharacters:a?i.ThreeOrMore:i.TwoOrFewer};case o:return{character:t,type:r.SeparatorEndTitle,numCharacters:s?i.ThreeOrMore:i.TwoOrFewer};default:return null}}function m(e){if(!e)return null;var t=/^[-—]+$/.test(e)?e.replace(/—/g,"--"):e,n=t.charAt(0),r=t.charAt(t.length-1),i=null,o=null;return d(n)&&(i=p(t,n)),d(r)&&(o=p(t,r)),i||o}function f(e){var t=m(e);if(t&&d(t.character)){var n=t.type,r=t.character,i=t.numCharacters;c.Analytics.sendTrackEvent({action:"updated",actionSubject:"name",source:"inlineCardComposerInlineDialog",attributes:{updatedOn:"card",isSeparator:!0,numCharacters:i,character:r,type:n}})}}function h(e){var t=m(e);if(!t)return null;var n=t.type,o=t.character,s=t.numCharacters;return n!==r.SeparatorOnly||s!==i.ThreeOrMore||"-"!==o&&"_"!==o?null:a()(l.a.separatorCard,l.a.singleHorizontalLine)}!function(e){e.SeparatorOnly="separator only",e.SeparatorTitle="separator with title",e.SeparatorStartTitle="starting separator with title",e.SeparatorEndTitle="ending separator with title"}(r||(r={})),function(e){e.ThreeOrMore="three or more",e.TwoOrFewer="two or fewer"}(i||(i={}))},"./app/scripts/views/card/attach-links-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./app/scripts/views/lib/alerts.js"),d=n("./app/scripts/views/attachment/attachment-limit-exceeded-error.js"),p=n("./app/scripts/views/templates/popover_limit_exceeded.js"),m=n("./node_modules/url-parse/index.js"),f=n("./node_modules/bluebird/js/browser/bluebird.js"),h=n("./app/scripts/views/internal/view.js"),v=n("./app/scripts/views/templates/card_attach_links.js"),g=n("./node_modules/xtend/immutable.js"),b=n("./packages/analytics/index.ts").track,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(w,e);var t,n,h,y,k=(t=w,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function w(){return r(this,w),k.apply(this,arguments)}return n=w,y=[{key:"initClass",value:function(){this.prototype.viewTitleKey="attach links",this.prototype.events={"click .js-attach:not([disabled])":"attach"}}}],(h=[{key:"initialize",value:function(e){var t=e.links;return this.links=t,this.listenTo(this.model.attachmentList,"add remove reset",this.render)}},{key:"render",value:function(){var e=this;if(!this.model.canAttach())return this.model.isOverLimit("attachments","perCard")?this.$el.html(p("perCard")):this.model.getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(p("perBoard")),this;var t=Array.from(this.links).map((function(t){return g(t,{domain:m(t.url).host,attached:e.model.attachmentList.any((function(e){return e.get("url")===t.url}))})}));return this.$el.html(v(t)),this}},{key:"attach",value:function(e){var t=this,n=c(e.currentTarget),r=n.attr("data-url"),i=n.attr("data-text");return n.attr("disabled","disabled"),f.fromNode((function(e){return t.model.uploadUrl({url:r,name:i},e)})).then((function(){return b("Attachment","Upload link")})).catch(d,(function(){return u.show("unable to attach link","error","linkattachment",5e3)}))}}])&&i(n.prototype,h),y&&i(n,y),w}(h);y.initClass(),e.exports=y},"./app/scripts/views/card/attachment-type-picker-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./app/scripts/views/lib/alerts.js"),d=n("./app/scripts/db/auth.js"),p=n("./app/scripts/models/board.js"),m=n("./packages/config/index.ts"),f=m.boxClientId,h=m.dropboxClientAppKey,v=m.oneDriveClientId,g=m.siteDomain,b=n("./app/scripts/models/card.js"),y=n("./app/scripts/lib/google-api.js"),k=n("./app/scripts/views/attachment/attachment-limit-exceeded-error.js"),w=n("./app/scripts/views/attachment/attachment-type-restricted-error.js"),j=n("./app/scripts/views/templates/popover_limit_exceeded.js"),_=n("./packages/keybindings/index.ts").isSubmitEvent,x=n("./app/scripts/views/lib/pop-over.js"),C=n("./node_modules/bluebird/js/browser/bluebird.js"),O=n("./app/scripts/views/internal/autocomplete/trello-completer-view.js"),S=n("./app/scripts/views/card/uploading-link-view.js"),E=n("./app/scripts/lib/util/index.js"),T=n("./app/scripts/views/internal/view.js"),P=n("./node_modules/underscore/underscore.js"),N=n("./app/scripts/views/internal/teacup-with-helpers.js")("attachment_type_picker"),I=n("./packages/analytics/index.ts").track,A=n("./packages/atlassian-analytics/index.ts").Analytics,D=n("./packages/feature-flag-client/index.ts").featureFlagClient,B=n("./app/scripts/lib/util/ninvoke.js"),R=n("./node_modules/effing/lib/index.js"),L=n("./node_modules/@atlassian/trello-error-ext/lib/create-custom.js"),M=n("./app/scripts/views/internal/pasted-file-name.js"),F=n("./app/scripts/lib/util/url/parse-trello-url.js"),V=n("./packages/browser/index.ts").dontUpsell,z=n("./app/scripts/views/lib/tooltip.js"),U=L("AttachmentTypePickerView::FileTooLarge"),H=N.renderable((function(e){var t=e.hasLargeAttachments,n=e.id,r=e.googleDriveReady,i=e.tipKey,o=e.tipData,a=e.defaultName,s=e.restrictedAttachmentTypes;null==i&&(i="tip-you-can-drag-and-drop-files-and-links-onto-cards-to-upload-them"),null==o&&(o={}),N.div(".error.js-file-too-large",{style:"margin: 12px 0 6px; display:none;"},(function(){t?N.format("that-file-size-exceeds-the-250mb-limit"):V()?N.div(".gold-promo",(function(){N.format("that-file-size-exceeds-the-10mb-limit")})):N.div(".gold-promo",(function(){N.format("that-file-size-exceeds-the-10mb-limit-but-if-you-upgrade-to"),N.icon("trello-gold","trello-gold-you-can-upload-files-up-to-250mb")}))})),N.ul(".pop-over-list",(function(){Array.from(s).includes("computer")?N.li((function(){return N.a(".disabled.js-attachment-restricted",{href:"#"},(function(){return N.format("computer")}))})):N.li(".uploader",(function(){return N.a(".fakefile",{href:"#"},(function(){return N.format("computer")})),N.form(".realfile",{action:"/1/card/".concat(n,"/attachments"),method:"post",enctype:"multipart/form-data"},(function(){return N.input({type:"hidden",name:"token",value:""}),N.input({type:"hidden",name:"format",value:"http"}),N.input(".js-attach-file",{type:"file",name:"file",tabindex:"-1",multiple:""})}))})),N.li((function(){return N.a(".js-attach-card",{href:"#"},(function(){return N.format("trello")})),N.li((function(){return N.a(".js-google-drive-attachment",{href:"#",class:N.classify({disabled:!r||Array.from(s).includes("google-drive"),"js-attachment-restricted":Array.from(s).includes("google-drive")})},(function(){return N.format("google-drive")}))})),N.li((function(){return N.a(".js-dropbox-attachment",{href:"#",class:N.classify({"disabled js-attachment-restricted":Array.from(s).includes("dropbox")})},(function(){return N.format("dropbox")}))})),N.li((function(){return N.a(".js-box-attachment",{href:"#",class:N.classify({"disabled js-attachment-restricted":Array.from(s).includes("box")})},(function(){return N.format("box")}))})),N.li((function(){return N.a(".js-one-drive-attachment",{href:"#",class:N.classify({"disabled js-attachment-restricted":Array.from(s).includes("onedrive")})},(function(){return N.format("onedrive")}))}))}))})),N.hr(),Array.from(s).includes("link")?N.ul(".pop-over-list",(function(){return N.li((function(){return N.a(".disabled.js-attachment-restricted",(function(){return N.format("attach-a-link")}))}))})):(N.label({for:"addLink"},(function(){N.format("attach-a-link")})),N.input(".attachment-add-link-input.js-attachment-url.js-autofocus",{type:"text",id:"addLink",placeholder:N.l("paste-any-link-here-ellipsis")}),N.div(".js-name-link.hide",(function(){return N.label({for:"nameLink"},(function(){N.format("link-name")})),N.input(".attachment-add-link-input.js-attachment-name",{type:"text",id:"nameLink",value:a})})),N.input(".js-add-attachment-url",{style:"margin: 0;",type:"submit",value:N.l("attach")})),N.hr(),N.p(".quiet.u-bottom",(function(){N.format(i,o)}))})),W=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(V,e);var t,n,m,T,L=(t=V,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function V(){return r(this,V),L.apply(this,arguments)}return n=V,T=[{key:"initClass",value:function(){this.prototype.viewTitleKey="attach from",this.prototype.events={"click .js-google-drive-attachment:not(.disabled)":"openGoogleDriveFilePicker","click .js-dropbox-attachment:not(.disabled)":"openDropboxFilePicker","click .js-one-drive-attachment:not(.disabled)":"openOneDriveFilePicker","click .js-box-attachment:not(.disabled)":"openBoxFilePicker","click .js-attach-card":"attachCard","change .js-attach-file":"startUpload","click .js-add-attachment-url":"addUrl","keydown .js-attachment-url":"keydown","keydown .js-attachment-name":"keydown","input .js-attachment-url":"toggleAttachmentNameInput","mouseenter .js-attachment-restricted":"showRestrictedTooltip","mouseleave .js-attachment-restricted":"hideRestrictedTooltip",'click a[href^="/gold"]':()=>I("Attachment","Open Trello Gold Promo - via Attachment Upload Limit"),'click a[href^="/business-class"]':()=>I("Card Detail","Attachments BC Ad")},this.prototype._scripts={dropbox:"https://www.dropbox.com/static/api/1/dropbox.js",box:"https://app.box.com/js/static/select.js",oneDrive:"https://js.live.net/v7.0/OneDrive.js"}}}],(m=[{key:"initialize",value:function(){return this.listenTo(y,"loaded",this.render)}},{key:"getCard",value:function(){return this.model instanceof b?this.model:this.model.getCard()}},{key:"getData",value:function(){for(var e in this._scripts){var t=this._scripts[e];this._loadOnce(t,(function(){}))}}},{key:"render",value:function(){var e,t,n,r,i;if(!this.getCard().canAttach())return this.getCard().isOverLimit("attachments","perCard")?this.$el.html(j("perCard")):this.getCard().getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(j("perBoard")),this;var o=null===(e=this.getCard())||void 0===e||null===(t=e.getBoard())||void 0===t?void 0:t.getOrganization(),a={id:this.getCard().id,hasLargeAttachments:(null===(n=d.me())||void 0===n?void 0:n.hasPremiumFeature("largeAttachments"))||(null==o?void 0:o.hasPremiumFeature("largeAttachments"))||!1,googleDriveReady:y.loaded,defaultName:this.options.defaultName,restrictedAttachmentTypes:(null===(r=this.getCard())||void 0===r||null===(i=r.getBoard())||void 0===i?void 0:i.getRestrictedAttachmentTypes())||[]};return null!=o&&o.isFeatureEnabled("plugins")||(a.tipKey="tip-you-can-attach-other-things-with-power-ups",a.tipData={url:"/power-ups?utm_source=trello&utm_medium=inapp&utm_content=attachments-menu&utm_campaign=power-ups"}),this.$el.html(H(a)),this}},{key:"startUpload",value:function(e){var t,n,r=this,i=c(e.target),o=this.$(".js-file-too-large").hide(),a=P.toArray(i[0].files),s=this.options;s.onStartUpload&&s.onStartUpload();var l=null===(t=this.getCard())||void 0===t||null===(n=t.getBoard())||void 0===n?void 0:n.getOrganization();return(a.length>0?P.any(a,(function(e){return!d.me().canUploadAttachment(e,l)}))?C.reject(U()):C.resolve(a).each((function(e){var t=null,n="cardAttachmentPickerInlineDialog",i={source:n,taskName:"create-attachment",subTask:"file"};D.get("dataeng.vitalstats-upload-attachment",!1)&&(t=A.startTask(i),i.traceId=t);var o=e.name||M();return B(r.getCard(),"upload",e,o,{traceId:t}).then((function(e){return t&&(A.sendTrackEvent({source:n,action:"uploaded",actionSubject:"attachment",actionSubjectId:"fileAttachment",attributes:{taskId:t}}),A.taskSucceeded(i)),r.trigger("attach",{mimeType:e.mimeType,name:r.options.defaultName||o,url:e.url})}),(function(e){return t&&(i.error=e,A.taskFailed(i)),C.reject(e)}))})):B(E,"uploadFile",d.myToken(),i)).then((function(){if(I("Card Detail","Upload Attachment Complete - Via Picker"),u.show("finished uploading","info","AjaxQueueUpload",2e3),x.hide(),s.onFinishUpload)return s.onFinishUpload()})).catch(U,(function(){return o.show(),I("Card Detail","Attachment","Upload Error - File Too Large")})).catch(k,(function(){return r.render(),I("Card Detail","Attachment","Upload Error - Limit Exceeded")})).catch(w,(function(){return x.hide(),s.onFinishUpload&&s.onFinishUpload(),u.show("attachment upload restricted","error","attachment",5e3),I("Card Detail","Attachment","Upload Error - Upload Restricted by Enterprise")})).done()}},{key:"_loadOnce",value:function(e,t){return null==window._loadedScripts&&(window._loadedScripts={}),window._loadedScripts[e]?t():c.getScript(e,(function(){return window._loadedScripts[e]=!0,t()}))}},{key:"attachLinks",value:function(e,t,n){var r=this;if(t)return this.$(".js-limit-exceeded").toggleClass("hide",!0),this.options.onStartUpload&&this.options.onStartUpload(this.model,e),x.pushView({view:S}),C.resolve(t).call("map",null!=n?n:function(e){return e}).each((function(t){var n=P.pick(t,"url","mimeType","name");return r.trigger("attach",n),C.fromNode((function(e){return r.getCard().uploadUrl(n,e)})).then((function(t){return I("Card Detail","Upload ".concat(e))}))})).then((function(){return x.hide()})).catch(k,(function(){return x.popView(),r.render(),I("Card Detail","Attachment","Upload Error - Limit Exceeded")})).catch(w,(function(){return u.show("link type restricted","error","attachment",5e3),x.hide()})).finally((function(){return r.options.onFinishUpload&&r.options.onFinishUpload(r.model,e)})).done()}},{key:"openGoogleDriveFilePicker",value:function(e){var t=this;return E.stop(e),B(gapi,"load","picker").then((function(){var e=y.validToken();return B(y,"authorize",e)})).then((function(e){var n=new google.picker.DocsView;n.setIncludeFolders(!0);var r=new google.picker.DocsView;return r.setIncludeFolders(!0),r.setSelectFolderEnabled(!0),r.setEnableTeamDrives(!0),(new google.picker.PickerBuilder).enableFeature(google.picker.Feature.MULTISELECT_ENABLED).enableFeature(google.picker.Feature.SUPPORT_TEAM_DRIVES).addView(n).addView(r).setOAuthToken(e).setCallback((function(e){return t.attachLinks("Google drive file",e.docs,R.id)})).build().setVisible(!0),c("iframe.picker-frame[src*=authserviceid]").attr("src",(function(){return c(this).attr("src").replace(/authserviceid/g,"fixgoogle")}))})).done()}},{key:"openDropboxFilePicker",value:function(e){var t=this;E.stop(e),this._loadOnce(this._scripts.dropbox,(function(){Dropbox.init({appKey:h}),Dropbox.choose({linkType:"preview",iframe:!0,success:function(e){return t.attachLinks("Dropbox file",e,(function(e){return{url:e.link,name:e.name}}))}}),c('iframe[src^="https://www.dropbox.com/chooser"]').parent().css("overflow","auto")}))}},{key:"openOneDriveFilePicker",value:function(e){var t=this;E.stop(e),this._loadOnce(this._scripts.oneDrive,(function(){C.try((function(){return new C((function(e,t){return window.OneDrive.open({clientId:v,action:"share",multiSelect:!0,openInNewWindow:!0,success:t=>e(t.value),cancel:()=>e([]),error:e=>t(e),advanced:{redirectUri:"".concat(g,"/onedrive_callback_7.html")}})}))})).then((function(e){return t.attachLinks("OneDrive file",e,(function(e){return{url:e.webUrl,name:e.name}}))})).done()}))}},{key:"openBoxFilePicker",value:function(e){var t=this;return E.stop(e),this._loadOnce(this._scripts.box,(function(){var e=new BoxSelect({clientId:f,linkType:"shared",multiselect:!0});return e.success((function n(r){return e.unregister(e.SUCCESS_EVENT_TYPE,n),t.attachLinks("Box file",r,R.id)})),e.launchPopup()}))}},{key:"keydown",value:function(e){if(_(e))return this.addUrl()}},{key:"addUrl",value:function(e){var t=this.$(".js-attachment-url").val().split(/\s+/),n=this.$(".js-attachment-name").val();/\S/.test(n)||(n=void 0),t=P.filter(t,(function(e){return/\S/.test(e)})),!P.isEmpty(t)&&t.length<10&&this.attachLinks("link",t,(function(e){return{url:e,name:n}}))}},{key:"attachCard",value:function(e){var t=this,n=new O({model:this.model,card:this.model,modelCache:this.modelCache,button:!0,onStartUpload:function(e){var n;return e instanceof b?(n=e.get("url"),t.attachLinks("card",[{url:n}])):e instanceof p?(n=e.get("url"),t.attachLinks("board",[{url:n}])):void 0}});return x.pushView({view:n})}},{key:"toggleAttachmentNameInput",value:function(e){var t=c(e.currentTarget).val(),n=F(t).type,r=["board","card"].includes(n),i=!/\S/.test(t);return this.$(".js-name-link").toggleClass("hide",r||i)}},{key:"showRestrictedTooltip",value:function(e){var t=this.$(e.target);return z.show(N.l("attachment-type-restricted"),t,!1,z.STYLE.MENU)}},{key:"hideRestrictedTooltip",value:function(){return z.hide()}}])&&i(n.prototype,m),T&&i(n,T),V}(T);W.initClass(),e.exports=W},"./app/scripts/views/card/card-copy-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/lib/alerts.js"),u=n("./app/scripts/db/auth.js"),d=n("./packages/keybindings/index.ts"),p=d.getKey,m=d.Key,f=n("./app/scripts/db/model-loader.js"),h=n("./app/scripts/views/lib/pop-over.js"),v=n("./app/scripts/views/card/card-limits-error.js").maybeDisplayLimitsErrorOnCardAdd,g=n("./app/scripts/lib/localize.js"),b=n("./app/scripts/views/label/label-limits-error-view.js"),y=n("./app/scripts/views/card/select-card-position.js"),k=n("./app/scripts/lib/util/index.js"),w=n("./app/scripts/views/internal/view.js"),j=n("./app/scripts/views/internal/templates.js"),_=n("./packages/analytics/index.ts").track,x=n("./packages/atlassian-analytics/index.ts").Analytics,C=n("./node_modules/effing/lib/index.js"),O=n("./node_modules/underscore/underscore.js"),S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(E,e);var t,d,y,w,S=(t=E,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function E(){return r(this,E),S.apply(this,arguments)}return d=E,w=[{key:"initClass",value:function(){this.prototype.viewTitleKey="copy card",this.prototype.showCurrentPosition=!0,this.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList","change .js-select-board":"updateBoardData",'keydown textarea[name="name"]':"keydownEvent","click .js-submit":"submit","submit form":"submit"}}}],(y=[{key:"initialize",value:function(e){return this.onCopy=null!=e.onCopy?e.onCopy:function(){}}},{key:"render",value:function(){var e=this.model.toJSON();e.numChecklists=this.model.checklistList.length,e.numMembers=e.idMembers.length,e.numLabels=null!=(null!=e.idLabels?e.idLabels.length:void 0)?null!=e.idLabels?e.idLabels.length:void 0:0,e.numAttachments=e.badges.attachments,e.numComments=e.badges.comments,e.numStickers=e.stickers.length,e.hasChecklists=e.numChecklists>0,e.hasMembers=e.idMembers.length>0,e.hasLabels=e.numLabels>0,e.hasAttachments=e.badges.attachments>0,e.hasStickers=e.stickers.length>0,e.hasComments=e.badges.comments>0&&!this.model.getBoard().isTemplate(),e.hasStuff=e.hasChecklists||e.hasMembers||e.hasLabels||e.hasAttachments||e.hasComments||e.hasStickers,e.loading=this.loading;var t,r,i=this.model.getBoard(),o=this.model.getBoard().getEnterprise();i.isGuest(u.me())&&i.get("enterpriseOwned")?(e.isCopy=!0,e.hasEnterprise=!0,e.enterpriseName=null!=o?o.get("displayName"):void 0,e.restrictToCurrentBoard=!0,e.organizations=[{displayName:(t=i.getOrganization(),r=function(e){return e.get("displayName")},(null!=t?r(t):void 0)||g("member boards.boards")),boards:[O.extend(i.toJSON(),{selected:!0})]}]):null!=o?(e.isCopy=!0,e.hasEnterprise=null!=o,i=null==this.model.getBoard().getMembershipFor(u.me())?i:null,e.organizations=u.me().getOpenBoardsInEnterpriseByOrg(!0,o.get("id"),i),e.enterpriseName=o.get("displayName")):(i=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?i:null,e.organizations=u.me().getOpenBoardsByOrg(!0,i));for(var a=0,s=Array.from(e.organizations);a<s.length;a++)for(var l=s[a],c=0,d=Array.from(l.boards);c<d.length;c++){var p=d[c];p.id===this.model.get("idBoard")&&(p.selected=!0)}var m={move_card_controls:j.move_card_controls};return this.$el.html(j.fill(n("./app/scripts/views/templates/card_copy.js"),e,{editable:this.model.editable()},m)),this.updateBoardData(),this}},{key:"getData",value:function(){var e=this;return this.loading=!0,Promise.all([f.loadCardCopyData(this.model.get("idBoard"),this.model.id),f.loadBoardMinimal(this.model.get("idBoard"))]).finally((function(){return e.loading=!1,e.render()}))}},{key:"keydownEvent",value:function(e){if(p(e)===m.Enter)return k.stop(e),void this.submit(e)}},{key:"submit",value:function(e){var t=this;k.stop(e);var n=this.$('textarea[name="name"]');if(""!==n.val().trim()){var r=this.$(".js-select-list").find("option:selected").val(),i=this.$(".js-select-board").find("option:selected").val(),o=this.modelCache.get("Board",i),a=null!=o?o.listList.get(r):void 0,s={$elem:this.$(e.target),hasChecklists:this.model.checklistList.length>0,hasAttachments:this.model.attachmentList.length>0,destinationBoard:o,destinationList:a};if(!v(s)){var l=this.$("input:checkbox:checked").get().map(C.get("name")),u=["start","due"].concat(l);if(i!==this.model.getBoard().id&&this.model.getLabels().length>0&&O.contains(u,"labels")&&o.isOverLimit("labels","perBoard"))return void h.pushView(new b);this.$(".js-submit").attr("disabled","disabled");var d=x.startTask({taskName:"create-card",subTask:"copy",source:"copyCardInlineDialog"});this.model.copyTo({name:n.val().trim(),idList:r,pos:this.$(".js-select-position").find("option:selected").val(),keepFromSource:u,traceId:d}).then((function(){h.hide(),t.onCopy(),_("Card","Copy Card"),x.sendTrackEvent({action:"copied",actionSubject:"card",source:"copyCardInlineDialog",containers:{card:{id:t.model.id},board:{id:t.model.getBoard().id}},attributes:{isCardTemplate:!!t.model.get("isTemplate"),isBoardTemplate:t.model.getBoard().isTemplate(),taskId:d}}),x.taskSucceeded({taskName:"create-card",subTask:"copy",source:"copyCardInlineDialog",traceId:d})})).catch((function(e){h.hide(),c.flash("could not copy card","error","create error"),x.sendOperationalEvent({action:"failed",actionSubject:"cardCopy",source:"copyCardInlineDialog",containers:{card:{id:t.model.id},board:{id:t.model.getBoard().id}},attributes:{isCardTemplate:!!t.model.get("isTemplate"),isBoardTemplate:t.model.getBoard().isTemplate(),taskId:d}}),x.taskFailed({taskName:"create-card",subTask:"copy",traceId:d,source:"copyCardInlineDialog",error:e})}))}}else n.focus().select()}}])&&i(d.prototype,y),w&&i(d,w),E}(w);S.initClass(),O.extend(S.prototype,y),e.exports=S},"./app/scripts/views/card/card-cover-chooser-popover.tsx":function(e,n,r){"use strict";r.r(n),r.d(n,"toggleCardCoverChooserPopover",(function(){return oe}));var i=r("./node_modules/react/index.js"),o=r.n(i),a=r("./app/common/lib/util/i18n/index.ts"),s=r("./packages/keybindings/index.ts"),l=r("./node_modules/classnames/index.js"),c=r.n(l),u=r("./app/src/components/CardCoverChooser/SuggestedSearches.less"),d=r.n(u),p=r("./packages/locale/index.ts");function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=Object(a.forTemplate)("card_cover_chooser"),v={productivity:"Productivity",perspective:"Perspective",organization:"Organization",colorful:"Colorful",nature:"Nature",business:"Business",minimal:"Minimal",space:"Space",animals:"Animal"},g=function(e){var t=e.onSelect;return o.a.createElement("div",null,o.a.createElement("h4",{className:d.a.heading},h("suggested-searches")),Object.entries(v).map((function(e){var n=m(e,2),r=n[0],i=n[1];return o.a.createElement("button",{className:c()("button",d.a.suggestedSearchButton),key:r,onClick:function(e){e.stopPropagation(),t(i)}},function(e,t){return"en-US"===p.currentLocale||"en-GB"===p.currentLocale||"en-AU"===p.currentLocale||h(e)===t?h(e):h(e)+" ("+t+")"}(r,i))})))},b=r("./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx"),y=r("./app/src/components/CardCoverChooser/SearchUnsplashQuery.generated.tsx"),k=r("./node_modules/underscore/underscore.js"),w=r("./packages/nachos/spinner.ts"),j=r("./app/src/components/InfiniteList/index.ts"),_=r("./app/src/components/CardCoverChooser/SearchResultImageButton.tsx"),x=r("./node_modules/react-transition-group/esm/Transition.js"),C=r("./app/src/components/CardCoverChooser/SearchResults.less"),O=r.n(C),S=r("./packages/unsplash/index.ts"),E=r("./packages/atlassian-analytics/index.ts");function T(e){return function(e){if(Array.isArray(e))return D(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||A(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function N(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function I(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||A(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function A(e,t){if(e){if("string"==typeof e)return D(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?D(e,t):void 0}}function D(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var B=Object(a.forTemplate)("card_cover_chooser"),R=function(e){var t=e.cardId,n=e.query,r=e.onSetCover,a=I(Object(i.useState)(n),2),s=a[0],l=a[1],u=I(Object(i.useState)(1),2),d=u[0],p=u[1],m=I(Object(i.useState)(!1),2),f=m[0],h=m[1],v=I(Object(i.useState)(!0),2),g=v[0],C=v[1],A=I(Object(i.useState)(!1),2),D=A[0],R=A[1],L=Object(y.a)({skip:!s.trim().length,variables:{query:s,perPage:24,page:1},notifyOnNetworkStatusChange:!0}),M=L.data,F=L.error,V=L.loading,z=L.fetchMore,U=Object(b.a)({variables:{cardId:t},fetchPolicy:"cache-only"}).data,H=null==U?void 0:U.card,W={organization:{id:null==H?void 0:H.board.idOrganization},board:{id:null==H?void 0:H.board.id},card:{id:null==H?void 0:H.id}},q=Object(i.useCallback)(Object(k.debounce)((function(e){p(1),C(!0),l(e),h(!1)}),500),[l,h]);Object(i.useEffect)((function(){h(!0),q(n)}),[n,q,h]);var G=M&&M.unsplashPhotos?M.unsplashPhotos:[],$=Object(i.useCallback)((function(){g&&!V&&(p((function(e){return e+1})),z({variables:{page:d+1},updateQuery:function(e,t){var n=t.fetchMoreResult;if(C(!!n&&24===n.unsplashPhotos.length),!n)return e;var r=new Set(e.unsplashPhotos.map((function(e){return e.id})));return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?P(Object(n),!0).forEach((function(t){N(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):P(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{unsplashPhotos:[].concat(T(e.unsplashPhotos),T(n.unsplashPhotos.filter((function(e){return!r.has(e.id)}))))})}}))}),[z,d,p,g,C,V,24]);if(F||D)return o.a.createElement("div",null,B("something-went-wrong"));if(!V&&s.trim().length&&!G.length)return o.a.createElement("div",{className:"quiet"},B("no-search-results"));var K=f||V,Y=!!G.length&&!f&&(!V||d>1);return o.a.createElement(o.a.Fragment,null,o.a.createElement("h4",{className:O.a.heading},B("search-results")),Y&&o.a.createElement(j.InfiniteList,{axis:"y",threshold:"30%",spinnerClassName:O.a.hideInfiniteListSpinner,itemCount:G.length,pageSize:24,awaitMore:!V&&g,loadMore:$,isLoading:V,itemsRenderer:function(e,t){return o.a.createElement("div",{className:c()(O.a.searchResultTiles,O.a.modFixedHeight),ref:function(e){return t(e)}},e)},renderItem:function(e,n){var i=G[e],a=i.urls,s=i.links,l=i.user;return o.a.createElement(_.a,{key:n,urls:a,links:s,user:l,index:e,cardId:t,onSetCover:r,onSetCoverFailed:function(){return R(!0)},buttonClassName:O.a.searchResultTilesItem,onClick:function(){return E.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"unplashCoverInlineDialog",attributes:{value:a.raw},containers:W})}})}}),o.a.createElement("div",{className:O.a.searchResultsFooter},o.a.createElement(x.a,{in:K,timeout:85},(function(e){return o.a.createElement("div",{className:c()(O.a.loadingColumn,{[O.a.isExiting]:"exiting"===e})},"exited"!==e&&o.a.createElement(w.a,{inline:!0,modLeft:!0,small:!0,text:B("loading")}))})),o.a.createElement("div",{className:O.a.unsplashColumn},B("photos-from-unsplash",{unsplashLink:o.a.createElement("a",{key:"a",className:O.a.unsplashLink,href:S.unsplashClient.attributionUrl,rel:"noreferrer noopener",target:"_blank"},"Unsplash")}))))},L=r("./app/src/components/CardCoverChooser/UnsplashSearch.less"),M=r.n(L),F=r("./packages/nachos/icons/close.tsx"),V=r("./packages/analytics/index.ts"),z=r("./app/src/components/CardCoverChooser/TopUnsplashPhotos.less"),U=r.n(z),H=Object(a.forTemplate)("card_cover_chooser"),W=function(e){var t=e.cardId,n=e.onSetCover,r=Object(y.a)({variables:{query:"",perPage:9,page:1},fetchPolicy:"cache-only"}).data,i=Object(b.a)({variables:{cardId:t},fetchPolicy:"cache-only"}).data,a=null==i?void 0:i.card,s={organization:{id:null==a?void 0:a.board.idOrganization},board:{id:null==a?void 0:a.board.id},card:{id:null==a?void 0:a.id}},l=r&&r.unsplashPhotos?r.unsplashPhotos:[];return l.length?o.a.createElement("div",null,o.a.createElement("h4",{className:U.a.heading},H("top-photos")),o.a.createElement("div",{className:U.a.unsplashTiles},l.slice(0,12).map((function(e,r){var i=e.urls,a=e.links,l=e.user,c=e.id;return o.a.createElement(_.a,{key:c,urls:i,links:a,user:l,index:r,cardId:t,onSetCover:n,onSetCoverFailed:function(){},buttonClassName:U.a.unsplashTilesItem,onClick:function(){return E.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"cardCoverInlineDialog",attributes:{value:i.raw},containers:s})}})}))),o.a.createElement("div",{className:U.a.searchResultsFooter},o.a.createElement("div",{className:U.a.unsplashColumn},H("photos-from-unsplash",{unsplashLink:o.a.createElement("a",{key:"a",className:U.a.unsplashLink,href:S.unsplashClient.attributionUrl,rel:"noreferrer noopener",target:"_blank"},"Unsplash")})))):null};function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=Object(a.forTemplate)("card_cover_chooser"),K=function(e){var t=e.cardId,n=e.onSetCover,r=Object(b.a)({variables:{cardId:t},fetchPolicy:"cache-only"}).data,a=r&&r.card,l={organization:{id:null==a?void 0:a.board.idOrganization},board:{id:null==a?void 0:a.board.id},card:{id:null==a?void 0:a.id}},u=Object(i.useRef)(null),d=q(Object(i.useState)(""),2),p=d[0],m=d[1],f=q(Object(i.useState)(!1),2),h=f[0],v=f[1],y=q(Object(i.useState)(!1),2),k=y[0],w=y[1],j=Object(i.useCallback)((function(){m(""),v(!1)}),[]);Object(s.useShortcut)((function(){j(),Object(V.track)("Card Cover Chooser","Clear Search","Via Escape Key")}),{scope:s.Scope.Popover,key:s.Key.Escape,enabled:h});var _=Object(i.useCallback)((function(e){if(m(e),u.current){var t=e.length;u.current.focus(),u.current.setSelectionRange(t,t),Object(V.track)("Card Cover Chooser","Click Suggestion",e)}}),[]),x=p.trim().length>0,C=!x,O=x,S=!x;return o.a.createElement("div",{className:M.a.unsplashSearch},o.a.createElement("div",{className:M.a.unsplashSearchInputSection},o.a.createElement("input",{type:"text",autoFocus:!0,onFocus:function(){E.Analytics.sendUIEvent({action:"focused",actionSubject:"input",actionSubjectId:"cardCoverUnsplashSearchInput",source:"unplashCoverInlineDialog",containers:l}),v(!0)},onBlur:function(){k||v(!1)},onChange:function(e){var t=e.currentTarget.value;m(t)},value:p,placeholder:$("search-unsplash-for-photos"),className:c()(M.a.unsplashSearchInput,"js-autofocus"),ref:u}),h&&p.length>0&&o.a.createElement("button",{className:c()("button",M.a.unsplashSearchClearButton),onMouseEnter:function(){return w(!0)},onMouseLeave:function(){return w(!1)},onClick:function(){w(!1),j(),Object(V.track)("Card Cover Chooser","Clear Search","Via Button")}},o.a.createElement(F.a,{size:"small",dangerous_className:M.a.unsplashSearchClearButtonIcon}))),C&&o.a.createElement(g,{onSelect:_}),S&&o.a.createElement(W,{cardId:t,onSetCover:n}),O&&o.a.createElement(R,{cardId:t,query:p,onSetCover:n}))};function Y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Z(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Z(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Z(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var J=function(e){var t=e.cardId,n=e.navigateToSelectCover,r=Object(b.a)({variables:{cardId:t},fetchPolicy:"cache-only"}).data,a=Y(Object(i.useState)(!1),2),s=a[0],l=a[1],c=null==r?void 0:r.card;return Object(i.useEffect)((function(){c&&!s&&(E.Analytics.sendScreenEvent({name:"unplashCoverInlineDialog",containers:{organization:{id:c.board.idOrganization},board:{id:c.board.id},card:{id:c.id}}}),l(!0))}),[c,s]),o.a.createElement(K,{cardId:t,onSetCover:n})},Q=r("./app/src/components/CardCoverChooser/SelectCover.tsx"),X=r("./app/src/components/ComponentWrapper/index.ts"),ee=r("./app/scripts/views/lib/pop-over.js"),te=r("./app/scripts/lib/plugins/plugin-validators.js"),ne=r("./app/scripts/views/plugin/plugin-pop-over-iframe-view.js"),re=Object(a.forNamespace)("view title"),ie=Object(a.forTemplate)("card_cover_chooser"),oe=function(e){var n=e.elem,r=e.cardId,i=e.boardId,a=o.a.createElement(X.ComponentWrapper,{key:"add-cover"},o.a.createElement(J,{cardId:r,navigateToSelectCover:function(){return ee.popView()}})),s=o.a.createElement(X.ComponentWrapper,{key:"select-cover"},o.a.createElement(Q.SelectCover,{cardId:r,boardId:i,navigateToAddCover:function(){ee.pushView({getViewTitle:function(){return ie("photo-search")},reactElement:a,displayType:"mod-card-cover-chooser"})},navigateToPluginCoverMenu:function(e){var n=e.title,r=e.url,i=e.height,o=e.board;if(!te.isValidUrlForIframe(r))throw t.NotHandled("Invalid url, must be http or https");if(i&&!te.isValidHeight(i))throw t.NotHandled("Invalid height, must be a positive number");ee.pushView({view:new ne({title:n,content:{url:r,height:i},model:o})})}}));ee.toggle({elem:n,getViewTitle:function(){return re("cover")},reactElement:s})}},"./app/scripts/views/card/card-limits-error.js":function(e,t,n){var r=n("./app/scripts/views/lib/limit-error-popover.js"),i="cardLimit";e.exports={canAddCard:function(e){var t=e.destinationBoard,n=e.destinationList;return!((null!=t?t.isOverLimit("cards","openPerBoard"):void 0)||(null!=t?t.isOverLimit("cards","totalPerBoard"):void 0)||(null!=n?n.isOverLimit("cards","openPerList"):void 0)||(null!=n?n.isOverLimit("cards","totalPerList"):void 0)||(null!=t?t.isOverLimit("attachments","perBoard"):void 0)||(null!=t?t.isOverLimit("checklists","perBoard"):void 0))},maybeDisplayLimitsErrorOnCardAdd:function(e){var t=e.$elem,n=e.hasChecklists,o=e.hasAttachments,a=e.destinationBoard,s=e.destinationList,l=(null!=a?a.isOverLimit("cards","openPerBoard"):void 0)?"card exceeds open per board limit":(null!=a?a.isOverLimit("cards","totalPerBoard"):void 0)?"card exceeds total per board limit":(null!=s?s.isOverLimit("cards","openPerList"):void 0)?"card exceeds open per list limit":(null!=s?s.isOverLimit("cards","totalPerList"):void 0)?"card exceeds total per list limit":o&&(null!=a?a.isOverLimit("attachments","perBoard"):void 0)?"card exceeds attachments per board limit":n&&(null!=a?a.isOverLimit("checklists","perBoard"):void 0)?"card exceeds checklists per board limit":void 0;return null!=l&&(r({elem:t,message:l,trackingArea:i,params:{boardName:a?a.get("name"):void 0,boardId:a?a.get("id"):void 0,listName:s?s.get("name"):void 0}}),!0)},maybeDisplayLimitsErrorOnCardOpen:function(e){var t=e.$elem,n=e.hasAttachments,o=e.destinationBoard,a=e.destinationList,s=(null!=o?o.isOverLimit("cards","openPerBoard"):void 0)?"card exceeds open per board limit":(null!=a?a.isOverLimit("cards","openPerList"):void 0)?"card exceeds open per list limit":n&&(null!=o?o.isOverLimit("attachments","perBoard"):void 0)?"card exceeds attachments per board limit":void 0;return null!=s&&(r({trackingArea:i,elem:t,message:s,params:{boardName:null!=o?o.get("name"):void 0,boardId:null!=o?o.get("id"):void 0,listName:null!=a?a.get("name"):void 0}}),!0)}}},"./app/scripts/views/card/card-list-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./packages/jquery/index.js"),p=n("./packages/browser/index.ts"),m=n("./app/scripts/views/card/card-view.js"),f=n("./app/scripts/views/internal/collection-view.js"),h=n("./app/scripts/views/lib/drag-sort.js"),v=n("./app/scripts/views/lib/post-render.js"),g=n("./app/scripts/views/internal/view.js"),b=n("./node_modules/underscore/underscore.js"),y=n("./app/scripts/views/card/chunkArray.ts").chunkArray,k=n("./app/scripts/debug/log.js"),w=n("./packages/feature-flag-client/index.ts").featureFlagClient,j=["chrome","firefox","opera"].includes(p.browserStr)||"windows"!==p.osStr?function(){}:b.debounce((function(){return v.enqueue("jostleBoard",(function(){return d("#board").css("bottom",1),b.defer((function(){return d("#board").css("bottom",0)}))}))})),_=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,e);var t,n=(t=o,function(){var e,n=u(t);if(c()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function o(){var e;return r(this,o),(e=n.apply(this,arguments)).debouncedRefreshIfInitialized=e.debounce(e.refreshIfInitialized,10),e}return a(o,[{key:"getModels",value:function(){return this.collection.models}}],[{key:"initClass",value:function(){this.prototype.viewType=m}}]),a(o,[{key:"initialize",value:function(){var e=this;i(u(o.prototype),"initialize",this).apply(this,arguments),w.get("fep.check-card-idboards",!1)&&this.listenTo(this.collection,"change:idBoard",(function(t,n){n!==e.collection.list.get("idBoard")&&e.removeModel(t)}))}},{key:"removeModel",value:function(e,t){if(!w.get("fep.check-card-idboards",!1)||this.existingSubviewOrUndefined(this.viewType,e))return i(u(o.prototype),"removeModel",this).apply(this,arguments)}},{key:"render",value:function(){var e=this;return k("render","rendering ".concat(this.getModels().length," ").concat(this.collection.model.name,"s into ").concat(this.viewType.name)),this.options.deferCards?v.enqueue("deferredCardList_".concat(this.cid),(function(){return e.progressiveRender()})):this.progressiveRender(),this}},{key:"progressiveRender",value:function(){var e=this,t=this.getModels(),n=function(t){return e.appendSubviews(Array.from(t).map((function(t){return e.subview(e.viewType,t)})))},r=Math.max(10,Math.ceil(window.innerHeight/32)),i=b.first(t,r);return n(i),y(b.rest(t,r),r).forEach((function(t,r){return v.enqueue("deferredHiddenCards_".concat(e.cid,"_chunk").concat(r),(function(){return n(t),j()}))}))}},{key:"insertSubview",value:function(e,t,n){null==n&&(n=this.$el),k("render","inserting ".concat(e.$el.find("h2").text()," at position ").concat(t)),"number"==typeof t?t=t<=0?n.children().eq(0):t<n.children().length?n.children().eq(t):void 0:t instanceof g&&(t=t.$el);var r=e.model;return e.$el.is(":empty")?(e.delegateEvents(),e.render()):n.hasClass("hide")||r.getBoard().filter.satisfiesFilter(r)||e.renderFiltered(),(null!=t?t.length:void 0)>0?e.$el.insertBefore(t):n.append(e.$el),this.debouncedRefreshIfInitialized()}},{key:"refreshIfInitialized",value:function(){return h.refreshIfInitialized(this.$el)}},{key:"scrollToCardView",value:function(e){var t=this.viewForModel(e);if(t){var n=t.$el[0];return this.$el.scrollTop(n.offsetTop+n.offsetHeight)}}}]),o}(f);_.initClass(),e.exports=_},"./app/scripts/views/card/card-member-select-view.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n("./packages/jquery/index.js"),f=n("./packages/action-history/index.ts").ActionHistory,h=n("./app/scripts/views/lib/alerts.js"),v=n("./app/scripts/db/auth.js"),g=n("./packages/react-dom-wrapper/index.ts"),b=n("./node_modules/react/index.js"),y=n("./app/scripts/network/api-error.js");v=n("./app/scripts/db/auth.js");var k=n("./app/scripts/models/card.js"),w=n("./app/scripts/lib/util/url/contains-valid-url.js"),j=n("./app/scripts/views/templates/invite_add_name.js"),_=n("./packages/keybindings/index.ts"),x=_.getKey,C=_.Key,O=n("./app/scripts/lib/localize.js"),S=n("./app/scripts/lib/localize-server-error.js"),E=n("./app/scripts/views/board-menu/member-limits-error.js").maybeDisplayMemberLimitsError,T=n("./app/scripts/db/model-cache.js"),P=n("./app/scripts/db/model-loader.js"),N=n("./app/scripts/views/lib/pop-over.js"),I=n("./node_modules/bluebird/js/browser/bluebird.js"),A=n("./app/scripts/views/member/select-member-on-card-view.js"),D=n("./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.js"),B=n("./app/scripts/lib/util/index.js"),R=n("./app/scripts/views/internal/view.js"),L=n("./node_modules/underscore/underscore.js"),M=n("./app/scripts/views/templates/popover_select_members.js"),F=n("./packages/atlassian-analytics/index.ts"),V=F.Analytics,z=F.tracingCallback,U=n("./packages/analytics/index.ts"),H=U.track,W=U.trackUe,q=U.trackDebounced,G=n("./app/scripts/lib/util/text/search-filter.js"),$=n("./packages/browser/index.ts").isDesktop(),K=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var t,i=(t=a,function(){var e,n=p(t);if(d()){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return c(this,e)});function a(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,a),(t=i.call(this,e)).wouldBecomeBillableGuest=t.wouldBecomeBillableGuest.bind(u(t)),t}return s(a,null,[{key:"initClass",value:function(){this.prototype.viewTitleKey="members",this.prototype.events={"click .js-board-members .js-select-member":"selectMem","click .js-org-members .js-select-member":"selectMem","click .js-suggestions .js-select-member":"addSuggestedMember","click .js-show-org-members":"showOrgMembers","mouseenter .pop-over-member-list .item":"hoverMemberSelect","input .js-search-mem"(e){return this.updateSearch(),this.renderSuggested()},keydown:"keydownEvent","click .js-send-email-invite":"sendEmailInvite","submit .js-email-data":"sendEmailInvite"}}}]),s(a,[{key:"initialize",value:function(){var e=this;return this.showAllOrgMembers=!1,this.wouldBecomeBillableGuestPromise=null,this.updateSearch=L.debounce(this.updateSearch,100),this.makeDebouncedMethods("renderMems","renderSuggested"),null!=this.model.memberList&&this.listenTo(this.model.memberList,"add remove reset",(function(){return e.updateOrdering(),e.renderMemsDebounced(),e.renderSuggestedDebounced()})),this.updateOrdering()}},{key:"remove",value:function(){return this.reactRoot&&g.unmountComponentAtNode(this.reactRoot),o(p(a.prototype),"remove",this).apply(this,arguments)}},{key:"updateOrdering",value:function(){var e=this;this._onCardMembers={},this._onListMembers={},this._onBoardMembers={};var t=function(e,t){return t.memberList.forEach((function(t){return e[t.id]=!0}))};return this.model instanceof k&&t(this._onCardMembers,this.model),this.model.getList().cardList.forEach(t.bind(null,this._onListMembers)),this.model.getBoard().listList.forEach((function(n){return n.cardList.forEach(t.bind(null,e._onBoardMembers))}))}},{key:"render",value:function(){var e=this.model.getBoard();return this.$el.html(M({canInviteMembers:!e.hasInvitationRestrictions()&&e.canInviteMembers(),includeOrgMembers:null!=e.getOrganization()&&e.canInviteMembers()||this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember(),placeholder:O("add member placeholder")})),this.renderMems(),this.renderSuggested()}},{key:"getSearch",value:function(){return this.$(".js-search-mem").val().trim()}},{key:"filteredMembers",value:function(e,t){var n=G(t);return L.chain(e).filter((function(e){return n(B.getMemNameArray(e))})).first(8).value()}},{key:"filteredBoardMembers",value:function(e){var t=this,n=this.activeBoardMembers().sortBy((function(e){return(v.isMe(e)?0:t._onCardMembers[e.id]?1:t._onListMembers[e.id]?2:t._onBoardMembers[e.id]?3:4)+e.get("fullName")}));return e?this.filteredMembers(n,e):n}},{key:"filteredOrgMembers",value:function(e){var t=this;if(this.showOrgSection()){var n=this.model.getBoard().getOrganization();return(null!=n?n.paysWithPurchaseOrder():void 0)&&(null!=n?n.isBusinessClass()||n.isStandard():void 0)?null==this.orgMembersPromise&&(this.orgMembersPromise=P.loadOrganizationMembersDataWithAvailableLicenseCount(n.id)):null==this.orgMembersPromise&&(this.orgMembersPromise=P.loadOrganizationMembersData(n.id)),this.orgMembersPromise.then((function(i){var o,a=(o=n.memberList.filterDeactivated({force:!0})).without.apply(o,r(Array.from(t.model.getBoard().memberList.models||[])));return e?t.filteredMembers(a,e):a}))}return[]}},{key:"hasSearch",value:function(){return""!==this.getSearch()}},{key:"showOrgSection",value:function(){return null!=this.model.getBoard().getOrganization()&&(this.showAllOrgMembers||this.hasSearch())}},{key:"renderMems",value:function(){var e=this,t=this.getSearch(),n={".js-board-members":this.filteredBoardMembers(t),".js-org-members":this.filteredOrgMembers(t)},r=this.showOrgSection();return this.$(".js-show-org-members").toggleClass("hide",r),this.$(".js-invite-results").toggleClass("hide",!B.checkEmail(t)),null!=this._renderMemsPromise&&this._renderMemsPromise.cancel(),this._renderMemsPromise=I.each(L.keys(n),(function(t){var i=e.$(t);if(0!==i.length){var o=i.find(".js-loading"),a=i.find(".js-no-results");return o.removeClass("hide"),a.addClass("hide"),I.resolve(n[t]).then((function(t){o.addClass("hide");var n=i.find(".js-mem-list");n.toggleClass("collapsed",t.length>9),a.toggleClass("hide",t.length>0),t.length>0&&(e.$(".js-board-members").removeClass("hide"),e.$(".js-invite-no-results").addClass("hide"),e.$(".js-org-members").toggleClass("hide",!r));var s=Array.from(t).map((function(t){return e.subview(A,t,{showUnconfirmed:!0,card:e.model})}));return e.ensureSubviews(s,n)}))}})).cancellable().then((function(){if(e.hasSearch()){var n=e.$el.find(".item").first();return n.length>0?B.selectMenuItem(e.$el,".item",n):e.renderEmailInviteToSearchResults({email:t})}})).done(),this}},{key:"activeBoardMembers",value:function(){return this.model.getBoard().memberList.filterDeactivated({force:!0})}},{key:"renderSuggested",value:function(){var e=this,t=this.$(".js-suggestions"),n=this.getSuggestedMembers(),r=!this.hasSearch()&&n.length>0&&this.activeBoardMembers().length>9;t.toggleClass("hide",!r);var i=t.find(".js-mem-list");if(r){var o=n.map((function(t){return e.subview(A,t,{card:e.model},"join-suggestion-".concat(t.id))}));this.ensureSubviews(o,i),q.hour("Suggestions","Card Members Menu","Displayed",n.length)}else i.empty();return this}},{key:"getSuggestedMembers",value:function(){var e=this,t=f.get(),n=this.model.get("idList"),i=new Set,o={action:{type:"join",idMember:v.myId()}},a=t.filter((function(e){var t=e.action,r=e.context;return"add-member"===t.type&&r.idList===n})).filter((function(e){var t=e.action;return!i.has(t.idMember)&&(i.add(t.idMember),!0)}));return[o].concat(r(Array.from(a))).filter((function(t){var n=t.action;return e.model.isValidSuggestion(n)})).map((function(t){var n=t.action;return e.modelCache.get("Member",n.idMember)})).slice(0,5).sort((function(e,t){if(v.isMe(e))return-1;if(v.isMe(t))return 1;var n=e.get("fullName").toLowerCase(),r=t.get("fullName").toLowerCase();return n.localeCompare(r)}))}},{key:"hoverMemberSelect",value:function(e){return B.selectMenuItem(this.$el,".item",e.currentTarget)}},{key:"keydownEvent",value:function(e){var t=x(e);[C.Tab,C.Enter].includes(t)?(B.stop(e),this.$(".js-mem-list .item.selected:first .js-select-member").first().click(),this.$(".js-search-mem").val(""),this.focusSearch(),this.renderMems()):[C.ArrowUp,C.ArrowDown].includes(t)&&(B.stop(e),B.navMenuList(this.$el,".item",t))}},{key:"updateSearch",value:function(e){return this.$(".js-invite-error").addClass("hide"),this.renderMems(),this.focusSearch()}},{key:"selectMem",value:function(e){B.stop(e);var t=this.model,n=m(e.currentTarget),r=n.closest(".item"),i=n.attr("idMember"),o="cardMemberSelectInlineDialog";if(!r.hasClass("active")){var a=this.model.getBoard(),s=T.get("Member",i);a.hasActiveMembership(s)||v.isMe(s)&&t.getBoard().isEditableByTeamMemberAndIsNotABoardMember()&&(h.show("woohoo-you-are-now-a-member-of-this-board","info","join-board",4e3),a.optimisticJoinBoard());var l="Card"===t.typeName?V.startTask({taskName:"edit-card",subTask:"idMembers",source:o}):"";t.addMemberWithTracing(i,l,z({taskName:"edit-card",subTask:"idMembers",traceId:l,source:o},(function(e,n){n&&V.sendUpdatedCardFieldEvent({field:"idMembers",source:o,containers:{card:{id:t.id},board:{id:t.get("idBoard")},list:{id:t.get("idList")}},attributes:{taskId:l}})}))),r.addClass("active"),H("Card","Change Member","Add Member");var c=this.model.getBoard().memberList.models,u=v.me().id;return c.forEach((function(e){if(e.get("id")===i&&e.get("idMemberReferrer")===u)return W("card","adds","invitee","to card","","",{member:u,addedMember:i})}))}var d="Card"===t.typeName?V.startTask({taskName:"edit-card",subTask:"idMembers",source:o}):"";t.removeMemberWithTracing(i,d,z({taskName:"edit-card",subTask:"idMembers",traceId:d,source:o},(function(e,n){n&&V.sendUpdatedCardFieldEvent({field:"idMembers",source:o,containers:{card:{id:t.id},board:{id:t.get("idBoard")},list:{id:t.get("idList")}},attributes:{taskId:d}})}))),r.removeClass("active"),H("Card","Change Member","Remove Member"),this.focusSearch()}},{key:"addSuggestedMember",value:function(e){var t=this;B.stop(e);var n=this.$(e.currentTarget).attr("idMember"),r="cardMemberSelectInlineDialog",i=V.startTask({taskName:"edit-card",subTask:"idMembers",source:r});this.model.addMemberWithTracing(n,i,z({taskName:"edit-card",subTask:"idMembers",traceId:i,source:r},(function(e,n){n&&V.sendUpdatedCardFieldEvent({field:"idMembers",source:r,containers:{card:{id:t.model.id},board:{id:t.model.get("idBoard")},list:{id:t.model.get("idList")}},attributes:{taskId:i}})}))),H("Card","Suggested",v.isMe(n)?"Join":"Add Member"),this.focusSearch()}},{key:"focusSearch",value:function(){this.$(".js-search-mem").focus()}},{key:"showOrgMembers",value:function(e){this.showAllOrgMembers=!0,this.renderMems()}},{key:"wouldBecomeBillableGuest",value:function(e){var t=n("./app/scripts/network/api-promise.js"),r=this.model.getBoard();if(!r.hasOrganization())return I.resolve(!1);var i=r.getOrganization();return i&&!i.isFeatureEnabled("multiBoardGuests")?I.resolve(!1):t({url:"/1/search/members/",type:"get",data:{idBoard:null!=r?r.id:void 0,query:e},dataType:"json"}).then((function(e){return 1===e.length&&e[0].wouldBecomeBillableGuest}))}},{key:"renderEmailInviteToSearchResults",value:function(e){var t=this;this.$(".js-invite-no-results").removeClass("hide");var n=L.compact(B.removeDomainFromEmailAddress(e.email).split(/[\s\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/)).join(" ").replace(/[\d\x21-\x2F\x3A-\x40\x5B-\x60\x7B-\x7F]+/,""),r=this.model.getBoard(),i=null!=r?r.getOrganization():void 0;L.extend(e,{fullName:B.toTitleCase(n),canAddAsObserver:null!=i?i.isFeatureEnabled("observers"):void 0,modelType:"Board",isLoading:!0,isOrgAdmin:null!=i?i.owned():void 0,isDesktop:$});var o=B.checkEmail(e.email),a=!(null!=r?r.hasInvitationRestrictions():void 0)&&o&&(null!=r?r.canInviteMembers():void 0);if(this.$(".js-board-members").addClass("hide"),this.$(".js-org-members").addClass("hide"),a)return this.$(".js-invite-no-results").addClass("hide"),this.$(".js-invite-results").html(j(e)).removeClass("hide"),null!=this.wouldBecomeBillableGuestPromise&&this.wouldBecomeBillableGuestPromise.cancel(),this.wouldBecomeBillableGuestPromise=this.wouldBecomeBillableGuest(e.email).cancellable().then((function(n){if(L.extend(e,{isLoading:!1,wouldBecomeBillableGuest:n,availableLicenseCount:null!=i?i.getAvailableLicenseCount():1/0}),t.$(".js-invite-results").html(j(e)),n){var r=b.createElement(D,{displayOrg:i,isDesktop:$});if(t.reactRoot=t.$(".js-billable-guests-alert")[0])return g.render(r,t.reactRoot)}})).catch(y,(function(n){var r=S(n);return L.extend(e,{isLoading:!1,error:r}),t.$(".js-invite-results").html(j(e))})).catch(I.CancellationError)}},{key:"_getNewMemberId",value:function(e,t,r,i){var o=n("./app/scripts/network/api-promise.js"),a=L.first(L.difference(e,t));return null!=a?(H("Invitations","Send Email Board Invite to New Member","Role: ".concat(r)),I.resolve(a)):o({url:"/1/search/members/",type:"get",data:L.extend({query:i},this.model.getBoard().getInviteURLParams()),dataType:"json"}).then((function(e){if(e.length>0)return e[0].id}))}},{key:"sendEmailInvite",value:function(e){var t=this,r=n("./app/scripts/network/api-promise.js");B.stop(e);var i=this.$(".js-send-email-invite");if(null==i.attr("disabled")){var o=this.$(".js-email-data .js-full-name"),a=o.val().trim(),s=this.$(".js-email-data .js-email").val().trim();if(!B.validName(a))return B.setCaretAtEnd(o),void m(".js-name-error").show();if(w(a))return B.setCaretAtEnd(o),void m(".js-name-error-url").show();var l={fullName:a,email:s,type:"normal",allowBillableGuest:!0};this.$("#addAsObserver").is(":checked")&&(l.type="observer");var c=this.model.getBoard();if(!E(m(e.target),c)){i.attr("disabled","disabled");var u=L.pluck(c.memberList.models,"id");r({url:"/1/board/".concat(c.id,"/members"),type:"put",data:l}).then((function(e){var n=e.members,r=L.pluck(n,"id");return t._getNewMemberId(r,u,l.type,s)})).then((function(e){if(null!=e){var n="cardMemberSelectInlineDialog",r=V.startTask({taskName:"edit-card",subTask:"idMembers",source:n});return t.model.addMemberWithTracing(e,r,z({taskName:"edit-card",subTask:"idMembers",traceId:r,source:n},(function(e,i){if(i)return V.sendUpdatedCardFieldEvent({field:"idMembers",source:n,containers:{card:{id:t.model.id},board:{id:t.model.get("idBoard")},list:{id:t.model.get("idList")}},attributes:{taskId:r}}),t.$(".js-send-email-invite").removeAttr("disabled"),N.hide()}))),H("Card","Change Member","Add Member")}})).catch(y,(function(e){var n=S(e);t.$(".js-invite-error").removeClass("hide").find(".error").html(n),t.$(".js-uninvited-search-results").empty().hide(),i.removeAttr("disabled"),m("js-search-mem").focus().select(),H("Invitations","Error",null!=e.message?e.message:e.responseText)}))}}}}]),a}(R);K.initClass(),e.exports=K},"./app/scripts/views/card/card-move-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/react/index.js"),u=n("./node_modules/underscore/underscore.js"),d=n("./packages/action-history/index.ts").ActionHistory,p=n("./app/scripts/views/lib/alerts.js"),m=n("./app/scripts/network/api-ajax.js"),f=n("./app/scripts/db/auth.js"),h=n("./app/scripts/views/lib/dialog.js"),v=n("./app/scripts/lib/localize.js"),g=n("./app/scripts/views/lib/pop-over.js"),b=n("./app/scripts/views/card/card-limits-error.js").maybeDisplayLimitsErrorOnCardAdd,y=n("./app/scripts/views/label/label-limits-error-view.js"),k=n("./app/scripts/views/card/select-card-position.js"),w=n("./app/scripts/views/internal/view.js"),j=n("./app/scripts/views/internal/templates.js"),_=n("./packages/analytics/index.ts"),x=_.track,C=_.trackDebounced,O=n("./packages/feature-flag-client/index.ts").featureFlagClient,S=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,E=n("./app/src/components/MoveCardPopover/index.ts").MoveCardPopover,T=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(P,e);var t,k,w,_,T=(t=P,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function P(){return r(this,P),T.apply(this,arguments)}return k=P,_=[{key:"initClass",value:function(){this.prototype.viewTitleKey="move card",this.prototype.events={"change .js-select-position":"renderValues","change .js-select-list":"updatePositionList","change .js-select-board":"updateBoardData","click .js-submit":"commitChange","click .js-suggested-move":"suggestedMove"}}}],(w=[{key:"initialize",value:function(e){var t=e.onCommit;return this.onCommit=null!=t?t:function(){},this.listenTo(f.me().boardList,"add remove reset",this.render)}},{key:"render",value:function(){var e,t,r={},i=this.model.getBoard(),o=this.model.getBoard().getEnterprise();i.isGuest(f.me())&&i.get("enterpriseOwned")?(r.isMove=!0,r.hasEnterprise=!0,r.enterpriseName=null!=o?o.get("displayName"):void 0,r.restrictToCurrentBoard=!0,r.organizations=[{displayName:(e=i.getOrganization(),t=function(e){return e.get("displayName")},(null!=e?t(e):void 0)||v("member boards.boards")),boards:[u.extend(i.toJSON(),{selected:!0})]}]):null!=o?(r.isMove=!0,r.hasEnterprise=!0,i=null==this.model.getBoard().getMembershipFor(f.me())?i:null,r.organizations=f.me().getOpenBoardsInEnterpriseByOrg(!0,o.get("id"),i),r.enterpriseName=o.get("displayName")):(i=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?i:null,r.organizations=f.me().getOpenBoardsByOrg(!0,i));for(var a=0,s=Array.from(r.organizations);a<s.length;a++)for(var l=s[a],d=0,p=Array.from(l.boards);d<p.length;d++){var m=p[d];m.id===this.model.get("idBoard")&&(m.selected=!0,i=m)}r.suggestions=this.getSuggestedMoves();var h={move_card_controls:j.move_card_controls};return O.get("fep.nachos_select",!1)?S(c.createElement(E,{organizations:r.organizations,defaultBoardId:i.id,defaultBoardName:i.name,defaultListId:this.model.getList().id,defaultListName:this.model.getList().get("name"),cardList:this.model.getList().cardList,currentIndex:this.model.getList().openCards().indexOf(this.model),onSubmit:this.requestChange.bind(this),hasEnterprise:r.hasEnterprise,enterpriseName:r.enterpriseName,restrictToCurrentBoard:r.restrictToCurrentBoard,isMove:r.isMove,suggestions:this.getSuggestedMoves()}),this.$el.get(0)):(h={move_card_controls:j.move_card_controls},this.$el.html(j.fill(n("./app/scripts/views/templates/popover_move_card.js"),r,{},h))),this.updateBoardData(),r.suggestions.length>0&&C.hour("Suggestions","Card Move Menu","Displayed",r.suggestions.length),this}},{key:"getSuggestedMoves",value:function(){var e=this,t=d.get(),n=this.model.getBoard(),r=this.model.getList(),i=this.model.get("idList"),o=this.model.get("idBoard"),a=new Set;return t.filter((function(e){var t=e.action,n=e.context;return"move"===t.type&&n.idList===i&&t.idBoard===o})).sort((function(e,t){if(e.action.idList===t.action.idList){var n="string"==typeof e.action.position,r="string"==typeof t.action.position;return n&&!r?-1:r&&!n?1:0}return 0})).filter((function(e){var t=e.action;return!a.has(t.idList)&&(a.add(t.idList),!0)})).filter((function(t){var n=t.action;return e.model.isValidSuggestion(n)})).slice(0,5).map((function(e){var t=e.action,i=n.listList.get(t.idList),o=i.toJSON();return o.direction=i.get("pos")>r.get("pos")?"right":"left",o.position=t.position,o}))}},{key:"suggestedMove",value:function(e){var t=this.$(e.currentTarget),n=t.attr("data-id"),r=this.model.getBoard().listList.get(n),i=function(){switch(t.attr("data-position")){case"top":return 0;case"1":return 1;default:return r.cardList.length}}();b({$elem:t,destinationList:r})||(this.model.moveToList(r,i),x("Card","Suggested","Move on Same Board"),this.onCommit(),g.hide())}},{key:"commitChange",value:function(e){var t=this.$(".js-select-board"),n=this.$(".js-select-list"),r=this.$(".js-select-position"),i=t.find("option:selected").val(),o=n.find("option:selected").val(),a=r.find("option:selected").val(),s=parseInt(r.find("option:selected").prop("index"),10);return this.requestChange(e,i,o,a,s)}},{key:"requestChange",value:function(e,t,n,r,i){var o,a,s=this;if(t===this.model.getBoard().id){if(o=this.model.getBoard().listList.get(n),a={$elem:this.$(e.target),destinationList:o},b(a))return;this.model.moveToList(o,i),x("Card","Move Menu","Same Board")}else if(null!=t&&null!=n&&null!=r){var l=this.modelCache.get("Board",t);if(o=null!=l?l.listList.get(n):void 0,a={$elem:this.$(e.target),hasChecklists:this.model.checklistList.length>0,hasAttachments:this.model.attachmentList.length>0,destinationBoard:l,destinationList:o},b(a))return;if(this.model.getLabels().length>0&&l.isOverLimit("labels","perBoard"))return void g.pushView(new y);x("Card","Move Menu","Changed Board");var c=null!=o?o.openCards().length:void 0;this.model.recordAction({type:"move",idBoard:t,idList:n,position:function(){switch(r){case"top":return c>0?"top":i;case"bottom":return c>1?"bottom":i;default:return i}}(),fromPosition:this.model.getList().openCards().indexOf(this.model)}),this.model.getList().cardList.remove(this.model),h.hide(),m({url:"/1/cards/".concat(this.model.id),type:"put",data:{idList:n,idBoard:t,pos:r},success:function(e){return s.model.board=null,s.model.set("idBoard",e.idBoard),s.model.set("idList",e.idList),s.model.set("pos",e.pos)},error:function(e){s.model.getList().cardList.add(s.model);var t=null!=e.responseJSON?e.responseJSON.error:void 0;return"BOARD_TOO_MANY_CUSTOM_FIELDS"===t?p.show("too many custom fields card","error","moveerror",8e3):"CUSTOM_FIELD_TOO_MANY_OPTIONS"===t?p.show("too many custom options card","error","moveerror",8e3):p.show("could not move card","error","moveerror",5e3)}})}this.onCommit(),g.hide()}}])&&i(k.prototype,w),_&&i(k,_),P}(w);T.initClass(),u.extend(T.prototype,k),e.exports=T},"./app/scripts/views/card/card-view-attachment.js":function(e,t,n){var r=n("./packages/atlassian-analytics/index.ts").Analytics,i=n("./packages/feature-flag-client/index.ts").featureFlagClient,o=n("./app/scripts/lib/util/index.js"),a=n("./app/scripts/views/internal/warn-if-file-too-large.js"),s=n("./app/scripts/views/internal/pasted-file-name.js"),l=n("./app/scripts/lib/util/ninvoke.js"),c=n("./app/scripts/views/lib/alerts.js"),u=n("./node_modules/bluebird/js/browser/bluebird.js");e.exports.dragenter=function(e){if(this.model.editable()){var t=this.$el.outerHeight(),n=!this.model.canAttach(),r=!this.model.canDropAttachment(e.type),i=r?".list-card-dropzone-restricted":n?".list-card-dropzone-limited":".list-card-dropzone";return this.$(i).css({height:"".concat(t,"px"),"line-height":"".concat(t,"px")}),this.$el.addClass("is-drophover").toggleClass("is-restricted",r).toggleClass("is-limited",n)}},e.exports.dragleave=function(e){return this.$el.removeClass("is-drophover")},e.exports.dropFiles=function(e){var t=this;if(this.model.canAttach()&&!this.model.attachmentTypeRestricted("computer")){var n=e.detail;if(!a(this.model.getBoard(),n))return u.resolve(n).each((function(e){var n=e.name||s(),o=null,a="cardViewAttachment",c={source:a,taskName:"create-attachment",subTask:"file"};return i.get("dataeng.vitalstats-upload-attachment",!1)&&(o=r.startTask(c),c.traceId=o),l(t.model,"upload",e,n,{traceId:o}).then((function(e){return o&&(r.sendTrackEvent({source:a,action:"uploaded",actionSubject:"attachment",actionSubjectId:"fileAttachment",attributes:{taskId:o}}),r.taskSucceeded(c)),e}),(function(e){return o&&(c.error=e,r.taskFailed(c)),u.reject(e)}))})).catch((function(){return c.show("unable to upload file","error","upload",5e3)})).done(),e.stopPropagation()}else o.stop(e)},e.exports.dropUrl=function(e){if(this.model.canAttach()&&!this.model.attachmentTypeRestricted("link")){var t=e.detail;if(!this.model.getBoard().attachmentUrlRestricted(t))return this.model.uploadUrl(t),e.stopPropagation()}else o.stop(e)}},"./app/scripts/views/card/card-view-cover.js":function(e,t){e.exports.showCover=function(){return this.model.getBoard().getPref("cardCovers")&&this.model.hasCover()&&!this.onCalendar}},"./app/scripts/views/card/card-view-helpers.js":function(e,t,n){var r=n("./app/scripts/views/member-menu-profile/card-member-menu-view.js"),i=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/lib/util/index.js"),a=n("./app/scripts/views/templates/member_on_card.js"),s={openMemberOnCardMenu(e){o.stop(e);var t=this.$(e.target).closest(".member"),n=t.attr("data-idmem"),a=this.modelCache.get("Member",n),s=this.model,l=this.model.getBoard();i.toggle({elem:t,view:r,options:{model:a,modelCache:this.modelCache,card:s,board:l}})},getMemberOnCardHtml(e){var t,n,r=e.toJSON(),i=this.model.getBoard();return r.isVirtual=(t=i.getOrganization(),n=function(t){return t.isVirtual(e)},(null!=t?n(t):void 0)||i.isVirtual(e)),r.isDeactivated=i.isDeactivated(e),a(r)}};e.exports=s},"./app/scripts/views/card/card-view-label.js":function(e,t,n){var r=n("./app/scripts/view-models/label-state.js"),i=n("./packages/analytics/index.ts").track;e.exports.labelClick=function(e){if(!e||!(e.ctrlKey||e.metaKey||e.shiftKey)){var t,n,o=r.getShowText();return i("Toggle Labels Text on Card Front",o?"Hide":"Show",(t=this.model.getBoard(),n=function(e){return e.id},null!=t?n(t):void 0),"click-label"),e.preventDefault(),e.stopPropagation(),r.toggleText()}},e.exports.labelMouseEnter=function(e){return this.$el.addClass("card-labels-hover")},e.exports.labelMouseLeave=function(e){return this.$el.removeClass("card-labels-hover")}},"./app/scripts/views/card/card-view-lists.js":function(e,t,n){var r=n("./node_modules/underscore/underscore.js"),i=n("./app/scripts/views/card/should-fire-confetti.ts").shouldFireConfetti,o=n("./node_modules/canvas-confetti/dist/confetti.module.mjs").default;e.exports.moveTo=function(e,t,n,a){if(0!==t.item.parents(".js-list").length){var s=t.item.parents(".js-list").find(".list-card:not(.placeholder,.js-composer)").index(t.item);if(!a){if(i(n.model.get("name"))){var l=t.item.offset(),c=t.item.height(),u=t.item.width();o({angle:r.random(55,125),spread:r.random(50,70),particleCount:r.random(40,75),origin:{x:(l.left+u/2)/window.innerWidth,y:(l.top+c/2)/window.innerHeight}})}t.item.remove()}this.model.moveToList(n.model,s)}else null!=n&&n.renderCards()},e.exports.moveIn=function(e,t,n){n.model.id===this.model.get("idList")&&this.moveTo(e,t,n,!0)}},"./app/scripts/views/card/card-view-mixins.js":function(e,t,n){var r=n("./packages/atlassian-analytics/index.ts"),i=r.Analytics,o=r.tracingCallback,a=n("./packages/browser/index.ts"),s=n("./app/scripts/lib/dates.js"),l=n("./app/scripts/views/internal/due-date-helpers.js"),c=n("./app/common/lib/util/preview.ts").makePreviewCachable,u=n("./app/scripts/models/label.js"),d=n("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),p=n("./app/scripts/views/internal/plugins/plugin-runner.js"),m=n("./node_modules/underscore/underscore.js"),f=n("./app/scripts/views/templates/label.js"),h=n("./app/scripts/lib/plugins/plugin-cover-with-defaults.js"),v=n("./app/scripts/lib/plugins/plugin-validators.js"),g=n("./app/scripts/views/internal/teacup-with-helpers.js")("badge"),b=n("./app/scripts/lib/localize.js"),y=n("./packages/feature-flag-client/index.ts"),k=y.featureFlagClient,w=y.seesVersionedVariation,j=n("./app/scripts/lib/util/index.js"),_=n("./packages/unsplash/index.ts").UnsplashTracker,x=n("./app/scripts/views/card/should-fire-confetti.ts").shouldFireConfetti,C=n("./node_modules/canvas-confetti/dist/confetti.module.mjs").default,O=g.renderable((function(e){var t=e.archived,n=e.attachments,r=e.attachmentsByType,i=e.checkItems,o=e.checkItemsChecked,a=e.checkItemsEarliestDue,c=e.comments,u=e.description,d=e.due,p=e.dueComplete,m=e.location,f=e.notifications,h=e.start,v=e.subscribed,y=e.viewingMemberVoted,j=e.votes,_=e.isOnBoardTemplate,x=e.hideVotes,C=e.isCardTemplate,O=e.showDueCompleteCheckbox;C&&g.div(".badge.is-template",{title:b("badge.template")},(function(){return g.span(".badge-icon.icon-sm.icon-template-card"),g.span(".badge-text",(function(){return g.format("template")}))})),f&&g.div(".badge.is-unread-notification",{title:b("badge.notifications")},(function(){return g.span(".badge-icon.icon-sm.icon-notification"),g.span(".badge-text",(function(){return g.text(f)}))})),v&&g.div(".badge.is-icon-only",{title:b("badge.watch")},(function(){return g.span(".badge-icon.icon-sm.icon-subscribe")})),j>0&&!C&&(x?x&&y&&g.div(".badge",{title:b("badge.votes"),class:g.classify({"is-voted":y})},(function(){return g.span(".badge-icon.icon-sm.icon-vote")})):g.div(".badge",{title:b("badge.votes"),class:g.classify({"is-voted":y})},(function(){return g.span(".badge-icon.icon-sm.icon-vote"),g.span(".badge-text",(function(){return g.text(j)}))})));var S=k.get("ecosystem.timeline-version","none"),E=function(e){g.div(".badge.js-due-date-badge",{title:l.titleForDueDate(d,p),class:g.classify({"mod-due-date":O,[l.classForDueDate(d,p)]:!0})},(function(){return g.span(".badge-icon.icon-sm.icon-clock.badge-due-icon"),O&&(g.span(".badge-icon.icon-sm.icon-checkbox-checked.badge-due-checked"),g.span(".badge-icon.icon-sm.icon-checkbox-unchecked.badge-due-unchecked")),g.span(".badge-text.js-due-date-text",(function(){return g.text(e)}))}))};w("ecosystem.timeline-version","beta")&&!C?h&&d&&h<=d?E("".concat(s.toDateString(h)," - ").concat(s.toDateString(d))):d?E("".concat(s.toDateString(d))):h&&g.div(".badge.js-start-date-badge",(function(){g.span(".badge-icon.icon-sm.icon-clock"),g.span(".badge-text.js-start-date-text",(function(){g.text(b(l.relativeInforForStartDate(h),{date:s.toDateString(h)}))}))})):(h&&!C&&"none"!==S&&g.div(".badge.js-start-date-badge",(function(){g.span(".badge-icon.icon-sm.icon-clock"),g.span(".badge-text.js-start-date-text",(function(){g.text(s.toDateString(h))}))})),d&&!C&&E(s.toDateString(d))),u&&g.div(".badge.is-icon-only",{title:b("badge.description")},(function(){return g.span(".badge-icon.icon-sm.icon-description")})),c>0&&!_&&g.div(".badge",{title:b("badge.comments")},(function(){return g.span(".badge-icon.icon-sm.icon-comment"),g.span(".badge-text",(function(){return g.text(c)}))}));var T=r?r.trello.board+r.trello.card:0;if((n-=T)>0&&g.div(".badge",{title:b("badge.attachments")},(function(){return g.span(".badge-icon.icon-sm.icon-attachment"),g.span(".badge-text",(function(){return g.text(n)}))})),T>0&&g.div(".badge",{title:b("badge.trello attachments")},(function(){return g.span(".badge-icon.icon-sm.icon-board"),g.span(".badge-text",(function(){return g.text(T)}))})),i>0&&g.div(".badge.js-checkitems-badge",{title:b("badge.checkitems"),class:g.classify({"is-complete":o===i,[l.classForDueDate(a,!1)]:null!=a})},(function(){return g.span(".badge-icon.icon-sm.icon-checklist"),g.span(".badge-text.js-checkitems-badge-text",(function(){if(g.text(o),g.text("/"),g.text(i),a)return g.text(" • "),g.text(s.toDateString(a))}))})),t&&g.div(".badge",{title:b("badge.archived.title")},(function(){return g.span(".badge-icon.icon-sm.icon-archive"),g.span(".badge-text",(function(){return g.text(b("badge.archived.text"))}))})),m)return g.div(".badge",{title:b("badge.location")},(function(){return g.span(".badge-icon.icon-sm.icon-location")}))}));function S(e,t){return null!=e?t(e):void 0}e.exports={clearCover(){return this.$el.removeClass("is-covered"),this.$(".js-card-stickers").css("height",""),this.$(".js-card-cover").css({"background-origin":"","background-image":"","background-color":"",height:"",padding:""}).removeClass("is-no-preview-size color-card-cover"),this.clearColorCover()},clearColorCover(){return this.$(".js-card-cover").removeClass((function(e,t){return(t.match(/\bcolor-card-cover-\S+/g)||[]).join(" ")}))},renderCover(){var e,t=this.model.getBoard();if(!t.getPref("cardCovers")||this.onCalendar)return this.clearCover(),this.clearFullCover(),this;if(!this.model.hasCover())return this.renderPluginCover(),this;var n=this.model.get("cover"),r=n.idAttachment,i=n.idUploadedBackground,o=n.color,s=n.scaled,l=n.edgeColor,u=n.sharedSourceUrl,d=n.size,p=n.idPlugin,m=this.$(".js-card-cover"),f=this.$(".js-card-stickers");if(this.clearColorCover(),"full"===d&&this.shouldRenderFullCover())return this.renderFullCover();this.clearFullCover();var h=p&&t.isPluginEnabled(p);if(o)e=this.model.hasStickers()?64:32,m.css({"background-color":"","background-image":"","background-size":"",height:e}).toggleClass("is-no-preview-size",!1),m.addClass("color-card-cover color-card-cover-".concat(o)),f.css("height",e);else if(r||i||h){var v,g=a.isHighDPI()?600:300,b=null!=(v=j.smallestPreviewBiggerThan(s,g))?v:j.biggestPreview(s);if(null==b&&r&&null!=this.model.attachmentList){var y=this.model.attachmentList.get(this.model.get("idAttachmentCover"));if(null==y)return null;b={url:y.get("url")}}if(m.css({"background-color":null!=l?l:"transparent","background-image":'url("'.concat(c(b.url),'")')}).toggleClass("is-no-preview-size",null==b),null!=b){var k=Math.min(b.height,260);(e=245*b.height/b.width)<=k?(m.css({height:e,"background-size":"cover"}),f.css("height",e)):(m.css({height:k,"background-size":"contain"}),f.css("height",k)),i&&_.trackOncePerInterval(u)}}return this.$el.addClass("is-covered"),this},clearFullCover(){return this.$(".js-card-stickers").css("height",""),this.$el.removeClass((function(e,t){var n=t.match(/\bcolor-card-cover-\S+/g)||[];return n.push("full-cover-list-card"),n.push("full-cover-list-card-dark"),n.join(" ")})),this.$el.css({"background-size":"","background-image":"","background-position":"","background-repeat":"","background-color":"","min-height":""})},renderFullCover(){this.clearCover(),this.clearFullCover();var e=this.model.get("cover"),t=e.color,n=e.scaled,r=e.edgeColor,i=e.brightness,o=e.idPlugin;if(o&&!this.model.getBoard().isPluginEnabled(o))return this;if(this.$el.addClass("full-cover-list-card"),"dark"===i&&this.$el.addClass("full-cover-list-card-dark"),t)this.$el.addClass("color-card-cover color-card-cover-".concat(t));else{var s,l,c=a.isHighDPI()?600:300,u=null!=(l=j.smallestPreviewBiggerThan(n,c))?l:j.biggestPreview(n),d={"background-image":'url("'.concat(u.url,'")'),"background-size":"cover"},p=Math.min(u.height,260);if(this.$el.height()>p)s="auto",d["background-size"]="contain",d["background-position"]="center",d["background-repeat"]="no-repeat",d["background-color"]=r;else{var m=245*u.height/u.width;s=m<=p?m:p}d["min-height"]=s,this.$el.css(d),this.$(".js-card-stickers").css("height",this.$el.height())}return this.$el.addClass("is-covered"),this},getFullCoverStylesForInitialRender(){var e,t=this.model.get("cover"),n=t.idAttachment,r=t.scaled,i=a.isHighDPI()?600:300,o=null!=(e=j.smallestPreviewBiggerThan(r,i))?e:j.biggestPreview(r);if(null==o&&n&&null!=this.model.attachmentList){var s=this.model.attachmentList.get(this.model.get("idAttachmentCover"));if(null==s)return null;o={url:s.get("url")}}if(null==o)return null;var l={"background-image":'url("'.concat(o.url,'")'),"background-size":"cover"},c=Math.min(o.height,260),u=245*o.height/o.width;return l["min-height"]="".concat(u<=c?u:c,"px"),g.stylify(l)},renderPluginCover(){var e=this;return this.waitForId(this.model,(function(){return p.one({command:"card-cover",board:e.model.getBoard(),card:e.model,list:e.model.getList(),timeout:1e4,options:{attachments:d.attachments(e.model.attachmentList.models,["id","url"]),cardDetail:!1},fxPluginFilter:e=>!(e.get("tags")||[]).includes("plugin-cover-beta")}).then((function(t){if(!e.model.hasCover()){if(!v.isValidCover(t))throw new Error("Invalid cover supplied");var n=h(t);return e.$(".js-card-cover").css({"background-origin":"content-box","background-color":n.edgeColor,"background-image":'url("'.concat(n.url,'")'),"background-position":n.position,"background-repeat":"no-repeat","background-size":n.size,height:"".concat(n.height,"px"),padding:n.padding}).removeClass("is-no-preview-size"),e.$(".js-card-stickers").css("height",n.stickerHeight),e.$el.addClass("is-covered")}})).catch((function(){if(!e.model.hasCover())return e.clearCover(),e.clearFullCover()}))}))},getBadgesHtml(){var e,t=this,n=null!=(e=this.model.get("badges"))?e:{},r=k.get("remarkable.card-front-due-complete-checkbox",!1);return O({subscribed:n.subscribed,description:n.description,comments:n.comments,attachments:n.attachments,attachmentsByType:n.attachmentsByType,checkItems:n.checkItems,checkItemsChecked:n.checkItemsChecked,checkItemsEarliestDue:n.checkItemsEarliestDue,hideVotes:!!S(S(this.model.getBoard(),(function(e){return e.get("prefs")})),(function(e){return e.hideVotes})),votes:n.votes,viewingMemberVoted:n.viewingMemberVoted,due:this.model.get("due"),dueComplete:this.model.get("dueComplete"),notifications:m.filter(this.modelCache.all("Notification"),(function(e){return e.get("unread")&&null!=t.model.id&&S(S(e.get("data"),(function(e){return e.card})),(function(e){return e.id}))===t.model.id})).length,archived:this.model.get("closed"),location:n.location&&S(this.model.getBoard(),(function(e){return e.isMapPowerUpEnabled()})),isOnBoardTemplate:this.model.isOnBoardTemplate(),isCardTemplate:!!this.model.get("isTemplate"),showDueCompleteCheckbox:this.model.editable()&&r,start:this.model.get("start")})},renderBadges(){return this.$(".js-badges").html(this.getBadgesHtml()),this},updateDateBadges(){return this.updateDueDate(),this.updateCheckItemsEarliestDue()},updateDueDate(){var e=this.model.get("due"),t=this.model.get("start"),n=this.model.get("dueComplete"),r=this.el.querySelector(".js-due-date-badge"),i=this.el.querySelector(".js-due-date-text"),o=w("ecosystem.timeline-version","beta");if(r&&i){var a=r.getAttribute("title"),c=l.titleForDueDate(e,n);if(a===c)return this;r.setAttribute("title",c);var u=r.classList.value.split(" ").pop();r.classList.replace(u,l.classForDueDate(e,n)),i.innerText=o&&t&&t<e?"".concat(s.toDateString(t)," - ").concat(s.toDateString(e)):s.toDateString(e)}return this},updateCheckItemsEarliestDue(){var e=this.model.get("badges");if(!e)return this;var t=e.checkItemsEarliestDue,n=this.$(".js-checkitems-badge");return n&&(n.removeClass((function(e,t){return(t.match(/\bis-due-\S+/g)||[]).join(" ")})),t&&n.addClass(l.classForDueDate(t,!1))),this},toggleDueDateComplete(e){if(k.get("remarkable.card-front-due-complete-checkbox",!1)&&this.model.editable()){j.stop(e);var t=!this.model.get("dueComplete"),n=i.startTask({taskName:"edit-card",subTask:"dueComplete",source:"cardView"});return t&&(x(this.model.get("name"))||x(this.model.getList().get("name")))&&C({angle:m.random(55,125),spread:m.random(50,70),particleCount:m.random(40,75),origin:{x:e.pageX/window.innerWidth,y:e.pageY/window.innerHeight}}),this.model.update({dueComplete:t,traceId:n},o({taskName:"edit-card",subTask:"dueComplete",traceId:n,source:"cardView"},(function(e,t){t&&i.sendUpdatedCardFieldEvent({field:"dueComplete",source:"cardView",attributes:{taskId:n},containers:{card:{id:t.id},list:{id:t.idList},board:{id:t.idBoard}}})})))}},updateBadges(){if(k.get("remarkable.card-front-due-complete-checkbox",!1)){var e=this.model.previous("badges"),t=this.model.get("badges");if(e&&t){var n=Object.keys(e).filter((function(n){return!m.isEqual(t[n],e[n])}));if(1===n.length&&n.includes("dueComplete"))return this.renderDueComplete()}}return this.renderBadges()},renderMembers(e){var t=this,n=function(){for(var e=[],n=t.model.memberList.models.length-1;n>=0;n--){var r=t.model.memberList.models[n];e.push(t.getMemberOnCardHtml(r))}return e}();return this.$(".js-list-card-members").empty().append(n.join("")),this},labelsData(){var e=this;return m.chain(this.model.getLabels()).sort(u.compare).map((function(t){return e.model.dataForLabel(t)})).filter((function(e){return!m.isEmpty(e.color)})).value()},renderLabels(){var e=this,t=function(){for(var t=[],n=0,r=Array.from(e.labelsData());n<r.length;n++){var i=r[n];i.extraClasses=["mod-card-front"],t.push(f(i))}return t}();return this.$(".js-card-labels").empty().append(t),this}}},"./app/scripts/views/card/card-view-name-edit.js":function(e,t,n){var r=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts").getSeparatorClassName,i=n("./app/scripts/views/templates/card_title_on_card_front.js"),o=n("./app/scripts/lib/util/index.js"),a=n("./app/scripts/views/lib/pop-over.js"),s=n("./app/scripts/views/card/quick-card-editor-view.js"),l=n("./packages/analytics/index.ts").track,c=n("./packages/feature-flag-client/index.ts").featureFlagClient;e.exports.renderName=function(){var e=this.model.toJSON();c.get("wildcard.card-types-separator",!1)||(e.separatorClassName=r(e.name));var t=i(e);return this.$(".js-card-name").html(t),this},e.exports.openQuickCardEditor=function(e){if(!this.options.quickEditHidden&&this.model.editable())return o.stop(e),a.hide(),s.open(this),l("Card Front","Open Quick Card Editor",void 0,this.model.trackProperty()),this}},"./app/scripts/views/card/card-view-plugins.js":function(e,t,n){var r=n("./packages/atlassian-analytics/index.ts"),i=r.Analytics,o=r.tracingCallback,a=n("./app/scripts/view-models/member-state.js"),s=n("./packages/analytics/index.ts"),l=s.track,c=s.trackUe,u=s.Noun,d=s.Verb,p=n("./app/scripts/lib/util/sticker-clip.js"),m=n("./app/scripts/views/stickers/sticker-view.js"),f=n("./app/scripts/views/custom-field/custom-field-badges-view.js"),h=n("./app/scripts/views/plugin/plugin-badges-view.js"),v=n("./app/scripts/data/legacy-power-ups.js").cardAging;e.exports.addNewStickerToList=function(e,t,n,r){var s=this,m=i.startTask({taskName:"edit-card",subTask:"stickers",source:"cardView",attributes:{action:"added"}}),f=null!=e.id?e.id:e.get("image"),h=e.get("url"),v=e.get("scaled"),g=e.get("isGiphySticker");if(g){var b=a.getUseAnimatedStickers();b||(f=e.get("stillUrl"),h=e.get("stillUrl"),v=e.get("stillScaled")),c({category:u.CARD,verb:d.ADDS,directObj:u.GIPHY_STICKER,context:{useAnimatedStickers:b}})}l("Card","Sticker",f,this.model.trackProperty()),this.model.stickerList.createWithTracing({image:f,left:p(t),top:p(n),rotate:r,zIndex:this.model.stickerList.nextZIndex(),imageUrl:h,imageScaled:v,isGiphySticker:g},{modelCache:this.modelCache,traceId:m},o({taskName:"edit-card",subTask:"stickers",traceId:m,source:"cardView",attributes:{action:"added"}},(function(e,t){if(t){var n=s.model;i.sendUpdatedCardFieldEvent({field:"stickers",source:"cardView",containers:{card:{id:n.id},board:{id:n.get("idBoard")},list:{id:n.get("idList")},organization:{id:n.get("idOrg")}},attributes:{taskId:m,image:f,imageUrl:h,isGiphySticker:g,useAnimatedStickers:a.getUseAnimatedStickers()}})}})))},e.exports.showStickers=function(){return!this.onCalendar},e.exports.renderStickers=function(e){var t=this;if(this.showStickers()){var n=this.$(".js-stickers-area"),r=this.$(".js-card-stickers"),i=this.model.hasStickers(),o=this.model.editable();if(i){this.$el.addClass("is-stickered"),n.removeClass("hide");var a=this.model.stickerList.map((function(e){return t.subview(m,e,{canRemove:o&&e.id&&!t.options.quickEditHidden,fixedHeight:function(){return t.$(".js-card-details").get(0).getBoundingClientRect().top-n.get(0).getBoundingClientRect().top},fixedWidth:function(){var e=n.get(0).getBoundingClientRect(),r=t.$(".js-card-menu").get(0);return r?r.getBoundingClientRect().left-e.left:t.$el.get(0).getBoundingClientRect().right-e.left},card:t.model},e.id||e.cid)}));this.ensureSubviews(a,r),this.renderCover()}else this.$el.removeClass("is-stickered"),n.addClass("hide");return this}this.$el.removeClass("is-stickered")},e.exports.renderCustomFieldItems=function(){var e=this.subview(f,this.model);return this.appendSubview(e,this.$(".js-custom-field-badges")),this},e.exports.renderPluginBadges=function(){var e=this.$(".js-plugin-badges");return this.ensureSubviews([this.subview(h,this.model)],e),this},e.exports.renderPowerUpEffects=function(){var e=this.model.getBoard();this.$el.removeClass(this.model.getAllAgingClasses());var t=this.model.getPluginDataByKey(v,"shared","evergreen",!1);if(e.isPowerUpEnabled("cardAging")&&!this.model.get("closed")&&!t&&!this.model.get("isTemplate")){var n=this.model.getAgingData();return this.$el.addClass(n.agingClassesToAdd)}},e.exports.moveToCalendarDay=function(e,t,n){n.getCardView(this.model).delegateEvents();var r=new Date(n.data.day),o=i.startTask({taskName:"edit-card",subTask:"due",source:"calendarViewScreen"});return this.model.changeDueDateMaintainTime(r,o,(function(e,t){if(e)throw i.taskFailed({taskName:"edit-card",subTask:"due",traceId:o,source:"calendarViewScreen",error:e});i.sendUpdatedCardFieldEvent({field:"due",source:"calendarViewScreen",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:o}}),i.taskSucceeded({taskName:"edit-card",subTask:"due",traceId:o,source:"calendarViewScreen"})})),n.updateHeader(),n.renderCardsAndListHeaders()},e.exports.moveInCalendarDay=function(e,t,n){return n.getCardView(this.model).delegateEvents(),n.renderCardsAndListHeaders()},e.exports.renderDueComplete=function(){return this.$el.toggleClass("is-due-complete",this.model.get("dueComplete")),this.updateDueDate()}},"./app/scripts/views/card/card-view-templates.js":function(e,t){e.exports.isOnBoardTemplate=function(){return this.model.isOnBoardTemplate()}},"./app/scripts/views/card/card-view.js":function(e,t,n){function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./packages/jquery/index.js"),p=n("./app/scripts/db/auth.js"),m=n("./packages/browser/index.ts"),f=n("./app/scripts/views/label/card-label-select-view.js"),h=n("./app/scripts/views/card/card-member-select-view.js"),v=n("./app/scripts/views/card/card-view-helpers.js"),g=n("./app/scripts/views/card/card-view-mixins.js"),b=n("./app/scripts/controller/index.js"),y=n("./app/scripts/views/card/date-picker-view.js"),k=n("./app/scripts/lib/dates.js");n("./app/scripts/views/internal/data-transfer/drag-drop-events.js");var w=n("./app/scripts/views/lib/drag-sort.js"),j=n("./packages/keybindings/index.ts"),_=j.getKey,x=j.Key,C=j.registerShortcutHandler,O=j.Scope,S=j.unregisterShortcutHandler,E=n("./app/common/lib/util/i18n/index.ts").forTemplate,T=n("./packages/feature-flag-client/index.ts").seesVersionedVariation,P=n("./app/scripts/views/label/label-key-helper.js"),N=n("./app/src/components/DateRangePicker/LazyDateRangePicker.tsx").LazyDateRangePicker,I=n("./app/scripts/views/internal/paste-input.js"),A=n("./app/scripts/views/lib/pop-over.js"),D=n("./app/scripts/views/lib/post-render.js"),B=n("./node_modules/bluebird/js/browser/bluebird.js"),R=n("./app/scripts/lib/last-action/index.ts"),L=R.repeatAction,M=R.isRepeatEnabled,F=n("./node_modules/promise-queue/lib/index.js"),V=n("./packages/storage/index.ts").TrelloStorage,z=n("./app/scripts/lib/util/index.js"),U=n("./app/scripts/views/internal/view.js"),H=n("./node_modules/underscore/underscore.js"),W=n("./packages/atlassian-analytics/index.ts"),q=W.Analytics,G=W.Apdex,$=W.tracingCallback,K=n("./app/scripts/debug/log.js"),Y=n("./packages/analytics/index.ts").track,Z=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),J=n("./app/scripts/views/templates/card_in_list.js"),Q=n("./app/scripts/controller/currentModelManager.ts").currentModelManager,X=n("./app/scripts/views/card/card-view-name-edit.js"),ee=X.renderName,te=X.openQuickCardEditor,ne=n("./app/scripts/views/card/card-view-cover.js").showCover,re=n("./app/scripts/views/card/card-view-label.js"),ie=re.labelClick,oe=re.labelMouseEnter,ae=re.labelMouseLeave,se=n("./app/scripts/views/card/card-view-attachment.js"),le=se.dragenter,ce=se.dragleave,ue=se.dropFiles,de=se.dropUrl,pe=n("./app/scripts/views/card/card-view-lists.js"),me=pe.moveTo,fe=pe.moveIn,he=n("./app/scripts/views/card/card-view-templates.js").isOnBoardTemplate,ve=n("./app/scripts/views/card/card-view-plugins.js"),ge=ve.addNewStickerToList,be=ve.showStickers,ye=ve.renderStickers,ke=ve.renderCustomFieldItems,we=ve.renderPluginBadges,je=ve.renderPowerUpEffects,_e=ve.moveToCalendarDay,xe=ve.moveInCalendarDay,Ce=ve.renderDueComplete,Oe=n("./packages/feature-flag-client/index.ts").featureFlagClient,Se=n("./node_modules/react/index.js"),Ee=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,Te=n("./app/src/components/CardFronts/BoardCard.tsx").BoardCard,Pe=n("./app/src/components/CardFronts/SeparatorCard.tsx").SeparatorCard,Ne=n("./app/src/components/CardFronts/LinkCard.tsx").LinkCard,Ie=new F(1),Ae=function(e){Ie.add((function(){return new B((function(t){e.hookDroppable(),H.defer(t)}))}))},De=E("due_date_picker"),Be=["l","-","d","a","m","v","s"," ","0","1","2","3","4","5","6","7","8","9"],Re=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(i,e);var t,n=(t=i,function(){var e,n=u(t);if(c()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function i(e){var t,r,o,a;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),t=n.call(this,e),r=l(t),a=function(){var e,t,n=this.$(".js-card-menu");if(n)return A.toggle({elem:n,getViewTitle:function(){return De("change-due-date")},keepEdits:!0,reactElement:Se.createElement(N,{due:this.model.get("due"),start:this.model.get("start"),dueReminder:this.model.get("dueReminder"),hidePopover:function(){return A.hide()},idCard:this.model.id,idBoard:null===(e=this.model.getBoard())||void 0===e?void 0:e.id,idOrg:null===(t=this.model.getBoard())||void 0===t?void 0:t.get("idOrganization")})})},(o="showDateRangePicker")in r?Object.defineProperty(r,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[o]=a,t.onShortcut=t.onShortcut.bind(l(t));var s=500;return t.throttledJoin=t.throttle(t.onJoin,s),t.throttledClose=t.throttle(t.onClose,s),t.throttledMoveToNextList=t.throttle(t.onMoveToNextList,s),t.throttledMoveToPrevList=t.throttle(t.onMoveToPrevList,s),t.throttledSubscribe=t.throttle(t.onSubscribe,s),t}return o(i,null,[{key:"initClass",value:function(){H.extend(this.prototype,v,g),this.prototype.tagName=function(){var e=this.model.getCardRole();return e&&"mirror"!==e?"div":"a"},this.prototype.filterDeactivated=!0,this.prototype.applyBoardCardFilter=!0,this.prototype.trackApdex=!0,this.prototype.events={moveto:"moveTo",movein:"moveIn",moveToCalendarDay:"moveToCalendarDay",moveInCalendarDay:"moveInCalendarDay","click .js-open-quick-card-editor":"openQuickCardEditor","click .js-member-on-card-menu":"openMemberOnCardMenu","click .card-label.mod-card-front":"labelClick","click .js-due-date-badge":"toggleDueDateComplete",click:"handleClick",contextmenu(e){if(!(e.ctrlKey||e.metaKey||e.shiftKey||V.get("nocontext")))return this.openQuickCardEditor(e)},mouseenter(){return this.trigger("mouseEnterCardView")},mousemove(){return this.trigger("mouseMoveCardView")},mouseleave(){return this.trigger("mouseLeaveCardView")},"mouseenter .card-label.mod-card-front":"labelMouseEnter","mouseleave .card-label.mod-card-front":"labelMouseLeave","dd-enter:files":"dragenter","dd-leave:files":"dragleave","dd-drop:files":"dropFiles","dd-enter:url":"dragenter","dd-leave:url":"dragleave","dd-drop:url":"dropUrl","pasteinput:files":"dropFiles","pasteinput:url":"dropUrl"},this.prototype.isOnBoardTemplate=he,this.prototype.addNewStickerToList=ge,this.prototype.showStickers=be,this.prototype.renderStickers=ye,this.prototype.renderName=ee,this.prototype.renderCustomFieldItems=ke,this.prototype.renderPluginBadges=we,this.prototype.showCover=ne,this.prototype.renderDueComplete=Ce,this.prototype.renderPowerUpEffects=je,this.prototype.openQuickCardEditor=te,this.prototype.labelClick=ie,this.prototype.labelMouseEnter=oe,this.prototype.labelMouseLeave=ae,this.prototype.moveToCalendarDay=_e,this.prototype.moveInCalendarDay=xe,this.prototype.moveTo=me,this.prototype.moveIn=fe,this.prototype.dragenter=le,this.prototype.dragleave=ce,this.prototype.dropFiles=ue,this.prototype.dropUrl=de}}]),o(i,[{key:"className",value:function(){var e="list-card js-member-droppable";if(Le(this.model.getBoard(),(function(e){return e.getPref("cardCovers")}))&&null!=this.model.get("cover")){var t=this.model.get("cover"),n=t.size,r=t.brightness,i=t.color,o=t.idAttachment,a=t.idUploadedBackground,s=t.idPlugin;if((o||a||i||s)&&"full"===n&&this.shouldRenderFullCover()){var l="dark"===r?"full-cover-list-card-dark":"",c=i?"color-card-cover color-card-cover-".concat(i):"";return"".concat(e," full-cover-list-card ").concat(l," ").concat(c)}}return e}},{key:"attributes",value:function(){if(Le(this.model.getBoard(),(function(e){return e.getPref("cardCovers")}))&&null!=this.model.get("cover")){var e=this.model.get("cover"),t=e.size,n=e.idAttachment,r=e.idUploadedBackground,i=e.color,o=e.idPlugin;if((n||r||i||o)&&"full"===t&&this.shouldRenderFullCover()){var a=this.getFullCoverStylesForInitialRender();if(null!=a)return{style:a}}}return{}}},{key:"initialize",value:function(){for(var e=this,t=0,n=["filterDeactivated","applyBoardCardFilter","trackApdex"];t<n.length;t++){var r=n[t];null!=this.options[r]&&(this[r]=this.options[r])}D.enqueue("initialize_cardview_".concat(this.cid),(function(){e.render(),e.makeDebouncedMethods("render","renderName","renderLabels","renderCover","renderFiltered","renderPowerUpEffects","renderStickers","renderBadges","renderDueComplete","renderCustomFieldItems","updateDateBadges","updateBadges"),e.listenTo(e.model,{"change:cardRole":e.render,"change:name":function(){e.model.get("cardRole")?e.render():e.renderNameDebounced()},"change:labels":e.renderLabelsDebounced,"change:idAttachmentCover change:cover":e.renderCoverDebounced,"change:name change:labels change:idLabels change:due change:start change:dueComplete":e.renderFilteredDebounced,"change:due change:start change:badges":e.updateRenderIntervalSubscription,"change:dueComplete":e.renderDueComplete,"change:dateLastActivity":function(){return e.renderCoverDebounced(),e.renderPowerUpEffectsDebounced()},"change:due change:start change:subscribed change:isTemplate":e.renderBadgesDebounced,"change:badges":e.updateBadgesDebounced,keyboardMove:e.scrollIntoView}),e.listenTo(e.model.customFieldItemList,"add remove reset change",e.frameDebounce((function(){return this.renderCustomFieldItems(),this.renderFiltered()}))),e.listenTo(e.modelCache,"add:Notification remove:Notification change:Notification",e.renderBadgesDebounced),e.listenTo(e.model.memberList,"change:initials change:avatarUrl change:avatarSource change:fullName change:username",e.renderMembers),e.listenTo(e.model.memberList,"add remove reset",e.frameDebounce((function(){return this.renderMembers(),this.renderFiltered()}))),e.listenTo(e.model.labelList,"add remove reset change",e.renderLabelsDebounced),e.listenTo(e.model.stickerList,{"add remove reset change sort":e.renderStickersDebounced});var t=e.model.getBoard();return e.listenTo(t,"change:powerUps change:prefs.cardAging",e.renderPowerUpEffectsDebounced),e.subscribe(Z(t,e.model),(function(){return e.renderCoverDebounced(),e.renderPowerUpEffectsDebounced()})),e.listenTo(t.filter,"change",e.renderFilteredDebounced),e.listenTo(t,"change:labels",e.renderLabelsDebounced),e.listenTo(t,"change:memberships",e.renderMembers),e.listenTo(t,"change:prefs.hideVotes",e.renderBadgesDebounced),e.listenTo(t,"change:prefs.cardCovers",(function(){e.renderCoverDebounced(),"link"===e.model.get("cardRole")&&Oe.get("wildcard.link-cards",!1)&&e.render()})),e.listenTo(t.customFieldList,"add remove reset change",e.renderCustomFieldItemsDebounced),e.listenTo(t.boardPluginList,"add remove reset change",(function(){return e.renderCustomFieldItemsDebounced(),e.renderBadgesDebounced()})),e.listenTo(t.viewState,"active-card-changed",e.renderActiveState),e.listenTo(t,"permChange",e.render),e.listenTo(e,"mouseEnterCardView",(function(){return Ae(this)})),e.updateRenderIntervalSubscription()}))}},{key:"shouldRenderFullCover",value:function(){return!0}},{key:"renderActiveState",value:function(){var e=this;if(null!=this.$el){var t=Le(this.model.getBoard(),(function(t){return t.viewState.isCardSelected(e.model)}));this.$el.toggleClass("active-card",t),t?(I.addHandler(this,{scope:"card"}),C(this.onShortcut,{scope:O.Card})):(I.removeHandler(this),S(this.onShortcut,{scope:O.Card}))}}},{key:"remove",value:function(){return S(this.onShortcut),r(u(i.prototype),"remove",this).apply(this,arguments)}},{key:"onClose",value:function(e,t,n){if(n){var r=q.startTask({taskName:"edit-card",subTask:"closed",source:"cardView"});this.model.close(r,(function(e,t){if(e)throw q.taskFailed({taskName:"edit-card",subTask:"closed",traceId:r,source:"cardView",error:e});q.sendUpdatedCardFieldEvent({field:"closed",source:"cardView",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:r}}),q.taskSucceeded({taskName:"edit-card",subTask:"closed",traceId:r,source:"cardView"})})),e.preventDefault(),t("archiveCardShortcut")}}},{key:"onMoveToNextList",value:function(e,t,n,r,i){r&&!i&&(this.model.moveToNextList(t===x.AngleRight?"top":"bottom"),e.preventDefault(),n("moveToNextListShortcut"))}},{key:"onMoveToPrevList",value:function(e,t,n,r,i){r&&!i&&(this.model.moveToPrevList(t===x.AngleLeft?"top":"bottom"),e.preventDefault(),n("moveToPreviousListShortcut"))}},{key:"handleClick",value:function(e){this.model.getCardRole()||this.showDetail(e)}},{key:"onSubscribe",value:function(e,t,n){if(n&&!this.isOnBoardTemplate()){var r=q.startTask({taskName:"edit-card",subTask:"subscribed",source:"cardView"}),i=this.model.get("subscribed");this.model.subscribeWithTracing(!i,r,$({taskName:"edit-card",subTask:"subscribed",source:"cardView",traceId:r},(function(e,t){t&&q.sendUpdatedCardFieldEvent({field:"subscribed",source:"cardView",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:r}})}))),e.preventDefault(),t("subscribeShortcut",{toggleValue:i?"unsubscribe":"subscribe"})}}},{key:"onJoin",value:function(e,t,n){var r=this,i=this.model.getBoard();if(he=this.isOnBoardTemplate(),n&&!he&&(i.hasActiveMembership(p.me())||i.isEditableByTeamMemberAndIsNotABoardMember())){i.isEditableByTeamMemberAndIsNotABoardMember()&&i.optimisticJoinBoard();var o="cardView",a=q.startTask({taskName:"edit-card",subTask:"idMembers",source:o});this.model.toggleMemberWithTracing(p.myId(),{traceId:a},$({taskName:"edit-card",subTask:"idMembers",traceId:a,source:o},(function(e,t){t&&q.sendUpdatedCardFieldEvent({field:"idMembers",source:o,containers:{card:{id:r.model.id},board:{id:r.model.get("idBoard")},list:{id:r.model.get("idList")}},attributes:{taskId:a}})})))}e.preventDefault(),t("assignSelfShortcut",{shortcutKey:"Space",toggleValue:this.model.hasMember(p.myId())?"add":"remove"})}},{key:"onShortcut",value:function(e){var t=this;if(!b.showingBoardOverlay()){var n=p.isLoggedIn(),r=this.model.editable(),i=!!this.model.get("isTemplate"),o=this.onCalendar,a=_(e);if(!this.model.getCardRole()||!Be.includes(a)){var s=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.shortcutKey,i=void 0===r?a:r,o=n.toggleValue;q.sendPressedShortcutEvent({shortcutName:e,source:"cardView",keyValue:i,containers:t.model.getAnalyticsContainers(),attributes:{toggleValue:void 0!==o?o.toLowerCase():void 0}})};switch(a){case x.Enter:return this.showDetail(),e.preventDefault(),void s("openCardShortcut");case x.e:return this.openQuickCardEditor(),e.preventDefault(),void s("quickCardEditorShortcut");case x.t:return b.showCardDetail(this.model,{runMethod:"editTitle",method:"via the T shortcut from card front"}),e.preventDefault(),void s("openCardAndEditTitleShortcut");case x.Dash:return b.showCardDetail(this.model,{runMethod:"onChecklistShortcut",method:"via the dash shortcut from card front"}),e.preventDefault(),void s("addChecklistShortcut");case x.d:if(r&&!i)T("ecosystem.timeline-version","beta")?this.showDateRangePicker():this.showPopOver(y,{trackingCategory:"keyboard shortcut"}),e.preventDefault(),s("dueDatesShortcut");return;case x.l:return void(r&&(this.showPopOver(f,{hideOnSelect:!1}),e.preventDefault(),s("editLabelsShortcut")));case x.Zero:case x.One:case x.Two:case x.Three:case x.Four:case x.Five:case x.Six:case x.Seven:case x.Eight:case x.Nine:if(r){var l=!0;P.setLabelFromKey(a,this.model,(function(e){return l=!1,t.showPopOver(f,{searchInit:e,hideOnSelect:!0})})),e.preventDefault();var c="showLabelsPopover";if(l){var u=P.colorForKey(a);c=this.model.hasLabel(u)?"add":"remove"}s("toggleLabelShortcut",{toggleValue:c})}return;case x.a:case x.m:return void(r&&!this.isOnBoardTemplate()&&(this.showPopOver(h),e.preventDefault(),s("assignMembersShortcut")));case x.Space:return void this.throttledJoin(e,s,r);case x.c:return void this.throttledClose(e,s,r);case x.AngleRight:case x.Period:return void this.throttledMoveToNextList(e,a,s,r,o);case x.AngleLeft:case x.Comma:return void this.throttledMoveToPrevList(e,a,s,r,o);case x.v:return void(n&&!i&&this.model.getBoard().canVote(p.me())&&(this.model.toggleVote(),e.preventDefault(),s("voteShortcut",{toggleValue:this.model.voted()?"vote":"unvote"})));case x.s:return void this.throttledSubscribe(e,s,n);case x.r:return M&&r?(e.preventDefault(),this.waitForId(this.model,(function(){L({source:"cardView",idBoard:t.model.getBoard().id,idCard:t.model.id}),s("repeatActionShortcut")}))):void 0;default:return}}}}},{key:"showPopOver",value:function(e,t){return null==t&&(t={}),A.toggle({elem:this.$(".js-card-menu"),view:e,options:H.extend({model:this.model,modelCache:this.modelCache,hideOnSelect:!0},t)})}},{key:"render",value:function(){var e=this;K("render","rendering card ".concat(this.model.get("name")));var t=this.model.toJSON(),n=this.model.getCardRole();if("separator"===n)this.unmountReactCard=Ee(Se.createElement(Pe,{openEditor:function(t){t.preventDefault(),e.openQuickCardEditor()},isEditable:this.model.editable(),analyticsContainers:this.model.getAnalyticsContainers()}),this.el);else if("board"===n)this.unmountReactCard=Ee(Se.createElement(Te,{openEditor:function(t){t.preventDefault(),e.openQuickCardEditor()},boardUrl:t.name,isEditable:this.model.editable(),analyticsContainers:this.model.getAnalyticsContainers()}),this.el);else if("link"===n&&/^https?:\/\/\S+$/.test(this.model.get("name"))){var r,i=null===(r=this.model.getBoard())||void 0===r?void 0:r.getPref("cardCovers");this.unmountReactCard=Ee(Se.createElement(Ne,{openEditor:function(t){t.preventDefault(),e.openQuickCardEditor()},url:t.name,hideCover:!i,isEditable:this.model.editable()&&!this.options.quickEditHidden,analyticsContainers:this.model.getAnalyticsContainers()}),this.el)}else{this.unmountReactCard&&this.unmountReactCard(),t.showCover=this.showCover(),t.showEditor=this.model.editable()&&!this.options.hideMenu,this.model.hasStickers()&&(t.hasStickers=!0),t.labels=this.labelsData();var o=this.model.getBoard();t.members=[];for(var a=function(n){var r=e.model.memberList.models[n],i=r.toJSON();i.isVirtual=Le(o.getOrganization(),(function(e){return e.isVirtual(r)}))||o.isVirtual(r),i.isDeactivated=o.isDeactivated(r),t.members.push(i)},s=this.model.memberList.models.length-1;s>=0;s--)a(s);t.cover=this.model.get("cover"),this.model.get("idAttachmentCover")&&(t.attachmentCoverUrl=Le(this.model.attachmentList.get(this.model.get("idAttachmentCover")),(function(e){return e.get("url")}))),t.hideCover=!this.model.getBoard().getPref("cardCovers")||this.onCalendar,t.hasCover=this.model.hasCover(),this.$el.toggleClass("js-archive-card",this.model.get("closed")),this.showCover()&&this.model.hasCover()&&this.$el.addClass("is-covered"),this.model.hasStickers()&&this.$el.addClass("is-stickered"),this.$el.html(J(t)),this.renderName(),this.renderBadges(),this.renderCustomFieldItems(),this.renderDueComplete(),D.enqueue("render_".concat(this.cid),(function(){return e.renderPluginBadges(),e.renderActiveState(),e.renderCover(),e.renderStickers(),e.renderPowerUpEffects(),e.waitForId(e.model,(function(){return e.renderLink()})),e._droppableHookedSinceRender=!1,Ae(e)}))}return this.renderFiltered(),this}},{key:"hookDroppable",value:function(){var e=this;if(!m.isTouch()&&null!=this.$el&&!this._droppableHookedSinceRender&&(this._droppableHookedSinceRender=!0,!m.isTouch())){var t=this.throttle((function(){return d(".board-canvas")[0].getBoundingClientRect()}),100,{trailing:!1});this.$el.droppable({refreshPositions:!0,inBounds(e){var n=t();return n.left<=e.pageX&&e.pageX<n.right&&n.top<=e.pageY&&e.pageY<n.bottom},accept:function(t){return!!t.is(".js-list-draggable-board-members .member")||!(!t.is(".js-draggable-sticker")||e.model.getCardRole())&&(n=e.model,r="isOverLimit",i=function(e){return e.isOverLimit("stickers","perCard")},!(null!=n&&"function"==typeof n[r]?i(n,r):void 0));var n,r,i},hoverClass:"active-card",drop:function(t,n){if(n.draggable.hasClass("member")){var r=n.draggable.data("id");if(!e.model.memberList.detect((function(e){return e.id===r}))){var i="cardView",o=q.startTask({taskName:"edit-card",subTask:"idMembers",source:i});e.model.addMemberWithTracing(r,o,$({taskName:"edit-card",subTask:"idMembers",traceId:o,source:i},(function(t,n){n&&q.sendUpdatedCardFieldEvent({field:"idMembers",source:i,containers:{card:{id:e.model.id},board:{id:e.model.get("idBoard")},list:{id:e.model.get("idList")}},attributes:{taskId:o}})}))),Y("Card","Add Member by Board Sidebar",void 0,e.model.trackProperty())}}else if(n.draggable.hasClass("js-draggable-sticker")){var a,s,l,c=n.draggable.data("sticker"),u=a=1,d=n.helper.offset(),p={top:e.$el.offset().top+u,left:e.$el.offset().left+a},m=e.$el.outerWidth()-a-1,f=d.left-p.left,h=d.top-p.top,v=f/m*100,g=e.$(".js-card-stickers").height();(l=e.$el.hasClass("is-stickered")||e.$el.hasClass("is-covered")?h/g*100:0)>g&&(l=g);var b=z.getElemTransformMatrix(n.helper.find(".sticker-select-fixed"));s=null!=b?z.getMatrixDegrees(b)%360:0,e.addNewStickerToList(c,v,l,s)}}})}}},{key:"renderLink",value:function(){var e=this.model.getCardRole();if(!e||"mirror"===e){var t=b.getCardUrl(this.model);return this.$el.attr("href",t),this}}},{key:"renderFiltered",value:function(e){if(null==this.options.dontFilter){null==this._visible&&(this._visible=!0);var t=this.model.getBoard(),n=null==t||!Q.onBoardView(t.id)||!this.applyBoardCardFilter||t.filter.satisfiesFilter(this.model);return this._visible!==n&&(this.$el.toggleClass("hide",!n).height(n?"":0),this._visible=n),this}}},{key:"showDetail",value:function(e){if(!(e&&(e.ctrlKey||e.metaKey||e.shiftKey)||(z.stop(e),w.sorting)))return this.options.trackEvent&&this.options.trackEvent(),this.trackApdex&&G.start({task:"cardFromBoard",taskId:this.model.id}),b.showCardDetail(this.model,{runMethod:this.model.shouldSuggestDescription()?"expandDesc":void 0,method:"from card front"}),this.trackApdex?G.stop({task:"cardFromBoard",taskId:this.model.id}):void 0}},{key:"scrollIntoView",value:function(){var e=this.$el.closest("#board"),t=this.$el.closest(".js-list"),n=t[0].getBoundingClientRect(),r=n.left+n.width-window.innerWidth;return this.$el.closest(".js-list-cards").scrollTop(this.$el.position().top),n.left<0?e.animate({scrollLeft:t.position().left},150):r>0?e.animate({scrollLeft:e.scrollLeft()+r},150):void 0}},{key:"updateRenderIntervalSubscription",value:function(){if(!(this.model.get("due")||this.advancedChecklistsV2Enabled&&Le(this.model.get("badges"),(function(e){return e.checkItemsEarliestDue}))))return this.stopListening(k,"renderInterval",this.updateDateBadgesDebounced);this.listenTo(k,"renderInterval",this.updateDateBadgesDebounced)}}]),i}(U);function Le(e,t){return null!=e?t(e):void 0}Re.initClass(),e.exports=Re},"./app/scripts/views/card/chunkArray.ts":function(e,t,n){"use strict";function r(e,t){if(!e.length||t<1)return[];for(var n=new Array(Math.ceil(e.length/t)),r=0;r<n.length;r++)n[r]=e.slice(r*t,r*t+t);return n}n.r(t),n.d(t,"chunkArray",(function(){return r}))},"./app/scripts/views/card/date-picker-view.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n("./packages/use-lazy-component/index.ts").importWithRetry,f=n("./packages/atlassian-analytics/index.ts").Analytics,h=n("./app/scripts/db/auth.js"),v=n("./app/scripts/views/lib/alerts.js"),g=n("./app/scripts/views/lib/pop-over.js"),b=n("./app/scripts/lib/util/index.js"),y=n("./app/scripts/views/internal/view.js"),k=n("./app/scripts/views/templates/date_picker.js"),w=n("./packages/analytics/index.ts"),j=w.track,_=w.trackUe,x=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginTrackEvent,C=n("./node_modules/moment/moment.js"),O=n("./packages/storage/index.ts").TrelloStorage,S=n("./app/scripts/lib/localize.js"),E=n("./packages/browser/index.ts").dontUpsell,T=n("./packages/feature-flag-client/index.ts").featureFlagClient,P=n("./app/scripts/data/legacy-power-ups.js").calendar,N="LT",I=[N,"h:mm A"],A=function(){return[{name:"no",text:S("due-date-custom-reminder.none"),value:-1},{name:"at time of due date",text:S("due-date-custom-reminder.at-time-of-due-date"),value:0},{name:"5 minutes before",text:S("due-date-custom-reminder.5-minutes-before"),value:5},{name:"10 minutes before",text:S("due-date-custom-reminder.10-minutes-before"),value:10},{name:"15 minutes before",text:S("due-date-custom-reminder.15-minutes-before"),value:15},{name:"1 hour before",text:S("due-date-custom-reminder.1-hour-before"),value:60},{name:"2 hours before",text:S("due-date-custom-reminder.2-hours-before"),value:120},{name:"1 day before",text:S("due-date-custom-reminder.1-day-before"),default:!0,value:1440},{name:"2 days before",text:S("due-date-custom-reminder.2-days-before"),value:2880}]},D=function(){return A().find((function(e){return e.default})).value},B=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(o,e);var t,r=(t=o,function(){var e,n=p(t);if(d()){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return c(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=r.call(this,e)).setDueDate=t.setDueDate.bind(u(t)),t.onSaveClickHandler=t.onSaveClickHandler.bind(u(t)),t.shouldEnableCalendar=t.shouldEnableCalendar.bind(u(t)),t}return s(o,null,[{key:"initClass",value:function(){this.prototype.viewTitleKey="change due date",this.prototype.tagName="form",this.prototype.className="dpicker-widget u-clearfix",this.prototype.events={"click .js-remove-date":"removeDueDate","input .js-dpicker-time-input":"validateTimeInput","change .js-dpicker-time-input":"normalizeTimeInput",'click a[href="/business-class"]':()=>j("Card Detail","Click Business Class Link","Date Picker PopOver"),submit:"onSaveClickHandler","click .js-enable-calendar-powerup"(e){return e.preventDefault(),this.enableCalendarPowerUp()}},this.prototype.vigor=this.VIGOR.NONE}}]),s(o,[{key:"initialize",value:function(){return this.listenTo(this.model.getBoard(),"change:powerUps",this.renderCalendarPowerUp),this.trackViewed(),this.loadPikadayLibrary()}},{key:"loadPikadayLibrary",value:function(){var e=this;return null!=this.pikadayLoadPromise?this.pikadayLoadPromise:this.pikadayLoadPromise=m((function(){return n.e(124).then(n.t.bind(null,"./node_modules/pikaday/pikaday.js",7))})).then((function(e){return e.default})).then((function(t){return e.Pikaday=t}))}},{key:"getSelectedDueDateMoment",value:function(){var e=this.picker.getMoment();if(!e.isValid())return null;e.year()<1e3&&e.add(2e3,"years");var t=this.selectedTimeMoment();return e.hour(t.hour()).minute(t.minute())}},{key:"submitDueDate",value:function(e,t){return null!=e?this.setDueDate(e.toDate(),t):this.removeDueDate()}},{key:"setDueDate",value:function(e,t){this.trackSetDueDate(e,t),o.lastDueDate=e,O.set("lastDueDateReminder_".concat(h.myId()),t);var n={due:R(this.model.getDueDate(),(function(e){return e.getTime()}))||null,dueReminder:this.model.get("dueReminder")||-1},r={due:e.getTime(),dueReminder:t};if(!((null==n?void 0:n.due)===r.due&&(null==n?void 0:n.dueReminder)===r.dueReminder)){var a=f.startTask({taskName:"edit-card",subTask:"due",source:"datePickerInlineDialog"}),s=i({},r,{traceId:a});this.model.setDueDate(s,(function(e,t){if(e)throw f.taskFailed({taskName:"edit-card",subTask:"due",traceId:a,source:"datePickerInlineDialog",error:e});f.sendUpdatedCardFieldEvent({field:"due",source:"datePickerInlineDialog",containers:{card:{id:t.id},board:{id:t.idBoard},list:{id:t.idList}},attributes:{taskId:a}}),f.taskSucceeded({taskName:"edit-card",subTask:"due",traceId:a,source:"datePickerInlineDialog"})}))}if(g.hide(),this.shouldEnableCalendar()){this.enableCalendarPowerUp();var l=this.model.getBoard();return l.setPluginDataByKey(P,"shared","dateAutoEnabled",Date.now()),x({idPlugin:P,idBoard:l.id,idCard:this.model.id,event:{action:"autoEnabled",actionSubject:"powerUp",source:"datePickerInlineDialog",attributes:{dueDateCount:this.model.getBoard().countDueDates(),dueDateThreshold:T.get("ecosystem.auto-enable-calendar",0),trackingCategory:this.options.trackingCategory}}})}}},{key:"removeDueDate",value:function(){if(this.trackRemoveDueDate(),this.model.get("due")){var e=f.startTask({taskName:"edit-card",subTask:"due",source:"datePickerInlineDialog"});this.model.setDueDate({due:null,dueReminder:-1,traceId:e},(function(t,n){if(t)throw f.taskFailed({taskName:"edit-card",subTask:"due",traceId:e,source:"datePickerInlineDialog",error:t});f.sendUpdatedCardFieldEvent({field:"due",source:"datePickerInlineDialog",containers:{card:{id:n.id},board:{id:n.idBoard},list:{id:n.idList}},attributes:{taskId:e}}),f.taskSucceeded({taskName:"edit-card",subTask:"due",traceId:e,source:"datePickerInlineDialog"})}))}return g.hide()}},{key:"trackSetDueDate",value:function(e,t){null==t&&(t=D());var n,r=this.options.trackingCategory,i=this.trackingContext(),o=A().find((function(e){return e.value===t})).name;n="with ".concat(o," custom notification");var a=null==this.model.getDueDate()?"that did not have a due date":R(this.model.getDueDate(),(function(e){return e.getTime()}))===e.getTime()?"that had the same due date":"that had a different due date";_(r,"saves","due date",n,a,"by clicking save button in the due date popover",i);var s=this.model.getBoard();return f.sendTrackEvent({action:"set",actionSubject:"dueDate",containers:{card:{id:this.model.id},board:{id:s.id},organization:{id:s.get("idOrganization")}},source:"datePickerInlineDialog",attributes:{trackingCategory:this.options.trackingCategory}})}},{key:"trackRemoveDueDate",value:function(){var e=this.options.trackingCategory,t=this.trackingContext();_(e,"removes","due date","from card","","by clicking remove button in the due date popover",t);var n=this.model.getBoard();return f.sendTrackEvent({action:"removed",actionSubject:"dueDate",containers:{card:{id:this.model.id},board:{id:n.id},organization:{id:n.get("idOrganization")}},source:"datePickerInlineDialog",attributes:{trackingCategory:this.options.trackingCategory}})}},{key:"trackViewed",value:function(){var e=this.model.getBoard();return f.sendScreenEvent({name:"datePickerInlineDialog",containers:{card:{id:this.model.id},board:{id:e.id},organization:{id:e.get("idOrganization")}},attributes:{trackingCategory:this.options.trackingCategory}})}},{key:"trackingContext",value:function(){return{cardId:this.model.id,boardId:R(this.model.getBoard(),(function(e){return e.id})),teamId:R(R(this.model.getBoard(),(function(e){return e.getOrganization()})),(function(e){return e.id}))}}},{key:"renderCalendarPowerUp",value:function(){var e=this.$(".js-cal-enabled").addClass("hide"),t=this.$(".js-enable-cal").addClass("hide"),n=this.model.getBoard(),r=n.isPowerUpEnabled("calendar"),i=n.owned()&&!r;r?e.removeClass("hide"):i&&t.removeClass("hide")}},{key:"getSelectReminderSetting",value:function(){var e=this.model.get("dueReminder"),t=null!=e?e:O.get("lastDueDateReminder_".concat(h.myId()));return null!=t?t:D()}},{key:"renderOnce",value:function(){var e,t,n=this,r=this.model.getBoard(),i=C().add(1,"days").toDate(),a=null!=(e=null!=(t=this.model.getDueDate())?t:o.lastDueDate)?e:i;return this.$el.html(k({canChangePowerUps:r.owned(),canEnableAdditionalPowerUps:r.canEnableAdditionalPowerUps(),upsellEnabled:!E(),customReminderSettings:A(),selectedReminderSetting:this.getSelectReminderSetting()})),this.loadPikadayLibrary().then((function(){return n.picker=new n.Pikaday({field:n.$(".js-dpicker-date-input")[0],container:n.$(".js-dpicker-cal")[0],bound:!1,format:"l",firstDay:C.localeData().firstDayOfWeek(),i18n:{previousMonth:S("prev month button text"),nextMonth:S("next month button text"),months:C.months(),weekdays:C.weekdays(),weekdaysShort:C.weekdaysMin()},keyboardInput:!1}),n.picker.setDate(a),n.$timeInput().val(C(a).format(N)),n.renderCalendarPowerUp()})),this}},{key:"validateTimeInput",value:function(){return this.$timeInput().toggleClass("input-error",!this.isTimeInputValid())}},{key:"normalizeTimeInput",value:function(){return this.$timeInput().val(this.selectedTimeMoment().format(N)),this.validateTimeInput()}},{key:"selectedTimeMoment",value:function(){return this.isTimeInputValid()?C(this.$timeInput().val(),I):C().hours(12).minutes(0)}},{key:"$timeInput",value:function(){return this.$(".js-dpicker-time-input")}},{key:"isTimeInputValid",value:function(){return e=this.$timeInput().val(),C(e,I).isValid();var e}},{key:"enableCalendarPowerUp",value:function(){var e=this,t={pluginId:P,pluginName:"calendar",installSource:"datePickerInlineDialog"},n=f.startTask({taskName:"enable-plugin",source:"datePickerInlineDialog"});this.model.getBoard().enablePluginWithTracing(P,{traceId:n,taskName:"enable-plugin",attributes:t,source:"datePickerInlineDialog",next:function(r){if(r){var o=f.startTask({taskName:"disable-plugin",source:"datePickerInlineDialog",attributes:t});if(e.model.getBoard().disablePluginWithTracing(P,{traceId:o,taskName:"disable-plugin",source:"datePickerInlineDialog",attributes:t,next:function(t){var n;t||x({idPlugin:P,idBoard:null===(n=e.model.getBoard())||void 0===n?void 0:n.id,event:{action:"disabled",actionSubject:"powerUp",source:"datePickerInlineDialog"},attributes:{taskId:o}})}}),b.isJsonString(r.textStatus)&&"PLUGIN_NOT_ALLOWED"===JSON.parse(r.textStatus).error)return v.show("plugin not allowed","error","addpluginerror",4e3),f.taskAborted({traceId:n,taskName:"enable-plugin",source:"datePickerInlineDialog",attributes:i({},t,{reason:"PLUGIN_NOT_ALLOWED"})});v.show("could not add plugin","error","addpluginerror",2e3)}else{var a;x({idPlugin:P,idBoard:null===(a=e.model.getBoard())||void 0===a?void 0:a.id,event:{action:"added",actionSubject:"powerUp",source:"datePickerInlineDialog"},attributes:{taskId:n}}),j("Card Detail","Enable Calendar via Due Date Menu"),_("card detail","enables","Power-Up","","","due date",P)}}})}},{key:"onSaveClickHandler",value:function(e){e.preventDefault();var t=this.getSelectedDueDateMoment(),n=parseInt(this.$(".js-custom-reminder").val(),10),r=isNaN(n)?D():n;return this.submitDueDate(t,r)}},{key:"shouldEnableCalendar",value:function(){var e=this.model.getBoard();if(e.isPowerUpEnabled("calendar"))return!1;if(!e.canEnableAdditionalPowerUps())return!1;if(!this.model.editable())return!1;if(e.isEnterpriseBoard()&&!R(e.getEnterprise(),(function(e){return e.isPluginAllowed(P)})))return!1;if(e.getPluginDataByKey(P,"shared","dateAutoEnabled",null))return!1;var t=T.get("ecosystem.auto-enable-calendar",0);return!!t&&!(e.countDueDates()<t)}}]),o}(y);function R(e,t){return null!=e?t(e):void 0}B.initClass(),e.exports=B},"./app/scripts/views/card/quick-card-editor-view.js":function(e,t,n){function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./packages/jquery/index.js"),p=n("./packages/atlassian-analytics/index.ts"),m=p.Analytics,f=p.getScreenFromUrl,h=n("./app/scripts/views/card/card-copy-view.js"),v=n("./app/scripts/views/label/card-label-select-view.js"),g=n("./app/scripts/views/card/card-member-select-view.js"),b=n("./app/scripts/views/card/card-move-view.js"),y=n("./app/scripts/views/card/card-view-helpers.js"),k=n("./app/scripts/views/card/card-view-mixins.js"),w=n("./app/scripts/controller/index.js"),j=n("./app/scripts/views/card/date-picker-view.js"),_=n("./packages/keybindings/index.ts"),x=_.getKey,C=_.Key,O=_.registerShortcutHandler,S=_.Scope,E=_.unregisterShortcutHandler,T=n("./app/common/lib/util/i18n/index.ts").forTemplate,P=n("./app/src/components/DateRangePicker/LazyDateRangePicker.tsx").LazyDateRangePicker,N=n("./app/common/router/index.ts").defaultRouter,I=n("./app/scripts/views/lib/pop-over.js"),A=n("./app/scripts/views/stickers/sticker-edit-view.js"),D=n("./app/scripts/lib/util/index.js"),B=n("./app/scripts/views/internal/view.js"),R=n("./node_modules/underscore/underscore.js"),L=n("./app/scripts/views/internal/templates.js"),M=n("./packages/analytics/index.ts").track,F=n("./packages/feature-flag-client/index.ts"),V=F.featureFlagClient,z=F.seesVersionedVariation,U=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts").trackSeparator,H=n("./node_modules/react/index.js"),W=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,q=n("./app/src/components/QuickCardEditor/index.ts").ConvertCardRoleButton,G=n("./app/scripts/views/card/card-view-plugins.js").renderDueComplete,$=n("./app/scripts/controller/urls.js").getCardUrl,K=n("./app/scripts/views/card/card-cover-chooser-popover.tsx").toggleCardCoverChooserPopover,Y=T("due_date_picker");function Z(e){var t=e.traceId,n=e.subTask,r=e.field;return function(e,i){if(e)throw m.taskFailed({taskName:"edit-card",subTask:n,traceId:t,source:"quickCardEditorInlineDialog",error:e});m.sendUpdatedCardFieldEvent({field:r,source:"quickCardEditorInlineDialog",containers:{card:{id:i.id},board:{id:i.idBoard},list:{id:i.idList}},attributes:{taskId:t}}),m.taskSucceeded({taskName:"edit-card",subTask:n,traceId:t,source:"quickCardEditorInlineDialog"})}}var J=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,i=(t=p,function(){var e,n=u(t);if(c()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function p(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,p),(t=i.call(this,e)).onShortcut=t.onShortcut.bind(l(t)),O(t.onShortcut,{scope:S.Overlay}),t}return o(p,null,[{key:"initClass",value:function(){this.prototype.className="quick-card-editor",this.prototype.isMouseDownOnOverlay=!1,this.prototype.renderDueComplete=G,this.prototype.events={"keydown .js-edit-card-title":"quickCardEditKeydown","click .js-save-edits":"saveEdits","click .js-stop":"stopCard","click .js-edit-labels":"editLabels","click .js-edit-members":"editMembers","click .js-edit-cover":"editCover","click .js-move-card":"moveCard","click .js-copy-card":"copyCard","click .js-edit-due-date":"editDueDate","click .js-archive":"archive","click .js-due-date-badge":"toggleDueDateComplete",click:"checkCloseEditor","click .js-close-editor":"closeEditor",mousedown:"mousedownOnOverlay"}}}]),o(p,[{key:"initialize",value:function(){var e=this;return this.makeDebouncedMethods("render","renderStickers","renderLabels","renderCover","renderBadges","updateBadges","rerender"),this.unsubscribeFromRouter=N.subscribe(this.onRouteChanged.bind(this)),this.routeWhenOpened=N.getRoute().routePath,this.listenTo(this.model,{"change:labels":this.renderLabelsDebounced,"change:idLabels":this.renderLabelsDebounced,"change:idAttachmentCover":this.renderCoverDebounced,"change:cover":this.renderCoverDebounced,"change:dueComplete":this.renderDueComplete,"change:due change:subscribed change:isTemplate":this.renderBadgesDebounced,"change:badges":this.updateBadgesDebounced,"change:cardRole":this.rerenderDebounced}),this.listenTo(this.model.labelList,"add remove reset change",(function(){return e.renderLabelsDebounced()})),this.listenTo(this.model.memberList,"add remove reset",this.frameDebounce(this.renderMembers)),this.listenTo(this.model.stickerList,"add remove reset change sort",(function(){return this.renderStickersDebounced()}))}},{key:"shouldRenderFullCover",value:function(){return!1}},{key:"onRouteChanged",value:function(e){if(e.routePath!==this.routeWhenOpened)return this.closeEditor()}},{key:"remove",value:function(){return this.unsubscribeFromRouter(),E(this.onShortcut),r(u(p.prototype),"remove",this).apply(this,arguments)}},{key:"showCover",value:function(){return this.model.getBoard().getPref("cardCovers")&&this.model.hasCover()}},{key:"showStickers",value:function(){return!0}},{key:"onShortcut",value:function(e){switch(x(e)){case C.Escape:return this.closeEditor(),M("Keyboard Shortcuts","Esc - Close Quick Card Editor","Quick Card Editor"),e.preventDefault();case C.Enter:return this.saveEdits(),M("Keyboard Shortcuts","Enter - Save Quick Card Edits","Quick Card Editor"),e.preventDefault()}}},{key:"render",value:function(e){var t=this;this.opts=e;var r=this.model.toJSON();r.labels=this.model.getLabels(),r.showCover=this.showCover(),r.hasStickers=this.model.hasStickers(),r.cardUrl=$(this.model),r.quickEdit=!0,r.members=[],r.isTemplate=this.model.isOnBoardTemplate(),r.isCardTemplate=!!this.model.get("isTemplate"),r.cardRole=this.model.getCardRole(),r.left=this.cLeft=e.left,r.top=this.cTop=e.top,r.width=this.cWidth=e.width;var i=this.cWidth+this.cLeft+160,o=d(window).width();return e.onMap&&(r.top=r.top-20),i>o&&(r.leftButtons=!0,this._usingLeftButtons=!0),this.$el.html(L.fill(n("./app/scripts/views/templates/quick_card_editor.js"),r,{})),this.renderStickers().renderCover().renderLabels().renderBadges().renderMembers().checkShowCover(),this.renderDueComplete(),d("#chrome-container").append(this.$el),this.calcHeight(),this.focusInput(),this.defer((function(){return t.$(".quick-card-editor-buttons").addClass("fade-in")})),this.$(".js-edit-card-title").autosize(),W(H.createElement(q,{idCard:this.model.get("id"),onLoad:function(){return t.calcHeight()},analyticsContainers:this.model.getAnalyticsContainers()}),this.$("#convert-card-role-button-react-root")[0]),this}},{key:"rerender",value:function(){this.render(this.opts)}},{key:"calcHeight",value:function(){var e,t=d(window).height(),n=this.$(".quick-card-editor-card").outerHeight();this.cTop+n>t&&(e=t-n-8,this.$(".quick-card-editor-card").css({top:e}));var r=this.$(".quick-card-editor-buttons"),i=r.outerHeight();i+r.offset().top>t&&r.css({top:n-i})}},{key:"renderStickers",value:function(){var e=this;if(this.$(".sticker.moving, .sticker.rotating").length>0)return this;var t=this.$(".js-card-stickers").empty(),n=Array.from(this.model.stickerList.models).map((function(t){return e.subview(A,t,{card:e.model})}));return this.appendSubviews(n,t),this.$(".list-card").toggleClass("is-stickered",this.model.hasStickers()),this}},{key:"checkShowCover",value:function(){return this.$(".list-card").toggleClass("is-covered",this.showCover()).toggleClass("is-stickered",this.model.hasStickers()),this}},{key:"focusInput",value:function(){return this.$(".js-edit-card-title").focus().select()}},{key:"showPopOver",value:function(e,t,n,r){null==r&&(r={}),D.stop(e),I.toggle({elem:d(e.target).closest("a"),view:new t(R.extend({model:this.model,modelCache:this.modelCache},r)),alignRight:this._usingLeftButtons}),M("Quick Card Editor",n,void 0,this.model.trackProperty())}},{key:"showDateRangePicker",value:function(e){var t,n;if(this.$(".js-card-menu"))return I.toggle({elem:d(e.target).closest("a"),getViewTitle:function(){return Y("change-due-date")},keepEdits:!0,reactElement:H.createElement(P,{due:this.model.get("due"),start:this.model.get("start"),dueReminder:this.model.get("dueReminder"),hidePopover:function(){return I.hide()},idCard:this.model.id,idBoard:null===(t=this.model.getBoard())||void 0===t?void 0:t.id,idOrg:null===(n=this.model.getBoard())||void 0===n?void 0:n.get("idOrganization")})})}},{key:"editLabels",value:function(e){return this.showPopOver(e,v,"Open Label Edit")}},{key:"editMembers",value:function(e){return this.showPopOver(e,g,"Open Member Edit")}},{key:"editCover",value:function(e){K({elem:this.$(e.currentTarget),cardId:this.model.id})}},{key:"copyCard",value:function(e){return this.showPopOver(e,h,"Open Copy Card",{onCopy:this.closeEditor.bind(this)})}},{key:"editDueDate",value:function(e){return z("ecosystem.timeline-version","beta")?this.showDateRangePicker(e):this.showPopOver(e,j,"Open Due Date Edit",{trackingCategory:"quick card editor"}),this.openedDatePicker=!0}},{key:"moveCard",value:function(e){var t=this.closeEditor.bind(this);return this.showPopOver(e,b,"Open Move Card",{onCommit:t})}},{key:"archive",value:function(e){D.stop(e);var t=m.startTask({taskName:"edit-card",subTask:"closed",source:"quickCardEditorInlineDialog"});this.model.close(t,Z({traceId:t,subTask:"closed",field:"closed"})),this.closeEditor(),M("Quick Card Editor","Archive",void 0,this.model.trackProperty())}},{key:"quickCardEditKeydown",value:function(e){if(x(e)===C.Enter)return this.saveEdits(e)}},{key:"saveEdits",value:function(e){D.stop(e);var t=this.$(".js-edit-card-title").val().trim(),n=this.model.get("name");if(t===n)this.closeEditor();else if(""!==t){var r=m.startTask({taskName:"edit-card",subTask:"name",source:"quickCardEditorInlineDialog"});this.model.recordAction({type:"rename",name:t,previousName:n}),this.model.update({name:t,traceId:r},Z({traceId:r,subTask:"name",field:"name"})),this.closeEditor(),M("Quick Card Editor","Save Name",void 0,this.model.trackProperty()),U(t,{category:"quick card editor",method:"by editing name"})}else this.$(".js-edit-card-title").focus().select()}},{key:"mousedownOnOverlay",value:function(e){this.isMouseDownOnOverlay=e.target===this.$el[0]}},{key:"checkCloseEditor",value:function(e){this.isMouseDownOnOverlay&&(this.isMouseDownOnOverlay=!1,I.isVisible?I.hide():this.$(".sticker.editing").length>0?this.stopEditingStickers():this.closeEditor(e))}},{key:"closeEditor",value:function(e){this.remove(),I.hide(),M("Quick Card Editor","Close",void 0,this.model.trackProperty());var t="onBoardView"===V.get("ecosystem.auto-enable-calendar-popover","none");Q(this.model.getBoard(),(function(e){return e.shouldRenderAutoEnableCalendarPopover()}))&&this.openedDatePicker&&t&&Q(w.getCurrentBoardView(),(function(e){return e.renderAutoEnableCalendarPopover()})),this.openedDatePicker=!1}},{key:"stopEditingStickers",value:function(){for(var e=0,t=Array.from(R.clone(this.model.stickerList.models));e<t.length;e++){t[e].trigger("stopEditing")}}},{key:"stopCard",value:function(e){D.stopPropagation(e),I.hide()}}],[{key:"open",value:function(e){this.close();var t=e.$el,n=t.offset(),r={width:t.width(),left:n.left,top:n.top,onMap:e.onMap};return m.sendScreenEvent({name:"quickCardEditorInlineDialog",attributes:{view:f()}}),this.current=new p({model:e.model,modelCache:e.modelCache}).render(r)}},{key:"close",value:function(){return null!=this.current&&this.current.closeEditor(),this.current=null}}]),p}(B);function Q(e,t){return null!=e?t(e):void 0}J.initClass(),R.extend(J.prototype,k,y),e.exports=J},"./app/scripts/views/card/select-card-position.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./app/scripts/db/model-loader.js"),o=n("./app/scripts/network/payloads.ts").default,a=n("./node_modules/underscore/underscore.js"),s=n("./app/scripts/lib/localize.js"),l={renderValues(){var e=this.$(".js-select-board option:selected").val(),t=this.$(".js-select-list option:selected").val(),n=parseInt(this.$(".js-select-position option:selected").prop("index"),10)+1,i=this.modelCache.get("Board",e),o=i.get("name"),l=a.find(i.listList.models,(function(e){return e.id===t}));if(this.$(".js-board-value").text(o),null!=l){var c=l.get("name");n=n.toString(),this.$(".js-list-value").text(c),this.$(".js-pos-value").text(n),this.$(".js-select-list,.js-select-position,.js-commit-position,.js-submit").removeAttr("disabled")}else this.$(".js-list-value").empty().append(r("<i></i>").text(s("no lists"))),this.$(".js-pos-value").empty().append(r("<i></i>").text(s("n/a"))),this.$(".js-select-list,.js-select-position,.js-commit-position,.js-submit").attr("disabled","disabled")},updateBoardData(){var e=this,t=this.$(".js-select-board").find("option:selected").val();if(t===this.model.getBoard().id){this._boardData=this.model.getBoard();for(var n=0,r=Array.from(this._boardData.listList.models);n<r.length;n++){var a=r[n];a.cardCount=this._boardData.listList.get(a.id).openCards().length}this.updateListList()}else null!=t&&(this.$(".js-submit").attr("disabled","disabled"),i.loadBoardData(t,o.cardsAndListsMinimal).then((function(){return e._boardData=e.modelCache.get("Board",t),e.updateListList()})).done())},updateListList(){var e,t,n,i=this.$(".js-select-board"),o=this.$(".js-select-list").empty(),a=i.find("option:selected").val(),s=this.model.getList().id;a===this.model.getBoard().id?e=s:(t=this._boardData.listList.at(0),n=function(e){return e.id},e=null!=t?n(t):void 0);for(var l=0,c=Array.from(this._boardData.listList.models);l<c.length;l++){var u=c[l],d=r("<option>").val(u.id).appendTo(o);u.id===s?d.format("current list",{listName:u.get("name")}):d.text(u.get("name")),u.id===e&&d.attr("selected","selected")}return this.updatePositionList()},updatePositionList(){var e,t,n,i=this.$(".js-select-list"),o=this.$(".js-select-position").empty(),a=i.find("option:selected").val();if(null!=a){var l=null!=(t=this._boardData.listList.get(a))?t:this._boardData.listList.at(0),c=(null!=l?l.id:void 0)===this.model.getList().id,u=this._boardData.listList.get(a).cardList.length;c?(n=e=this.model.getList().openCards().indexOf(this.model),this.showCurrentPosition||(u-=1)):(e=-1,n=u);for(var d=0,p=u,m=0<=p;m?d<=p:d>=p;m?d++:d--){var f=String(d+1),h=d===e?s("current position",{index:f}):f,v=0===d?"top":d===u?"bottom":l.calcPos(d),g=r("<option>").val(v).text(h).appendTo(o);d===n&&g.attr("selected","selected")}this.$(".js-pos-value").text(String(n)),this.renderValues()}else this.renderValues()}};e.exports=l},"./app/scripts/views/card/should-fire-confetti.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"shouldFireConfetti",(function(){return i}));var r=["🎊","🎉","🎆","🎇","👖","✨"];function i(e){return r.some((function(t){return e.includes(t)}))}},"./app/scripts/views/card/uploading-link-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(p,e);var t,n,c,u,d=(t=p,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function p(){return r(this,p),d.apply(this,arguments)}return n=p,u=[{key:"initClass",value:function(){this.prototype.viewTitleKey="sending links"}}],(c=[{key:"render",value:function(){return this.$el.html('<div class="spinner loading"></div>'),this}}])&&i(n.prototype,c),u&&i(n,u),p}(n("./app/scripts/views/internal/view.js"));c.initClass(),e.exports=c},"./app/scripts/views/custom-field/constants.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"MAX_FIELDS",(function(){return r}));var r=50},"./app/scripts/views/custom-field/custom-field-badge-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/underscore/underscore.js"),u=n("./app/scripts/views/internal/teacup-with-helpers.js")(),d=n("./app/scripts/views/internal/view.js"),p=n("./node_modules/xtend/immutable.js"),m=n("./packages/atlassian-analytics/index.ts").Analytics,f=u.renderable((function(e){var t=e.icon,n=e.name,r=e.text,i=e.type;return null!=t&&u.icon(t,{class:"mod-quiet"}),u.span(".badge-text",(function(){return n&&"checkbox"!==i?u.text("".concat(n,": ").concat(r)):u.text(r)}))})),h={black:"field-color-black",blue:"field-color-blue",green:"field-color-green",orange:"field-color-orange",red:"field-color-red",yellow:"field-color-yellow",purple:"field-color-purple",pink:"field-color-pink",sky:"field-color-sky",lime:"field-color-lime","light-gray":"field-color-light-gray"},v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(g,e);var t,n,u,d,v=(t=g,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function g(){return r(this,g),v.apply(this,arguments)}return n=g,d=[{key:"initClass",value:function(){this.prototype.tagName="div"}}],(u=[{key:"className",value:function(){var e=this.getColorClass();return e?"badge field-color ".concat(e):"badge"}},{key:"initialize",value:function(e){var t=e.customFieldItem,n=e.customField;this.customFieldItem=t,this.customField=n}},{key:"getColorClass",value:function(){return h[null!=this.options.customFieldItem?this.options.customFieldItem.getColor():void 0]}},{key:"trackCustomFieldValueUpdate",value:function(){m.sendTrackEvent({action:"updated",actionSubject:"customFieldValue",source:"cardDetailBadge",attributes:{type:this.customField.get("type"),isSuggestedField:!!this.customField.get("isSuggestedField")},containers:this.customField.getBoard().getAnalyticsContainers()})}},{key:"renderBadge",value:function(e){return this.$el.html(f(e)),this.$el}},{key:"render",value:function(){var e=this.customField.toJSON(),t=this.customFieldItem.toJSON(),n="checkbox"===this.customField.get("type")?this.customField.icon():void 0,r=this.customFieldItem.getFrontBadgeText();return this.renderBadge(p(t,c.pick(e,"name","type"),{icon:n,text:r})),this}}])&&i(n.prototype,u),d&&i(n,d),g}(d);v.initClass(),e.exports=v},"./app/scripts/views/custom-field/custom-field-badges-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/underscore/underscore.js"),u=n("./app/scripts/views/custom-field/custom-field-badge-view.js"),d=n("./app/scripts/views/internal/plugins/plugin-runner.js"),p=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginViewedComponentEvent,m=n("./packages/analytics/index.ts").trackUe,f=n("./app/scripts/views/internal/view.js"),h=n("./packages/config/index.ts").customFieldsId,v=null,g=!1,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(k,e);var t,n,f,b,y=(t=k,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function k(){return r(this,k),y.apply(this,arguments)}return n=k,b=[{key:"initClass",value:function(){this.prototype.tagName="span",this.prototype.badgeView=u}}],(f=[{key:"idForBadge",value:function(e,t){var n=[e.id,e.name,JSON.stringify(e.options)];return t&&(n.push(t.id),t.idValue?n.push(t.idValue):n=n.concat([t.color,JSON.stringify(t.value)])),n.join(":")}},{key:"render",value:function(){var e=this,t=this.model.getBoard();t.id!==v&&(v=t.id,g=!1);var n=t.customFieldList.map((function(t){var n=e.model.getCustomFieldItem(t.id);if(!(null!=n?n.showFrontBadge():void 0))return null;var r=e.idForBadge(t.toJSON(),n.toJSON());return e.subview(e.badgeView,e.model,{customFieldItem:n,customField:t},r)})),r=c.compact(n);return this.ensureSubviews(r),r.length>0&&this.trackBadges(),this}},{key:"trackBadges",value:function(){var e=this;if(!g)return g=!0,m("board view","views","Power-Up","","","card-badges",h),d.getOrLoadPlugin(this.model.getBoard(),h).then((function(){return p({idPlugin:h,idBoard:e.model.getBoard().id,idCard:e.model.id,event:{componentType:"badge",componentName:"pupCardBadge",source:"boardScreen"}})}))}}])&&i(n.prototype,f),b&&i(n,b),k}(f);b.initClass(),e.exports=b},"./app/scripts/views/custom-field/custom-field-create-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/underscore/underscore.js"),u=n("./app/scripts/models/custom-field.js"),d=n("./app/scripts/views/custom-field/option-editor-view.js"),p=n("./app/scripts/views/lib/pop-over.js"),m=n("./node_modules/bluebird/js/browser/bluebird.js"),f=n("./app/scripts/views/internal/view.js"),h=n("./app/scripts/lib/util/index.js"),v=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),g=n("./packages/analytics/index.ts").trackUe,b=n("./packages/atlassian-analytics/index.ts").Analytics,y=n("./packages/config/index.ts").customFieldsId,k=v.renderable((function(e){var t=e.selectedType,n=e.name,r=e.isDuplicate,i=e.cardFront,o=e.isSuggestedField;return v.form((function(){return v.label({for:"field-create-type"},(function(){return v.format("type")})),v.select(".js-field-type-select",{id:"field-create-type",name:"type",disabled:o},(function(){return u.types.forEach((function(e){return v.option({value:e,selected:t===e},(function(){return v.format(e)}))}))})),v.label({for:"field-create-name"},(function(){return v.format("name")})),v.input(".js-field-name-input",{autoselect:!0,class:v.classify({"is-invalid":r}),id:"field-create-name",maxlength:1e3,name:"name",required:!0,spellcheck:!0,type:"text",value:n,disabled:o}),v.p(".custom-field-error-message.js-duplicate-error",{class:v.classify({hide:!r})},(function(){return v.format("duplicate field")})),v.div({class:v.classify({"js-options-container":!0,"options-container":!0})}),v.hr(),v.a(".js-toggle-field-display.custom-fields-settings-toggle",{href:"#"},(function(){if(v.format("show on front of card"),i)return v.icon("check")})),v.hr(),v.input(".nch-button.nch-button--primary.js-save-field",{disabled:0===n.length||r,type:"submit",value:v.l("create")})}))})),w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(w,e);var t,n,u,f,v=(t=w,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function w(){return r(this,w),v.apply(this,arguments)}return n=w,f=[{key:"initClass",value:function(){this.prototype.viewTitleKey="new field",this.prototype.events={"click .js-save-field":"createField","click .js-toggle-field-display":"toggleDisplay","input .js-field-name-input":"validateFieldName","change .js-field-type-select":"changeType"}}}],(u=[{key:"initialize",value:function(){return this.cardFront=!0,this.name=this.options.name,this.selectedType=this.options.selectedType,this.suggestedOptions=this.options.suggestedOptions,this.isSuggestedField=!!this.options.isSuggestedField,this.board=this.options.board}},{key:"isDuplicate",value:function(){var e=null!=this.name?this.name:"",t=null!=this.selectedType?this.selectedType:"checkbox";return this.board.hasCustomField(t,e)}},{key:"render",value:function(){var e=this.isDuplicate();return this.$el.html(k({name:null!=this.name?this.name:"",isDuplicate:e,selectedType:this.selectedType,cardFront:this.cardFront,isSuggestedField:this.isSuggestedField})),"list"===this.selectedType&&(this.optionEditor=this.subview(d,this.model,{suggestedOptions:this.suggestedOptions},"new-field-options-editor"),this.appendSubview(this.optionEditor,this.$(".js-options-container"))),this}},{key:"changeType",value:function(e){return this.selectedType=this.$(e.target).val(),this.render()}},{key:"validateFieldName",value:function(e){var t=this.$(e.target).val().trim();this.name=t;var n=this.isDuplicate();return this.$(".js-save-field").prop("disabled",0===this.name.length||n),this.$(".js-field-name-input").toggleClass("is-invalid",n),this.$(".js-duplicate-error").toggleClass("hide",!n)}},{key:"toggleDisplay",value:function(e){return h.stop(e),this.cardFront=!this.cardFront,this.render()}},{key:"createField",value:function(e){var t=this;h.stop(e);var n=this.$(e.target),r=n.closest("form"),i=r.find(".js-field-type-select").val(),o=r.find(".js-field-name-input").val().trim();if(""!==o){n.prop("disabled",!0);var a={idModel:this.board.id,modelType:"board",name:o,pos:"bottom",type:i};this.isSuggestedField&&(a.isSuggestedField=!0),"list"===i&&(a.options=this.optionEditor.getOptions()),b.sendTrackEvent({action:"added",actionSubject:"customField",source:"customFieldCreateInlineDialog",attributes:{type:i,isSuggestedField:this.isSuggestedField},containers:this.board.getAnalyticsContainers()}),g("card-detail","creates","custom fields definition",i,"","by clicking the save button",y);var s=c.extend({},a,{display_cardFront:this.cardFront});return new m((function(e){return t.board.customFieldList.create(a,{requestData:s,success:e})})).then((function(){return p.popView()})).done()}}}])&&i(n.prototype,u),f&&i(n,f),w}(f);w.initClass(),e.exports=w},"./app/scripts/views/custom-field/custom-field-delete-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/lib/pop-over.js"),u=n("./app/scripts/views/internal/view.js"),d=n("./app/scripts/lib/util/index.js"),p=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),m=n("./packages/analytics/index.ts").trackUe,f=n("./packages/atlassian-analytics/index.ts").Analytics,h=n("./packages/config/index.ts").customFieldsId,v=p.renderable((function(e){var t=e.name;return p.div((function(){return p.p((function(){return p.format("delete warning")})),p.p((function(){return p.format("delete prompt",{fieldName:t})})),p.input(".js-field-name",{name:"name",type:"text",autofocus:!0,spellcheck:!0,placeholder:p.l("field name")}),p.div((function(){return p.button(".nch-button--fullwidth.nch-button.nch-button--danger.js-delete-field.disabled",{disabled:!0},(function(){return p.format("delete field")}))}))}))})),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(b,e);var t,n,u,p,g=(t=b,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function b(){return r(this,b),g.apply(this,arguments)}return n=b,p=[{key:"initClass",value:function(){this.prototype.viewTitleKey="delete field",this.prototype.events={"click .js-delete-field":"removeField","input .js-field-name":"validateName"}}}],(u=[{key:"initialize",value:function(){return this.customField=this.options.customField}},{key:"render",value:function(){return this.$el.html(v({name:this.customField.get("name")})),this}},{key:"validateName",value:function(e){var t=this.$(e.target).val()===this.customField.get("name");return this.$(".js-delete-field").toggleClass("disabled",!t).prop("disabled",!t)}},{key:"removeField",value:function(e){return d.stop(e),this.customField.destroy(),f.sendTrackEvent({action:"deleted",actionSubject:"customField",source:"customFieldDeleteInlineDialog",attributes:{type:this.customField.get("type"),isSuggestedField:!!this.customField.get("isSuggestedField")},containers:this.customField.getBoard().getAnalyticsContainers()}),m("card-detail","deletes","custom field definition",this.customField.get("type"),"","by clicking the delete button",h),c.hide()}}])&&i(n.prototype,u),p&&i(n,p),b}(u);g.initClass(),e.exports=g},"./app/scripts/views/custom-field/custom-field-edit-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/custom-field/custom-field-delete-view.js"),u=n("./packages/keybindings/index.ts").isSubmitEvent,d=n("./app/scripts/views/custom-field/option-editor-view.js"),p=n("./app/scripts/views/lib/pop-over.js"),m=n("./app/scripts/views/internal/view.js"),f=n("./app/scripts/lib/util/index.js"),h=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),v=n("./packages/analytics/index.ts").trackUe,g=n("./packages/atlassian-analytics/index.ts").Analytics,b=n("./packages/config/index.ts").customFieldsId,y=h.renderable((function(e){var t=e.name,n=e.cardFront,r=e.isList,i=e.isSuggestedField;return h.div((function(){return h.label({for:"name"},(function(){return h.format("name")})),h.input(".js-field-name",{name:"name",type:"text",autofocus:!0,spellcheck:!0,value:t,disabled:i}),h.p(".custom-field-error-message.hide.js-duplicate-error",(function(){return h.format("duplicate field")})),i||h.p(".quiet",(function(){return h.format("changing field name")})),h.div({class:h.classify({"js-options-container":!0,"options-container":!0})}),r&&h.p(".quiet",(function(){return h.format("delete option warning")})),h.hr(),h.a(".js-toggle-field-display.custom-fields-settings-toggle",{href:"#"},(function(){if(h.format("show on front of card"),n)return h.icon("check")})),h.div((function(){return h.hr(),h.a(".quiet.js-delete-field",{href:"#"},(function(){return h.format("delete field")}))}))}))})),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(w,e);var t,n,m,h,k=(t=w,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function w(){return r(this,w),k.apply(this,arguments)}return n=w,h=[{key:"initClass",value:function(){this.prototype.events={"click .js-delete-field":"removeField","click .js-toggle-field-display":"toggleDisplay","keydown .js-field-name":"handleEnter","input .js-field-name":"validateName","focusout .js-field-name":"saveOnBlur"}}}],(m=[{key:"viewTitleKey",value:function(){return this.customField.isList()?"edit field":"rename field"}},{key:"initialize",value:function(){return this.board=this.options.board,this.customField=this.options.customField,this.options=this.customField.get("options")}},{key:"render",value:function(){var e,t;return this.$el.html(y({name:this.customField.get("name"),cardFront:(e=this.customField.get("display"),t=function(e){return e.cardFront},null!=e?t(e):void 0),isList:this.customField.isList(),isSuggestedField:!!this.customField.get("isSuggestedField")})),this.customField.isList()&&(this.optionEditor=this.subview(d,this.model,{customField:this.customField},"".concat(this.customField.id,"-options-editor")),this.appendSubview(this.optionEditor,this.$(".js-options-container"))),this}},{key:"handleEnter",value:function(e){if(u(e))return f.stop(e),this.$(e.target).blur()}},{key:"validateName",value:function(e){var t=this.$(e.target),n=t.val().trim();if(0!==n.length){var r=n!==this.customField.get("name")&&this.board.hasCustomField(this.customField.get("type"),n);return t.toggleClass("is-invalid",r),this.$(".js-duplicate-error").toggleClass("hide",!r)}t.addClass("is-invalid")}},{key:"saveOnBlur",value:function(e){var t=e.target.value.trim();if(t!==this.customField.get("name")){var n=this.customField.get("type");if(0!==t.length&&!this.board.hasCustomField(n,t))return this.customField.update("name",t),g.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{type:this.customField.get("type"),isSuggestedField:!!this.customField.get("isSuggestedField"),updatedField:"name"},containers:this.customField.getBoard().getAnalyticsContainers()}),v("card-detail","edits","custom field definition",n,"","by clicking the custom field definition",b);this.render()}}},{key:"toggleDisplay",value:function(e){return f.stop(e),this.customField.toggleDisplay(),g.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{type:this.customField.get("type"),isSuggestedField:!!this.customField.get("isSuggestedField"),updatedField:"display/cardFront"},containers:this.customField.getBoard().getAnalyticsContainers()}),this.render()}},{key:"removeField",value:function(e){return f.stop(e),p.pushView({elem:this.$(e.target),view:c,options:{model:this.model,modelCache:this.modelCache,customField:this.customField}})}}])&&i(n.prototype,m),h&&i(n,h),w}(m);k.initClass(),e.exports=k},"./app/scripts/views/custom-field/custom-fields-button-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/custom-field/custom-field-create-view.js"),u=n("./app/scripts/views/custom-field/custom-field-edit-view.js"),d=n("./app/scripts/views/lib/pop-over.js"),p=n("./app/scripts/views/internal/view.js"),m=n("./app/scripts/lib/util/index.js"),f=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),h=n("./packages/config/index.ts").customFieldsId,v=n("./app/scripts/views/custom-field/constants.ts").MAX_FIELDS,g=f.renderable((function(e){null==e&&(e={});var t=e,n=t.canCreate,r=t.fields;return f.div((function(){return 0===r.length&&n?(f.p((function(){return f.format("no custom fields")})),f.hr(),f.a(".custom-field.js-add-field",{href:"#"},(function(){return f.icon("add"),f.span(".custom-field-name",(function(){return f.format("new field")}))}))):f.ul((function(){if(r.map((function(e){return f.li(".custom-field.js-field",{href:"#",idCustomField:e.id},(function(){return f.icon(e.icon(),{class:"js-drag-handle draggable"}),f.a(".custom-field-name.js-edit-field",{href:"#"},(function(){return f.text(e.get("name"))}))}))})),n)return f.hr(),f.a(".custom-field.js-add-field",{href:"#"},(function(){return f.icon("add"),f.span(".custom-field-name",(function(){return f.format("new field")}))}))}))}))})),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(y,e);var t,n,p,f,b=(t=y,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function y(){return r(this,y),b.apply(this,arguments)}return n=y,f=[{key:"initClass",value:function(){this.prototype.viewTitleKey="custom fields",this.prototype.events={"click .js-add-field":"createCustomField","click .js-edit-field":"editCustomField"}}}],(p=[{key:"initialize",value:function(){return this.board=this.options.board}},{key:"render",value:function(){var e=this,t=this.board.customFieldList.models,n=this.board.editable()&&this.board.isPluginEnabled(h)&&this.board.customFieldList.length<v;if(this.$el.html(g({canCreate:n,fields:t})),t.length>1){var r=this.$(".js-field").first().closest("ul");r.sortable({axis:"y",cursor:"move",delay:"75",distance:"5",handle:".js-drag-handle",tolerance:"pointer",placeholder:"field-list-option placeholder",items:".js-field",sort:function(e,t){var n=r.parent().parent().offset().top,i=e.clientY-n;return t.helper.css({top:"".concat(i,"px")})},update:function(t,n){var r=n.item.attr("idCustomField"),i=n.item.parent().children().index(n.item);return e.board.customFieldList.get(r).move(i)}})}return this}},{key:"createCustomField",value:function(e){return m.stop(e),d.pushView({elem:this.$(e.target),view:c,options:{model:this.model,modelCache:this.modelCache,board:this.board}})}},{key:"editCustomField",value:function(e){var t=this.$(e.target).closest(".js-field"),n=t.attr("idCustomField"),r=this.board.customFieldList.get(n);return d.pushView({elem:t,view:u,options:{model:this.model,modelCache:this.modelCache,board:this.board,customField:r}})}}])&&i(n.prototype,p),f&&i(n,f),y}(p);b.initClass(),e.exports=b},"./app/scripts/views/custom-field/option-editor-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/underscore/underscore.js"),u=n("./app/scripts/models/custom-field-item.js"),d=n("./packages/keybindings/index.ts").isSubmitEvent,p=n("./app/scripts/views/internal/view.js"),m=n("./app/scripts/lib/util/index.js"),f=n("./app/scripts/views/internal/teacup-with-helpers.js")("custom_fields"),h=n("./packages/atlassian-analytics/index.ts").Analytics,v=f.renderable((function(e){var t=e.options,n=e.colors;return f.div((function(){if(f.label(".js-option-list-label",(function(){return f.format("options")})),f.div(".js-option-list",(function(){return t.map((function(e){return f.div(".field-list-option.js-list-option",{idOption:e.cid||e.id},(function(){return f.a(".field-list-option-color-swatch.is-clickable.js-option-pick-color.field-color-".concat(e.color||"none"),{href:"#"}),f.a(".option-value.js-option",{href:"#",title:e.value.text},(function(){return f.text(e.value.text)})),f.input(".option-value.js-option",{type:"text",value:e.value.text}),f.a(".icon-sm.icon-trash.js-remove-option",{href:"#"})}))}))})),f.div(".hide.js-option-color-picker",(function(){return f.label(".field-color-picker-label",(function(){return f.format("select a color")})),f.div({style:"margin-left: 4px"},(function(){return n.map((function(e){return f.a(".field-list-option-color-swatch.field-color.is-clickable.field-color-".concat(e.color,".js-palette-color"),{"data-color":e.color})}))}))})),t.length<50)return f.input(".js-add-option.add-option",{type:"text",placeholder:f.l("add item")})}))})),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(b,e);var t,n,p,f,g=(t=b,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function b(){return r(this,b),g.apply(this,arguments)}return n=b,f=[{key:"initClass",value:function(){this.prototype.events={"click .js-option-pick-color":"toggleColorPicker","click .js-palette-color":"pickColor","click a.js-option":"startEditOption","click .js-remove-option":"removeOption","keydown .js-add-option":"addOption","keydown input[type=text].js-option":"blurOnEnter","focusout input[type=text].js-option":"updateOption"}}}],(p=[{key:"initialize",value:function(){var e,t=this;this.customField=this.options.customField;var n=this.options.suggestedOptions;return this.options=n?n.map((function(e,n){var r=e.name,i=e.color;return t._createOption(r,n,i)})):null!=(e=null!=this.customField?this.customField.get("options"):void 0)?e:[]}},{key:"render",value:function(){var e=this,t=Array.from(u.colors).map((function(e){return{color:e}})),n=this.options;this.customField&&(n=this.customField.optionList.models.map((function(e){return c.extend({cid:e.cid},e.toJSON())}))),this.$el.html(v({colors:t,options:n}));var r=this.$(".js-option-list");return n.length>1&&r.sortable({axis:"y",cursor:"move",delay:"75",distance:"5",tolerance:"pointer",placeholder:"field-list-option placeholder",items:".js-list-option",sort:function(t,n){var r=e.$el.closest(".js-options-container").parent().offset().top,i=e.$el.find(".js-option-list-label").first().outerHeight(),o=t.clientY-r-i;return n.helper.css({top:"".concat(o,"px")})},update:function(t,n){var r=n.item.attr("idOption"),i=n.item.parent().children().index(n.item);if(e.customField)return e.customField.getOptionByCId(r).move(i);var o=c.findIndex(e.options,(function(e){return e.id===r}));return e.options.splice(i,0,e.options.splice(o,1)[0])}}),this}},{key:"getOption",value:function(e){return c.find(this.options,(function(t){return t.id===e}))}},{key:"getOptions",value:function(){return this.options.map((function(e,t){return e.new?{color:e.color,value:e.value,pos:1024*(t+1)}:c.omit(e,"pos","idCustomField")}))}},{key:"toggleColorPicker",value:function(e){var t=this.$(".js-option-color-picker");if(t.hasClass("hide")){var n=this.$(e.target).closest(".js-list-option");if(!n.hasClass("editing")){var r=n.attr("idOption");return this.targetOption=r,t.insertAfter('.js-list-option[idOption="'.concat(r,'"]')).removeClass("hide")}n.children("input.js-option").blur()}else this.render()}},{key:"pickColor",value:function(e){var t=e.target.dataset.color,n=this.targetOption;return this.customField?(this.customField.getOptionByCId(n).update("color",t),h.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{type:this.customField.get("type"),isSuggestedField:!!this.customField.get("isSuggestedField"),updatedField:"options/color"},containers:this.customField.getBoard().getAnalyticsContainers()})):this.getOption(n).color=t,this.render()}},{key:"startEditOption",value:function(e){var t=this.$(e.target).closest(".js-list-option");if(!t.hasClass("editing"))return t.addClass("editing"),t.children('input[type="text"].js-option').first().select()}},{key:"updateOption",value:function(e){var t=e.target.value.trim(),n=this.$(e.target).closest(".js-list-option").attr("idOption");return this.customField?this.customField.getOptionByCId(n).get("value").text!==t&&(this.customField.getOptionByCId(n).update("value",{text:t}),h.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{type:this.customField.get("type"),isSuggestedField:!!this.customField.get("isSuggestedField"),updatedField:"options/value/text"},containers:this.customField.getBoard().getAnalyticsContainers()})):this.getOption(n).value.text=t,this.render()}},{key:"blurOnEnter",value:function(e){if(d(e))return this.$(e.target).blur()}},{key:"removeOption",value:function(e){var t=this.$(e.target).closest(".js-list-option").attr("idOption");if(this.customField){var n=this.customField.getOptionByCId(t);null!=n&&n.destroy(),h.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{type:this.customField.get("type"),isSuggestedField:!!this.customField.get("isSuggestedField"),removedField:"options"},containers:this.customField.getBoard().getAnalyticsContainers()})}else this.options=c.filter(this.options,(function(e){return e.id!==t}));return this.render()}},{key:"addOption",value:function(e){if(d(e)){m.stop(e);var t=e.target.value.trim();if(!t)return;return this.customField?(this.customField.optionList.create({value:{text:t},pos:"bottom"}),h.sendTrackEvent({action:"updated",actionSubject:"customField",source:"customFieldEditInlineDialog",attributes:{type:this.customField.get("type"),isSuggestedField:!!this.customField.get("isSuggestedField"),addedField:"options"},containers:this.customField.getBoard().getAnalyticsContainers()})):this.options.push(this._createOption(e.target.value.trim(),(n=c.last(this.options),r=function(e){return e.pos},(null!=n?r(n):void 0)||0))),e.target.value="",this.render(),this.$(".js-add-option").focus()}var n,r}},{key:"_createOption",value:function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"none";return{id:c.uniqueId("field-option_"),color:n,new:!0,pos:t+5,value:{text:e}}}}])&&i(n.prototype,p),f&&i(n,f),b}(p);g.initClass(),e.exports=g},"./app/scripts/views/directory/base-directory-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./node_modules/react/index.js"),d=n("./packages/react-dom-wrapper/index.ts"),p=n("./app/scripts/views/internal/react-root-component.tsx").ReactRootComponent,m=n("./app/scripts/views/internal/view.js");e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(v,e);var t,n,m,f,h=(t=v,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function v(){return r(this,v),h.apply(this,arguments)}return n=v,(m=[{key:"initialize",value:function(){return null!=this.$reactRoot?this.$reactRoot:this.$reactRoot=c("<div></div>")}},{key:"renderContent",value:function(){throw new Error("BaseDirectoryView renderContent method is not defined.")}},{key:"getReactRoot",value:function(){return u.createElement(p,null,this.renderContent())}},{key:"render",value:function(){return this.$el.append(this.$reactRoot),d.render(this.getReactRoot(),this.$reactRoot[0]),this}}])&&i(n.prototype,m),f&&i(n,f),v}(m)},"./app/scripts/views/directory/business-class-upsell-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/atlassian-analytics/index.ts"),u=c.Analytics,d=c.getScreenFromUrl,p=n("./app/src/components/FreeTrial/index.ts").PlanSelectionOverlay,m=n("./app/scripts/views/lib/pop-over.js"),f=n("./node_modules/react/index.js"),h=n("./packages/react-dom-wrapper/index.ts"),v=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,g=n("./app/scripts/views/internal/teacup-with-helpers.js")("business_class_upsell"),b=n("./packages/analytics/index.ts").trackUe,y=n("./app/scripts/lib/util/index.js"),k=n("./app/scripts/views/internal/view.js"),w=n("./packages/feature-flag-client/index.ts").featureFlagClient,j=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(x,e);var t,c,k,j,_=(t=x,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function x(){return r(this,x),_.apply(this,arguments)}return c=x,j=[{key:"initClass",value:function(){this.prototype.events={"click .js-business-class-upsell-upgrade":"upgradePrompt","click .js-business-class-upsell-close":"onClose"}}}],(k=[{key:"upgradePrompt",value:function(e){y.stop(e);var t=document.createElement("span"),n=this.model.getOrganization();return u.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"pupLimitBCUpsellInlineDialog",containers:{organization:{id:n.id}}}),v(f.createElement(p,{orgId:n.id,onContinue:function(){return window.location.assign("/business-class")},onClose:function(){return h.unmountComponentAtNode(t),t.remove()}}),t)}},{key:"onClose",value:function(e){return y.stop(e),b("Power-Up BC upgrade popover ad","close","Power-Up BC upgrade popover ad"),m.hide()}},{key:"render",value:function(){if(w.get("btg.upgrade-prompt-audit",!1)){var e=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx").UpgradeSmartComponentConnected;this.$el.html(g.render((function(){return g.div(".js-content")})));var t=this.$(".js-content")[0];return v(f.createElement(e,{orgId:this.model.getOrganization().id,promptId:"pupLimitPopUpPromptFull",additionalProps:{onClose:function(e){return y.stop(e),h.unmountComponentAtNode(t),m.hide(),t.remove()}}}),t),this}return u.sendScreenEvent({name:"pupLimitBCUpsellInlineDialog",containers:{board:{id:this.model.id},organization:{id:this.model.get("idOrganization")}},attributes:{location:d()}}),this.$el.html(g.render((function(){return g.div(".content",(function(){return g.a(".icon-close.icon-lg.js-business-class-upsell-close",{href:"#"}),g.h5((function(){return g.format("get-unlimited-power-ups")})),g.p((function(){return g.format("need-more-than-one-power-up-per-board-go-unlimited-with-business-class")})),g.span(".small-link.js-business-class-upsell-upgrade",(function(){return g.format("try-for-14-days")}))}))}))),this}}])&&i(c.prototype,k),j&&i(c,j),x}(k);j.initClass(),e.exports=j},"./app/scripts/views/directory/directory-bonus-view.js":function(e,t,n){function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return function(){var t,n=p(e);if(d()){var r=p(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return u(this,t)}}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n("./node_modules/underscore/underscore.js"),f=n("./app/src/components/PowerUp/index.ts").PowerUpItemType,h=n("./app/scripts/views/directory/base-directory-view.js"),v=n("./app/scripts/views/directory/directory-plugin-item-view.js"),g=n("./node_modules/react/index.js"),b=n("./app/scripts/views/internal/recup-with-helpers.js")("directory"),y=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,null,[{key:"initClass",value:function(){this.prototype.displayName="Directory Bonus Power-Ups",this.prototype.render=b.renderable((function(){return b.div(".directory-content-body",(function(){return b.div(".directory-bonus-banner",(function(){return b.h1((function(){return b.formatText("bonus-powerups")})),b.p((function(){return b.formatText("what-is-a-bonus-powerup")}))})),b.div(".directory-listing")}))}))}}]),n}(g.Component);y.initClass();var k=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"eventSource",value:function(){return"boardDirectoryBonusScreen"}},{key:"initialize",value:function(e){var t=e.plugins,i=e.currentPage,o=e.directoryView;return this.plugins=t,this.currentPage=i,this.directoryView=o,r(p(n.prototype),"initialize",this).apply(this,arguments),this.listenTo(this.model,"change:idOrganization change:powerUps",this.frameDebounce(this.render)),this.listenTo(this.model.boardPluginList,"add remove reset",this.frameDebounce(this.render))}},{key:"renderContent",value:function(){return this.bonusPlugins=this.directoryView.getBonusPlugins(),g.createElement(y,null)}},{key:"render",value:function(){var e=this;r(p(n.prototype),"render",this).apply(this,arguments);var t=this.$el.find(".directory-listing");t.empty();var i=m.map(this.bonusPlugins,(function(t){return e.subview(v,e.model,{atomType:f.Description,currentPage:e.currentPage,plugin:t,directoryView:e.directoryView},t.id)}));this.appendSubviews(i,t);var o=this.directoryView.getEnabledPlugins(),a=m.intersection(m.map(this.bonusPlugins,"id"),m.map(o,"id"));return this.directoryView.trackScreenEvent(this.eventSource(),{totalListed:this.bonusPlugins.length,totalListedEnabled:a.length,totalEnabled:o.length,allPowerUpsEnabled:m.map(o,"id")},a),this}}]),n}(h);e.exports=k},"./app/scripts/views/directory/directory-enabled-view.js":function(e,t,n){function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return function(){var t,n=p(e);if(d()){var r=p(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return u(this,t)}}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n("./node_modules/underscore/underscore.js"),f=n("./app/src/components/PowerUp/index.ts").PowerUpItemType,h=n("./app/scripts/views/directory/base-directory-view.js"),v=n("./app/scripts/views/directory/directory-plugin-item-view.js"),g=n("./node_modules/react/index.js"),b=n("./app/scripts/views/internal/recup-with-helpers.js")("directory_enabled"),y=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,null,[{key:"initClass",value:function(){this.prototype.displayName="Directory Enabled Power-Ups",this.prototype.render=b.renderable((function(){return b.div(".directory-content-body",(function(){return b.div(".directory-listing")}))}))}}]),n}(g.Component);y.initClass();var k=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,null,[{key:"initClass",value:function(){this.prototype.displayName="Directory Enabled Power-Ups Empty State",this.prototype.render=b.renderable((function(){return b.div(".directory-content-body.directory-enabled-empty",(function(){return b.div(".directory-enabled-empty-text",(function(){return b.p((function(){return b.formatText("there-are-no-power-ups-enabled-for-this-board")})),b.p((function(){return b.formatText("get-started-with-these-great-power-ups")}))})),b.div(".directory-listing")}))}))}}]),n}(g.Component);k.initClass(),e.exports=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"eventSource",value:function(){return"boardDirectoryEnabledScreen"}},{key:"initialize",value:function(e){var t=e.plugins,i=e.currentPage,o=e.directoryView;return this.plugins=t,this.currentPage=i,this.directoryView=o,r(p(n.prototype),"initialize",this).apply(this,arguments),this.listenTo(this.model,"change:idOrganization change:powerUps",this.frameDebounce(this.render)),this.listenTo(this.model.boardPluginList,"add remove reset",this.frameDebounce(this.render))}},{key:"getPluginSuggestions",value:function(){var e=this.directoryView.filterOutHiddenPlugins(this.plugins);return m.sample(e,3)}},{key:"renderContent",value:function(){return this.enabledPlugins=this.directoryView.getEnabledPlugins(),this.enabledPlugins.length?g.createElement(y,null):g.createElement(k,null)}},{key:"render",value:function(){var e,t=this;r(p(n.prototype),"render",this).apply(this,arguments);var i=this.$el.find(".directory-listing");if(i.empty(),this.enabledPlugins.length>0){e=this.enabledPlugins;var o=m.map(this.enabledPlugins,(function(e){return t.subview(v,t.model,{atomType:f.Description,currentPage:t.currentPage,plugin:e,directoryView:t.directoryView},e.id)}));this.appendSubviews(o,i)}else{var a=this.getPluginSuggestions();e=a;var s=m.map(a,(function(e){return t.subview(v,t.model,{atomType:f.Description,currentPage:t.currentPage,plugin:e,directoryView:t.directoryView},e.id)}));this.appendSubviews(s,i)}var l=m.intersection(m.map(e,"id"),m.map(this.enabledPlugins,"id"));return this.directoryView.trackScreenEvent(this.eventSource(),{totalListed:e.length,totalListedEnabled:l.length,totalEnabled:this.enabledPlugins.length,allPowerUpsEnabled:m.map(this.enabledPlugins,"id")},l),this}}]),n}(h)},"./app/scripts/views/directory/directory-header-view.js":function(e,t,n){function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return function(){var t,n=p(e);if(d()){var r=p(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return u(this,t)}}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n("./app/scripts/db/auth.js"),f=n("./app/scripts/views/directory/base-directory-view.js"),h=n("./app/scripts/views/board-menu/board-add-to-team-view.js"),v=n("./app/scripts/controller/index.js"),g=n("./packages/browser/index.ts").dontUpsell,b=n("./packages/feature-flag-client/index.ts").featureFlagClient,y=n("./app/scripts/db/model-loader.js"),k=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),w=n("./app/scripts/views/lib/pop-over.js"),j=n("./node_modules/react/index.js"),_=n("./app/scripts/views/internal/recup-with-helpers.js")("directory"),x=n("./packages/analytics/index.ts").trackUe,C=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx").UpgradeSmartComponentConnected,O=n("./app/scripts/lib/util/index.js"),S=void 0,E=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,null,[{key:"initClass",value:function(){this.prototype.displayName="Directory Business Class Banner",S=b.get("btg.upgrade-prompt-audit",!1),this.prototype.render=_.renderable((function(){var e=this.props,t=e.onDismissClick,n=e.onUpgradeClick,r=e.orgId;return _.div(".directory-business-class-banner",(function(){return _.div(".banner-content",(function(){return _.icon("business-class",{class:"icon-lg light"}),_.format("this-board-has-reached-its-power-up-limit-upgrade-to-business-class-to-enable-additional-power-ups")})),_.div(".buttons-container",(function(){return _.a(".dismiss-link",{href:"#",onClick:t},(function(){return _.format("dismiss")})),S?_.addElement(j.createElement(C,{orgId:r,promptId:"pupUpgradeBannerButton"})):_.a(".button-link.mod-upgrade",{href:"#",onClick:n},(function(){return _.format("upgrade")}))}))}))}))}}]),n}(j.Component);E.initClass();var T=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,null,[{key:"initClass",value:function(){this.prototype.displayName="Directory Header",this.prototype.render=_.renderable((function(){var e=this.props,t=e.title,n=e.showBackButton,r=e.navigateBack,i=e.toggleNavigationMenu;return _.div(".directory-header",(function(){return _.div(".directory-header-toolbar",(function(){return _.h2(".directory-header-toolbar-title",(function(){return _.format(t)})),_.div(".directory-header-toolbar-left",(function(){return _.a(".icon-lg.icon-back.dark-hover.directory-back-btn",{href:"#",onClick:r,class:_.classify({hide:!n})}),_.a(".directory-hamburger",{href:"#",onClick:i},(function(){return _.text("☰")}))})),_.div(".directory-header-toolbar-right",(function(){return _.a(".icon-lg.icon-close.dark-hover.js-close-directory",{href:"#"})}))}))}))}))}}]),n}(j.Component);T.initClass();var P=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,null,[{key:"initClass",value:function(){this.prototype.render=_.renderable((function(){var e=this.props,t=e.title,n=e.showBackButton,r=e.navigateBack,i=e.toggleNavigationMenu,o=e.upsellEnabled,a=e.onUpgradeClick,s=e.onDismissClick,l=e.orgId;return _.div((function(){if(_.tag(T,{title:t,showBackButton:n,navigateBack:r,toggleNavigationMenu:i}),o)return _.tag(E,{onUpgradeClick:a,onDismissClick:s,orgId:l})}))}))}}]),n}(j.Component);function N(e,t){return null!=e?t(e):void 0}P.initClass(),e.exports=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"initialize",value:function(e){var t=this,i=e.directoryView;return this.directoryView=i,r(p(n.prototype),"initialize",this).apply(this,arguments),this.listenTo(this.model,{"change:powerUps":this.render}),this.listenTo(this.model.boardPluginList,{"add remove reset":this.render}),this.subscribe(k(this.model),(function(){return t.render()}))}},{key:"onUpgradeClick",value:function(e){if(O.stop(e),x("Power-Up BC upgrade banner","clicks","upgrade button"),this.model.owned()){if(!this.model.hasOrganization())return y.loadMyOrganizations(),w.toggle({autoPosition:!0,elem:e.target,getViewTitle:function(){return"Upgrade to Business Class"},view:new h({model:this.model})});window.location=v.getBoardPowerUpsUpgradeUrl(this.model)}else window.location="/business-class"}},{key:"onDismissClick",value:function(e){return O.stop(e),x("Power-Up BC upgrade","closes","Power-Up BC upgrade banner"),m.me().dismissAd("DirectoryBusinessClassBanner"),this.manuallyDismissed=!0,this.render(),this.directoryView.setBodyHeight(this.manuallyDismissed)}},{key:"renderContent",value:function(){var e=this,t=this.directoryView,n=t.category,r=t.section,i=t.idPlugin,o=t.history,a=t.search,s="power-ups";null!=a&&a.length?s="power-ups":null!=n?s=n:null!=r&&(s=r);var l=N(this.model.getOrganization(),(function(e){return e.isPremium()}));return j.createElement(P,{title:s,upsellEnabled:!(this.model.canEnableAdditionalPowerUps()||l||this.manuallyDismissed||m.me().isAdDismissed("DirectoryBusinessClassBanner")||g()),showBackButton:null!=r||null!=i||o.length,navigateBack:function(){return e.directoryView.navigateBack()},onUpgradeClick:function(t){return e.onUpgradeClick(t)},onDismissClick:function(t){return e.onDismissClick(t)},toggleNavigationMenu:function(){return e.directoryView.toggleNavigationMenu()},orgId:N(this.model.getOrganization(),(function(e){return e.id}))})}}]),n}(f)},"./app/scripts/views/directory/directory-home-view.js":function(e,t,n){function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return function(){var t,n=p(e);if(d()){var r=p(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return u(this,t)}}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n("./node_modules/underscore/underscore.js"),f=n("./app/src/components/PowerUp/index.ts").PowerUpItemType,h=n("./app/scripts/views/directory/base-directory-view.js"),v=n("./app/scripts/views/directory/directory-plugin-item-view.js"),g=n("./node_modules/react/index.js"),b=n("./app/scripts/views/internal/recup-with-helpers.js")("directory_home"),y=n("./app/src/components/PowerUpDirectory/HomePage.tsx").sortFeaturedPowerUps,k=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,null,[{key:"initClass",value:function(){this.prototype.displayName="Directory Home",this.prototype.render=b.renderable((function(){return b.div((function(){return b.div(".directory-content-body",(function(){return b.div(".directory-heading-wrapper",(function(){return b.h2((function(){return b.formatText("featured-power-ups")}))})),b.div(".directory-featured-powerups.js-featured-power-ups-container"),b.div(".directory-heading-wrapper",(function(){return b.h2((function(){return b.formatText("essential-power-ups")}))})),b.div(".directory-featured-powerups.js-essential-power-ups-container"),b.div(".directory-heading-wrapper",(function(){return b.h2((function(){return b.formatText("other-great-power-ups")}))})),b.div(".directory-featured-powerups.js-other-power-ups-container")}))}))}))}}]),n}(g.Component);k.initClass(),e.exports=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"initialize",value:function(e){var t=e.directoryView,i=e.currentPage;return this.directoryView=t,this.currentPage=i,r(p(n.prototype),"initialize",this).apply(this,arguments)}},{key:"eventSource",value:function(){return"boardDirectoryFeaturedScreen"}},{key:"renderContent",value:function(){return g.createElement(k,{boardId:this.model.id})}},{key:"getPluginsByTags",value:function(e){return m.filter(this.directoryView.plugins,(function(t){return m.every(e,(function(e){return m.contains(t.get("tags"),e)}))}))}},{key:"getFeaturedPlugins",value:function(){var e=this.getPluginsByTags(["featured"]),t=y(m.map(e,(function(e){return e.toJSON()}))),n=m.map(t,(function(t){return m.find(e,(function(e){return e.id===t.id}))}));return this.featuredPlugins=n}},{key:"getEssentialPlugins",value:function(){return null!=this.essentialPlugins?this.essentialPlugins:this.essentialPlugins=this.getPluginsByTags(["essential"])}},{key:"getOtherPowerUps",value:function(){var e=m.filter(this.directoryView.plugins,(function(e){var t;return!m.contains(e.get("tags"),"featured")&&!m.contains(e.get("tags"),"essential")&&(t=e.get("moderatedState"),!["hidden","moderated"].includes(t))}));return m.sample(e,12)}},{key:"render",value:function(){var e=this;r(p(n.prototype),"render",this).apply(this,arguments);var t=this.directoryView.filterOutHiddenPlugins(this.getFeaturedPlugins()),i=this.directoryView.filterOutHiddenPlugins(this.getEssentialPlugins()),o=this.getOtherPowerUps(),a=this.directoryView.getEnabledPlugins(),s=m.flatten([t,i,o]),l=m.map(t,(function(t){return e.subview(v,e.model,{atomType:f.Featured,currentPage:e.currentPage,plugin:t,directoryView:e.directoryView},t.id)})),c=m.map(i,(function(t){return e.subview(v,e.model,{atomType:f.Featured,currentPage:e.currentPage,plugin:t,directoryView:e.directoryView},t.id)})),u=m.map(o,(function(t){return e.subview(v,e.model,{atomType:f.Description,currentPage:e.currentPage,plugin:t,directoryView:e.directoryView},t.id)}));this.appendSubviews(l,this.$el.find(".js-featured-power-ups-container")),this.appendSubviews(c,this.$el.find(".js-essential-power-ups-container")),this.appendSubviews(u,this.$el.find(".js-other-power-ups-container"));var d=m.intersection(m.map(s,"id"),m.map(a,"id"));return this.directoryView.trackScreenEvent(this.eventSource(),{totalListed:s.length,totalListedEnabled:d.length,totalEnabled:a.length,allPowerUpsEnabled:m.map(a,"id")},d),this}}]),n}(h)},"./app/scripts/views/directory/directory-legacy-power-ups.js":function(e,t,n){var r=n("./app/scripts/views/power-ups/calendar-settings-view.js"),i=n("./app/scripts/views/power-ups/card-aging-settings-view.js"),o=n("./app/scripts/data/legacy-power-ups.js"),a=n("./app/scripts/views/power-ups/voting-settings-view.js");e.exports=[{name:"voting",settingsView:e=>new a({model:e}),id:o.voting},{name:"cardAging",settingsView:e=>new i({model:e}),id:o.cardAging},{name:"calendar",settingsView:e=>new r({model:e}),id:o.calendar}]},"./app/scripts/views/directory/directory-listing-view.js":function(e,t,n){function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return function(){var t,n=p(e);if(d()){var r=p(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return u(this,t)}}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n("./node_modules/underscore/underscore.js"),f=n("./app/scripts/views/directory/base-directory-view.js"),h=n("./app/scripts/views/directory/directory-legacy-power-ups.js"),v=n("./app/scripts/views/directory/directory-plugin-item-view.js"),g=n("./app/scripts/lib/markdown/format.js"),b=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),y=n("./app/src/components/PowerUp/index.ts").PowerUpItemType,k=n("./app/scripts/views/internal/recup-with-helpers.js"),w=k("directory"),j=k("power_up_item_details"),_=k("directory_data_consent"),x=n("./resources/images/directory/icons/notCompliant.svg"),C=n("./resources/images/directory/icons/compliant.svg"),O=n("./node_modules/react/index.js"),S=n("./app/scripts/lib/plugins/plugin-validators.js"),E=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,null,[{key:"initClass",value:function(){this.prototype.displayName="Directory Listing",this.prototype.render=w.renderable((function(){var e=this.props,t=e.supportEmail,n=e.description,r=e.displayName,i=e.isGrandfathered,o=e.isCompliant,a=e.privacyPolicy,s=e.categories,l=e.onCategoryClick;return w.div(".directory-individual-listing",(function(){if(w.div(".js-directory-listing"),t){var e=t;/^[^@]+@[a-z0-9-]+(\.[a-z0-9-]+)+$/i.test(e)&&(e="mailto:".concat(t,"?subject=").concat(r)),w.div(".directory-listing-support",(function(){return w.div(".support-list",(function(){if(w.icon("email",{class:"icon-lg"}),w.a(".support-link",{href:e},(function(){return w.format("contact-support")})),S.isValidHttp(a))return w.icon("information",{class:"icon-lg"}),w.a(".support-link",{href:a},(function(){return w.format("privacy-policy")}))}))}))}else w.div(".directory-listing-categories",(function(){return w.icon("information",{class:"icon-lg"}),w.div(".categories-list",(function(){return m.map(s,(function(e){return w.a(".category-link",{href:"#",onClick:()=>l(e)},(function(){return w.format(e)}))}))}))}));return i&&w.p(".power-up-grandfathered",(function(){return j.format("power-up-was-enabled-on-this-board-before-some-recent-changes-we-made",{name:r}),w.text(" 🎉")})),w.div(".directory-listing-content.markeddown",(function(){return w.raw(g.markdownAsHtml(n))})),w.div(".directory-listing-compliance",(function(){var e=!1===o?x:C;return _.img(".directory-listing-compliance-icon",{src:e,alt:"",role:"presentation"}),!1===o?_.format("power-up-does-not-comply-with-our-data-privacy-standards",{pluginName:r}):!0===o?_.format("power-up-stores-data-complies-with-our-data-privacy-standards",{pluginName:r}):_.format("power-up-complies-with-our-data-privacy-standards",{pluginName:r})}))}))}))}}]),n}(O.Component);E.initClass();var T=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"eventSource",value:function(){return"boardDirectoryPowerUpDetailsScreen"}},{key:"initialize",value:function(e){var t=e.directoryView,i=e.plugin,o=e.currentPage;this.directoryView=t,this.plugin=i,this.currentPage=o,r(p(n.prototype),"initialize",this).apply(this,arguments);var a=m.findWhere(h,{id:this.plugin.id});if(a){var s,l=a.name;return this.isGrandfathered=(s=l,Array.from(this.model.get("powerUps")).includes(s))}}},{key:"navigateToCategory",value:function(e){return this.directoryView.navigate({section:"category",category:e})}},{key:"renderContent",value:function(){var e=this,t=b.get(this.plugin);return O.createElement(E,{displayName:t.getName(),description:t.getDescription(),supportEmail:this.plugin.get("supportEmail"),privacyPolicy:this.plugin.get("privacyUrl"),categories:this.plugin.get("categories"),isGrandfathered:this.isGrandfathered,onCategoryClick:function(t){return e.navigateToCategory(t)},isCompliant:this.plugin.get("isCompliantWithPrivacyStandards")})}},{key:"render",value:function(){r(p(n.prototype),"render",this).apply(this,arguments),this.appendSubview(this.subview(v,this.model,{atomType:y.Listing,plugin:this.plugin,currentPage:this.currentPage,directoryView:this.directoryView},this.plugin.id),this.$(".js-directory-listing"));var e=this.directoryView.getEnabledPlugins();return this.directoryView.trackScreenEvent(this.eventSource(),{powerUpId:this.plugin.id,isEnabled:!!m.some(e,{id:this.plugin.id}),tags:this.plugin.get("tags")}),this}}],[{key:"initClass",value:function(){this.prototype.className="directory-listing-wrapper"}}]),n}(f);T.initClass(),e.exports=T},"./app/scripts/views/directory/directory-page-view.js":function(e,t,n){function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return function(){var t,n=p(e);if(d()){var r=p(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return u(this,t)}}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n("./node_modules/underscore/underscore.js"),f=n("./app/src/components/PowerUp/index.ts").PowerUpItemType,h=n("./app/scripts/views/directory/base-directory-view.js"),v=n("./app/scripts/views/directory/directory-plugin-item-view.js"),g=n("./node_modules/react/index.js"),b=n("./app/scripts/views/internal/recup-with-helpers.js")("directory"),y=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,null,[{key:"initClass",value:function(){this.prototype.displayName="Directory Page",this.prototype.render=b.renderable((function(){return b.div(".directory-content-body",(function(){return b.div(".directory-listing")}))}))}}]),n}(g.Component);y.initClass(),e.exports=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"eventSource",value:function(){var e=this.options.title;return"custom"===e?"boardDirectoryCustomScreen":"made-by-trello"===e?"boardDirectoryMadeByTrelloScreen":"boardDirectoryCategoryScreen"}},{key:"renderContent",value:function(){return g.createElement(y,{title:this.options.title})}},{key:"render",value:function(){var e=this;r(p(n.prototype),"render",this).apply(this,arguments);var t=this.$el.find(".directory-listing");t.empty();var i=this.options,o=i.plugins,a=i.currentPage,s=i.directoryView,l=i.title,c=m.map(o,(function(t){return e.subview(v,e.model,{atomType:f.Description,currentPage:a,plugin:t,directoryView:s},t.id)}));this.appendSubviews(c,t);var u=s.getEnabledPlugins(),d=m.intersection(m.map(o,"id"),m.map(u,"id")),h={totalListed:o.length,totalListedEnabled:d.length,totalEnabled:u.length,allPowerUpsEnabled:m.map(u,"id"),listedPowerUpsEnabled:d},g=this.eventSource();return"custom"!==l&&(h.categoryid=l),s.trackScreenEvent(g,h),this}}]),n}(h)},"./app/scripts/views/directory/directory-plugin-enable-view.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){o(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return(l="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m,f=n("./node_modules/underscore/underscore.js"),h=n("./app/src/components/PowerUp/index.ts"),v=h.PowerUp,g=h.PowerUpItemType,b=n("./app/scripts/data/directory.js").atlassianPowerUps,y=n("./app/scripts/views/lib/alerts.js"),k=n("./app/scripts/views/directory/base-directory-view.js"),w=n("./app/scripts/views/internal/recup-with-helpers.js"),j=w("directory_data_consent"),_=n("./resources/images/directory/icons/notCompliant.svg"),x=n("./resources/images/directory/icons/compliant.svg"),C=n("./app/scripts/views/directory/directory-legacy-power-ups.js"),O=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),S=n("./app/scripts/views/internal/plugins/plugin-runner.js"),E=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginTrackEvent,T=w("directory_power_up_item"),P=n("./packages/atlassian-analytics/index.ts").Analytics,N=n("./packages/analytics/index.ts").trackUe,I=n("./app/scripts/lib/util/index.js"),A=n("./node_modules/xtend/immutable.js"),D=j.renderable((function(e){var t=e.pluginName;return j.div((function(){return j.p((function(){return j.format("by-you-clicking-add",{pluginName:t})})),j.ul((function(){return j.li((function(){return j.format("access-this-board")})),j.li((function(){return j.format("add-content-to-this-board-such-as-attachments-to-cards")})),j.li((function(){return j.format("take-actions-on-this-board-such-as-moving-sorting-filtering-cards-or-lists")})),j.li((function(){return j.format("access-user-information-such-as-username-avatar-initials-and-full-name-for-users-on-this-board")}))}))}))})),B=j.renderable((function(e){var t=e.pluginName,n=e.privacyPolicyUrl;return n?j.format("for-more-information-please-see-power-ups-privacy-policy",{pluginName:t,privacyPolicyUrl:n}):j.format("for-more-information-please-see-power-ups-privacy-practices",{pluginName:t})})),R=j.renderable((function(e){var t=e.pluginName,n=e.privacyPolicyUrl;return j.div(".directory-data-consent",(function(){return j.p((function(){return j.format("power-up-is-developed-and-maintained-by-another-company-within-the-atlassian-corporate-family",{pluginName:t})})),j.tag(D,{pluginName:t}),j.tag(B,{pluginName:t,privacyPolicyUrl:n})}))})),L=j.renderable((function(e){var t=e.pluginName,n=e.isCompliant;return j.div(".directory-compliance",(function(){return j.p((function(){var e=!1===n?_:x;return j.img(".directory-compliance-icon",{src:e,alt:"",role:"presentation"}),!1===n?j.format("power-up-does-not-comply-with-our-data-privacy-standards",{pluginName:t}):!0===n?j.format("power-up-stores-data-complies-with-our-data-privacy-standards",{pluginName:t}):j.format("power-up-complies-with-our-data-privacy-standards",{pluginName:t})}))}))})),M=j.renderable((function(e){var t=e.pluginName,n=e.privacyPolicyUrl,r=e.isPublic,i=e.isCompliant;return j.div(".directory-data-consent",(function(){return j.p((function(){return j.format("power-up-is-not-developed-or-maintained-by-trello",{pluginName:t})})),r&&j.tag(L,{pluginName:t,isCompliant:i}),j.tag(D,{pluginName:t}),j.tag(B,{pluginName:t,privacyPolicyUrl:n})}))}));e.exports=((m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(h,e);var t,n,r,o,m=(t=h,function(){var e,n=p(t);if(d()){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return u(this,e)});function h(){return a(this,h),m.apply(this,arguments)}return n=h,o=[{key:"initClass",value:function(){this.prototype.className="directory-listing-wrapper",this.prototype.renderContent=T.renderable((function(){var e=this,t=this.io.getName(),n=this.io.getIconUrl(),r=this.plugin.get("author"),i=this.plugin.get("privacyUrl"),o=Array.from(b).includes(this.plugin.id),a=this.plugin.get("public"),s=this.plugin.get("isCompliantWithPrivacyStandards");return T.div(".directory-individual-listing",(function(){return T.div(".directory-listing-powerup",(function(){return T.tag(v,{type:g.Listing,atomProps:{subtitle:r,icon:{url:n},name:t}})})),o?T.tag(R,{pluginName:t,privacyPolicyUrl:i}):T.tag(M,{pluginName:t,privacyPolicyUrl:i,isPublic:a,isCompliant:s}),T.div(".directory-enable-page-buttons",(function(){return T.button(".button.link",{onClick:e.cancel.bind(e)},(function(){return T.formatText("cancel")})),T.button(".nch-button.nch-button--primary.mt-4.mr-4",{onClick:e.enable.bind(e)},(function(){return T.formatText("add")}))}))}))}))}}],(r=[{key:"eventSource",value:function(){return"powerUpAddDetailsScreen"}},{key:"initialize",value:function(e){var t,n=e.directoryView,r=e.plugin,i=e.currentPage;if(this.directoryView=n,this.plugin=r,this.tags=this.plugin.get("tags"),this.currentPage=i,l(p(h.prototype),"initialize",this).apply(this,arguments),this.io=O.get(this.plugin),this.pluginDetails={isLegacy:(t=this.plugin.id,Array.from(f.pluck(C,"id")).includes(t))},this.pluginDetails.isLegacy){var o=f.findWhere(C,{id:this.plugin.id});return this.pluginDetails=A(this.pluginDetails,o)}}},{key:"isGrandfathered",value:function(){var e;return this.pluginDetails.isLegacy&&(e=this.pluginDetails.name,Array.from(this.model.get("powerUps")).includes(e))}},{key:"enable",value:function(e){var t=this;I.stop(e);var n={pluginId:this.plugin.id,pluginName:this.plugin.name,pluginTags:this.tags,installSource:"boardDirectory"},r=P.startTask({taskName:"enable-plugin",source:"addPowerUpButton"}),o=e.target;return this.model.enablePluginWithTracing(this.plugin.id,{traceId:r,attributes:n,taskName:"enable-plugin",source:"addPowerUpButton",next:function(e){if(e){if(t.isGrandfathered())t.model.pull("powerUps",t.pluginDetails.name);else{var o=P.startTask({taskName:"disable-plugin",source:"addPowerUpButton",attributes:n});t.model.disablePluginWithTracing(t.plugin.id,{traceId:o,attributes:n,taskName:"disable-plugin",source:"addPowerUpButton"})}if(I.isJsonString(e.textStatus)&&"PLUGIN_NOT_ALLOWED"===JSON.parse(e.textStatus).error)return y.show("plugin not allowed","error","addpluginerror",4e3),P.taskAborted({taskName:"enable-plugin",source:"addPowerUpButton",attributes:i({},n,{reason:"POWER_UP_NOT_ALLOWED"}),traceId:r});y.show("could not add plugin","error","addpluginerror",2e3)}}}),this.io.supports("on-enable")?S.one({plugin:this.plugin,command:"on-enable",board:this.model,el:o}).catch((function(e){return"undefined"!=typeof console&&null!==console?console.warn("Failed to handle on-enable command.",{error:e.message,id:t.plugin.id}):void 0})).finally((function(){return t.pluginEnabled(r)})):this.pluginEnabled(r)}},{key:"pluginEnabled",value:function(e){return N(this.currentPage,"enables","Power-Up","","","enable button",this.plugin.id),E({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"added",actionSubject:"powerUp",attributes:{installSource:"boardDirectory",tags:this.tags,taskId:e},source:"addPowerUpButton"}}),this.directoryView.navigate({idPlugin:this.plugin.id})}},{key:"cancel",value:function(){return this.directoryView.navigateBack()}},{key:"render",value:function(){return l(p(h.prototype),"render",this).apply(this,arguments),this.directoryView.trackScreenEvent(this.eventSource(),{powerUpId:this.plugin.id,tags:this.tags}),this}}])&&s(n.prototype,r),o&&s(n,o),h}(k)).initClass(),m=m)},"./app/scripts/views/directory/directory-plugin-item-view.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){m(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return(s="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function m(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var f=n("./node_modules/underscore/underscore.js"),h=n("./app/src/components/PowerUp/index.ts"),v=h.PowerUp,g=h.PowerUpItemType,b=n("./app/scripts/db/auth.js"),y=n("./app/scripts/views/lib/alerts.js"),k=n("./app/scripts/views/directory/base-directory-view.js"),w=n("./app/scripts/views/directory/business-class-upsell-view.js"),j=n("./packages/browser/index.ts").dontUpsell,_=n("./app/scripts/views/lib/confirm.js"),x=n("./app/scripts/views/custom-field/custom-fields-button-view.js"),C=n("./resources/images/directory/icons/customIcon.png"),O=n("./app/scripts/views/directory/directory-legacy-power-ups.js"),S=n("./packages/config/index.ts").firstPartyPluginsOrg,E=n("./app/scripts/lib/markdown/format.js"),T=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),P=n("./app/scripts/views/internal/plugins/plugin-runner.js"),N=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),I=n("./app/scripts/views/lib/pop-over.js"),A=n("./node_modules/bluebird/js/browser/bluebird.js"),D=n("./node_modules/react/index.js"),B=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts"),R=B.sendPluginScreenEvent,L=B.sendPluginUIEvent,M=B.sendPluginTrackEvent,F=n("./app/scripts/views/internal/recup-with-helpers.js")("directory_power_up_item"),V=n("./packages/atlassian-analytics/index.ts").Analytics,z=n("./packages/analytics/index.ts").trackUe,U=n("./app/scripts/lib/util/index.js"),H=n("./node_modules/xtend/immutable.js"),W=n("./packages/feature-flag-client/index.ts").featureFlagClient,q=n("./packages/config/index.ts").customFieldsId,G=n("./packages/config/index.ts").mapPowerUpId,$=n("./packages/test-ids/index.ts").PowerUpTestIds,K=F.renderable((function(e){var t=e.authorize,n=e.disable,r=e.supportsSettings,i=e.showSettings,o=e.supportsAuth,a=e.hasPersonalSettings,s=e.removeData,l=e.authStatus,c=e.showListingOption,u=e.navigateToListing;return F.ul(".pop-over-list",(function(){return c&&F.li({onClick:u},(function(){return F.a((function(){return F.format("view-power-up")}))})),o&&l&&!l.authorized?F.li({onClick:t},(function(){return F.a((function(){return F.format("authorize-account")}))})):(r&&F.li({onClick:i},(function(){return F.a((function(){return F.format("edit-power-up-settings")}))})),a&&F.li({onClick:s},(function(){return F.a((function(){return F.format("remove-personal-settings")}))}))),F.li({"data-test-id":$.DisablePowerUpLink,onClick:n},(function(){return F.a((function(){return F.format("disable")}))}))}))})),Y=F.renderable((function(e){var t=e.cancel,n=e.disable,r=e.powerupName;return F.div(".disable-warning-container",(function(){return F.p(".disable-warning-message",(function(){return F.format("disable-warning-message",{powerupName:r})})),F.button(".nch-button.nch-button--danger.directory-warning-disable-button",{onClick:n},(function(){return F.format("disable-warning-button",{powerupName:r})})),F.button(".nch-button.nch-button--transparentDark.directory-cancel-button",{onClick:t},(function(){return F.a((function(){return F.format("cancel")}))}))}))})),Z=F.renderable((function(e){var t=e.onClick;return F.button(".nch-button.nch-button--primary.directory-enable-button",{onClick:t},(function(){return F.formatText("add")}))})),J=F.renderable((function(e){var t=e.enterpriseDisplayName,n=F.l("this-power-up-was-disabled-by-the-enterprise",{enterpriseDisplayName:t});return F.button(".nch-button.nch-button--disabled.directory-disabled-button",{title:n},(function(){return F.formatText("add")}))})),Q=F.renderable((function(e){var t=e.onClick;return F.a(".button.directory-settings-button",{onClick:t},(function(){return F.icon("gear"),F.formatText("settings")}))})),X=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(B,e);var t,n,r,h,k=(t=B,function(){var e,n=p(t);if(d()){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return c(this,e)});function B(){var e;o(this,B);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return m(u(e=k.call.apply(k,[this].concat(n))),"disablePopover",(function(t){return I.hide(),e.disable(t)})),e}return n=B,h=[{key:"initClass",value:function(){this.prototype.className="directory-listing-powerup",this.prototype.events={click(e){if(this.options.atomType!==g.Listing)return this.$(e.target).is("a, button")||L({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"card",actionSubjectId:"powerUpCard",source:"boardDirectory",attributes:{tags:this.tags}}}),this.navigateToListing(e)}}}}],(r=[{key:"initialize",value:function(e){var t,n=e.plugin,r=e.currentPage,i=e.directoryView;if(this.plugin=n,this.tags=this.plugin.get("tags"),this.currentPage=r,this.directoryView=i,s(p(B.prototype),"initialize",this).apply(this,arguments),this.canEnable=this.model.editable(),this.initialData={canEnable:this.model.editable(),isLegacy:(t=this.plugin.id,Array.from(f.pluck(O,"id")).includes(t))},this.io=T.get(this.plugin),this.pluginDetails={displayName:this.io.getName(),description:this.io.getDescription(),iconUrl:this.io.getIconUrl(),overview:this.io.getOverview(),author:this.plugin.get("author"),moderatedState:this.plugin.get("moderatedState")},this.initialData.isLegacy){var o=f.findWhere(O,{id:this.plugin.id});this.pluginDetails=H(this.pluginDetails,o)}return this.listenTo(this.model,"change:idOrganization change:powerUps",this.frameDebounce(this.render)),this.listenTo(this.model.boardPluginList,"add remove reset",this.frameDebounce(this.render)),this.listenTo(this.model,"cancel-add-to-team",(function(){return I.hide()})),this.subscribe(this.model.boardPluginList.snoop(),this.frameDebounce(this.render)),this.subscribe(N(this.model),this.frameDebounce(this.render))}},{key:"showListingOption",value:function(){return!1}},{key:"navigateToListing",value:function(e){if(!this.$(e.target).is("a, button"))return I.isVisible&&I.hide(),null!=this.directoryView?this.directoryView.navigate({idPlugin:this.plugin.id}):void 0}},{key:"enable",value:function(e){var t=this;U.stop(e);var n={pluginName:this.plugin.get("name"),pluginId:this.plugin.id,pluginTags:this.tags,installSource:"boardDirectory"},r=V.startTask({taskName:"enable-plugin",source:"addPowerUpButton",attributes:n}),o=e.target,a=(this.tags||[]).includes("promotional");this.model.canEnableAdditionalPowerUps()||a?this.plugin.get("idOrganizationOwner")===S?(this.model.enablePluginWithTracing(this.plugin.id,{traceId:r,taskName:"enable-plugin",attributes:n,source:"addPowerUpButton",next:function(e){if(e){if(t.isGrandfathered())t.model.pull("powerUps",t.pluginDetails.name);else{var o=V.startTask({taskName:"disable-plugin",source:"addPowerUpButton",attributes:n});t.model.disablePluginWithTracing(t.plugin.id,{traceId:o,taskName:"disable-plugin",attributes:n,source:"addPowerUpButton"})}if(U.isJsonString(e.textStatus)&&"PLUGIN_NOT_ALLOWED"===JSON.parse(e.textStatus).error)return y.show("plugin not allowed","error","addpluginerror",4e3),V.taskAborted({taskName:"enable-plugin",source:"addPowerUpButton",attributes:i({},n,{reason:"POWER_UP_NOT_ALLOWED"}),traceId:r});y.show("could not add plugin","error","addpluginerror",2e3)}else M({idPlugin:t.plugin.id,idBoard:t.model.id,event:{action:"added",actionSubject:"powerUp",source:"pupConfigurationInlineDialog",taskId:r}}),z(t.currentPage,"enables","Power-Up","","","enable button",t.plugin.id)}}),this.io.supports("on-enable")&&P.one({plugin:this.plugin,command:"on-enable",board:this.model,el:o}).catch((function(e){return"undefined"!=typeof console&&null!==console?console.warn("Failed to handle on-enable command.",{error:e.message,id:t.plugin.id}):void 0}))):this.directoryView.navigate({idPlugin:this.plugin.id,isEnabling:!0}):I.toggle({autoPosition:!0,hideHeader:!0,elem:o,view:new w({model:this.model}),displayType:W.get("btg.upgrade-prompt-audit",!1)?"directory-upgrade-prompt-popover":"directory-business-class-popover"})}},{key:"isGrandfathered",value:function(){var e;return this.initialData.isLegacy&&(e=this.pluginDetails.name,Array.from(this.model.get("powerUps")).includes(e))}},{key:"disable",value:function(e){var t=this,n=V.startTask({taskName:"disable-plugin",source:"pupConfigurationInlineDialog",attributes:{pluginName:this.plugin.get("name"),pluginId:this.plugin.id,pluginTags:this.tags}}),r=function(){return t.model.disablePluginWithTracing(t.plugin.id,{traceId:n,taskName:"disable-plugin",source:"pupConfigurationInlineDialog",attributes:{pluginName:t.plugin.get("name"),pluginId:t.plugin.id,pluginTags:t.tags},next:function(e){e||(M({idPlugin:t.plugin.id,idBoard:t.model.id,event:{action:"disabled",actionSubject:"powerUp",source:"pupConfigurationInlineDialog"},attributes:{taskId:n}}),z(t.currentPage,"disables","Power-Up","","","disable button",t.plugin.id))}})};if(this.isGrandfathered()){var i=function(){return t.model.pull("powerUps",t.pluginDetails.name)};ee(this.model.getOrganization(),(function(e){return e.isFeatureEnabled("plugins")}))?i():_.pushView("disable power up",{elem:e,model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:i})}else{if(!this.io.supports("on-disable"))return r();P.one({plugin:this.plugin,command:"on-disable",board:this.model,timeout:500}).finally((function(){return r()}))}}},{key:"getEnabledState",value:function(){return this.initialData.isLegacy?this.model.isPowerUpEnabled(this.pluginDetails.name):this.model.isPluginEnabled(this.plugin.id)}},{key:"hasPersonalSettings",value:function(){var e=f.extend(b.me().getPluginData(this.plugin.id),this.model.getPluginData(this.plugin.id));return f.any(e,(function(e){return null!=e.private}))}},{key:"showDisableWarning",value:function(e){var t=this.io.getName();I.pushView({elem:e,autoPosition:!0,getViewTitle:function(){return F.l("disable-warning-header",{powerupName:t})},reactElement:D.createElement(Y,{key:this.plugin.id,cancel:function(){I.popView()},disable:this.disablePopover,powerupName:t})})}},{key:"showPowerUpSettings",value:function(e){var t=this;z(this.currentPage,"opens","Power-Up","","","edit-settings",this.plugin.id),L({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"editSettingsOption",source:this.showListingOption()?"boardSidebarPupInlineDialog":"boardDirectoryPUpInlineDialog"}}),this.directoryView&&this.directoryView.trackScreenEvent("powerUpEditInlineDialog",{powerUpId:this.plugin.id}),this.initialData.isLegacy?I.pushView({elem:e,view:this.pluginDetails.settingsView(this.model),autoPosition:!0}):this.plugin.id===q?I.pushView({elem:e,view:x,autoPosition:!0,options:{board:this.model}}):P.one({plugin:this.plugin,command:"show-settings",board:this.model,el:e}).catch((function(e){return"undefined"!=typeof console&&null!==console?console.warn("Failed to handle show-settings.",{error:e.message,id:t.plugin.id}):void 0})).done()}},{key:"showAuthorization",value:function(e){var t=this;z(this.currentPage,"opens","Power-Up","","","show-authorization",this.plugin.id),L({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"authorizeAccountOption",source:this.showListingOption()?"boardSidebarPupInlineDialog":"boardDirectoryPUpInlineDialog"}}),P.one({plugin:this.plugin,command:"show-authorization",board:this.model,el:e}).then((function(){return R({idPlugin:t.plugin.id,idBoard:t.model.id,screenName:"pupAuthorizationInlineDialog"})})).catch((function(e){return"undefined"!=typeof console&&null!==console?console.warn("Failed to handle show-authorization.",{error:e.message,id:t.plugin.id}):void 0})).done()}},{key:"clearData",value:function(e){var t=this;L({idPlugin:this.plugin.id,idBoard:this.model.id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"removeDataOption",source:this.showListingOption()?"boardSidebarPupInlineDialog":"boardDirectoryPUpInlineDialog"}}),_.pushView("clear plugin data",{elem:e,model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:function(e){return z(t.currentPage,"clicks","Power-Up","","","remove-data",t.plugin.id),t.io.supports("remove-data")?P.one({board:t.model,plugin:t.plugin,command:"remove-data",timeout:1e3}).finally((function(){return t.model.clearPluginData(t.plugin.id),b.me().clearPluginData(t.plugin.id)})):(t.model.clearPluginData(t.plugin.id),b.me().clearPluginData(t.plugin.id))}})}},{key:"toggleOptions",value:function(e){var t=this;U.stop(e);var n=e.target,r=function(e){return f.bind(e,t,n)};return z(this.currentPage,"opens","Power-Up","","","show-settings",this.plugin.id),this.directoryView&&this.directoryView.trackScreenEvent("pupConfigurationInlineDialog",{powerUpId:this.plugin.id}),A.props({supportsAuth:this.io.supports("show-authorization"),supportsSettings:this.pluginDetails.settingsView||this.io.supports("show-settings"),hasPersonalSettings:this.hasPersonalSettings()}).then((function(e){return e.supportsAuth?P.one({timeout:1e3,plugin:t.plugin,command:"authorization-status",board:t.model}).then((function(t){return H(e,{authStatus:t})})).catch((function(n){return"undefined"!=typeof console&&null!==console&&console.warn("Failed to get authorization-status.",{error:n.message,id:t.plugin.id}),e})):e})).then((function(e){var i=W.get("ecosystem.pups-views-transition",!1)&&t.plugin.id===G?r(t.showDisableWarning):t.disablePopover;return I.toggle({autoPosition:!0,getViewTitle:function(){return t.io.getName()},elem:n,reactElement:D.createElement(K,{key:t.plugin.id,disable:i,authorize:r(t.showAuthorization),showSettings:r(t.showPowerUpSettings),removeData:r(t.clearData),supportsSettings:e.supportsSettings,supportsAuth:e.supportsAuth,hasPersonalSettings:e.hasPersonalSettings,authStatus:e.authStatus,showListingOption:t.showListingOption(),navigateToListing:r(t.navigateToListing)})}),R({idPlugin:t.plugin.id,idBoard:t.model.id,screenName:"pupConfigurationInlineDialog"})}))}},{key:"getButton",value:function(e){var t=this,n=ee(this.model.getOrganization(),(function(e){return e.isPremium()}));if(!j()&&!n||this.model.canEnableAdditionalPowerUps()||this.isEnabled||(this.tags||[]).includes("promotional")){if(this.model.isEnterpriseBoard()&&null!=this.model.getEnterprise()&&!this.model.getEnterprise().isPluginAllowed(this.plugin.id))return D.createElement(J,{enterpriseDisplayName:ee(this.model.getEnterprise(),(function(e){return e.get("displayName")}))});var r="powerUpCard";return e===g.Listing&&(r="boardDirectoryPowerUpDetailsScreen"),this.isEnabled?D.createElement(Q,{onClick:function(e){return L({idPlugin:t.plugin.id,idBoard:t.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpEditButton",source:r}}),t.toggleOptions(e)}}):D.createElement(Z,{onClick:function(e){return L({idPlugin:t.plugin.id,idBoard:t.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpAddButton",source:r,attributes:{tags:t.tags}}}),t.enable(e)}})}}},{key:"renderContent",value:function(){var e=this.pluginDetails,t=e.author,n=e.iconUrl,r=e.displayName,i=e.description,o=e.overview;this.isEnabled=this.getEnabledState({id:this.plugin.id});var a=this.options.atomType||g.Basic;return D.createElement(v,{type:a,atomProps:{subtitle:a===g.Listing?t:void 0,overview:E.markdownAsText(o||i),icon:{url:n||C},heroImageUrl:this.plugin.get("heroImageUrl"),name:r,button:this.getButton(a),usage:ee(this.plugin.get("usageBrackets"),(function(e){return e.boards}))||0,promotional:(this.tags||[]).includes("promotional"),staffPick:(this.tags||[]).includes("staff-pick")}})}},{key:"render",value:function(){return s(p(B.prototype),"render",this).apply(this,arguments),this.$el.data("idPlugin",this.plugin.id),this}}])&&a(n.prototype,r),h&&a(n,h),B}(k);function ee(e,t){return null!=e?t(e):void 0}X.initClass(),e.exports=X},"./app/scripts/views/directory/directory-search-view.js":function(e,t,n){function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=p(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return function(){var t,n=p(e);if(d()){var r=p(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return u(this,t)}}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n("./node_modules/underscore/underscore.js"),f=n("./app/src/components/PowerUp/index.ts").PowerUpItemType,h=n("./app/scripts/views/directory/base-directory-view.js"),v=n("./app/scripts/views/directory/directory-plugin-item-view.js"),g=n("./node_modules/react/index.js"),b=n("./app/scripts/views/internal/recup-with-helpers.js")("directory"),y=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,null,[{key:"initClass",value:function(){this.prototype.displayName="Directory Search",this.prototype.render=b.renderable((function(){var e=this;return b.div(".directory-content-body",(function(){return e.props.isEmpty?b.div(".directory-search-empty",(function(){return b.p((function(){return b.formatText("bummer-no-search-results-for"),b.span((function(){return b.text('"'.concat(e.props.searchTerm,'"'))}))}))})):b.div(".directory-listing")}))}))}}]),n}(g.Component);y.initClass(),e.exports=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"eventSource",value:function(){return"boardDirectorySearch"}},{key:"renderContent",value:function(){return g.createElement(y,{searchTerm:this.options.searchTerm,isEmpty:m.isEmpty(this.options.plugins)})}},{key:"render",value:function(){var e=this;r(p(n.prototype),"render",this).apply(this,arguments);var t=this.$el.find(".directory-listing");t.empty();var i=this.options,o=i.plugins,a=i.currentPage,s=i.directoryView,l=m.map(o,(function(t){return e.subview(v,e.model,{atomType:f.Description,currentPage:a,plugin:t,directoryView:s},t.id)}));this.appendSubviews(l,t);var c=s.getEnabledPlugins(),u=m.intersection(m.map(o,"id"),m.map(c,"id"));return s.trackScreenEvent(this.eventSource(),{totalListed:o.length,totalListedEnabled:u.length,totalEnabled:c.length,allPowerUpsEnabled:m.map(c,"id")},u),this}}]),n}(h)},"./app/scripts/views/directory/directory-sidebar-view.js":function(e,t,n){function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=m(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e){return function(){var t,n=m(e);if(p()){var r=m(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return u(this,t)}}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f,h=n("./node_modules/underscore/underscore.js"),v=n("./app/scripts/views/directory/base-directory-view.js"),g=n("./app/common/lib/util/i18n/formatters.ts").asNumber,b=n("./packages/keybindings/index.ts"),y=b.getKey,k=b.Key,w=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),j=n("./node_modules/react/index.js"),_=n("./app/scripts/views/internal/recup-with-helpers.js")("directory"),x=n("./packages/test-ids/index.ts").PowerUpTestIds,C=n("./packages/feature-flag-client/index.ts").featureFlagClient,O=n("./app/scripts/data/directory.js").categories,S=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,null,[{key:"initClass",value:function(){this.prototype.displayName="Directory Sidebar Placeholder",this.prototype.render=_.renderable((function(){return _.div((function(){return _.div(".directory-search",(function(){return _.div(".directory-navigation-option.placeholder")})),_.ul((function(){return _.li((function(){return _.div(".directory-navigation-option.placeholder")})),_.li((function(){return _.div(".directory-navigation-option.placeholder")})),_.li((function(){return _.div(".directory-navigation-option.placeholder")})),_.li(".directory-categories",(function(){return _.div(".directory-categories-heading.placeholder",(function(){})),_.ul(".directory-navigation-categories-list",(function(){return h.forEach(O,(function(e){return _.li((function(){return _.div(".directory-navigation-option.placeholder")}))}))}))}))}))}))}))}}]),n}(j.Component);S.initClass();var E=function(e){s(n,e);var t=c(n);function n(e){var r;return i(this,n),(r=t.call(this,e)).directorySearchInput=null,r.focusDirectorySearchInput=r.focusDirectorySearchInput.bind(d(r)),r}return a(n,null,[{key:"initClass",value:function(){this.prototype.displayName="Directory Sidebar",this.prototype.render=_.renderable((function(){var e=this,t=function(t){return e.directorySearchInput=t},n=this.props,r=n.enabledCount,i=n.showCustomCategory,o=n.clearSearch,a=n.section,s=n.category,l=n.idPlugin,c=n.onCategoryClick,u=n.onHomeClick,d=n.onEnabledClick,p=n.onCustomClick,m=n.onSearchKeyUp,f=n.onMadeByTrelloClick,v=n.onBonusClick;return _.div((function(){return _.div(".directory-search",(function(){return _.input(".js-directory-search",{type:"text",placeholder:_.l("search"),onKeyUp:m,ref:t}),_.a(".icon-sm.icon-close.dark-hover.hide.js-directory-search-clear",{href:"#",onClick:o})})),_.div(".directory-navigation-section",(function(){return _.ul((function(){if(_.li({onClick:u},(function(){return _.a(".directory-navigation-option",{href:"#",class:_.classify({active:!a&&!s&&!l})},(function(){_.span(".icon-md.icon-star"),_.formatText("featured")}))})),_.li({onClick:d},(function(){return _.a(".directory-navigation-option.enable-option",{href:"#",class:_.classify({active:"enabled"===a}),"data-test-id":x.EnabledPowerUpsLink},(function(){return _.span(".icon-md.icon-power-up"),_.formatText("enabled"),_.span(".directory-navigation-power-up-count",(function(){return _.text(r)}))}))})),i&&_.li({onClick:p},(function(){return _.a(".directory-navigation-option",{href:"#",class:_.classify({active:"custom"===a})},(function(){return _.span(".icon-md.icon-gear"),_.formatText("custom")}))})),_.li({onClick:f},(function(){return _.a(".directory-navigation-option.trello-option",{href:"#",class:_.classify({active:"made-by-trello"===a}),"data-test-id":x.TrelloPowerUpsLink},(function(){return _.span(".icon-md.icon-board"),_.formatText("made-by-trello")}))})),C.get("ecosystem.bonus-powerups",!1))return _.li({onClick:v},(function(){return _.a(".directory-navigation-option",{href:"#",class:_.classify({active:"bonus"===a}),"data-test-id":x.TrelloPowerUpsLink},(function(){return _.span(".icon-md.icon-sparkle"),_.div(".directory-navigation-bonus",(function(){return _.p((function(){_.formatText("bonus")})),_.p(".directory-navigation-bonus-sub",(function(){_.formatText("bonus-sub")}))}))}))}))}))})),_.div(".directory-navigation-section",(function(){return _.ul((function(){return h.forEach(O,(function(e){return _.li({onClick:()=>c(e)},(function(){return _.a(".directory-navigation-option.category-link",{class:_.classify({active:s===e}),href:"#"},(function(){return _.format(e)}))}))}))}))}))}))}))}}]),a(n,[{key:"componentDidMount",value:function(){return this.focusDirectorySearchInput()}},{key:"focusDirectorySearchInput",value:function(){return null!=this.directorySearchInput?this.directorySearchInput.focus():void 0}}]),n}(j.Component);E.initClass(),e.exports=((f=function(e){s(n,e);var t=c(n);function n(){return i(this,n),t.apply(this,arguments)}return a(n,[{key:"initialize",value:function(e){var t=this,i=e.directoryView;return this.directoryView=i,r(m(n.prototype),"initialize",this).apply(this,arguments),this.onSearchKeyUp=h.debounce(this.onSearchKeyUp,100),this.listenTo(this.model,{"change:powerUps":this.render}),this.listenTo(this.model.boardPluginList,{"add remove reset":this.render}),this.subscribe(w(this.model),(function(){return t.render()}))}},{key:"updateSearch",value:function(e){this.directoryView.updateSearch(e);var t=this.$(".js-directory-search-clear");return(null!=e?e.length:void 0)?t.removeClass("hide"):t.addClass("hide"),this.directoryView.headerView.render()}},{key:"onSearchKeyUp",value:function(e){var t=e.target.value,n=y(e);if(n===k.Escape&&(t=null,this.emptySearchField()),n===k.Enter&&this.$el.hasClass("active")&&this.directoryView.toggleNavigationMenu(),t!==this.directoryView.search)return this.updateSearch(t)}},{key:"emptySearchField",value:function(){return this.$(".js-directory-search").val("")}},{key:"clearSearch",value:function(){return this.emptySearchField(),this.updateSearch(null)}},{key:"navigateTo",value:function(e,t){if(this.directoryView.navigate({section:e,category:t}),this.$el.hasClass("active"))return this.directoryView.toggleNavigationMenu()}},{key:"renderContent",value:function(){var e=this,t=this.directoryView,n=t.section,r=t.category,i=t.idPlugin,o=t.history;if(t.isLoading)return j.createElement(S,null);var a,s,l="",c=this.model.get("powerUps").length+this.model.powerUpsCount();return c>0&&(l=g(c)),j.createElement(E,{enabledCount:l,section:n,idPlugin:i,category:r||null!=i&&(a=h.last(o),s=function(e){return e.category},null!=a?s(a):void 0),showCustomCategory:!h.isEmpty(this.directoryView.getCustomPlugins()),clearSearch:function(){return e.clearSearch()},onSearchKeyUp:function(t){return t.persist(),e.onSearchKeyUp(t)},onCategoryClick:function(t){return e.navigateTo("category",t)},onHomeClick:function(){return e.navigateTo()},onEnabledClick:function(){return e.navigateTo("enabled")},onCustomClick:function(){return e.navigateTo("custom")},onMadeByTrelloClick:function(){return e.navigateTo("made-by-trello")},onBonusClick:function(){return e.navigateTo("bonus")}})}}],[{key:"initClass",value:function(){this.prototype.className="directory-sidebar js-directory-sidebar"}}]),n}(v)).initClass(),f=f)},"./app/scripts/views/directory/directory-spinner-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return function(){var t,n=d(e);if(u()){var r=d(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return c(this,t)}}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n("./node_modules/underscore/underscore.js"),m=n("./app/src/components/PowerUp/index.ts").PowerUpItemType,f=n("./app/src/components/PowerUp/LoadingSkeleton.tsx").LoadingSkeleton,h=n("./app/scripts/views/directory/base-directory-view.js"),v=n("./node_modules/react/index.js"),g=n("./node_modules/recup/lib/recup.js"),b=function(e){a(n,e);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}return o(n,null,[{key:"initClass",value:function(){this.prototype.displayName="Directory Spinner",this.prototype.render=g.renderable((function(){var e=this;return g.div(".directory-content-body",(function(){return g.div(".directory-listing",(function(){return p.times(e.props.numOfAtoms,(function(){return g.div(".directory-listing-powerup",(function(){return g.tag(f,{type:e.props.atomType})}))}))}))}))}))}}]),n}(v.Component);b.initClass();var y=function(e){a(n,e);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}return o(n,null,[{key:"initClass",value:function(){this.prototype.displayName="Directory Spinner",this.prototype.render=g.renderable((function(){return g.div(".directory-listing",(function(){return g.div(".directory-spinner",(function(){return g.div(".spinner.loading.centered")}))}))}))}}]),n}(v.Component);y.initClass(),e.exports=function(e){a(n,e);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}return o(n,[{key:"eventSource",value:function(){return"boardDirectorySpinnerScreen"}},{key:"renderContent",value:function(){var e=this.options,t=e.section,n=e.idPlugin,r=e.isEnabling;return p.contains(["category","custom","enabled"],t)?v.createElement(b,{numOfAtoms:24,atomType:m.Description}):n||r?v.createElement(y,null):v.createElement(b,{numOfAtoms:6,atomType:m.Featured})}}]),n}(h)},"./app/scripts/views/directory/directory-view.js":function(e,t,n){function r(e,t,n){return(r="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=u(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?l(e):t}function l(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./packages/jquery/index.js"),p=n("./node_modules/underscore/underscore.js"),m=n("./packages/atlassian-analytics/index.ts").Analytics,f=n("./app/scripts/db/auth.js"),h=n("./app/scripts/controller/index.js"),v=n("./app/scripts/views/directory/directory-legacy-power-ups.js"),g=n("./app/scripts/views/directory/directory-bonus-view.js"),b=n("./app/scripts/views/directory/directory-enabled-view.js"),y=n("./app/scripts/views/directory/directory-listing-view.js"),k=n("./app/scripts/views/directory/directory-header-view.js"),w=n("./app/scripts/views/directory/directory-home-view.js"),j=n("./app/scripts/views/directory/directory-search-view.js"),_=n("./app/scripts/views/directory/directory-spinner-view.js"),x=n("./app/scripts/views/directory/directory-page-view.js"),C=n("./app/scripts/views/directory/directory-plugin-enable-view.js"),O=n("./app/scripts/views/directory/directory-sidebar-view.js"),S=n("./packages/config/index.ts").firstPartyPluginsOrg,E=n("./app/scripts/data/butler-id.js").BUTLER_POWER_UP_ID,T=n("./packages/config/index.ts").mapPowerUpId,P=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),N=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),I=n("./packages/analytics/index.ts"),A=I.track,D=I.trackUe,B=n("./packages/keybindings/index.ts"),R=B.Key,L=B.registerShortcut,M=B.Scope,F=B.unregisterShortcut,V=n("./app/scripts/views/internal/view.js"),z=n("./app/src/components/PowerUpDirectory/SearchHelper.ts").createSearchIndex,U=n("./app/scripts/data/directory.js").categories,H=n("./app/src/components/WorkspaceNavigation/index.ts").workspaceNavigationState,W=function(e,t,n,r){var i="home page";return r?i="search":n?i="list page":["enabled","custom","made-by-trello","bonus"].includes(e)?i=e+" page":"category"===e&&(i="category ".concat(t," page")),"Power-Up directory ".concat(i)},q=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(i,e);var t,n=(t=i,function(){var e,n=u(t);if(c()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function i(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),(t=n.call(this,e)).onShortcut=t.onShortcut.bind(l(t)),L(t.onShortcut,{scope:M.PowerUpsDirectory,key:R.Escape}),t}return o(i,null,[{key:"initClass",value:function(){this.prototype.className="directory-wrapper",this.prototype.events={"click .js-directory-responsive-overlay":"toggleNavigationMenu"}}}]),o(i,[{key:"initialize",value:function(e){var t=this,n=e.boardView;return this.boardView=n,r(u(i.prototype),"initialize",this).apply(this,arguments),this.featuredPlugins=[],this.history=[],this.isLoading=!0,this.plugins=[],this.search=null,this.headerView=this.subview(k,this.model,{directoryView:this}),this.sidebarView=this.subview(O,this.model,{directoryView:this}),this.category=this.options.category,this.section=this.options.section,this.idPlugin=this.options.idPlugin,this.isEnabling=this.options.isEnabling,null==this.section||p.contains(["enabled","category","custom","made-by-trello","bonus"],this.section)||this.navigate(),null==this.category||p.contains(U,this.category)||this.navigate(),this.preparePlugins(),this.makeDebouncedMethods("onOrganizationChange"),this.listenTo(this.model.boardPluginList,{"add remove reset":this.onPluginChange}),this.listenTo(this.model,{"change:powerUps":this.onPluginChange,"change:idOrganization":this.onOrganizationChangeDebounced}),this.subscribe(P(this.model),(function(){return t.onPluginChange()})),this.workspaceNavExpanded=H.value.expanded,this.workspaceNavEnabled=H.value.enabled,this.unsubscribeFromWorkspaceNavigationState=H.subscribe((function(e){var n=e.expanded,r=e.enabled,i=d(".directory-wrapper");t.workspaceNavExpanded=n,t.workspaceNavEnabled=r,r?n?(i.addClass("directory-wrapper--workspace-nav-expanded"),i.removeClass("directory-wrapper--workspace-nav-collapsed")):(i.addClass("directory-wrapper--workspace-nav-collapsed"),i.removeClass("directory-wrapper--workspace-nav-expanded")):(i.removeClass("directory-wrapper--workspace-nav-expanded"),i.removeClass("directory-wrapper--workspace-nav-collapsed"))})),this.trackSearch=p.debounce(this.trackSearch,5e3,!0)}},{key:"remove",value:function(){return F(this.onShortcut),this.unsubscribeFromWorkspaceNavigationState(),r(u(i.prototype),"remove",this).apply(this,arguments)}},{key:"onShortcut",value:function(){if(!this.$(".js-directory-search").is(":focus"))return this.boardView.closeDirectory(),A("Keyboard Shortcuts","Esc - Close Power-Ups Directory","Power-Ups Directory")}},{key:"onOrganizationChange",value:function(){var e=this;return this.isLoading=!0,this.sidebarView.render(),this.renderSubview(),this.model.loadPlugins().then((function(){return e.preparePlugins()}))}},{key:"onPluginChange",value:function(e){return this.setBodyHeight()}},{key:"toggleNavigationMenu",value:function(){var e=d(".js-directory-sidebar"),t=d(".js-directory-responsive-overlay");return e.hasClass("active")?(e.removeClass("active"),t.removeClass("active")):(e.addClass("active"),t.addClass("active"))}},{key:"preparePlugins",value:function(){var e,t=this;return this.boardView.reloadDirectoryPlugins?(e=this.model.loadPlugins(),this.boardView.reloadDirectoryPlugins=!1):e=this.model.getAvailablePlugins(),e.then((function(e){if(t.plugins=e,t.index=z(t.plugins.map((function(e){return e.toJSON()}))),t.isLoading=!1,"custom"===t.section&&!t.getCustomPlugins().length||t.idPlugin&&!t.getPlugin())return t.navigate();if(t.idPlugin){var n,r=t.getPlugin();if(n=r.get("moderatedState"),["hidden","moderated"].includes(n))return t.navigate();if(r.get("idOrganizationOwner")===S)return t.isEnabling=!1,t.navigate({section:t.section,idPlugin:t.idPlugin})}return t.sidebarView.render(),t.renderSubview()}))}},{key:"getCommonTrackingAttributes",value:function(){var e,t=this;return{boardId:this.model.id,organizationId:this.model.get("idOrganization"),boardPaidStatus:function(){var e,n,r,i;switch(!1){case!t.model.isEnterpriseBoard():return"enterprise";case!(null===(e=t.model)||void 0===e||null===(n=e.getOrganization())||void 0===n?void 0:n.isBusinessClass()):return"bc";case!(null===(r=t.model)||void 0===r||null===(i=r.getOrganization())||void 0===i?void 0:i.isStandard()):return"standard";default:return"free"}}(),maxUserPaidStatus:f.isLoggedIn()?null==f||null===(e=f.me())||void 0===e?void 0:e.getMaxPaidStatus():"notLoggedIn"}}},{key:"getPlugin",value:function(){var e=this;return p.find(this.plugins,(function(t){return t.id===e.idPlugin}))}},{key:"getPluginsForCategory",value:function(){var e,t=this;return p.chain(this.plugins).filter((function(n){return e=t.category,Array.from(n.get("categories")).includes(e)})).shuffle().value()}},{key:"getCustomPlugins",value:function(){return p.chain(this.plugins).filter((function(e){return!e.get("public")})).sortBy((function(e){return N.get(e).getName().toLowerCase()})).value()}},{key:"getPluginsForSearch",value:function(){var e=this;return this.index.search(this.search).map((function(t){return e.plugins.find((function(e){return e.id===t.id}))}))}},{key:"getTrelloPlugins",value:function(){return p.chain(this.plugins).filter((function(e){return"made-by-trello",Array.from(e.get("tags")).includes("made-by-trello")})).sortBy((function(e){return N.get(e).getName().toLowerCase()})).value()}},{key:"getBonusPlugins",value:function(){return p.chain(this.plugins).filter((function(e){return"promotional",Array.from(e.get("tags")).includes("promotional")})).sortBy((function(e){return N.get(e).getName().toLowerCase()})).value()}},{key:"getEnabledPlugins",value:function(){var e=this,t=p.flatten([this.model.idPluginsEnabled(),this.model.get("powerUps")]);return p.chain(t).filter((function(t){return!(e.model.isButlerCore()&&t===E||e.model.isMapCore()&&t===T)})).map((function(t){return p.find(e.plugins,(function(e){return e.id===t||p.findWhere(v,{id:e.id,name:t})}))})).compact().sortBy((function(e){return N.get(e).getName().toLowerCase()})).value()}},{key:"filterOutHiddenPlugins",value:function(e){return p.filter(e,(function(e){var t;return t=e.get("moderatedState"),!["hidden","moderated"].includes(t)}))}},{key:"updateSearch",value:function(e){if(e!==this.search)return this.search=e,this.renderSubview()}},{key:"trackSearch",value:function(){return D(W(this.section,this.category,this.idPlugin),"opens",this.getCurrentPage())}},{key:"trackScreenEvent",value:function(e,t){return m.sendScreenEvent({name:e,attributes:p.extend(t,this.getCommonTrackingAttributes())})}},{key:"getCurrentPage",value:function(){return W(this.section,this.category,this.idPlugin,this.search)}},{key:"navigate",value:function(e){null==e&&(e={});var t=e,n=t.section,r=t.category,i=t.idPlugin,o=t.isNavigatingBack,a=t.isEnabling;o||p.isEqual({section:this.section,category:this.category,idPlugin:this.idPlugin,isEnabling:this.isEnabling},{section:n,category:r,idPlugin:i,isEnabling:a})||this.history.push({section:this.section,category:this.category,idPlugin:this.idPlugin,isEnabling:this.isEnabling});var s="power-ups";i?(s="power-up",D(this.getCurrentPage(),"opens",W(n,r,i),"","","",i)):D(this.getCurrentPage(),"opens",W(n,r)),this.section=n,this.category=r,this.idPlugin=i,this.isEnabling=!!a;var l=[];return null!=this.section&&l.push(this.section),null!=this.category&&l.push(this.category),null!=this.idPlugin&&(l.push(this.idPlugin),this.isEnabling&&l.push("enable")),h.setBoardLocation(this.model.id,s,l,{replace:!1}),this.search=null,this.sidebarView.clearSearch(),this.sidebarView.render(),this.headerView.render(),this.renderSubview()}},{key:"navigateBack",value:function(){if(p.isEmpty(this.history))return this.navigate({isNavigatingBack:!0});var e=this.history.pop(),t=e.section,n=e.category,r=e.idPlugin;return this.navigate({section:t,category:n,idPlugin:r,isNavigatingBack:!0})}},{key:"activeEventSource",value:function(){return this.activeSubview?this.activeSubview.eventSource():"boardDirectoryScreen"}},{key:"setBodyHeight",value:function(e){return e||this.model.canEnableAdditionalPowerUps()?this.$(".js-directory-body").removeClass("has-upsell"):f.me().isAdDismissed("DirectoryBusinessClassBanner")?void 0:this.$(".js-directory-body").addClass("has-upsell")}},{key:"homeSubview",value:function(){return this.subview(w,this.model,{currentPage:this.getCurrentPage(),directoryView:this})}},{key:"bonusSubview",value:function(){return this.subview(g,this.model,{plugins:this.plugins,currentPage:this.getCurrentPage(),directoryView:this})}},{key:"enabledSubview",value:function(){return this.subview(b,this.model,{plugins:this.plugins,currentPage:this.getCurrentPage(),directoryView:this})}},{key:"pluginListingSubview",value:function(){return this.subview(y,this.model,{plugin:this.getPlugin(),currentPage:this.getCurrentPage(),directoryView:this})}},{key:"pluginEnableView",value:function(){return this.subview(C,this.model,{plugin:this.getPlugin(),currentPage:this.getCurrentPage(),directoryView:this})}},{key:"searchSubview",value:function(){return this.trackSearch(),this.subview(j,this.model,{plugins:this.filterOutHiddenPlugins(this.getPluginsForSearch()),searchTerm:this.search,currentPage:this.getCurrentPage(),directoryView:this})}},{key:"pageSubView",value:function(e,t){return this.subview(x,this.model,{title:e,plugins:this.filterOutHiddenPlugins(t),currentPage:this.getCurrentPage(),directoryView:this})}},{key:"renderSubview",value:function(){var e=this;return this.$contentContainer=this.$("#directory-content"),this.$contentContainer.empty(),null!=this.activeSubview&&this.deleteSubview(this.activeSubview),this.activeSubview=function(){switch(!1){case!e.isLoading:return e.subview(_,e.model,{section:e.section,idPlugin:e.idPlugin,isEnabling:e.isEnabling});case!e.search:return e.searchSubview();case"category"!==e.section||!e.category:return e.pageSubView(e.category,e.getPluginsForCategory());case"made-by-trello"!==e.section:return e.pageSubView(e.section,e.getTrelloPlugins());case"bonus"!==e.section:return e.bonusSubview();case"custom"!==e.section:return e.pageSubView(e.section,e.getCustomPlugins());case"enabled"!==e.section:return e.enabledSubview();case!e.idPlugin||!e.isEnabling:return e.pluginEnableView();case!e.idPlugin:return e.pluginListingSubview();default:return e.homeSubview()}}(),this.appendSubview(this.activeSubview,this.$contentContainer)}},{key:"renderOnce",value:function(){return this.trackScreenEvent("boardDirectoryScreen",{totalEnabled:this.model.powerUpsCount(),allPowerUpsEnabled:this.model.idPluginsEnabled()}),this.appendSubview(this.headerView),this.$el.append('<div class="directory-body js-directory-body"></div>'),this.$directoryBody=this.$(".js-directory-body"),this.setBodyHeight(),this.$directoryBody.append('<div class="directory-responsive-overlay js-directory-responsive-overlay"></div>'),this.appendSubview(this.sidebarView,this.$directoryBody),this.$directoryBody.append('<div id="directory-content"></div>'),this.workspaceNavEnabled&&(this.workspaceNavExpanded?this.$el.addClass("directory-wrapper--workspace-nav-expanded"):this.$el.addClass("directory-wrapper--workspace-nav-collapsed")),this.renderSubview(),this}}]),i}(V);q.initClass(),e.exports=q},"./app/scripts/views/emoji/emoji-provider-component.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/lib/emoji-provider.js"),u=n("./node_modules/react/index.js"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,e);var t,n=(t=r,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).state={data:c.getDataSync(),spinnerClass:e.isSmallSpinner?"spinner small":"spinner loading"},t}return i(r,null,[{key:"initClass",value:function(){this.defaultProps={isSmallSpinner:!1}}}]),i(r,[{key:"componentDidMount",value:function(){var e=this;if(this.mounted=!0,!this.state.data)return c.getData().then((function(t){if(e.mounted)return e.setState({data:t})}))}},{key:"componentWillUnmount",value:function(){return this.mounted=!1}},{key:"render",value:function(){var e=this.props.children,t=this.state,n=t.data,r=t.spinnerClass;return null!=n?e(n):u.createElement("div",{className:"emoji-loading-spinner"},u.createElement("span",{className:r}))}}]),r}(u.Component);d.initClass(),e.exports=d},"./app/scripts/views/emoji/trello-emoji-picker.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/lib/emoji-provider.js"),u=n("./app/scripts/views/emoji/emoji-provider-component.js"),d=n("./node_modules/emoji-mart/dist-es/components/picker/nimble-picker.js").default,p=n("./node_modules/react/index.js"),m=n("./app/scripts/views/internal/recup-with-helpers.js")("reactions"),f=n("./node_modules/underscore/underscore.js"),h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(y,e);var t,h,v,g,b=(t=y,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function y(){return r(this,y),b.apply(this,arguments)}return h=y,g=[{key:"initClass",value:function(){this.defaultProps={title:"",emoji:"",color:"#0079BF",set:"twitter",i18n:{search:m.l("search"),notfound:m.l("no-emoji-found"),skintext:m.l("skintext"),categories:{search:m.l("categories-search-results"),recent:m.l("categories-frequently-used"),people:m.l("categories-smileys-and-people").replace(/&amp;/g,"&"),nature:m.l("categories-animals-and-nature").replace(/&amp;/g,"&"),foods:m.l("categories-food-and-drink").replace(/&amp;/g,"&"),activity:m.l("categories-activity"),places:m.l("categories-travel-and-places").replace(/&amp;/g,"&"),objects:m.l("categories-objects"),symbols:m.l("categories-symbols"),flags:m.l("categories-flags"),custom:m.l("categories-custom")}},style:{width:"408px"},emojiSize:"28px",backgroundImageFn:c.getSpritesheetsUrl,skinEmoji:"v",autoFocus:!0,notFound:function(){return p.createElement("div",{className:"emoji-mart-no-results"},p.createElement("div",{className:"emoji-mart-no-results-label"},m.l("no-emoji-found")),p.createElement("img",{className:"emoji-mart-no-results-img",src:n("./resources/images/illos.png")}))}}}}],(v=[{key:"componentDidMount",value:function(){return document.querySelector("#chrome-container").scrollTop=0}},{key:"render",value:function(){var e=this;return p.createElement("div",{onClick:function(e){return e.preventDefault()}},p.createElement(u,null,(function(t){return p.createElement(d,f.extend({},e.props,{data:t}))})))}}])&&i(h.prototype,v),g&&i(h,g),y}(p.Component);h.initClass(),e.exports=h},"./app/scripts/views/emoji/trello-emoji.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/lib/emoji-provider.js"),u=n("./app/scripts/views/emoji/emoji-provider-component.js"),d=n("./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js").default,p=n("./node_modules/react/index.js"),m=n("./node_modules/underscore/underscore.js"),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(g,e);var t,n,f,h,v=(t=g,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function g(){return r(this,g),v.apply(this,arguments)}return n=g,h=[{key:"initClass",value:function(){this.defaultProps={set:"twitter",size:16}}}],(f=[{key:"render",value:function(){var e=this;return p.createElement(u,{isSmallSpinner:!0},(function(t){return p.createElement(d,m.extend({},e.props,{data:t,backgroundImageFn:c.getSpritesheetsUrl}))}))}}])&&i(n.prototype,f),h&&i(n,h),g}(p.Component);f.initClass(),e.exports=f},"./app/scripts/views/internal/autocomplete/auto-insertion-view.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./packages/browser/index.ts"),o=n("./packages/keybindings/index.ts"),a=o.getKey,s=o.isArrow,l=o.Key,c=n("./app/scripts/views/lib/pop-over.js"),u=n("./app/scripts/lib/util/index.js"),d={checkInsert(e){var t=a(e);if(c.isVisible&&!i.isTouch()){if(e.shiftKey&&[l.ArrowUp,l.ArrowDown].includes(t)||e.altKey&&[l.ArrowUp,l.ArrowDown].includes(t))return;if(t===l.Escape)return u.stop(e),void c.hide();for(var n=0,o=Array.from([{listClass:".js-available-members",itemClass:".js-select-member"},{listClass:".js-available-emoji",itemClass:".js-select-emoji"},{listClass:".js-card-list",itemClass:".js-select-card"}]);n<o.length;n++){var s=o[n],d=s.listClass,p=s.itemClass,m=r(".pop-over").find(d);if(m.length>0){if([l.Enter,l.Tab].includes(t))return u.stop(e),m.find(".item:first").hasClass("selected")&&(this.keyAutoMention(e),m=r(".pop-over").find(d)),m.find(".item.selected:first ".concat(p)).first().click(),c.hide(),!1;if([l.ArrowUp,l.ArrowDown].includes(t))return u.stop(e),u.navMenuList(m,".item",t),!1}}}},keyAutoMention(e){var t=this;if(!i.isTouch()){if(s(a(e))||a(e)===l.Enter)return;if(a(e)===l.Escape)return void(c.isVisible&&u.stop(e));var n=u.getWordFromCaret(this.getTextInput());if(new RegExp("^@\\S").test(n.str.substring(0,2)))return this.getAutoMentionerView("input").then((function(e){0!==e.filterMentionablesForMatches(n.str.substring(1).toLowerCase()).length?(c.show({elem:t.getMentionTarget(),view:e,keepEdits:!0}),t.getTextInput().is(":focus")||t.getTextInput().focus()):c.hide()}));if(/^:[a-z0-9_]+$/.test(n.str)){var r=this.getEmojiCompleterView("input");return c.show({elem:this.getEmojiTarget(),view:r,keepEdits:!0}),void(this.getTextInput().is(":focus")||this.getTextInput().focus())}return this.setTimeout((function(){return c.hide()}),5)}}};e.exports=d},"./app/scripts/views/internal/autocomplete/auto-mentioner-view.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./packages/jquery/index.js"),p=n("./app/scripts/db/auth.js"),m=n("./packages/keybindings/index.ts"),f=m.getKey,h=m.Key,v=n("./app/scripts/lib/localize.js"),g=n("./app/scripts/views/lib/pop-over.js"),b=n("./app/scripts/views/member/select-member-view.js"),y=n("./app/scripts/views/member/select-filterable-view.js"),k=n("./packages/storage/index.ts").TrelloStorage,w=n("./app/scripts/lib/util/index.js"),j=n("./app/scripts/views/internal/view.js"),_=n("./node_modules/underscore/underscore.js"),x=n("./app/scripts/views/internal/templates.js"),C=n("./packages/atlassian-analytics/index.ts"),O=C.Analytics,S=C.getScreenFromUrl,E=n("./app/scripts/lib/util/text/search-filter.js"),T="recentMentions",P=k.get(T)||[],N=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(N,e);var t,i,m,j,C=(t=N,function(){var e,n=u(t);if(c()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function N(){return o(this,N),C.apply(this,arguments)}return i=N,j=[{key:"initClass",value:function(){this.prototype.viewTitleKey="mention",this.prototype.events={"mouseenter .js-select-member":"hoverItem","click .js-select-member:not(.disabled)":"insertMember","mouseenter .js-select-all-card-members":"deselectMember","mouseenter .js-select-all-board-members":"deselectMember",keydown:"keydownEvent","keyup .js-filter-mentionables":"keyupEvent"}}}],(m=[{key:"initialize",value:function(e){var t,n=e.board,r=e.card;if(this.board=n,this.card=r,t=null!=this.board?this.board.getOrganization():void 0)return this.listenTo(t.memberList,"add remove reset",this.frameDebounce(this.render))}},{key:"render",value:function(){var e={};return this.options.input&&(e.input=!0),this.options.button&&(e.button=!0),this.$el.html(x.fill(n("./app/scripts/views/templates/popover_auto_mentioner.js"),e)),O.sendScreenEvent({name:"mentionMembersInlineDialog",containers:{card:{id:null!=this.card?this.card.id:void 0},board:{id:null!=this.board?this.board.id:void 0}}}),this.$mentionablesList=this.$(".js-available-members"),this.options.button?this.fillMentionables(this.getMentionables()):this.options.input&&this.filterMentionables(),this}},{key:"getTextInput",value:function(){return d(this.options.target)}},{key:"getExtraMentionables",value:function(e,t){var n={type:"extra",text:"card",names:["all","card"],extraText:v(["automentioner","all-members-on-card"]),mentionCount:e.length},r={type:"extra",text:"board",names:["all","board"],extraText:v(["automentioner","all-members-on-board"]),mentionCount:t.length};return null!=this.card?[n,r]:[r]}},{key:"getMentionables",value:function(){var e=this,t=p.myId(),n=function(t,n){return null==n&&(n={}),_.chain(t).reject((function(t){return e.board.isDeactivated(e.modelCache.get("Member",t))})).map((function(t){return _.extend({},n,{id:t,names:w.getMemNameArrayFromId(e.modelCache,t),type:"member"})})).value()},i=n(null!=this.card?this.card.getIdCardMems():void 0),o=n(this.board.getIdBoardMems()),a=function(){var t;if(null!=(t=e.board.getOrganization())){var i=[],o=[],a=t.memberList.filter((function(e){return!t.isDeactivated(e)}));if(e.board.isPrivate())if(t.hasPremiumFeature("superAdmins")){var s=_.groupBy(a,(function(e){return t.ownedByMember(e)?"admin":"not-admin"}));i=_.pluck(s.admin,"id"),o=_.pluck(s["non-admin"],"id")}else o=_.pluck(a,"id");else i=_.pluck(a,"id");return[].concat(r(Array.from(n(i))),r(Array.from(n(o,{disabled:!0,extraText:v(["mention member","board not team visible"])}))))}return[]}();return _.chain([].concat(r(Array.from(i)),r(Array.from(o)),r(Array.from(a)))).uniq((function(e){return e.id})).sortBy((function(e,n,r){var i=P.indexOf(e.id);return e.id===t?r.length:-1===i?P.length:i})).concat(this.getExtraMentionables(i,o)).value()}},{key:"clearMentionables",value:function(){return this.$mentionablesList.empty()}},{key:"keydownEvent",value:function(e){var t;if(t=f(e),[h.Enter,h.Tab].includes(t))return w.stop(e),void this.$mentionablesList.find(".item.selected:first .js-select-member").click()}},{key:"keyupEvent",value:function(e){var t=f(e);return[h.Enter,h.Tab,h.ArrowLeft,h.ArrowRight].includes(t)?void 0:[h.ArrowUp,h.ArrowDown].includes(t)?(w.stop(e),void w.navMenuList(this.$mentionablesList,".item",t)):this.filterMentionables()}},{key:"filterMentionables",value:function(e){var t;if(this.clearMentionables(),this.options.button)t=d(".js-filter-mentionables").val().trim().toLowerCase();else if(this.options.input){var n=this.getTextInput();t=w.getWordFromCaret(n).str.substring(1).toLowerCase()}var r=this.filterMentionablesForMatches(t);if(!this.options.input||0!==r.length)return this.fillMentionables(r),w.selectMenuItem(this.$mentionablesList,".item",this.$mentionablesList.find(".item").first());this.setTimeout((function(){return g.hide()}),5)}},{key:"filterMentionablesForMatches",value:function(e){var t=E(e);return _.filter(this.getMentionables(),(function(e){return t(e.names)}))}},{key:"hoverItem",value:function(e){var t=d(e.target).closest(".item");return w.selectMenuItem(this.$mentionablesList,".item",t)}},{key:"deselectMember",value:function(e){return this.$mentionablesList.find(".item").removeClass("selected")}},{key:"fillMentionables",value:function(e){var t=this,n=((e=_.groupBy(e,"type")).member||[]).slice(0,50).map((function(e){var n=e.id,r=e.disabled,i=e.extraText;return{member:t.modelCache.get("Member",n),disabled:r,extraText:i}}));this.$mentionablesList.empty();for(var r=[],i=0,o=Array.from(n);i<o.length;i++){var a=o[i],s=a.member,l=a.disabled,c=a.extraText;r.push(this.subview(b,s,{disabled:l,extraText:c}))}if(this.appendSubviews(r,this.$mentionablesList),null!=e.extra)for(var u=0,d=Array.from(e.extra);u<d.length;u++){var p=d[u];this.$mentionablesList.append(new y(p).render().el)}this.$(".js-empty-list").toggleClass("hide",_.keys(e).length>0)}},{key:"insertMember",value:function(e){var t;w.stop(e);var n=d(e.currentTarget).attr("autocompleteText");this.saveRecent(d(e.currentTarget).attr("idMember"));var r="member",i=d(e.currentTarget).attr("idMember"),o=S();"board"===n&&(r="board",i=null!=this.board?this.board.id:void 0,"boardScreen"===o&&(o="boardMenuDrawerAboutScreen")),"card"===n&&(r="card",i=null!=this.card?this.card.id:void 0),O.sendTrackEvent({action:"mentioned",actionSubject:r,actionSubjectId:i,source:o,containers:{card:{id:null!=this.card?this.card.id:void 0},board:{id:null!=this.board?this.board.id:void 0}}});var a=this.getTextInput();if(this.options.input)t=w.getWordFromCaret(a),w.insertSelection(a,"@".concat(n," "),t.start,t.end);else{var s=w.getCaretPosition(a);null!=s&&(t={start:s,end:s}),w.insertSelection(a,"@".concat(n," "),null!=t?t.start:void 0,null!=t?t.end:void 0)}g.hide()}},{key:"saveRecent",value:function(e){var t=k.get(T)||[];return t=_.chain([e].concat(r(Array.from(t)))).uniq().first(16).value(),k.set(T,t),P=t}}])&&a(i.prototype,m),j&&a(i,j),N}(j);N.initClass(),e.exports=N},"./app/scripts/views/internal/autocomplete/completer-util.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./app/scripts/views/card/attachment-type-picker-view.js"),o=n("./app/scripts/views/internal/autocomplete/auto-mentioner-view.js"),a=n("./app/scripts/views/internal/autocomplete/emoji-completer-view.js"),s=n("./app/scripts/db/model-loader.js"),l=n("./app/scripts/views/lib/pop-over.js"),c=n("./app/scripts/views/internal/autocomplete/trello-completer-view.js"),u=n("./app/scripts/lib/util/index.js"),d=n("./packages/atlassian-analytics/index.ts").Analytics,p=n("./node_modules/bluebird/js/browser/bluebird.js"),m=n("./node_modules/underscore/underscore.js"),f={},h={openEmojiCompleter(e){return u.stop(e),l.pushView({view:this.getEmojiCompleterView("button")})},autoMentionerView(e,t,n){return new o({model:null!=t?t:n,button:"button"===e,input:"input"===e,target:this.getTextInput(),card:t,board:n,modelCache:this.modelCache})},getAutoMentionerView(e){var t,n=this,r=null!=this.getCard?this.getCard():this.card,i=r?r.getBoard():this.board;null!=(t=null!=i?i.getOrganization():void 0)&&(!f[t.id]||Date.now()-f[t.id]>3e5)&&(f[t.id]=Date.now(),s.loadOrganizationMembersData(t.id));var o=this.modelCache.get("Board",i.id).get("memberships"),a=m.indexBy(i.getIdBoardMems());if(a.length!==o.length&&o.some((function(e){return!e.deactivated&&!a.hasOwnProperty(e.idMember)})))return s.loadBoardMembers(i.id).then((function(){return n.autoMentionerView(e,r,i)}));return p.resolve(this.autoMentionerView(e,r,i))},getEmojiCompleterView(e){var t=null!=this.getCard?this.getCard():this.card,n=t?t.getBoard():this.board;return new a({model:null!=t?t:n,button:"button"===e,input:"input"===e,target:this.getTextInput(),card:t,modelCache:this.modelCache})},getTrelloCompleterView(){var e=this.getCard();return new c({model:e,button:!0,target:this.getTextInput(),card:e,modelCache:this.modelCache})},commentAddAttachment(e){u.stop(e);var t=r(e.target).closest(".comment-box").find("textarea"),n=t.prop("selectionStart"),o=t.prop("selectionEnd"),a=t.val().substring(n,o),s=this.getCard(),c=new i({model:this.model,modelCache:this.modelCache,defaultName:a});c.on("attach",(function(e){var r=e.url,i=e.name,s=(i=i||a)?"[".concat(i,"](").concat(r,")"):r;return u.insertSelection(t,"".concat(s," "),n,o),t.trigger("autosize.resize")})),l.toggle({elem:r(e.currentTarget),keepEdits:!0,view:c,options:{model:s,modelCache:this.modelCache}}),d.sendScreenEvent({name:"cardAttachmentPickerInlineDialog",containers:{card:{id:s.id}}})},commentMentionMember(e){u.stop(e),this.getAutoMentionerView("button").then((function(t){return l.toggle({elem:r(e.currentTarget),keepEdits:!0,view:t})})),d.sendScreenEvent({name:"mentionMembersInlineDialog",containers:{card:{id:v(this.getCard(),(function(e){return e.id}))}}})},commentAddEmoji(e){u.stop(e),l.toggle({elem:r(e.currentTarget),keepEdits:!0,view:this.getEmojiCompleterView("button")}),d.sendScreenEvent({name:"cardEmojiPickerInlineDialog",containers:{card:{id:v(this.getCard(),(function(e){return e.id}))}}})},commentAddCard(e){u.stop(e),l.toggle({elem:r(e.currentTarget),keepEdits:!0,view:this.getTrelloCompleterView()}),d.sendScreenEvent({name:"cardTrelloCompleterInlineDialog",containers:{card:{id:v(this.getCard(),(function(e){return e.id}))}}})}};function v(e,t){return null!=e?t(e):void 0}e.exports=h},"./app/scripts/views/internal/autocomplete/emoji-completer-view.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./packages/jquery/index.js"),p=n("./app/scripts/db/auth.js"),m=n("./app/scripts/views/internal/autocomplete/emoji-uploader-view.js"),f=n("./packages/keybindings/index.ts"),h=f.getKey,v=f.Key,g=n("./app/scripts/views/lib/pop-over.js"),b=n("./app/scripts/lib/util/index.js"),y=n("./app/scripts/views/internal/view.js"),k=n("./node_modules/underscore/underscore.js"),w=n("./app/scripts/views/internal/templates.js"),j=n("./packages/atlassian-analytics/index.ts").Analytics,_=n("./app/src/emoji.ts").default,x=n("./app/scripts/lib/localize.js"),C=n("./app/scripts/views/templates/popover_emoji_completer.js"),O=n("./packages/browser/index.ts").dontUpsell,S=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(E,e);var t,i,f,y,S=(t=E,function(){var e,n=u(t);if(c()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function E(){return o(this,E),S.apply(this,arguments)}return i=E,y=[{key:"initClass",value:function(){this.prototype.viewTitleKey="emoji",this.prototype.events={"mouseenter .js-select-emoji":"hoverItem","click .js-select-emoji":"selectEmoji",keydown:"keydownEvent","keyup .js-filter-emoji":"keyupEvent","click .js-upload-emoji":"openEmojiUploader"}}}],(f=[{key:"initialize",value:function(){var e,t,n;this._customEmoji={},(p.me().hasPremiumFeature("customEmoji")||(null===(e=this.options.card)||void 0===e||null===(t=e.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.hasPremiumFeature("customEmoji")))&&(p.me().loadCustomEmojis(),this.listenTo(p.me().customEmojiList,"change add remove reset",this.updateCustomEmoji),this.updateCustomEmoji())}},{key:"render",value:function(){var e,t,n,r={};return this.options.input&&(r.input=!0),this.options.button&&(r.button=!0),r.upsellEnabled=!O()||p.me().hasPremiumFeature("customEmoji")||(null===(e=this.options.card)||void 0===e||null===(t=e.getBoard())||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.hasPremiumFeature("customEmoji")),this.$el.html(C(r)),this.$emojiList=this.$(".js-available-emoji"),this.options.input&&this.filterEmoji(this.getInput()),this.options.button&&this.fillDefaultEmojiList(),this}},{key:"keyupEvent",value:function(e){var t=h(e);if([v.ArrowUp,v.ArrowDown].includes(t))return b.stop(e),void b.navMenuList(this.$emojiList,".item",t);if(![v.Enter,v.Tab].includes(t)){var n=this.getInput();return this.filterEmoji(n)}}},{key:"keydownEvent",value:function(e){var t;if(t=h(e),[v.Enter,v.Tab].includes(t)){b.stop(e);var n=this.$emojiList.find(".item.selected:first .js-select-emoji");if(n.length>0)return n.click()}}},{key:"updateCustomEmoji",value:function(){return this._customEmoji=k.object(p.me().customEmojiList.map((function(e){return[e.get("name"),e.get("url")]}))),this.render()}},{key:"getTextInput",value:function(){return d(this.options.target)}},{key:"getInput",value:function(){if(this.options.button)return this.$(".js-filter-emoji").val();var e=this.getTextInput();return b.getWordFromCaret(e).str.substring(1)}},{key:"filterEmoji",value:function(e){if(this.clearEmojiList(),this.fillEmojiList(e))return b.selectMenuItem(this.$emojiList,".item",this.$emojiList.find(".item").first())}},{key:"renderEmojiList",value:function(e){for(var t=0,r=Array.from(e);t<r.length;t++){var i=r[t],o={name:i,image:null!=this._customEmoji[i]?this._customEmoji[i]:_[i]};this.$emojiList.append(w.fill(n("./app/scripts/views/templates/select_emoji.js"),o))}return this}},{key:"fillDefaultEmojiList",value:function(e){this.renderEmojiList(["thumbsup","smile","warning","sunglasses","ballot_box_with_check","facepalm"])}},{key:"fillEmojiList",value:function(e){var t=e.replace(/\W+/g,"");if(""===e)return this.fillDefaultEmojiList(),!1;if(/[A-Z]/.test(t)&&this.options.input)return g.hide(),!1;t=t.toLowerCase(),this.$(".js-upload-emoji").text(x("upload emoji named",{emojiName:t})).attr("data-emojiname",t),this.$(".js-no-matching-emoji-helper").text(x("no matching emoji helper",{emojiName:t}));var n=this.getEmojiSuggestions(t).slice(0,6);return n.length>0?(this.$(".js-results").removeClass("hide"),this.$(".js-no-results").addClass("hide"),this.renderEmojiList(n)):(this.$(".js-results").addClass("hide"),this.$(".js-no-results").removeClass("hide")),0!==n.length}},{key:"clearEmojiList",value:function(){return this.$emojiList.empty()}},{key:"getEmojiSuggestions",value:function(e){var t,n=this,i=new RegExp("^".concat(b.escapeForRegex(e))),o=function(){var e=[];for(t in n._customEmoji)i.test(t)&&e.push(t);return e}(),a=function(){var e=[];for(t in _)i.test(t)&&e.push(t);return e}();if(null==this._sortOverride){var s=["thumbsup","smile","warning","sunglasses","facepalm","question","thumbsdown","wink","smiley","smile_cat","bowtie","heart","laughing","bug","cry","dancer","dancers","clap","shipit","white_check_mark","star","arrow_down","point_down","point_up","point_left","metal"];this._sortOverride={};for(var l=0;l<s.length;l++){var c=s[l];this._sortOverride[c]=l+1}}return k.uniq([].concat(r(Array.from(o)),r(Array.from(a)))).sort((function(e,t){var r=n._sortOverride[e],i=n._sortOverride[t];return r&&!i?-1:i&&!r?1:(r&&i&&(e=r,t=i),e<t?-1:e>t?1:0)}))}},{key:"hoverItem",value:function(e){var t=d(e.target).closest(".item");return b.selectMenuItem(this.$emojiList,".item",t)}},{key:"selectEmoji",value:function(e){b.stop(e);var t=d(e.target).closest(".js-select-emoji").find(".emoji-name").text();this.insertEmoji(t),g.hide()}},{key:"insertEmoji",value:function(e){var t,n=this.getTextInput();if(this.options.input)t=b.getWordFromCaret(n);else{var r=b.getCaretPosition(n);null!=r&&(t={start:r,end:r})}return b.insertSelection(n,":".concat("".concat(e).trim(),": "),null!=t?t.start:void 0,null!=t?t.end:void 0),j.sendUIEvent({action:"selected",actionSubject:"emoji",source:"emojiCompleterInlineDialog",attributes:{emojiName:e}})}},{key:"openEmojiUploader",value:function(e){b.stop(e);var t=this.$(e.target).attr("data-emojiname");g.pushView({keepEdits:!0,view:m,options:{model:p.me(),emojiName:t,completerView:this,card:this.options.card}}),j.sendUIEvent({action:"opened",actionSubject:"inlineDialog",actionSubjectId:"customEmojiUploaderInlineDialog",source:"cardDetailScreen"})}}])&&a(i.prototype,f),y&&a(i,y),E}(y);S.initClass(),e.exports=S},"./app/scripts/views/internal/autocomplete/emoji-uploader-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./app/scripts/views/lib/alerts.js"),d=n("./app/scripts/db/auth.js"),p=n("./app/scripts/views/lib/pop-over.js"),m=n("./app/scripts/lib/util/index.js"),f=n("./app/scripts/views/internal/view.js"),h=n("./app/scripts/views/internal/templates.js"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(k,e);var t,f,v,b,y=(t=k,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function k(){return r(this,k),y.apply(this,arguments)}return f=k,b=[{key:"initClass",value:function(){this.prototype.viewTitleKey="upload emoji"}}],(v=[{key:"events",value:function(){return{"click .js-upload-emoji":"uploadEmoji","change .js-upload-emoji-file":"fileChange","input .js-emoji-name":"nameChange"}}},{key:"initialize",value:function(e){var t,n,r,i=this,o=e.completerView;return this.completerView=o,this.hasGold=this.model.hasPremiumFeature("customEmoji"),this.hasBCGold=!1,this.teamEnabledFeature=null===(t=this.options.card)||void 0===t||null===(n=t.getBoard())||void 0===n||null===(r=n.getOrganization())||void 0===r?void 0:r.hasPremiumFeature("customEmoji"),this.canUpload=this.hasGold||this.hasBCGold||this.teamEnabledFeature,function(){for(var e=[],t=0,n=Array.from(i.model.organizationList.models);t<n.length;t++){var r=n[t];if(i.hasBCGold=r.isFeatureEnabled("goldMembers"),i.hasBCGold)break;e.push(void 0)}return e}()}},{key:"render",value:function(){var e=this.model.toJSON();return e.emojiName=this.options.emojiName,e.hasGold=this.hasGold,e.hasBCGold=this.hasBCGold,e.showTeamUpsell=!this.teamEnabledFeature&&!this.hasBCGold,e.canUpload=this.canUpload,this.$el.html(h.fill(n("./app/scripts/views/templates/popover_emoji_uploader.js"),e)),this._validate(),this.renderEmoji(),this}},{key:"getName",value:function(){return this.$(".js-emoji-name").val().trim().toLowerCase().replace(/\s+/g,"_")}},{key:"renderEmoji",value:function(){var e=this;this.$(".js-emoji-preview-name").text(":".concat(this.getName()||"???",":"));var t=g(this.$(".js-upload-emoji-file").prop("files"),(function(e){return e[0]}));if(new RegExp("^image/.*").test(null!=t?t.type:void 0)){var n=new FileReader;n.onload=function(t){return e.$(".js-emoji-conversion").removeClass("hide"),e.$(".js-emoji-preview").attr("src",t.target.result)},n.readAsDataURL(t)}else this.$(".js-emoji-conversion").addClass("hide");return this}},{key:"fileChange",value:function(e){var t=this.$(".js-emoji-name"),n=this.$(".js-upload-emoji-file");if(""===t.val()){var r,i=g(n.prop("files"),(function(e){return e[0]}));null!=i?r=i.name:n.val()&&(r=g(new RegExp("[^\\/]+$").exec(n.val()),(function(e){return e[0]}))),null==r&&(r=""),r=(r=r.split(".")[0]).toLowerCase().replace(/[^a-z0-9_]/g,""),t.val(r),this.$(".js-emoji-name").focus().select()}return this.renderEmoji(),this._validate()}},{key:"nameChange",value:function(e){return this.renderEmoji(),this._validate()}},{key:"_validate",value:function(e){var t=this.getName(),n=this.$(".js-upload-emoji-file"),r=/^[a-z0-9_\s]+$/.test(t),i=g(n.prop("files"),(function(e){return e.length}))>0||n.val(),o=r&&i&&this.canUpload;return this.$(".js-invalid-name").toggleClass("hide",r||""===t),this.$(".js-upload-emoji").toggleClass("disabled",!o)}},{key:"uploadEmoji",value:function(e){var t,n,r,i=this;if(m.stop(e),!c(".js-upload-emoji").hasClass("disabled")){this.$(".error").addClass("hide");var o=this.$(".js-upload-emoji-file"),a=g(o.prop("files"),(function(e){return e[0]})),s=this.getName(),l=function(){return i.completerView.insertEmoji(s),p.hide()};if(a||!o.val())if(null==a||m.validFileSize(a)){if(null!=a&&s){var f=new FileReader,h=new FormData;h.append("token",d.myToken()),h.append("file",a),h.append("name",s);var v=null===(t=this.options.card)||void 0===t||null===(n=t.getBoard())||void 0===n||null===(r=n.getOrganization())||void 0===r?void 0:r.id;return v&&h.append("idOrganization",v),f.onload=function(e){return i.model.customEmojiList.create({url:e.target.result,name:s},{data:h,processData:!1,contentType:!1,success:l,error(){return this.$(".error").removeClass("hide")}})},f.readAsDataURL(a)}}else u.flash("file too large","error");else m.uploadFile(d.myToken(),o,l)}}}])&&i(f.prototype,v),b&&i(f,b),k}(f);function g(e,t){return null!=e?t(e):void 0}v.initClass(),e.exports=v},"./app/scripts/views/internal/autocomplete/trello-completer-view.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=n("./packages/jquery/index.js"),p=n("./app/scripts/models/board.js"),m=n("./app/scripts/models/card.js"),f=n("./packages/keybindings/index.ts"),h=f.getKey,v=f.Key,g=n("./app/scripts/views/templates/popover_limit_exceeded.js"),b=n("./app/scripts/db/model-loader.js"),y=n("./app/scripts/lib/util/url/parse-trello-url.js"),k=n("./app/scripts/network/payloads.ts").default,w=n("./node_modules/bluebird/js/browser/bluebird.js"),j=n("./app/scripts/lib/recents.js"),_=n("./app/scripts/lib/util/index.js"),x=n("./app/scripts/views/internal/view.js"),C=n("./node_modules/underscore/underscore.js"),O=n("./app/scripts/views/templates/select_board.js"),S=n("./app/scripts/views/templates/select_card.js"),E=n("./app/scripts/view-models/sidebar-state.js"),T=n("./app/scripts/views/templates/popover_trello_completer.js"),P=n("./packages/atlassian-analytics/index.ts").Analytics,N=n("./app/scripts/network/api-error.js"),I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(I,e);var t,n,i,f,x=(t=I,function(){var e,n=u(t);if(c()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function I(){return o(this,I),x.apply(this,arguments)}return n=I,f=[{key:"initClass",value:function(){this.prototype.viewTitleKey="add card or board",this.prototype.events={"mouseenter .js-select-card,.js-select-board":"hoverItem","click .js-select-card":"selectCard","click .js-select-board":"selectBoard",keydown:"keydownEvent","keyup .js-search":"keyupEvent","input .js-search":"updateSearch"}}}],(i=[{key:"initialize",value:function(){return this.items=[],this.debouncedSearch=this.debounce(this.search,350).bind(this),this.search("")}},{key:"render",value:function(){var e=this;return this.model.canAttach()?(this.$el.html(T({})),w.resolve(this._lastRenderPromise).then((function(){return e.renderItems()})).done(),this):(this.model.isOverLimit("attachments","perCard")?this.$el.html(g("perCard")):this.model.getBoard().isOverLimit("attachments","perBoard")&&this.$el.html(g("perBoard")),this)}},{key:"renderItems",value:function(){var e,t;this.$(".js-loading").addClass("hide");var n=new Set([this.model.get("shortLink")]),r=new Set;this.model.attachmentList.forEach((function(e){var t=e.get("url"),i=y(t),o=i.type,a=i.shortLink;switch(o){case"card":return n.add(a);case"board":return r.add(a)}}));var i=this.items.filter((function(e){return e instanceof m&&!n.has(e.get("shortLink"))})),o=this.items.filter((function(e){return e instanceof p&&!r.has(e.get("shortLink"))})),a=this.$(".js-card-list").empty(),s=this.$(".js-board-list").empty();if(i.length>0){var l=function(){for(var n=[],r=0,o=Array.from(i);r<o.length;r++){var a=o[r];e=a.toJSON(),null!=(t=a.getBoard())&&(e.boardName=t.get("name")),n.push(S(e))}return n}();a.append(l)}if(o.length>0){var c=function(){for(var n=[],r=0,i=Array.from(o);r<i.length;r++){var a=(t=i[r]).getOrganization();e=t.toJSON(),null!=a&&(e.orgName=a.get("displayName")),n.push(O(e))}return n}();s.append(c)}this.items.length>0&&_.selectMenuItem(this.$el,".item",this.$el.find(".item").first());var u=!this._lastQuery&&0===i.length,d=!this._lastQuery&&0===o.length;return this.$(".js-card-results").toggleClass("hide",u),this.$(".js-board-results").toggleClass("hide",d),this.$(".js-no-card-results").toggleClass("hide",i.length>0),this.$(".js-no-board-results").toggleClass("hide",o.length>0),this}},{key:"keyupEvent",value:function(e){var t=h(e);[v.ArrowUp,v.ArrowDown].includes(t)&&(_.stop(e),_.navMenuList(this.$el,".item",t))}},{key:"updateSearch",value:function(e){var t=this.$(".js-search").val();return this.debouncedSearch(t)}},{key:"keydownEvent",value:function(e){var t;if(t=h(e),[v.Enter,v.Tab].includes(t)){_.stop(e);var n=this.$el.find(".item.selected:first").find(".js-select-card,.js-select-board");if(n.length>0)return n.click()}}},{key:"getTextInput",value:function(){return d(this.options.target)}},{key:"_renderSettledItems",value:function(e,t){var n=this;if(e===this._lastQuery)return this._lastRenderPromise=w.resolve(t).then((function(e){return C.isArray(e)?e:[e]})).catch(N,(function(){return[]})).tap((function(e){return n.items=e,n.renderItems()})).finally((function(){return n._lastRenderPromise=null}))}},{key:"search",value:function(e){var t=this;if(e!==this._lastQuery)if(this._lastQuery=e,this.$(".js-card-results").addClass("hide"),this.$(".js-board-results").addClass("hide"),this.$(".js-loading").removeClass("hide"),""!==e){var n=y(e.trim());if("card"!==n.type)if("board"!==n.type){if(_.isShortId(e)){var i,o=this.options.card,a=null!=o?o.getBoard():void 0;if(null!=a)return void(null!=(i=a.getCard(e))?this._renderSettledItems(e,i):this._renderSettledItems(e,b.loadCardData(a.id,e)))}var s={query:e,board_fields:"name,idOrganization,url",modelTypes:"cards,boards",partial:!0,card_board:!0};b.loadSearchData(s).nodeify((function(n,i){if(null==n){var o=C.chain(i.cards).map((function(e){return t.modelCache.get("Card",e.id)})).sortBy((function(e){return e.get("idBoard")===t.model.get("idBoard")?0:1})).value(),a=C.chain(i.boards).map((function(e){return t.modelCache.get("Board",e.id)})).sortBy((function(e){return e.get("id")===t.model.get("idBoard")?1:0})).value();return t._renderSettledItems(e,[].concat(r(Array.from(o)),r(Array.from(a))))}return t.items=[],t.renderItems()}))}else this._renderSettledItems(e,b.loadBoardCompleterData(n.shortLink));else this._renderSettledItems(e,b.loadCardCompleterData(n.shortLink))}else{var l=C.chain(j.get("card",6)).without(this.model.id).first(5).value(),c=C.chain(E.getRecentBoards()).without(this.model.get("idBoard")).first(5).value(),u=w.props({recentCards:w.map(l,(function(e){return t.modelCache.getOrLoad({type:"Card",id:e,payload:k.cardCompleter,loader:e=>b.loadCardCompleterData(e)})})),recentBoards:w.map(c,(function(e){return t.modelCache.getOrLoad({type:"Board",id:e,payload:k.boardCompleter,loader:e=>b.loadBoardCompleterData(e)})}))}).then((function(e){var t=e.recentCards,n=e.recentBoards;return C.compact([].concat(r(Array.from(t)),r(Array.from(n))))}));this._renderSettledItems(e,u)}}},{key:"hoverItem",value:function(e){var t=d(e.target).closest(".item");return _.selectMenuItem(this.$el,".item",t)}},{key:"selectCard",value:function(e){_.stop(e);var t=this.$(e.target).closest(".js-select-card").attr("data-id"),n=this.modelCache.get("Card",t);null!=n&&this.insertItem(n)}},{key:"selectBoard",value:function(e){_.stop(e);var t=this.$(e.target).closest(".js-select-board").attr("data-id"),n=this.modelCache.get("Board",t);null!=n&&this.insertItem(n)}},{key:"insertItem",value:function(e){var t;if(!this.options.onStartUpload){var n=e.get("url"),r=this.getTextInput(),i=_.getCaretPosition(r);null!=i&&(t={start:i,end:i}),_.insertSelection(r,"".concat(n," "),null!=t?t.start:void 0,null!=t?t.end:void 0);var o="board",a={};return e instanceof m?(o="card",a.card={id:e.id}):a.board={id:e.id},P.sendTrackEvent({action:"added",actionSubject:o,source:"trelloAddCardInlineDialog",containers:a})}this.options.onStartUpload(e)}}])&&a(n.prototype,i),f&&a(n,f),I}(x);I.initClass(),e.exports=I},"./app/scripts/views/internal/board-display-helpers.js":function(e,t,n){var r=n("./app/scripts/lib/localize.js"),i={getPermLevelAltTextForBoard(e){var t=e.getPermLevel();return r(["board perms",t,"short summary"])},getPermLevelAltTextForTemplate(e){var t=e.getPermLevel();return r(["template perms",t,"short summary"])},getPermLevelIconClass:e=>"org"===e?"organization-visible":"enterprise"===e?"enterprise":e,getPermLevelIconClassForBoard:e=>i.getPermLevelIconClass(e.getPermLevel())};e.exports=i},"./app/scripts/views/internal/collection-view.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return(a="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=d(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n("./app/scripts/views/internal/view.js"),m=n("./node_modules/underscore/underscore.js"),f=n("./app/scripts/debug/log.js");e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(g,e);var t,n,i,h,v=(t=g,function(){var e,n=d(t);if(u()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function g(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,g),(t=v.call(this,e)).sort=t.sort.bind(c(t)),t}return n=g,(i=[{key:"initialize",value:function(){return this.listenPropagators={},this.makeDebouncedMethods("sort"),this.listenTo(this.collection,{sort:this.sortDebounced,add:this.addModel,remove:this.removeModel,reset:this.reset}),a(d(g.prototype),"initialize",this).apply(this,arguments)}},{key:"getModels",value:function(){return this.collection.models}},{key:"subview",value:function(){var e=this,t=a(d(g.prototype),"subview",this).apply(this,arguments);return null==this.listenPropagators[t.cid]&&(this.listenPropagators[t.cid]=this.listenTo(t,"all",(function(n){for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return e.trigger.apply(e,[n,t].concat(r(Array.from(o))))}))),t}},{key:"addModel",value:function(e,t){f("render","adding ".concat(this.collection.model.name," to ").concat(this.viewType.name));var n=this.subview(this.viewType,e);this.el&&this.insertSubview(n,m.indexOf(this.getModels(),e))}},{key:"removeModel",value:function(e,t){return f("render","removing ".concat(this.collection.model.name," from ").concat(this.viewType.name)),this.removeSubview(this.viewForModel(e))}},{key:"reset",value:function(e,t){for(var n,r=t.previousModels,i={},o=0,a=Array.from(e.models);o<a.length;o++)i[(n=a[o]).cid]=!0;for(var s=0,l=Array.from(r);s<l.length;s++)i[(n=l[s]).cid]||this.removeModel(n);return this.sort()}},{key:"sort",value:function(){for(var e=this,t=Array.from(this.el.children).map((function(e,t){return e.matches(".placeholder,.card-composer")?t:null})).filter((function(e){return null!==e})),n=this.getModels(),r=function(r){var i=n[r],o=r+t.filter((function(e){return e<=r})).length;e.moveSubviewToPosition(e.subview(e.viewType,i),o)},i=0;i<n.length;i++)r(i)}},{key:"render",value:function(){var e,t=this;return f("render","rendering ".concat(this.getModels().length," ").concat(this.collection.model.name,"s into ").concat(this.viewType.name)),this.appendSubviews(function(){for(var n=[],r=0,i=Array.from(t.getModels());r<i.length;r++)e=i[r],n.push(t.subview(t.viewType,e));return n}()),this}},{key:"viewForModel",value:function(e){return this.existingSubview(this.viewType,e)}},{key:"removeSubview",value:function(e){return this.deleteSubview(e)}},{key:"insertSubview",value:function(e,t,n){null==n&&(n=this.$el),f("render","inserting ".concat(e.$el.find("h2").text()," at position ").concat(t)),"number"==typeof t?t=t<=0?n.children().eq(0):t<n.children().length?n.children().eq(t):void 0:t instanceof p&&(t=t.$el),e.$el.is(":empty")&&(e.delegateEvents(),e.render()),(null!=t?t.length:void 0)>0?e.$el.insertBefore(t):n.append(e.$el)}},{key:"moveSubviewToPosition",value:function(e,t){if(e.$el.is(":empty"))this.insertSubview(e,t,this.$el);else{var n=this.el.children;e.$el.index()!==t&&(0===t?this.$el.prepend(e.$el):t>=n.length?this.$el.append(e.$el):e.$el.insertAfter(n[t-1]))}}}])&&o(n.prototype,i),h&&o(n,h),g}(p)},"./app/scripts/views/internal/data-transfer/drag-drop-events.js":function(e,t,n){var r=n("./app/scripts/lib/util/array/count-while.js"),i=n("./app/scripts/lib/util/event/trigger.js"),o=n("./app/scripts/views/internal/data-transfer/normalize.js"),a=o.getTypes,s=o.getDropped,l=function(e,t){document.addEventListener(e,t)},c=function(e,t,n,r){for(var o=0,a=Array.from(n);o<a.length;o++){var s=a[o];i(e,"".concat(t,":").concat(s),r)}},u=function e(t){if(t){var n=e(t.parentElement);return n.push(t),n}return[]},d=[],p=null,m=function(e,t){var n;if(clearTimeout(p),!(d.length>0&&d[d.length-1]===e)){for(var i=u(e),o=r(i,d,(function(e,t){return e===t})),a=0,s=Array.from(d.slice(o));a<s.length;a++)n=s[a],c(n,"dd-leave",t,{bubbles:!1});for(var l=0,m=Array.from(i.slice(o));l<m.length;l++)n=m[l],c(n,"dd-enter",t,{bubbles:!1});return d=i}};l("dragenter",(function(e){return m(e.target,a(e.dataTransfer)),e.preventDefault()})),l("dragover",(function(e){var t=a(e.dataTransfer);return t.length>0&&(e.dataTransfer.dropEffect="copy"),m(e.target,t),e.preventDefault()})),l("dragleave",(function(e){var t=a(e.dataTransfer);return p=setTimeout((function(){return m(null,t)}),200)})),l("dragend",(function(e){return m(null,[])})),l("drop",(function(e){var t=a(e.dataTransfer);s(e).then((function(n){for(var r in n){var o=n[r];i(e.target,"dd-drop:".concat(r),{detail:o})}return m(null,t)})),e.preventDefault()}))},"./app/scripts/views/internal/disable-submit-if-length-too-long.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i={checkLength(e){var t=r(e.target).val(),n=this.maxLength||16384,i=0===t.length||/^\s*$/.test(t),o=!i&&t.length>n;null!=this.preventSubmit?this.preventSubmit(o,i):this._preventSubmit(o,i)},_preventSubmit(e,t){return this.$(".js-too-long-warning").toggleClass("hide",!e),this.$(".js-is-empty-warning").toggleClass("hide",!t),this.$('input[type="submit"]').prop("disabled",t||e)}};e.exports=i},"./app/scripts/views/internal/due-date-helpers.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n("./node_modules/moment/moment.js"),a=n("./node_modules/underscore/underscore.js"),s=n("./app/scripts/lib/localize.js"),l=function(e){var t=e.complete,n=e.incomplete,i=null;return function(e,s){return s?t():(null==i&&(i=n()),function(e,t){for(var n=0,i=Array.from(t);n<i.length;n++){var o=i[n];if(!a.isArray(o))return o;var s=r(Array.from(o),2),l=s[0],c=s[1];if(e<=l)return c}throw new Error("no matching dispatch value for ".concat(e,"!"))}(o(new Date(e)).diff(o(),"hours",!0),i))}};e.exports={classForDueDate:l({complete:()=>"is-due-complete",incomplete:()=>[[-36,"is-due-past"],[0,"is-due-now"],[24,"is-due-soon"],"is-due-future"]}),titleForDueDate:l({complete:()=>s("badge.due.complete"),incomplete:()=>[[-36,s("badge.due.overdue")],[0,s("badge.due.recently overdue")],[1,s("badge.due.less than an hour")],[24,s("badge.due.less than a day")],s("badge.due.later")]}),relativeInfoForDueDate:l({complete:()=>s("badge.due.complete short"),incomplete:()=>[[-36,s("badge.due.overdue short")],[0,s("badge.due.overdue short")],[24,s("badge.due.due soon short")],null]}),relativeInforForStartDate:l({incomplete:()=>[[0,"badge.start.past"],"badge.start.future"]})}},"./app/scripts/views/internal/friendly-links-v2.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"handleFriendlyLinkClick",(function(){return N})),n.d(t,"fireFriendlyLinkAnalyticsEvent",(function(){return I})),n.d(t,"shouldRenderV2FriendlyLink",(function(){return A})),n.d(t,"isApplicationJiraOrConfluence",(function(){return D})),n.d(t,"renderV2FriendlyLink",(function(){return B})),n.d(t,"FriendlyLinksV2",(function(){return R}));var r=n("./packages/atlassian-analytics/index.ts"),i=n("./app/common/lib/util/i18n/index.ts"),o=n("./app/src/components/ComponentWrapper/index.ts"),a=function(e,t){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};var s=function(){return(s=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};Object.create;Object.create;var l=n("./node_modules/react/index.js"),c=n.n(l),u=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),d=n("./node_modules/@atlaskit/theme/dist/esm/utils/createTheme.js"),p={default:{light:u.N40,dark:u.N40},inprogress:{light:u.B50,dark:u.B50},moved:{light:u.Y75,dark:u.Y75},new:{light:u.P50,dark:u.P50},removed:{light:u.R50,dark:u.R50},success:{light:u.G50,dark:u.G50}},m={default:{light:u.N500,dark:u.N500},inprogress:{light:u.B500,dark:u.B500},moved:{light:u.N800,dark:u.N800},new:{light:u.P500,dark:u.P500},removed:{light:u.R500,dark:u.R500},success:{light:u.G500,dark:u.G500}},f={default:{light:u.N500,dark:u.N500},inprogress:{light:u.B400,dark:u.B400},moved:{light:u.Y500,dark:u.Y500},new:{light:u.P400,dark:u.P400},removed:{light:u.R400,dark:u.R400},success:{light:u.G400,dark:u.G400}},h={default:{light:u.N0,dark:u.N0},inprogress:{light:u.N0,dark:u.N0},moved:{light:u.N800,dark:u.N800},new:{light:u.N0,dark:u.N0},removed:{light:u.N0,dark:u.N0},success:{light:u.N0,dark:u.N0}},v=Object(d.a)((function(e){var t=e.appearance,n=e.isBold,r=e.maxWidth;return s(s({},"object"==typeof t?s({backgroundColor:(n?f:p).default.light,textColor:(n?h:m).default.light},t):{backgroundColor:(n?f[t]:p[t]).light,textColor:(n?h[t]:m[t]).light}),{maxWidth:r})})),g=n("./node_modules/@emotion/core/dist/core.browser.esm.js"),b=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),y=Object(b.c)()+"px",k=function(e){var t=e.backgroundColor,n=e.textColor,r=e.children,i=e.testId;return Object(g.d)("span",{css:{backgroundColor:t,borderRadius:y,boxSizing:"border-box",color:n,display:"inline-block",fontSize:"11px",fontWeight:700,lineHeight:1,maxWidth:"100%",padding:"2px 0 3px 0",textTransform:"uppercase",verticalAlign:"baseline"},"data-testid":i},r)},w=Object(b.f)()/2+"px",j=function(e){var t=e.maxWidth,n=e.children;return Object(g.d)("span",{css:{display:"inline-block",verticalAlign:"top",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap",boxSizing:"border-box",padding:"0 "+w,maxWidth:"number"==typeof t?t+"px":t,width:"100%"}},n)},_=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return function(e,t){function n(){this.constructor=e}a(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}(t,e),t.prototype.render=function(){var e=this.props,t=e.theme,n=e.children,r=e.testId;return c.a.createElement(v.Provider,{value:t},c.a.createElement(v.Consumer,s({},this.props),(function(e){return c.a.createElement(k,s({testId:r},e),c.a.createElement(j,s({},e),n))})))},t.defaultProps={isBold:!1,appearance:"default",maxWidth:200},t}(l.PureComponent),x=n("./packages/feature-flag-client/src/feature-flag-client.ts");function C(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function O(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var S=n("./app/scripts/views/internal/teacup-with-helpers.js")(),E=Object(i.forTemplate)("smartlink_connect"),T="trello",P="trello-smartlink",N=function(e){return function(t){I(e),t.preventDefault();var n,r,i=new URL(t.currentTarget.href);i.searchParams.get("utm_source")===T&&i.searchParams.get("utm_content")===P||(i.searchParams.append("utm_source",T),i.searchParams.append("utm_content",P),i.searchParams.append("utm_campaign",A(null==e||null===(n=e.meta)||void 0===n||null===(r=n.requestAccess)||void 0===r?void 0:r.smartLinksAccessMetadataExperimentCohort)?"".concat(P,"-v2"):"".concat(P,"-v1")));window.open(i.toString())}},I=function(e){var t,n,i,o=e.application,a=e.meta,s=null==a||null===(t=a.requestAccess)||void 0===t?void 0:t.cloudId;r.Analytics.sendClickedLinkEvent({linkName:"smartLink",source:Object(r.getScreenFromUrl)(),attributes:{application:o,cloudId:s,urlAccess:null==a?void 0:a.access,accessType:null==a||null===(n=a.requestAccess)||void 0===n?void 0:n.accessType,resourceType:null==a?void 0:a.resourceType,visibility:null==a?void 0:a.visibility,smartLinkCohort:null==a||null===(i=a.requestAccess)||void 0===i?void 0:i.smartLinksAccessMetadataExperimentCohort}})},A=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];return("control"===e||"experiment"===e)&&(t&&x.a.triggerExposureEvent("smart-links-access-metadata-experiment-rollout",e,"SmartLinksV2",void 0,{}),"experiment"===e)},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return"Jira"===e||"Confluence"===e},B=function(e,t){new R({el:e,known:t}).renderSmartLink()},R=function(){function e(t){var r=t.el,i=t.known;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),O(this,"smartLinkElement",void 0),O(this,"smartLinkMetadata",void 0),O(this,"lozengeElement",void 0),O(this,"formatKey",void 0),O(this,"cta",void 0),O(this,"position",void 0),O(this,"AccessRequestToSmartLinkLayoutMetadata",{ACCESS_EXISTS:{},APPROVED_REQUEST_EXISTS:{formatKey:"join",position:"postfix"},DIRECT_ACCESS:{formatKey:"join",position:"postfix"},REQUEST_ACCESS:{formatKey:"request-access",position:"postfix"},PENDING_REQUEST_EXISTS:{formatKey:"pending-request",position:"prefix",icon:n("./resources/images/services/people.svg")},DENIED_REQUEST_EXISTS:{formatKey:"denied-request",position:"prefix",icon:n("./resources/images/services/lock.svg")},FORBIDDEN:{formatKey:"forbidden-request",position:"prefix",icon:n("./resources/images/services/lock.svg")}}),this.smartLinkElement=r,this.smartLinkMetadata=i}var t,r,i;return t=e,(r=[{key:"createLozengeElement",value:function(){this.lozengeElement=document.createElement("span"),this.lozengeElement.classList.add("lozenge-wrapper")}},{key:"renderSmartLinkTemplate",value:function(){var e=this;return S.renderable((function(){"forbidden"===e.smartLinkMetadata.meta.access?(e.generateUnconnectedCTAMetadata(),e.cta&&e.position?e.handleApplicationSmartLink():e.renderDefaultSmartLink()):e.renderDefaultSmartLink()}))()}},{key:"handleApplicationSmartLink",value:function(){this.handleIconRender(),this.handleApplicationSmartLinkRenderOrder()}},{key:"handleIconRender",value:function(){var e=this.smartLinkMetadata,t=e.idPlugin,n=e.monochrome,r=e.icon;S.img({class:S.classify({"smart-link-icon":!0,"plugin-icon":null!==t,"mod-reset":!n}),src:r})}},{key:"handleApplicationSmartLinkRenderOrder",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.smartLinkMetadata.text,t=this.position,n=this.cta;"prefix"===t?(n&&S.span(".connect",n),S.span(".link",e)):(S.span(".link",e),n&&S.span(".connect",n))}},{key:"renderDefaultSmartLink",value:function(){this.handleIconRender(),S.span(".link",this.smartLinkMetadata.name)}},{key:"generateUnconnectedCTAMetadata",value:function(){var e=this.smartLinkMetadata.meta.requestAccess;if(null==e?void 0:e.accessType){var t=this.AccessRequestToSmartLinkLayoutMetadata[null==e?void 0:e.accessType],n=t.formatKey,r=t.position,i=t.icon;this.formatKey=n,this.position=r,i&&(this.smartLinkMetadata.icon=i),this.formatKey&&("join"===this.formatKey||"request-access"===this.formatKey?this.getCTAForApplication():this.cta=E(this.formatKey))}}},{key:"getCTAForApplication",value:function(){var e=this.smartLinkMetadata.application;"Confluence"===e||"Jira"===e?(this.cta=E("".concat(this.formatKey,"-").concat(e.toLocaleLowerCase())),"Confluence"!==e||"request-access"!==this.formatKey&&"join"!==this.formatKey||(this.cta=" "+this.cta)):this.cta=E("connect-to-preview")}},{key:"renderReactLozenge",value:function(){var e,t;Object(o.renderComponent)(c.a.createElement(_,{children:null===(e=this.smartLinkMetadata.tag)||void 0===e?void 0:e.name,appearance:null===(t=this.smartLinkMetadata.tag)||void 0===t?void 0:t.appearance}),this.lozengeElement)}},{key:"renderSmartLink",value:function(){this.smartLinkElement.addEventListener("click",N(this.smartLinkMetadata)),"forbidden"===this.smartLinkMetadata.meta.access?this.smartLinkElement.classList.add("unconnected-link"):this.smartLinkElement.classList.add("smart-link"),this.smartLinkElement.innerHTML=this.renderSmartLinkTemplate(),this.shouldCreateLozengeComponent()&&(this.createLozengeElement(),this.smartLinkElement.appendChild(this.lozengeElement),this.renderReactLozenge())}},{key:"shouldCreateLozengeComponent",value:function(){return!!this.smartLinkMetadata.tag}}])&&C(t.prototype,r),i&&C(t,i),e}()},"./app/scripts/views/internal/friendly-links.js":function(e,t,n){var r=n("./app/scripts/db/known-services.js"),i=n("./app/scripts/views/internal/plugins/plugin-runner.js"),o=n("./node_modules/bluebird/js/browser/bluebird.js"),a=n("./app/scripts/views/internal/teacup-with-helpers.js")(),s=n("./node_modules/underscore/underscore.js"),l=n("./app/scripts/db/model-cache.js"),c=n("./node_modules/url-parse/index.js"),u=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginTrackEvent,d=n("./app/scripts/views/internal/friendly-links-v2.ts"),p=d.renderV2FriendlyLink,m=d.shouldRenderV2FriendlyLink,f=d.handleFriendlyLinkClick,h=d.isApplicationJiraOrConfluence,v=new window.Map,g=new window.Map,b=a.renderable((function(e){var t=e.icon,n=e.text,r=e.idPlugin,i=e.monochrome;return a.img({class:a.classify({"known-service-icon":!0,"plugin-icon":null!=r,"mod-reset":!1===i}),src:t}),a.text(n)}));e.exports=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},a=null!=e.tagName==="A"?[e]:s.toArray(e.querySelectorAll("a"));return o.map(a,(function(e){var a,s=c(e.href),d=e.textContent===s.origin?s.origin:s.href;if(a=e.textContent,[d,decodeURIComponent(d)].includes(a)){var y="".concat(null!=t?t.id:void 0,":").concat(d);return o.try((function(){if(!t)throw new i.Error.NotHandled("no board specified");if(v.get(y))return v.get(y);if(g.get(y))return g.get(y);var e=i.one({command:"format-url",board:t,options:{url:d}});return g.set(y,e),e})).catch(i.Error.NotHandled,(function(){return null})).then((function(i){return g.delete(y),null!=(null!=i?i.text:void 0)?(i.idPlugin&&u({idPlugin:i.idPlugin,idBoard:t.id,event:{action:"formatted",actionSubject:"url",source:"powerUpFormatUrl"}}),i):r.interpret(e.href,l,{sourceComponent:"friendly-links",publicLinksVariation:n.publicLinksVariation})})).then((function(t){var n,r;if(null!=t)return v.set(y,t),m(null==t||null===(n=t.meta)||void 0===n||null===(r=n.requestAccess)||void 0===r?void 0:r.smartLinksAccessMetadataExperimentCohort,!0)&&h(t.application)?p(e,t):(e.classList.add("known-service-link"),h(t.application)&&e.addEventListener("click",f(t)),e.innerHTML=b(t))}))}}))}},"./app/scripts/views/internal/model-cache-listener.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/db/model-cache.js"),u=n("./node_modules/react/index.js"),d=n("./node_modules/xtend/immutable.js");e.exports=function(e){return function(t){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(v,t);var n,p,m,f,h=(n=v,function(){var e,t=l(n);if(s()){var r=l(this).constructor;e=Reflect.construct(t,arguments,r)}else e=t.apply(this,arguments);return a(this,e)});function v(e){var t;return r(this,v),(t=h.apply(this,arguments)).listeners=[],t.modelListeners=[],t}return p=v,(m=[{key:"listenTo",value:function(e,t){return c.on(e,t),this.listeners.push({events:e,callback:t})}},{key:"modelListener",value:function(e,t,n){return e.on(t,n),this.modelListeners.push({model:e,events:t,callback:n})}},{key:"clearModelListeners",value:function(){return this.modelListeners.forEach((function(e){var t=e.model,n=e.events,r=e.callback;return t.off(n,r)}))}},{key:"componentWillUnmount",value:function(){return this.listeners.forEach((function(e){var t=e.events,n=e.callback;return c.off(t,n)})),this.clearModelListeners()}},{key:"render",value:function(){var t=d(this.props,{listenTo:this.listenTo.bind(this),modelListener:this.modelListener.bind(this),clearModelListeners:this.clearModelListeners.bind(this)});return u.createElement(e,t)}}])&&i(p.prototype,m),f&&i(p,f),v}(u.Component)}},"./app/scripts/views/internal/paste-input.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var o,a=n("./packages/jquery/index.js"),s=n("./app/scripts/lib/trello-clipboard.js"),l=n("./node_modules/underscore/underscore.js"),c=n("./app/scripts/debug/log.js"),u=n("./app/scripts/views/internal/data-transfer/normalize.js").getPasted,d=n("./app/scripts/lib/util/event/trigger-list.js");e.exports=new((o=function(){function e(){var t=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.paste=this.paste.bind(this),this._handlers={},a(document).on("paste",this.paste),s.on("pasteImage",(function(e){return t.triggerPasted("files",[e])}))}return i(e,null,[{key:"initClass",value:function(){this.prototype.precedence={list:4,card:5,dialog:10}}}]),i(e,[{key:"addHandler",value:function(e,t){var n=t.scope,r=t.precedence;return null==r&&(r=this.precedence[n]),null==r&&(c("pasteinput","Missing precedence for ".concat(n)),r=this.precedence.default),null==this._handlers[n]&&(this._handlers[n]={}),this._handlers[n]={target:e,scope:n,precedence:r},c("pasteinput","Adding handler for ".concat(n))}},{key:"removeHandler",value:function(e){var t=this;return function(){var n=[];for(var r in t._handlers){var i=t._handlers[r].target;e===i&&(c("pasteinput","Removing handler for ".concat(r)),n.push(delete t._handlers[r]))}return n}()}},{key:"_sortedHandlers",value:function(){return l.sortBy(l.values(this._handlers),(function(e){return-e.precedence}))}},{key:"paste",value:function(e){var t=this;u(e.originalEvent).then((function(n){if(!l.isEmpty(n)&&(!n.text&&!n.url||!["INPUT","TEXTAREA"].includes(e.target.tagName)||s.isClipboard(e.target)))for(var r=0,i=["url","text","files"];r<i.length;r++){var o=i[r];if(n[o]){t.triggerPasted(o,n[o]);break}}}))}},{key:"triggerPasted",value:function(e,t){var n=l.compact(this._sortedHandlers().map((function(e){return null!=e.target?e.target.el:void 0})));return d(n,"pasteinput:".concat(e),{detail:t})}}]),e}()).initClass(),o)},"./app/scripts/views/internal/pasted-file-name.js":function(e,t,n){var r=n("./node_modules/moment/moment.js"),i=n("./app/scripts/lib/localize.js");e.exports=function(){var e=r(),t=i("pasted file name",{date:e.format("l"),time:e.format("LTS")});return"".concat(t,".png")}},"./app/scripts/views/internal/react-root-component.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"ReactRootComponent",(function(){return R}));var r={};function i(e){var t=null;return function(){return null==t&&(t=e()),t}}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}n.r(r),n.d(r,"FILE",(function(){return h})),n.d(r,"URL",(function(){return v})),n.d(r,"TEXT",(function(){return g}));var a=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.entered=[],this.isNodeInDocument=t}var t,n,r;return t=e,(n=[{key:"enter",value:function(e){var t=this,n=this.entered.length;return this.entered=function(e,t){var n=new Set,r=function(e){return n.add(e)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e){return i.push(e)})),i}(this.entered.filter((function(n){return t.isNodeInDocument(n)&&(!n.contains||n.contains(e))})),[e]),0===n&&this.entered.length>0}},{key:"leave",value:function(e){var t,n,r=this.entered.length;return this.entered=(t=this.entered.filter(this.isNodeInDocument),n=e,t.filter((function(e){return e!==n}))),r>0&&0===this.entered.length}},{key:"reset",value:function(){this.entered=[]}}])&&o(t.prototype,n),r&&o(t,r),e}(),s=i((function(){return/firefox/i.test(navigator.userAgent)})),l=i((function(){return Boolean(window.safari)}));function c(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var u=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);for(var r=t.length,i=[],o=0;o<r;o++)i.push(o);i.sort((function(e,n){return t[e]<t[n]?-1:1}));for(var a,s,l=[],c=[],u=[],d=0;d<r-1;d++)a=t[d+1]-t[d],s=n[d+1]-n[d],c.push(a),l.push(s),u.push(s/a);for(var p=[u[0]],m=0;m<c.length-1;m++){var f=u[m],h=u[m+1];if(f*h<=0)p.push(0);else{a=c[m];var v=c[m+1],g=a+v;p.push(3*g/((g+v)/f+(g+a)/h))}}p.push(u[u.length-1]);for(var b,y=[],k=[],w=0;w<p.length-1;w++){b=u[w];var j=p[w],_=1/c[w],x=j+p[w+1]-b-b;y.push((b-j-x)*_),k.push(x*_*_)}this.xs=t,this.ys=n,this.c1s=p,this.c2s=y,this.c3s=k}var t,n,r;return t=e,(n=[{key:"interpolate",value:function(e){var t=this.xs,n=this.ys,r=this.c1s,i=this.c2s,o=this.c3s,a=t.length-1;if(e===t[a])return n[a];for(var s,l=0,c=o.length-1;l<=c;){var u=t[s=Math.floor(.5*(l+c))];if(u<e)l=s+1;else{if(!(u>e))return n[s];c=s-1}}var d=e-t[a=Math.max(0,c)],p=d*d;return n[a]+r[a]*d+i[a]*p+o[a]*d*p}}])&&c(t.prototype,n),r&&c(t,r),e}();function d(e){var t=1===e.nodeType?e:e.parentElement;if(!t)return null;var n=t.getBoundingClientRect(),r=n.top;return{x:n.left,y:r}}function p(e){return{x:e.clientX,y:e.clientY}}function m(e,t,n,r,i){var o,a,c="IMG"===(o=t).nodeName&&(s()||!document.documentElement.contains(o)),p=d(c?e:t),m={x:n.x-p.x,y:n.y-p.y},f=e.offsetWidth,h=e.offsetHeight,v=r.anchorX,g=r.anchorY,b=function(e,t,n,r){var i=e?t.width:n,o=e?t.height:r;return l()&&e&&(o/=window.devicePixelRatio,i/=window.devicePixelRatio),{dragPreviewWidth:i,dragPreviewHeight:o}}(c,t,f,h),y=b.dragPreviewWidth,k=b.dragPreviewHeight,w=i.offsetX,j=i.offsetY,_=0===j||j;return{x:0===w||w?w:new u([0,.5,1],[m.x,m.x/f*y,m.x+y-f]).interpolate(v),y:_?j:(a=new u([0,.5,1],[m.y,m.y/h*k,m.y+k-h]).interpolate(g),l()&&c&&(a+=(window.devicePixelRatio-1)*k),a)}}var f,h="__NATIVE_FILE__",v="__NATIVE_URL__",g="__NATIVE_TEXT__";function b(e,t,n){var r=t.reduce((function(t,n){return t||e.getData(n)}),"");return null!=r?r:n}function y(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var k=(y(f={},h,{exposeProperties:{files:function(e){return Array.prototype.slice.call(e.files)},items:function(e){return e.items}},matchesTypes:["Files"]}),y(f,v,{exposeProperties:{urls:function(e,t){return b(e,t,"").split("\n")}},matchesTypes:["Url","text/uri-list"]}),y(f,g,{exposeProperties:{text:function(e,t){return b(e,t,"")}},matchesTypes:["Text","text/plain"]}),f);function w(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var j=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.config=t,this.item={},Object.keys(this.config.exposeProperties).forEach((function(e){Object.defineProperty(n.item,e,{configurable:!0,enumerable:!0,get:function(){return console.warn("Browser doesn't allow reading \"".concat(e,'" until the drop event.')),null}})}))}var t,n,r;return t=e,(n=[{key:"mutateItemByReadingDataTransfer",value:function(e){var t=this,n={};e&&Object.keys(this.config.exposeProperties).forEach((function(r){n[r]={value:t.config.exposeProperties[r](e,t.config.matchesTypes)}})),Object.defineProperties(this.item,n)}},{key:"canDrag",value:function(){return!0}},{key:"beginDrag",value:function(){return this.item}},{key:"isDragging",value:function(e,t){return t===e.getSourceId()}},{key:"endDrag",value:function(){}}])&&w(t.prototype,n),r&&w(t,r),e}();function _(e){if(!e)return null;var t=Array.prototype.slice.call(e.types||[]);return Object.keys(k).filter((function(e){return k[e].matchesTypes.some((function(e){return t.indexOf(e)>-1}))}))[0]||null}function x(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var C=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.globalContext=t}var t,n,r;return t=e,(n=[{key:"window",get:function(){return this.globalContext?this.globalContext:"undefined"!=typeof window?window:void 0}},{key:"document",get:function(){if(this.window)return this.window.document}}])&&x(t.prototype,n),r&&x(t,r),e}();function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function S(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(n,!0).forEach((function(t){E(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function E(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t,n){var r=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourcePreviewNodes=new Map,this.sourcePreviewNodeOptions=new Map,this.sourceNodes=new Map,this.sourceNodeOptions=new Map,this.dragStartSourceIds=null,this.dropTargetIds=[],this.dragEnterTargetIds=[],this.currentNativeSource=null,this.currentNativeHandle=null,this.currentDragSourceNode=null,this.altKeyPressed=!1,this.mouseMoveTimeoutTimer=null,this.asyncEndDragFrameId=null,this.dragOverTargetIds=null,this.getSourceClientOffset=function(e){return d(r.sourceNodes.get(e))},this.endDragNativeItem=function(){r.isDraggingNativeItem()&&(r.actions.endDrag(),r.registry.removeSource(r.currentNativeHandle),r.currentNativeHandle=null,r.currentNativeSource=null)},this.isNodeInDocument=function(e){return r.document&&r.document.body&&document.body.contains(e)},this.endDragIfSourceWasRemovedFromDOM=function(){var e=r.currentDragSourceNode;r.isNodeInDocument(e)||r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragStartCapture=function(){r.clearCurrentDragSourceNode(),r.dragStartSourceIds=[]},this.handleTopDragStart=function(e){if(!e.defaultPrevented){var t=r.dragStartSourceIds;r.dragStartSourceIds=null;var n=p(e);r.monitor.isDragging()&&r.actions.endDrag(),r.actions.beginDrag(t||[],{publishSource:!1,getSourceClientOffset:r.getSourceClientOffset,clientOffset:n});var i=e.dataTransfer,o=_(i);if(r.monitor.isDragging()){if(i&&"function"==typeof i.setDragImage){var a=r.monitor.getSourceId(),s=r.sourceNodes.get(a),l=r.sourcePreviewNodes.get(a)||s;if(l){var c=r.getCurrentSourcePreviewNodeOptions(),u=m(s,l,n,{anchorX:c.anchorX,anchorY:c.anchorY},{offsetX:c.offsetX,offsetY:c.offsetY});i.setDragImage(l,u.x,u.y)}}try{i.setData("application/json",{})}catch(e){}r.setCurrentDragSourceNode(e.target),r.getCurrentSourcePreviewNodeOptions().captureDraggingState?r.actions.publishDragSource():setTimeout((function(){return r.actions.publishDragSource()}),0)}else if(o)r.beginDragNativeItem(o);else{if(i&&!i.types&&(e.target&&!e.target.hasAttribute||!e.target.hasAttribute("draggable")))return;e.preventDefault()}}},this.handleTopDragEndCapture=function(){r.clearCurrentDragSourceNode()&&r.actions.endDrag()},this.handleTopDragEnterCapture=function(e){if(r.dragEnterTargetIds=[],r.enterLeaveCounter.enter(e.target)&&!r.monitor.isDragging()){var t=_(e.dataTransfer);t&&r.beginDragNativeItem(t)}},this.handleTopDragEnter=function(e){var t=r.dragEnterTargetIds;(r.dragEnterTargetIds=[],r.monitor.isDragging())&&(r.altKeyPressed=e.altKey,s()||r.actions.hover(t,{clientOffset:p(e)}),t.some((function(e){return r.monitor.canDropOnTarget(e)}))&&(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())))},this.handleTopDragOverCapture=function(){r.dragOverTargetIds=[]},this.handleTopDragOver=function(e){var t=r.dragOverTargetIds;if(r.dragOverTargetIds=[],!r.monitor.isDragging())return e.preventDefault(),void(e.dataTransfer&&(e.dataTransfer.dropEffect="none"));r.altKeyPressed=e.altKey,r.actions.hover(t||[],{clientOffset:p(e)}),(t||[]).some((function(e){return r.monitor.canDropOnTarget(e)}))?(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect=r.getCurrentDropEffect())):r.isDraggingNativeItem()?e.preventDefault():(e.preventDefault(),e.dataTransfer&&(e.dataTransfer.dropEffect="none"))},this.handleTopDragLeaveCapture=function(e){r.isDraggingNativeItem()&&e.preventDefault(),r.enterLeaveCounter.leave(e.target)&&r.isDraggingNativeItem()&&r.endDragNativeItem()},this.handleTopDropCapture=function(e){r.dropTargetIds=[],e.preventDefault(),r.isDraggingNativeItem()&&r.currentNativeSource.mutateItemByReadingDataTransfer(e.dataTransfer),r.enterLeaveCounter.reset()},this.handleTopDrop=function(e){var t=r.dropTargetIds;r.dropTargetIds=[],r.actions.hover(t,{clientOffset:p(e)}),r.actions.drop({dropEffect:r.getCurrentDropEffect()}),r.isDraggingNativeItem()?r.endDragNativeItem():r.endDragIfSourceWasRemovedFromDOM()},this.handleSelectStart=function(e){var t=e.target;"function"==typeof t.dragDrop&&("INPUT"===t.tagName||"SELECT"===t.tagName||"TEXTAREA"===t.tagName||t.isContentEditable||(e.preventDefault(),t.dragDrop()))},this.options=new C(n),this.actions=t.getActions(),this.monitor=t.getMonitor(),this.registry=t.getRegistry(),this.enterLeaveCounter=new a(this.isNodeInDocument)}var t,n,i;return t=e,(n=[{key:"setup",value:function(){if(void 0!==this.window){if(this.window.__isReactDndBackendSetUp)throw new Error("Cannot have two HTML5 backends at the same time.");this.window.__isReactDndBackendSetUp=!0,this.addEventListeners(this.window)}}},{key:"teardown",value:function(){void 0!==this.window&&(this.window.__isReactDndBackendSetUp=!1,this.removeEventListeners(this.window),this.clearCurrentDragSourceNode(),this.asyncEndDragFrameId&&this.window.cancelAnimationFrame(this.asyncEndDragFrameId))}},{key:"connectDragPreview",value:function(e,t,n){var r=this;return this.sourcePreviewNodeOptions.set(e,n),this.sourcePreviewNodes.set(e,t),function(){r.sourcePreviewNodes.delete(e),r.sourcePreviewNodeOptions.delete(e)}}},{key:"connectDragSource",value:function(e,t,n){var r=this;this.sourceNodes.set(e,t),this.sourceNodeOptions.set(e,n);var i=function(t){return r.handleDragStart(t,e)},o=function(e){return r.handleSelectStart(e)};return t.setAttribute("draggable","true"),t.addEventListener("dragstart",i),t.addEventListener("selectstart",o),function(){r.sourceNodes.delete(e),r.sourceNodeOptions.delete(e),t.removeEventListener("dragstart",i),t.removeEventListener("selectstart",o),t.setAttribute("draggable","false")}}},{key:"connectDropTarget",value:function(e,t){var n=this,r=function(t){return n.handleDragEnter(t,e)},i=function(t){return n.handleDragOver(t,e)},o=function(t){return n.handleDrop(t,e)};return t.addEventListener("dragenter",r),t.addEventListener("dragover",i),t.addEventListener("drop",o),function(){t.removeEventListener("dragenter",r),t.removeEventListener("dragover",i),t.removeEventListener("drop",o)}}},{key:"addEventListeners",value:function(e){e.addEventListener&&(e.addEventListener("dragstart",this.handleTopDragStart),e.addEventListener("dragstart",this.handleTopDragStartCapture,!0),e.addEventListener("dragend",this.handleTopDragEndCapture,!0),e.addEventListener("dragenter",this.handleTopDragEnter),e.addEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.addEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.addEventListener("dragover",this.handleTopDragOver),e.addEventListener("dragover",this.handleTopDragOverCapture,!0),e.addEventListener("drop",this.handleTopDrop),e.addEventListener("drop",this.handleTopDropCapture,!0))}},{key:"removeEventListeners",value:function(e){e.removeEventListener&&(e.removeEventListener("dragstart",this.handleTopDragStart),e.removeEventListener("dragstart",this.handleTopDragStartCapture,!0),e.removeEventListener("dragend",this.handleTopDragEndCapture,!0),e.removeEventListener("dragenter",this.handleTopDragEnter),e.removeEventListener("dragenter",this.handleTopDragEnterCapture,!0),e.removeEventListener("dragleave",this.handleTopDragLeaveCapture,!0),e.removeEventListener("dragover",this.handleTopDragOver),e.removeEventListener("dragover",this.handleTopDragOverCapture,!0),e.removeEventListener("drop",this.handleTopDrop),e.removeEventListener("drop",this.handleTopDropCapture,!0))}},{key:"getCurrentSourceNodeOptions",value:function(){var e=this.monitor.getSourceId(),t=this.sourceNodeOptions.get(e);return S({dropEffect:this.altKeyPressed?"copy":"move"},t||{})}},{key:"getCurrentDropEffect",value:function(){return this.isDraggingNativeItem()?"copy":this.getCurrentSourceNodeOptions().dropEffect}},{key:"getCurrentSourcePreviewNodeOptions",value:function(){var e=this.monitor.getSourceId();return S({anchorX:.5,anchorY:.5,captureDraggingState:!1},this.sourcePreviewNodeOptions.get(e)||{})}},{key:"isDraggingNativeItem",value:function(){var e=this.monitor.getItemType();return Object.keys(r).some((function(t){return r[t]===e}))}},{key:"beginDragNativeItem",value:function(e){this.clearCurrentDragSourceNode(),this.currentNativeSource=function(e){return new j(k[e])}(e),this.currentNativeHandle=this.registry.addSource(e,this.currentNativeSource),this.actions.beginDrag([this.currentNativeHandle])}},{key:"setCurrentDragSourceNode",value:function(e){var t=this;this.clearCurrentDragSourceNode(),this.currentDragSourceNode=e,this.mouseMoveTimeoutTimer=setTimeout((function(){return t.window&&t.window.addEventListener("mousemove",t.endDragIfSourceWasRemovedFromDOM,!0)}),1e3)}},{key:"clearCurrentDragSourceNode",value:function(){return!!this.currentDragSourceNode&&(this.currentDragSourceNode=null,this.window&&(this.window.clearTimeout(this.mouseMoveTimeoutTimer||void 0),this.window.removeEventListener("mousemove",this.endDragIfSourceWasRemovedFromDOM,!0)),this.mouseMoveTimeoutTimer=null,!0)}},{key:"handleDragStart",value:function(e,t){e.defaultPrevented||(this.dragStartSourceIds||(this.dragStartSourceIds=[]),this.dragStartSourceIds.unshift(t))}},{key:"handleDragEnter",value:function(e,t){this.dragEnterTargetIds.unshift(t)}},{key:"handleDragOver",value:function(e,t){null===this.dragOverTargetIds&&(this.dragOverTargetIds=[]),this.dragOverTargetIds.unshift(t)}},{key:"handleDrop",value:function(e,t){this.dropTargetIds.unshift(t)}},{key:"window",get:function(){return this.options.window}},{key:"document",get:function(){return this.options.document}}])&&T(t.prototype,n),i&&T(t,i),e}();var N=function(e,t){return new P(e,t)},I=n("./node_modules/react/index.js"),A=n.n(I),D=n("./node_modules/react-dnd/dist/esm/index.js"),B=n("./app/scripts/views/internal/global-click-handler.js"),R=function(e){var t=e.children;return A.a.createElement(D.DndProvider,{backend:N},A.a.createElement("div",{className:"js-react-root",onClick:function(e){e.isDefaultPrevented()||B(e)}},t))}},"./app/scripts/views/internal/view-with-actions.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n("./app/scripts/db/model-loader.js"),a={limit:50,nextPage:1,shortLoad:!1,loading:!1,idModels:null,loadMoreActions(){var e=this;if(!this.loading)return this.loading=!0,this.waitForId(this.model,(function(){var t;return o.loadMoreActionData(e.model.typeName.toLowerCase(),e.model.id,e.nextPage,e.limit,e.idModels,null!=(t="function"==typeof e.getActionsFilter?e.getActionsFilter():void 0)?t:"all").finally((function(){return e.loading=!1})).then((function(t){return e.shortLoad=t.length<e.limit,e.renderActions(),++e.nextPage})).done()}))},hasMoreActions(){return!this.loading&&!this.shortLoad&&this.getActions().length>=this.limit},getActions(){var e,t,n=null!=(t="function"==typeof this.getFilteringModels?this.getFilteringModels():void 0)?t:[];return(e=this.model).getActions.apply(e,r(Array.from(n||[])))}};e.exports=a},"./app/scripts/views/internal/warn-if-file-too-large.js":function(e,t,n){var r=n("./app/scripts/views/lib/alerts.js"),i=n("./app/scripts/db/auth.js"),o=n("./node_modules/underscore/underscore.js"),a=function(e){var t=i.me().hasPremiumFeature("largeAttachments"),n=e.getOrganization(),o=(null==n?void 0:n.hasPremiumFeature("largeAttachments"))||!1,a=t||o?"file size exceeds 250mb":"file size exceeds 10mb";return r.show(a,"error","upload",5e3)};e.exports=function(e,t){o.isArray(t)||(t=[t]);for(var n=e.getOrganization(),r=0,s=Array.from(t);r<s.length;r++){var l=s[r];if(!i.me().canUploadAttachment(l,n))return a(e),!0}return!1}},"./app/scripts/views/invitation-link/display-invitation-link-view.js":function(e,t,n){var r=n("./packages/jquery/index.js"),i=n("./app/scripts/network/api-promise.js"),o=n("./packages/analytics/index.ts").trackUe,a=n("./packages/atlassian-analytics/index.ts").Analytics,s={_secretUrl(){return"".concat(this.model.url(),"/invitationSecret")},showInvitationLink(e){var t=this;return this.$(".js-show-invitation-link").addClass("hide"),this.$(".js-invitation-link-container").removeClass("hide"),i({method:"post",url:this._secretUrl()}).get("secret").then((function(e){var n=t.model.get("url").replace(new RegExp("(/b/[^/]+|/[^/]+$)(.*)$"),"/invite$1/".concat(e,"$2"));return t.$(".js-invitation-link").val(n).focus().select()})).then((function(){return o("board menu","opens","board invitation link","","","by clicking add members",{boardId:t.model.id}),a.sendClickedLinkEvent({linkName:"inviteToBoardCreateLink",source:"inviteToBoardInlineDialog",containers:{board:{id:t.model.id}}})})).done()},clickInvitationLink(e){return o("board menu","click","board invitation link","","","by clicking invitation link",{boardId:this.model.id}),a.sendClickedLinkEvent({linkName:"inviteToBoardLink",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id}}}),r(".js-invitation-link").select()},deactivateInvitationLink(e){return this.$(".js-show-invitation-link").removeClass("hide"),this.$(".js-invitation-link-container").addClass("hide"),this.$(".js-invitation-link").val(""),o("board menu","disables","board invitation link","","","by clicking add members",{boardId:this.model.id}),a.sendClickedLinkEvent({linkName:"inviteToBoardDisableLink",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id}}}),i({method:"delete",url:this._secretUrl()}).done()},copyInvitationLink(e){return r(".js-invitation-link").select(),o("board menu","copy","board invitation link","","","by clicking add members",{boardId:this.model.id}),a.sendClickedButtonEvent({buttonName:"inviteToBoardLinkCopyButton",source:"inviteToBoardInlineDialog",containers:{board:{id:this.model.id}}}),document.execCommand("copy"),clearTimeout(this.hideTimeout),r(".js-hide-on-copy").hide(),r(".js-show-on-copy").show(),this.hideTimeout=setTimeout((function(){return r(".js-hide-on-copy").show(),r(".js-show-on-copy").hide()}),2e3)}};e.exports=s},"./app/scripts/views/label/card-label-select-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/label/labels-view.js"),u=n("./app/scripts/views/lib/pop-over.js"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(f,e);var t,n,d,p,m=(t=f,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function f(){return r(this,f),m.apply(this,arguments)}return n=f,p=[{key:"initClass",value:function(){this.prototype.viewTitleKey="labels"}}],(d=[{key:"el",value:function(){return this.labelsView=this.subview(c,this.model,{board:this.model.getBoard(),selectLabel:this.toggleLabel.bind(this),renderOn:[{source:this.model.labelList,events:"add remove reset change"},{source:this.model,events:"change:labels, change:idLabels"}],popOverMethod:"pushView",searchInit:this.options.searchInit}),this.labelsView.render().el}},{key:"toggleLabel",value:function(e,t){this.model.toggleLabel(this.modelCache.get("Label",e)),this.options.hideOnSelect&&u.popView()}}])&&i(n.prototype,d),p&&i(n,p),f}(n("./app/scripts/views/internal/view.js"));d.initClass(),e.exports=d},"./app/scripts/views/label/label-create-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/models/label.js"),u=n("./app/scripts/views/label/label-edit-component.js"),d=n("./app/scripts/views/label/label-limits-error-view.js"),p=n("./app/scripts/views/lib/pop-over.js"),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(v,e);var t,n,m,f,h=(t=v,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function v(){return r(this,v),h.apply(this,arguments)}return n=v,f=[{key:"initClass",value:function(){this.prototype.viewTitleKey="create label"}}],(m=[{key:"el",value:function(){var e=this;if(this.options.board.isOverLimit("labels","perBoard"))return(new d).render().el;var t=this.options.color,n=this.options.name;return Array.from(c.colors).includes(n)&&(t=n,n=""),new u({model:{name:n},submitTextKey:"create",color:t,onSubmit:function(t,n){if(!e.options.board.isOverLimit("labels","perBoard"))return"function"==typeof e.options.onSubmit&&e.options.onSubmit(t,n),p.popView();p.pushView(new d)}}).render().el}}])&&i(n.prototype,m),f&&i(n,f),v}(n("./app/scripts/views/internal/view.js"));m.initClass(),e.exports=m},"./app/scripts/views/label/label-edit-component.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./app/scripts/models/label.js"),d=n("./app/scripts/lib/util/index.js"),p=n("./app/scripts/views/internal/view.js"),m=n("./node_modules/underscore/underscore.js"),f=n("./app/scripts/views/internal/templates.js"),h=n("./app/scripts/lib/localize.js"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(y,e);var t,p,v,g,b=(t=y,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function y(){return r(this,y),b.apply(this,arguments)}return p=y,g=[{key:"initClass",value:function(){this.prototype.tagName="form",this.prototype.className="edit-label",this.prototype.events={"click .js-palette-color":"pickColor","click .js-submit":"submit",submit:"submit"}}}],(v=[{key:"initialize",value:function(e){var t=e.accessoryView,n=e.color,r=e.onSubmit,i=e.submitTextKey;return this.accessoryView=t,this.color=n,this.onSubmit=r,this.submitTextKey=i,o(c(y.prototype),"initialize",this).apply(this,arguments)}},{key:"renderOnce",value:function(){var e,t=this,r=function(){for(var n=[],r=0,i=Array.from(u.colors);r<i.length;r++)e=i[r],n.push({color:e,selected:e===t.color});return n}(),i={label:{name:this.model.name},colors:r};return i.submitText=h(this.submitTextKey),i.noColor=null===this.color,this.$el.html(f.fill(n("./app/scripts/views/templates/label_edit_component.js"),i)),null!=this.accessoryView&&this.$(".js-accessory-view-holder").append(this.accessoryView.render().el),this}},{key:"pickColor",value:function(e){d.stop(e),this.$(".js-palette-select").hide();var t=this.$(e.target).closest(".js-palette-color");return this.color=t.attr("data-color"),t.find(".js-palette-select").show()}},{key:"submit",value:function(e){d.stop(e);var t=this.$(".js-label-name").val().trim();return m.isEmpty(t)&&m.isEmpty(this.color)?void 0:this.onSubmit(t,m.isEmpty(this.color)?null:this.color)}}])&&i(p.prototype,v),g&&i(p,g),y}(p);v.initClass(),e.exports=v},"./app/scripts/views/label/label-edit-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return function(){var t,n=d(e);if(u()){var r=d(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return c(this,t)}}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p,m,f=n("./app/scripts/views/lib/confirm.js"),h=n("./app/scripts/views/label/label-edit-component.js"),v=n("./app/scripts/views/lib/pop-over.js"),g=n("./app/scripts/lib/util/index.js"),b=n("./app/scripts/views/internal/view.js"),y=n("./packages/analytics/index.ts").track,k=n("./app/scripts/lib/localize.js"),w=n("./packages/atlassian-analytics/index.ts").Analytics,j=n("./packages/feature-flag-client/index.ts").featureFlagClient;e.exports=(m=void 0,(p=function(e){a(n,e);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}return o(n,[{key:"initialize",value:function(){return this.sendGASEvent=j.get("dataeng.gasv3-event-tracking",!1)}},{key:"el",value:function(){var e=this;return new h({model:this.model.toJSON(),submitTextKey:"save",onSubmit:function(t,n){return e.model.update({color:n,name:t}),"function"==typeof e.options.onSubmit&&e.options.onSubmit(),v.popView()},color:this.model.get("color"),accessoryView:new m({onClick:this.confirmDeleteLabel.bind(this)})}).render().el}},{key:"confirmDeleteLabel",value:function(){var e=this;return f.pushView("delete label",{model:this.model,confirmBtnClass:"nch-button nch-button--danger",popOnClick:!0,popDepth:2,fxConfirm:function(t){if(e.model.destroy(),"function"==typeof e.options.onSubmit&&e.options.onSubmit(),y("Label","Delete"),e.sendGASEvent)return w.sendTrackEvent({action:"deleted",actionSubject:"label",source:"labelEditScreen",containers:{board:{id:e.model.getBoard().id}}})}})}}],[{key:"initClass",value:function(){(m=function(e){a(n,e);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}return o(n,[{key:"attributes",value:function(){return{type:"submit",value:k("delete")}}}],[{key:"initClass",value:function(){this.prototype.tagName="input",this.prototype.className="nch-button nch-button--danger",this.prototype.events={click(e){return g.stop(e),this.options.onClick()}}}}]),n}(b)).initClass(),this.prototype.viewTitleKey="change label"}}]),n}(b)).initClass(),p=p)},"./app/scripts/views/label/label-key-helper.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var i,o=n("./packages/keybindings/index.ts").Key,a=n("./app/scripts/models/label.js"),s=n("./node_modules/underscore/underscore.js");e.exports=((i=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e)}var t,n,i;return t=e,i=[{key:"initClass",value:function(){this.keyboardIndex=[s.last(a.colors)].concat(s.initial(a.colors))}},{key:"keyNumberForColor",value:function(e){var t=this.keyboardIndex.indexOf(e);return t>=0?"".concat(t):null}},{key:"colorForKey",value:function(e){var t=e-o.Zero;return this.keyboardIndex[t]}},{key:"setLabelFromKey",value:function(e,t,n){var r=this.colorForKey(e),i=t.getBoard().labelsForColors()[r];1===(null!=i?i.length:void 0)?t.toggleLabelColor(r):"function"==typeof n&&n(r)}}],(n=null)&&r(t.prototype,n),i&&r(t,i),e}()).initClass(),i)},"./app/scripts/views/label/label-limits-error-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/internal/templates.js"),u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(f,e);var t,u,d,p,m=(t=f,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function f(){return r(this,f),m.apply(this,arguments)}return u=f,p=[{key:"initClass",value:function(){this.prototype.tagName="span",this.prototype.className="error"}}],(d=[{key:"renderOnce",value:function(){return this.$el.html(c.fill(n("./app/scripts/views/templates/label_limit_exceeded.js")))}}])&&i(u.prototype,d),p&&i(u,p),f}(n("./app/scripts/views/internal/view.js"));u.initClass(),e.exports=u},"./app/scripts/views/label/labels-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./packages/jquery/index.js"),d=n("./packages/action-history/index.ts").ActionHistory,p=n("./app/scripts/db/auth.js"),m=n("./app/scripts/models/card.js"),f=n("./packages/keybindings/index.ts"),h=f.getKey,v=f.Key,g=n("./app/scripts/models/label.js"),b=n("./app/scripts/views/label/label-create-view.js"),y=n("./app/scripts/views/label/label-edit-view.js"),k=n("./app/scripts/views/label/label-key-helper.js"),w=n("./app/scripts/views/lib/pop-over.js"),j=n("./app/scripts/lib/util/index.js"),_=n("./app/scripts/views/internal/view.js"),x=n("./node_modules/underscore/underscore.js"),C=n("./app/scripts/views/internal/templates.js"),O=n("./packages/analytics/index.ts"),S=O.track,E=O.trackDebounced,T=n("./app/scripts/lib/localize.js"),P=n("./packages/atlassian-analytics/index.ts").Analytics,N=void 0,I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(A,e);var t,f,_,O,I=(t=A,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function A(){return r(this,A),I.apply(this,arguments)}return f=A,O=[{key:"initClass",value:function(){N=12,this.prototype.labelsToShow=N,this.prototype.events={"click .js-select-label":"clickLabel","click .js-toggle-color-blind-mode":"toggleColorBlindMode","click .js-edit-label":"clickEditLabel","click .js-add-label":"clickAddLabel","click .js-show-more":"showMore","input .js-label-search":"renderLabels","keyup .js-label-search":"keyUp","mouseover .card-label":"hoverLabel"}}}],(_=[{key:"initialize",value:function(e){var t=e.selectLabel,n=e.board,r=e.modelCache,i=e.renderOn,a=e.popOverMethod,s=e.searchInit,l=e.onEditSubmit;this.selectLabel=t,this.board=n,this.modelCache=r,this.renderOn=i,this.popOverMethod=a,this.searchInit=s,this.onEditSubmit=l,this.makeDebouncedMethods("render","renderLabels"),this.listenTo(p.me(),{"change:prefs":this.renderDebounced}),this.listenTo(this.board.labelList,{"add remove reset change":this.renderLabelsDebounced});for(var u=0,d=Array.from(null!=this.renderOn?this.renderOn:[]);u<d.length;u++){var m=d[u];this.listenTo(m.source,m.events,this.renderLabelsDebounced)}return this._keepVisible={},o(c(A.prototype),"initialize",this).apply(this,arguments)}},{key:"render",value:function(){var e=this.board.labelColors(),t={editable:this.board.editable()},r={colors:e,isColorBlindEnabled:p.isLoggedIn()&&p.me().get("prefs").colorBlind,searchInit:null!=this.searchInit?this.searchInit:""};return this.searchInit=null,this.$el.html(C.fill(n("./app/scripts/views/templates/popover_change_labels.js"),r,t)),this.renderLabels()}},{key:"renderLabels",value:function(){var e=this,t=this._filteredLabels(),r=x.map(t,(function(t){return e.model.dataForLabel(t)})),i=function(t){return t.isActive||e._keepVisible[t.id]},o=function(){if(r.length>e.labelsToShow){var t=r.filter(i),n=e.labelsToShow-t.length;return x.chain(r).filter((function(e){return i(e)||n-- >0})).first(e.labelsToShow).value()}return r}();this.$(".js-show-more").toggleClass("hide",o.length===r.length);var a={labels:o},s={editable:this.board.editable()};this.$(".js-labels-list").empty().append(C.fill(n("./app/scripts/views/templates/select_labels.js"),a,s));var l=this._searchVal(),c=x.isEmpty(l)||t.length>0?T("create new label.unnamed"):T("create new label.named",{name:l},{raw:!0});this.$(".js-add-label").text(c),!x.isEmpty(l)&&t.length>0&&this.selectFirstLabelInList();var u=!this._searchVal()&&this.model instanceof m&&o.length<r.length?this.getSuggestedLabels():[];return this.$(".js-suggestions").toggleClass("hide",0===u.length),this.$(".js-suggested-labels-list").empty().append(C.fill(n("./app/scripts/views/templates/select_labels.js"),{labels:u},s)),u.length>0&&E.hour("Suggestions","Card Labels Menu","Displayed",u.length),this}},{key:"getSuggestedLabels",value:function(){var e=this,t=d.get(),n=this.model.getBoard(),r=this.model.get("idList"),i=new Set;return t.filter((function(e){var t=e.action,n=e.context;return"add-label"===t.type&&n.idList===r})).filter((function(e){var t=e.action;return!i.has(t.idLabel)&&(i.add(t.idLabel),!0)})).filter((function(t){var n=t.action;return e.model.isValidSuggestion(n)})).map((function(t){var r=t.action,i=n.labelList.get(r.idLabel);return e.model.dataForLabel(i)})).slice(0,5)}},{key:"highlightElement",value:function(e){return j.selectMenuItem(this.$(".js-labels-list,.js-suggested-labels-list"),".card-label",e)}},{key:"getHighlightedElement",value:function(){return this.$(".js-labels-list,.js-suggested-labels-list").find(".card-label.selected").first()}},{key:"selectFirstLabelInList",value:function(e){this.highlightElement(this.$(".js-labels-list,.js-suggested-labels-list").find(".card-label").first())}},{key:"toggleColorBlindMode",value:function(e){var t=p.me();t.toggleColorBlindMode(),S(this.model.typeName,"Labels Menu","Toggle Color Blind Friendly Mode."),P.sendTrackEvent({action:"toggled",actionSubject:"colorBlindFriendlyMode",source:"cardLabelsScreen",containers:{card:{id:this.model.id}},attributes:{value:t.get("prefs").colorBlind}})}},{key:"clickEditLabel",value:function(e){j.stop(e);var t=u(e.target).closest(".js-edit-label").attr("data-idLabel");return this.editLabel(t)}},{key:"selectLabelViaElem",value:function(e){var t=e.attr("data-idLabel"),n=e.closest(".js-suggestions").length>0;return this._keepVisible[t]=!0,this.selectLabel(t,n)}},{key:"clickLabel",value:function(e){j.stop(e);var t=u(e.target).closest(".js-select-label");return this.selectLabelViaElem(t)}},{key:"findElementForLabel",value:function(e){return this.$(".js-edit-label").filter((function(t,n){return u(n).attr("data-idLabel")===e}))}},{key:"editLabel",value:function(e){var t=this.findElementForLabel(e),n=this.modelCache.get("Label",e);return w[this.popOverMethod]({elem:t,view:y,options:{model:n,board:this.board,modelCache:this.modelCache,onSubmit:this.onEditSubmit}})}},{key:"clickAddLabel",value:function(e){var t=this;j.stop(e);var n=this._searchVal();w[this.popOverMethod]({elem:this.$(".js-add-label"),view:b,options:{board:this.board,name:n,color:this._nextColor(),onSubmit:function(e,n){return t.model.createLabel(e,n),t.clearSearch()}}})}},{key:"showMore",value:function(){return this.labelsToShow+=N,this.renderLabels()}},{key:"hoverLabel",value:function(e){this.highlightElement(u(e.target).closest(".card-label"))}},{key:"keyUp",value:function(e){var t=h(e);if([v.ArrowUp,v.ArrowDown].includes(t))return j.stop(e),void j.navMenuList(this.$(".js-labels-list,.js-suggested-labels-list"),".card-label",t);if(t===v.Enter){if(!(this._filteredLabels().length>0))return this.clickAddLabel();var n=this.getHighlightedElement();return n.length>0&&(this.selectLabelViaElem(n),this.clearSearch()),S(this.model.typeName,"Labels Menu","Add By Filter"),this.sendGASEevent?P.sendTrackEvent({action:"added",actionSubject:"label",source:"cardLabelFilter",containers:{card:{id:this.model.id}}}):void 0}}},{key:"clearSearch",value:function(){return this.$(".js-label-search").val(""),this.renderLabels()}},{key:"_nextColor",value:function(){var e,t=x.chain(this.board.getLabels()).map((function(e){return e.get("color")})).uniq().value();return null!=(e=x.difference(g.colors,t)[0])?e:""}},{key:"_searchVal",value:function(){var e=this.$(".js-label-search").val();return e?e.trim():""}},{key:"_filteredLabels",value:function(){var e=this._searchVal().toLowerCase(),t=x.chain(this.board.getLabels()).filter((function(t){return!!x.isEmpty(e)||t.has("name")&&t.get("name").toLowerCase().indexOf(e)>-1||t.has("color")&&0===t.get("color").toLowerCase().indexOf(e)})).value(),n=this.board.getLabels().filter((function(n){return n.has("color")&&n.get("color")===k.keyboardIndex[parseInt(e,10)]&&0===t.filter((function(e){return 0===g.compare(n,e)})).length}));return t.concat(n)}}])&&i(f.prototype,_),O&&i(f,O),A}(_);I.initClass(),e.exports=I},"./app/scripts/views/lib/confirm.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./app/scripts/views/lib/pop-over.js"),d=n("./app/scripts/lib/util/index.js"),p=n("./app/scripts/views/internal/view.js"),m=n("./node_modules/underscore/underscore.js"),f=n("./app/scripts/views/internal/templates.js"),h=n("./app/scripts/lib/localize.js"),v=void 0,g=void 0,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(p,e);var t,i=(t=p,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function p(e){var t,o=e.model,a=e.text,s=e.html,l=e.elem,c=e.top,u=e.confirmText,d=e.confirmBtnClass,f=e.confirmBtnTestId,h=e.cancelText,v=e.title,g=e.template,b=e.templateData,y=e.data,k=e.fxConfirm,w=e.fxCancel,j=e.popOnClick,_=e.popDepth,x=e.maxWidth;return r(this,p),(t=i.apply(this,arguments)).model=o,t.elem=l,t.top=c,t.title=v,t.template=g,t.templateData=b,t.popOnClick=j,t.popDepth=_,null==t.template&&(t.template=n("./app/scripts/views/templates/confirm.js")),null==f&&(f=""),t.confirm=t._handleClick(k),t.cancel=w?t._handleClick(w):function(){},t.data=m.extend({text:a,html:s,confirmText:u,confirmBtnClass:d,confirmBtnTestId:f,cancelText:h},null!=y?y:{}),null==t.templateData&&(t.templateData={}),t.maxWidth=x,t.delegateEvents(t._events),t}return o(p,null,[{key:"initClass",value:function(){v=function(e,t){for(var n=m.clone(e),r=0,i=Object.keys(t||{});r<i.length;r++){var o=i[r],a=t[o];o in n||(n[o]=a())}return n},g=function(e,t){var n=v(t,{title:()=>h(["confirm",e,"title"],t.templateData),html:()=>h(["confirm",e,"text"],t.templateData),confirmText:()=>h(["confirm",e,"confirm"],t.templateData)});return"fxCancel"in n&&!("cancelText"in n)&&(n.cancelText=h(["confirm",e,"cancel"],t.templateData)),n},this.prototype._events={"click .js-confirm":"confirm","click .js-cancel":"cancel"}}}]),o(p,[{key:"getViewTitle",value:function(){return this.title}},{key:"render",value:function(){var e=this;return this.$el.html(f.fill(this.template,this.data,{},{member:f.member})),setTimeout((function(t){return e.$el.find(".js-confirm").focus(),0})),this}},{key:"_handleClick",value:function(e){var t=this;return function(n){return d.stop(n),t.popOnClick?u.popView(t.popDepth):u.hide(),"function"==typeof e&&e(n),t.remove(),!1}}}],[{key:"toggle",value:function(e,t){return t=1===arguments.length?e:g(e,t),u.toggle({elem:t.elem,top:t.top,alignRight:t.alignRight,view:this,options:t})}},{key:"pushView",value:function(e,t){return t=1===arguments.length?e:g(e,t),u.pushView({view:this,options:t})}}]),p}(p);b.initClass(),e.exports=b},"./app/scripts/views/lib/drag-sort.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var o,a=n("./packages/jquery/index.js"),s=n("./packages/browser/index.ts"),l=n("./app/scripts/controller/index.js"),c=n("./app/scripts/views/lib/pop-over.js"),u=n("./app/scripts/views/lib/post-render.js"),d=n("./app/scripts/view-models/sidebar-state.js"),p=n("./app/scripts/lib/util/index.js"),m=n("./node_modules/underscore/underscore.js"),f=n("./packages/atlassian-analytics/index.ts").Analytics,h=function(e,t,n){var r=e.top,i=e.left;return{top:r+n,bottom:e.bottom-n,left:i+t,right:e.right-t}},v=function(e){return{x:e.pageX,y:e.pageY}},g=function(e,t){return function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return function(){for(var e=0,n=Array.from(t);e<n.length;e++){var r=n[e];null!=r&&r.apply(this,arguments)}}}(t,e)},b=function(){function e(t){var n=t.scrollBoard,r=t.scrollLists,i=t.scrollCard,o=t.commitEvent,a=t.cancelMethod;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.scrollBoard=n,this.scrollLists=r,this.scrollCard=i,this.commitEvent=o,this.cancelMethod=a,this._queue=[]}return i(e,null,[{key:"initClass",value:function(){this.prototype.hasMousedLeft=!1,this.prototype.hasMousedRight=!1,this.prototype.stopped=!1,this.prototype.aborted=!1}}]),i(e,[{key:"start",value:function(e,t){this.$helper=t.helper,this.$target=a(e.target),this.initialMousePosition=v(e),this.lockModelCache(),d.hideSidebar(),this.startTrackingMouse(),this.hidePopoversForSomeReason(),this.boardElement=a("#board")[0],this.boardCanvasElement=a(".board-canvas")[0],this.windowOverlayElement=a(".window-overlay")[0],this.cachedHoveredList=this.getHoveredListForPoint(this.initialMousePosition),(this.scrollLists||this.scrollBoard||this.scrollCard)&&this.startAutoscrolling(),o.sorting=!0,this.onStop((function(){return m.defer((function(){return o.sorting=!1}))}))}},{key:"lockModelCache",value:function(){var e=l.getCurrentModelCache();if(null==e)throw new Error("Attempt to use DragInfo on a page with no modelCache!");var t=e.lock("DragSort.startSort");return this.onStop((function(){return e.unlock(t)}))}},{key:"hidePopoversForSomeReason",value:function(){0===this.$target.closest(".pop-over").length&&c.hide()}},{key:"startAutoscrolling",value:function(){var e=Math.floor(1e3/60),t=setInterval(this.autoscroll.bind(this),e);return this.onStop((function(){return clearInterval(t)}))}},{key:"getHoveredListForPoint",value:function(e){for(var t=0,n=Array.from(a(".js-list"));t<n.length;t++){var r=n[t];if(i=e,o=r.getBoundingClientRect(),s=void 0,l=void 0,c=void 0,s=i.x,l=o.left,c=o.right,l<=s&&s<c)return a(r).find(".list-cards")[0]}var i,o,s,l,c;return null}},{key:"startTrackingMouse",value:function(){var e=this,t=m.throttle((function(t){if(!e.stopped)return e.cachedHoveredList=e.getHoveredListForPoint(t)}),100);return a(document).on("mousemove.dragsort",(function(n){var r=v(n);r.x<e.initialMousePosition.x-20&&(e.hasMousedLeft=!0),r.x>e.initialMousePosition.x+20&&(e.hasMousedRight=!0),t(r)})),this.onStop((function(){return a(document).off("mousemove.dragsort")}))}},{key:"onStop",value:function(e){return this._queue.push(e)}},{key:"stop",value:function(e,t){this.stopped=!0;for(var n=0,r=Array.from(this._queue);n<r.length;n++){r[n].call(this)}delete this._queue,this.aborted||this.$target.trigger(this.commitEvent,t)}},{key:"scrollDeltaForOverhang",value:function(e){return.1*e}},{key:"autoscrollBoard",value:function(){var e=this.$helper[0].getBoundingClientRect(),t=e.left,n=e.right,r=h(this.boardCanvasElement.getBoundingClientRect(),100,0),i=r.left-t;i>0&&this.hasMousedLeft&&(this.boardElement.scrollLeft-=this.scrollDeltaForOverhang(i));var o=n-r.right;o>0&&this.hasMousedRight&&(this.boardElement.scrollLeft+=this.scrollDeltaForOverhang(o))}},{key:"autoscrollLists",value:function(){var e=this.$helper[0].getBoundingClientRect(),t=e.top,n=e.bottom,r=h(this.cachedHoveredList.getBoundingClientRect(),0,50),i=r.top-t;i>0&&(this.cachedHoveredList.scrollTop-=this.scrollDeltaForOverhang(i));var o=n-r.bottom;o>0&&(this.cachedHoveredList.scrollTop+=this.scrollDeltaForOverhang(o))}},{key:"autoscrollCard",value:function(){var e=this.$helper[0].getBoundingClientRect().bottom,t=this.$helper[0].getBoundingClientRect().top;e-t>64&&(e=t+64);var n=h(this.windowOverlayElement.getBoundingClientRect(),0,100),r=n.top-t;r>0&&(this.windowOverlayElement.scrollTop-=this.scrollDeltaForOverhang(r));var i=e-n.bottom;i>0&&(this.windowOverlayElement.scrollTop+=this.scrollDeltaForOverhang(i))}},{key:"autoscroll",value:function(){this.scrollBoard&&this.autoscrollBoard(),this.scrollLists&&null!=this.cachedHoveredList&&this.autoscrollLists(),this.scrollCard&&this.autoscrollCard()}},{key:"abort",value:function(){var e;return this.aborted=!0,null!=(e=a.ui.ddmanager.current)&&(e.currentContainer=e),this.$target[this.cancelMethod]("cancel")}}]),e}();b.initClass();var y=null,k=function(e,t){return t=m.defaults({},t,{distance:7,scroll:!1}),e.scrollLists&&(t.custom={refreshContainers(){var e=this;this.containers=function(){for(var t=[],n=0,r=Array.from(e.containers);n<r.length;n++){var i=r[n];if(a.contains(document,i.element[0])){for(var o=i.element.closest(".js-list")[0].getBoundingClientRect(),s=0,l=["left","top","width","height"];s<l.length;s++){var c=l[s];i.containerCache[c]=o[c]}t.push(i)}}return t}()}}),t.start=g(t.start,(function(t,n){if(null!=y)throw new Error("Attempt to start a drag event while another is in progress!");(y=new b(e)).start(t,n)})),t.stop=g(t.stop,(function(e,t){p.stopPropagation(e),y.stop(e,t),y=null})),t},w=function(e){return{width:e.outerWidth(),height:e.outerHeight()}},j=function(e,t,n){if(!s.isTouch()){var r=null,i=!("helper"in n)||"original"===n.helper;n.start=g(n.start,(function(e,o){i&&"appendTo"in n&&(o.helper.appendTo(n.appendTo),r.sortable("refreshPositions",!0));var a=(null!=t.calcSize?t.calcSize:w)(o.item),s=a.width,l=a.height;o.placeholder.width(s),o.placeholder.height(l)})),t=m.extend({commitEvent:"sortcommit",cancelMethod:"sortable"},t),n=k(t,n),u.enqueue((function(){return t=function(){(r=a(e)).sortable(n)},void(y?y.onStop(t):t());var t}))}},_=function(e,t,n){s.isTouch()||(t=m.extend({commitEvent:"dragcommit",cancelMethod:"draggable"},t),n=k(t,n),u.enqueue((function(){return a(e).draggable(n)})))};e.exports=o={refreshListSortable:()=>j(".js-list-sortable",{scrollBoard:!0,scrollLists:!1,calcSize(e){var t=e.children(".list");return{width:t.outerWidth(),height:t.outerHeight()}}},{handle:".list-header",tolerance:"pointer",placeholder:"list-wrapper placeholder",items:".js-list",appendTo:"#trello-root"}),refreshCalendarCardSortable:()=>j(".js-calendar-sortable",{scrollBoard:!1,scrollLists:!1},{connectWith:".js-calendar-sortable",placeholder:"list-card placeholder-none",items:".list-card:not(.placeholder-none, .hide, .js-composer), .js-draggable-calendar-check-item",helper:"clone",appendTo:"#trello-root",over:(e,t)=>a(e.target).closest(".calendar-day").addClass("drop"),out:(e,t)=>a(e.target).closest(".calendar-day").removeClass("drop")}),refreshListCardSortable:()=>j(".js-sortable",{scrollBoard:!0,scrollLists:!0},{connectWith:".js-sortable:not(.card-limits-full)",placeholder:"list-card placeholder",items:".list-card:not(.placeholder, .hide, .js-composer)",appendTo:"#trello-root"}),refreshDraggableSidebarMembers:()=>_(".js-list-draggable-board-members .member:not(.js-member-deactivated)",{scrollBoard:!0,scrollLists:!0},{revert:"invalid",revertDuration:150,appendTo:"#trello-root",zIndex:100,helper:"clone",start(e,t){f.sendUIEvent({action:"dragged",actionSubject:"member",source:"boardScreen",containers:{board:{id:l.getCurrentBoardView().model.id}}}),a(".list-card.active-card").removeClass("active-card")}}),refreshDraggableStickers:()=>_(".js-draggable-sticker:not(.disabled)",{scrollBoard:!0,scrollLists:!0},{revert:"invalid",revertDuration:150,appendTo:"#trello-root",zIndex:100,helper:"clone",start(e,t){f.sendUIEvent({action:"dragged",actionSubject:"sticker",source:"boardScreen",containers:{board:{id:l.getCurrentBoardView().model.id}}});var n=20*Math.random()-10;t.helper.find(".sticker-select-fixed").css({transform:"rotate(".concat(n,"deg)"),"-webkit-transform":"rotate(".concat(n,"deg)")})}}),refreshCardSortable:(e,t)=>j(e,{scrollCard:!0},t),abort(){if(null==y)throw new Error("Abort called while not dragging!");return y.abort()},refreshIfInitialized(e){if(null!=e?e.hasClass("ui-sortable"):void 0)return e.sortable("refresh")}}},"./app/scripts/views/lib/limit-error-popover.js":function(e,t,n){var r=n("./app/scripts/views/lib/confirm.js"),i=n("./app/scripts/views/lib/pop-over.js"),o=n("./app/scripts/lib/localize.js"),a=n("./packages/atlassian-analytics/index.ts"),s=a.Analytics,l=a.getScreenFromUrl;e.exports=function(e){var t=e.trackingArea,n=e.elem,a=e.message,c=e.params,u=c.boardId,d=c.orgId;return s.sendTrackEvent({action:"exceeded",actionSubject:t,source:l(),attributes:{message:a},containers:{board:{id:u},organization:{id:d}}}),r.toggle(a,{elem:n,html:o("confirm.".concat(a,".text"),c),fxConfirm:function(){return i.hide()}})}},"./app/scripts/views/lib/markdown-transform.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"applyMarkdownShortcuts",(function(){return f}));var r=n("./packages/feature-flag-client/index.ts");function i(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return o(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return o(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var a=function(e,t){""===e?document.execCommand("delete",!1)||t.setRangeText(e):document.execCommand("insertText",!1,e)||t.setRangeText(e)},s=function(e,t,n){return Math.min(Math.max(e,t),n)},l=function(e,t,n,r){var i,o;n||(n=t);var l=m(e);if(""===l.selection){var c=new RegExp("("+t.test.source+")$"),u=new RegExp("^("+n.test.source+")"),d=l.text.substring(0,l.selectionStart).match(c),f=l.text.substring(l.selectionEnd).match(u);if(!d&&f){var h=l.selectionEnd+f[0].length;return void e.setSelectionRange(h,h)}}var v=new RegExp("^("+t.test.source+")"),g=new RegExp("("+n.test.source+")$");p(e,l,r);var b=m(e),y=b.selection.match(v),k=b.selection.match(g),w=(null===(i=b.selection.match(v))||void 0===i?void 0:i[0].length)||0,j=(null===(o=b.selection.match(g))||void 0===o?void 0:o[0].length)||0;if(y&&k&&b.selectionEnd-j!==b.selectionStart&&b.selectionStart+w!==b.selectionEnd){e.setSelectionRange(b.selectionStart,b.selectionEnd),a(b.selection.substring(w,b.selection.length-j),e);var _=b.selection.length-j-w,x=b.selectionStart,C=b.selectionStart+_;""===l.selection?e.setSelectionRange(s(l.selectionStart-w,x,C),s(l.selectionEnd-w,x,C)):e.setSelectionRange(b.selectionStart,b.selectionEnd-w-j)}else e.setSelectionRange(b.selectionStart,b.selectionEnd),a("".concat(t.insert).concat(b.selection).concat(n.insert),e),""===b.selection?e.setSelectionRange(b.selectionStart+t.insert.length,b.selectionStart+t.insert.length):""===l.selection?e.setSelectionRange(l.selectionStart+t.insert.length,l.selectionStart+t.insert.length):e.setSelectionRange(b.selectionStart,b.selectionEnd+t.insert.length+n.insert.length)},c=function(e,t){var n=m(t);n.selection.endsWith("\n")&&t.setSelectionRange(n.selectionStart,n.selectionEnd-1);var r=m(t),i=r.selection,o=r.selectionStart,s=r.selectionEnd,l=r.text,c=function(t){var n;return null===(n=t.match(e.test))||void 0===n?void 0:n[0]},u=l.lastIndexOf("\n",o-1),d=l.indexOf("\n",s),p=-1!==u?u+1:0,f=-1!==d?d:l.length,h=l.substring(p,f),v=h.split("\n");if(""!==i||0!==o&&"\n"!==l.charAt(o-1))if(v.every((function(e){return""===e.trim()||void 0!==c(e)}))){var g=v.map((function(e){var t=c(e);return t?e.substring(t.length):e})).join("\n"),b=g.length-h.length;t.setSelectionRange(p,f),a(g,t),t.setSelectionRange(p,f+b)}else{var y=0,k=v.map((function(t){var n;if(""===t.trim())return t;var r=null===(n=t.match(e.test))||void 0===n?void 0:n[0];r&&(t=t.substring(r.length));var i=e.insert(y);return y++,"".concat(i).concat(t)})).join("\n"),w=k.length-h.length;t.setSelectionRange(p,f),a(k,t),t.setSelectionRange(p,f+w)}else{var j=e.insert(0);a(j,t),t.setSelectionRange(o+j.length,o+j.length)}},u=/[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-zA-Z0-9()]{1,6}\b([-a-zA-Z0-9()@:%_+.~#?&//=]*)/,d={"ctrl b":function(e){l(e,{test:/\*\*/,insert:"**"})},"ctrl i":function(e){l(e,{test:/_/,insert:"_"})},"ctrl k":function(e){var t=m(e);p(e,t,!0),t=m(e),u.test(t.selection)?l(e,{test:/\[\]\(/,insert:"[]("},{test:/\)/,insert:")"},!0):l(e,{test:/\[/,insert:"["},{test:/\]\(\S*\)/,insert:"]()"},!0)},"ctrl l":function(e){var t=m(e);p(e,t,!0),t=m(e),u.test(t.selection)?l(e,{test:/!\[\]\(/,insert:"![]("},{test:/\)/,insert:")"},!0):l(e,{test:/!\[/,insert:"!["},{test:/\]\(\S*\)/,insert:"]()"},!0)},"ctrl shift s":function(e){l(e,{test:/~~/,insert:"~~"})},"ctrl shift m":function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=m(e),r=!t&&n.selection.trim().includes("\n")&&(("`"!==n.selection.charAt(0)||n.selection.startsWith("```"))&&"`"!==n.selection.charAt(n.selection.length-1)||n.selection.endsWith("```")||"``"===n.selection);r?l(e,{test:/```\n/,insert:"```\n"},{test:/\n```/,insert:"\n```"}):l(e,{test:/`/,insert:"`"})},"ctrl 1":function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!t&&c({test:/^#/,insert:function(){return"#"}},e)},"ctrl 2":function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!t&&c({test:/^##/,insert:function(){return"##"}},e)},"ctrl 3":function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!t&&c({test:/^###/,insert:function(){return"###"}},e)},"ctrl shift 8":function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!t&&c({test:/^[-*+] /,insert:function(){return"- "}},e)},"ctrl shift 7":function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];!t&&c({test:/^[0-9]+. /,insert:function(e){return"".concat(e+1,". ")}},e)}},p=function(e,t,n){var r=n?/[^\s]+/:/[^\s\\/!?.,;|<>{}\-+=&'"]+/;if(!r.test(t.selection)){for(var i=t.selectionStart,o=t.selectionEnd;i>0&&r.test(t.text.charAt(i-1));)i--;for(;o<t.text.length&&r.test(t.text.charAt(o));)o++;e.setSelectionRange(i,o)}},m=function(e){var t=e.selectionStart||0,n=e.selectionEnd||0,r=e.value,i="string"==typeof r?r:"";return{text:i,selection:i.substring(t,n),selectionStart:t,selectionEnd:n}},f=function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(r.featureFlagClient.get("remarkable.markdown-hotkeys",!1)){var n=e.ctrlKey||e.metaKey?"ctrl ":"",o=e.shiftKey?"shift ":"",a=e.key.toLowerCase(),s="".concat(n).concat(o).concat(a),l=Object.entries(d).find((function(e){return i(e,1)[0]===s}));if(l){var c=i(l,2),u=c[1];if(e.preventDefault(),null===e.target)return;u(e.target,t)}}}},"./app/scripts/views/lib/tooltip.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}var o,a,s=n("./packages/jquery/index.js"),l=n("./app/scripts/views/internal/templates.js");e.exports=o=new((a=function(){function e(){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.tooltip=null}return i(e,null,[{key:"initClass",value:function(){this.prototype.STYLE={DEFAULT:"default",MENU:"menu",BILLING:"billing"},this.prototype.TOOLTIP_CONTAINER="tooltip-container",this.prototype.DEFAULT_OPTIONS={addVerticalOffset:0}}}]),i(e,[{key:"show",value:function(e,t,r,i,o){if(null==r&&(r=!0),null==i&&(i=this.STYLE.DEFAULT),null==o&&(o=this.DEFAULT_OPTIONS),s(window).on("click",t[0],this.windowClick),clearTimeout(this.emptyTimer),"function"==typeof e.renderOnce&&(e=e.renderOnce().$el.html()),(null!=this.tooltip?this.tooltip.tooltipHtml:void 0)!==e||(null!=this.tooltip?this.tooltip.$anchor[0]:void 0)!==t[0]){var a=s(l.fill(n("./app/scripts/views/templates/tooltip_content.js"),{tooltipHtml:e,closeable:r,style:i})),c=s(".".concat(this.TOOLTIP_CONTAINER)).attr("class",this.TOOLTIP_CONTAINER);i!==this.STYLE.DEFAULT&&c.addClass("tooltip-".concat(i)),c.html(a),this.tooltip={tooltipHtml:e,$anchor:t,$elem:a};var u=t.offset(),d=u.left,p=u.top,m=t.outerHeight(),f=window.innerWidth-c.outerWidth();return c.css({left:Math.min(Math.max(d-5,5),f),top:Math.max(p+m+o.addVerticalOffset,5)}),a.addClass("active")}}},{key:"windowClick",value:function(e){var t=s(e.target);if(e.target!==e.data&&0===t.closest(".js-tooltip-content").length||0!==t.closest(".js-tooltip-close-button").length)return o.hide()}},{key:"hide",value:function(){this.tooltip=null;var e=s(".".concat(this.TOOLTIP_CONTAINER));return e.find(".tooltip-content").removeClass("active"),this.emptyTimer=setTimeout((function(){return e.empty()}),300),s(window).off("click",this.windowClick)}}]),e}()).initClass(),a)},"./app/scripts/views/list/inline-list-composer-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./packages/jquery/index.js"),d=n("./app/scripts/views/lib/alerts.js"),p=n("./app/scripts/views/lib/pop-over.js"),m=n("./app/scripts/lib/util/index.js"),f=n("./app/scripts/views/internal/view.js"),h=n("./app/scripts/views/templates/list_add.js"),v=n("./packages/analytics/index.ts").track,g=n("./packages/atlassian-analytics/index.ts").Analytics,b=n("./packages/feature-flag-client/index.ts").featureFlagClient,y=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(w,e);var t,n,f,y,k=(t=w,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function w(){return r(this,w),k.apply(this,arguments)}return n=w,(f=[{key:"className",value:function(){return"js-add-list list-wrapper mod-add is-idle"}},{key:"events",value:function(){return{"click .js-open-add-list":"setOpen","click .js-cancel-edit":"setClose",submit:"addList"}}},{key:"initialize",value:function(){this.sendGASEvent=b.get("dataeng.gasv3-event-tracking",!1),this.listenTo(this.model.viewState,"change:listComposerOpen",this.frameDebounce(this.renderListComposer)),this.listenTo(this.model,"change:limits",this.render),this.listenTo(this.model.listList,"add remove",this.render),this.handleClickOutside=this.handleClickOutside.bind(this),u(document).on("click",this.handleClickOutside)}},{key:"remove",value:function(){return u(document).off("click",this.handleClickOutside),o(c(w.prototype),"remove",this).apply(this,arguments)}},{key:"handleClickOutside",value:function(e){if(this.model.viewState.get("listComposerOpen"))return 0===u(e.target).closest(".js-add-list").length?this.setClose(e):void 0}},{key:"render",value:function(){var e=0===this.model.listList.length;return this.$el.html(h({tooManyTotalLists:this.model.isOverLimit("lists","totalPerBoard"),tooManyOpenLists:this.model.isOverLimit("lists","openPerBoard"),isFirstList:e})),this.renderListComposer(),this.model.editable()&&this.$el.removeClass("fade hide"),this}},{key:"setOpen",value:function(e){var t,n,r;this.sendGASEvent&&g.sendClickedButtonEvent({buttonName:"addAnotherListButton",source:"boardScreen",containers:{board:{id:null===(t=this.model)||void 0===t?void 0:t.id},organization:{id:null===(n=this.model)||void 0===n||null===(r=n.getOrganization())||void 0===r?void 0:r.id}}}),this.$(".js-open-add-list").attr("tabindex","-1"),m.stop(e),this.model.viewState.set("listComposerOpen",!0)}},{key:"setClose",value:function(e){this.$(".js-open-add-list").removeAttr("tabindex"),m.stop(e),this.model.viewState.set("listComposerOpen",!1)}},{key:"renderListComposer",value:function(){return!this.model.viewState.get("listComposerOpen")||this.model.isOverLimit("lists","totalPerBoard")||this.model.isOverLimit("lists","openPerBoard")?this.renderClose():(this.sendGASEvent&&g.sendScreenEvent({name:"inlineListComposerInlineDialog",containers:{board:{id:null===(e=this.model)||void 0===e?void 0:e.id},organization:{id:null===(t=this.model)||void 0===t||null===(n=t.getOrganization())||void 0===n?void 0:n.id}}}),this.renderOpen());var e,t,n}},{key:"renderOpen",value:function(e){var t=this;m.stop(e),this.$el.removeClass("is-idle"),this.defer((function(){return t.$(".list-name-input").blur().focus().select()})),p.hide()}},{key:"renderClose",value:function(e){m.stop(e),this.$el.addClass("is-idle")}},{key:"createList",value:function(e){var t=this;return new Promise((function(n,r){var i=t.model.listList.create(e,{success:function(e){var r,i,o;if(v("Board View","Add List - via Inline List Composer"),t.sendGASEvent)return g.sendTrackEvent({action:"created",actionSubject:"list",source:"inlineListComposerInlineDialog",containers:{board:{id:null===(r=t.model)||void 0===r?void 0:r.id},organization:{id:null===(i=t.model)||void 0===i||null===(o=i.getOrganization())||void 0===o?void 0:o.id}}});n()},error:function(){return t.model.listList.remove(i),r()}})}))}},{key:"addList",value:function(e){var t=this;m.stop(e);var n=this.$(".list-name-input"),r=this.model.listList.length+1,i=n.val().trim();""!==i?this.createList({name:i,pos:this.model.calcPos(r),closed:!1}).then((function(){return n.val(""),t.renderOpen(),t})).catch((function(){return d.flash("could not connect","error")})):n.focus().select()}}])&&i(n.prototype,f),y&&i(n,y),w}(f);e.exports=y},"./app/scripts/views/list/list-bulk-move-cards-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./app/scripts/views/card/card-limits-error.js").maybeDisplayLimitsErrorOnCardAdd,d=n("./app/scripts/views/lib/pop-over.js"),p=n("./app/scripts/views/internal/view.js"),m=n("./node_modules/underscore/underscore.js"),f=n("./app/scripts/views/internal/templates.js"),h=n("./packages/analytics/index.ts").track,v=n("./packages/atlassian-analytics/index.ts").Analytics,g=n("./packages/feature-flag-client/index.ts").featureFlagClient,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(j,e);var t,p,b,k,w=(t=j,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function j(){return r(this,j),w.apply(this,arguments)}return p=j,k=[{key:"initClass",value:function(){this.prototype.viewTitleKey="move all cards in list",this.prototype.events={"click .js-select-list":"selectList"}}}],(b=[{key:"initialize",value:function(){if(this.sendGASEvent=g.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent)return v.sendScreenEvent({name:"moveAllCardsInListInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:y(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:y(y(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}})}},{key:"render",value:function(){var e=this.model.toJSON();e.lists=[];for(var t=this.model.getBoard().listList.models,r=0,i=Array.from(t);r<i.length;r++){var o=i[r],a=m.clone(o.toJSON());a.id===this.model.id&&(a.current=!0),e.lists.push(a)}return this.$el.html(f.fill(n("./app/scripts/views/templates/list_bulk_card_move.js"),e)),this}},{key:"selectList",value:function(e){var t=c(e.target).closest(".js-select-list"),n=t.attr("name");if(!t.hasClass("disabled")){var r=this.modelCache.get("List",n),i=m.clone(this.model.openCards().models);if(i.length>0){var o={$elem:c(e.target),destinationList:r};if(u(o))return;h("Card","Moved in Bulk via List Menu"),this.sendGASEvent&&v.sendTrackEvent({action:"moved",actionSubject:"card",source:"moveAllCardsInListInlineDialog",attributes:{listSourceId:(null!=this.model?this.model.id:void 0)||""},containers:{list:{id:n||""},board:{id:y(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))||""},organization:{id:y(y(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))||""}}});for(var a=0,s=Array.from(i);a<s.length;a++)s[a].moveToList(r,1e3)}d.hide()}}}])&&i(p.prototype,b),k&&i(p,k),j}(p);function y(e,t){return null!=e?t(e):void 0}b.initClass(),e.exports=b},"./app/scripts/views/list/list-copy-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/keybindings/index.ts"),u=c.getKey,d=c.Key,p=n("./app/scripts/views/card/card-limits-error.js").maybeDisplayLimitsErrorOnCardAdd,m=n("./app/scripts/views/lib/pop-over.js"),f=n("./app/scripts/lib/util/index.js"),h=n("./app/scripts/views/internal/view.js"),v=n("./app/scripts/views/templates/list_copy.js"),g=n("./packages/analytics/index.ts").track,b=n("./packages/atlassian-analytics/index.ts").Analytics,y=n("./packages/feature-flag-client/index.ts").featureFlagClient,k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(j,e);var t,n,c,h,k=(t=j,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function j(){return r(this,j),k.apply(this,arguments)}return n=j,h=[{key:"initClass",value:function(){this.prototype.viewTitleKey="copy list",this.prototype.tagName="form",this.prototype.events={"click .js-submit":"submit",submit:"submit",'keydown textarea[name="name"]':"keydownEvent"}}}],(c=[{key:"initialize",value:function(){return this.sendGASEvent=y.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent&&b.sendScreenEvent({name:"copyListInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:w(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:w(w(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),this.listenTo(this.model.getBoard(),"change:limits",this.render)}},{key:"render",value:function(){var e=this.model.getBoard();return this.$el.html(v({canCopyTotal:!e.isOverLimit("lists","totalPerBoard"),canCopyOpen:!e.isOverLimit("lists","openPerBoard"),name:this.model.get("name")})),this}},{key:"keydownEvent",value:function(e){if(u(e)===d.Enter)return f.stop(e),void this.submit(e)}},{key:"submit",value:function(e){f.stop(e);var t=this.$('textarea[name="name"]');if(""!==t.val().trim()){var n=this.model.getBoard(),r=n.isOverLimit("lists","totalPerBoard")||n.isOverLimit("lists","openPerBoard");if(this.$(".js-limit-exceeded").toggleClass("hide",!r),!r){if(this.model.cardList.length>0){var i,o=i=!1;this.model.cardList.forEach((function(e){return o=o||e.attachmentList.length>0,i=i||e.checklistList.length>0}));var a={$elem:this.$(e.target),hasChecklists:i,hasAttachments:o,destinationBoard:n};if(p(a))return}var s=n.listList.calcPos(this.model.getIndexInList()+1,this.model,!0),l={idListSource:this.model.id,idBoard:this.model.get("idBoard"),pos:s,name:t.val().trim(),closed:!1},c=n.listList.create(l,{error:function(){return n.listList.remove(c)}});m.hide(),g("List","Copy List"),this.sendGASEvent&&b.sendTrackEvent({action:"copied",actionSubject:"list",source:"copyListInlineDialog",attributes:{listSourceId:(null!=this.model?this.model.id:void 0)||""},containers:{list:{id:(null!=c?c.id:void 0)||""},board:{id:w(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))||""},organization:{id:w(w(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))||""}}})}}else t.focus().select()}}])&&i(n.prototype,c),h&&i(n,h),j}(h);function w(e,t){return null!=e?t(e):void 0}k.initClass(),e.exports=k},"./app/scripts/views/list/list-list-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,d=n("./app/scripts/views/internal/collection-view.js"),p=n("./app/scripts/views/lib/drag-sort.js"),m=n("./app/scripts/views/list/inline-list-composer-view.js"),f=n("./app/scripts/views/list/list-view.js"),h=n("./app/scripts/lib/assert/index.js");e.exports=((u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(g,e);var t,n,u,d,v=(t=g,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function g(){return r(this,g),v.apply(this,arguments)}return n=g,d=[{key:"initClass",value:function(){this.prototype.viewType=f}}],(u=[{key:"initialize",value:function(e){var t=e.resetCallback;return this.resetCallback=t,o(c(g.prototype),"initialize",this).apply(this,arguments),h(null!=this.resetCallback),this.listenTo(this.collection,{reset:this.resetCallback,"change:idBoard":this.boardChange})}},{key:"render",value:function(){var e=this,t=Math.max(3,Math.ceil(window.innerWidth/270)),n=this.getModels().map((function(n,r){return e.subview(e.viewType,n,{deferCards:r>=t})}));return this.model.editable()&&n.push(this.subview(m,this.model)),this.ensureSubviews(n),this.resetCallback()}},{key:"boardChange",value:function(e,t){if(t!==this.collection.board.get("id"))return this.collection.remove(e),p.refreshIfInitialized(this.$el)}},{key:"addModel",value:function(){return o(c(g.prototype),"addModel",this).apply(this,arguments),this.resetCallback()}},{key:"removeSubview",value:function(){o(c(g.prototype),"removeSubview",this).apply(this,arguments),p.refreshListCardSortable()}},{key:"insertSubview",value:function(e){o(c(g.prototype),"insertSubview",this).apply(this,arguments),e.$el.find(".ui-sortable").length>0?p.refreshIfInitialized(this.$el):p.refreshListCardSortable()}}])&&i(n.prototype,u),d&&i(n,d),g}(d)).initClass(),u=u)},"./app/scripts/views/list/list-menu-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c,u=n("./node_modules/react/index.js"),d=n("./app/scripts/views/lib/confirm.js"),p=n("./app/scripts/lib/localize.js"),m=n("./app/scripts/views/list/list-bulk-move-cards-view.js"),f=n("./app/scripts/views/list/list-copy-view.js"),h=n("./app/scripts/views/list/list-move-view.js"),v=n("./app/scripts/views/list/list-set-limit-view.js"),g=n("./app/scripts/views/list/list-sort-view.js"),b=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),y=n("./app/scripts/views/internal/plugins/plugin-runner.js"),k=n("./app/scripts/views/plugin/plugin-view.js"),w=n("./app/scripts/views/lib/pop-over.js"),j=n("./node_modules/bluebird/js/browser/bluebird.js"),_=n("./app/src/components/Butler/index.ts"),x=_.showButlerDirectory,C=_.ButlerTab,O=_.ButlerNewCommandId,S=n("./app/src/components/Butler/index.ts").CreateListRulePopover,E=n("./app/src/components/Butler/ListRule/hydrateListRuleTemplate.ts").hydrateListRuleTemplate,T=n("./app/src/components/ComponentWrapper/index.ts").ComponentWrapper,P=n("./app/scripts/lib/util/index.js"),N=n("./app/scripts/views/templates/list_menu.js"),I=n("./packages/analytics/index.ts"),A=I.Noun,D=I.Verb,B=I.track,R=I.trackUe,L=n("./packages/feature-flag-client/index.ts").featureFlagClient,M=n("./node_modules/underscore/underscore.js"),F=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginUIEvent,V=n("./packages/atlassian-analytics/index.ts").Analytics,z=n("./packages/config/index.ts").listLimitsPowerUpId;function U(e,t){return null!=e?t(e):void 0}e.exports=((c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(I,e);var t,n,c,k,_=(t=I,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function I(){return r(this,I),_.apply(this,arguments)}return n=I,k=[{key:"initClass",value:function(){this.prototype.viewTitleKey="list actions",this.prototype.events={"click .js-add-card":"addCard","click .js-move-list":"moveList","click .js-copy-list":"copyList","click .js-list-subscribe":"toggleSubscribe","click .js-move-cards":"moveCards","click .js-archive-cards":"archiveCards","mouseenter .js-sort-cards":"preloadSortBy","click .js-sort-cards":"sortBy","click .js-create-butler-rule-from-template":"createButlerRule","click .js-create-custom-butler-rule":"createCustomButlerRule","click .js-close-list":"closeList","click .js-plugin-list-action":"runPluginAction","click .js-set-list-limit":"setListLimit"}}}],(c=[{key:"initialize",value:function(){return this.makeDebouncedMethods("render"),this.sendGASEvent=L.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent&&V.sendScreenEvent({name:"listMenuInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:U(U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),this.listenTo(this.model,"change:subscribed",this.renderDebounced),this.retain(this.options.pluginActions)}},{key:"render",value:function(){return this.pluginActions=M.chain(this.options.pluginActions).filter((function(e){return M.isString(e.text)&&e.text.length&&M.isFunction(e.callback)})).map((function(e){return M.extend(e,{icon:b.fromId(e.idPlugin).getIconUrl(),name:b.fromId(e.idPlugin).getName()})})).sortBy("text").value(),this.$el.html(N({editable:this.model.editable(),hasSortableCards:this.model.cardList.length>1,subscribed:this.model.get("subscribed"),canCopyList:!this.model.isOverLimit("lists","totalPerBoard")&&!this.model.isOverLimit("lists","openPerBoard"),pluginActions:this.pluginActions,listLimitsEnabled:this.model.getBoard().isListLimitsPowerUpEnabled(),isTemplate:this.model.getBoard().isTemplate()})),this}},{key:"addCard",value:function(e){P.stop(e),w.hide(),this.model.getBoard().composer.save({list:this.model,index:0,vis:!0}),B("List Menu","Add Card"),this.sendGASEvent&&V.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"addCardMenuItem",source:"listMenuInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:U(U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),B("Card Composer","Open","Via List Menu")}},{key:"moveList",value:function(e){P.stop(e),B("List Menu","Open Move List Popover"),this.sendGASEvent&&V.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"moveListMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))||""},organization:{id:U(U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))||""}}}),w.pushView({view:new h({model:this.model,modelCache:this.modelCache})})}},{key:"copyList",value:function(e){P.stop(e),B("List Menu","Open Copy List Popover"),this.sendGASEvent&&V.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"copyListMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))||""},organization:{id:U(U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))||""}}}),w.pushView({view:new f({model:this.model,modelCache:this.modelCache})})}},{key:"toggleSubscribe",value:function(e){P.preventDefault(e),this.model.get("subscribed")?(this.model.subscribe(!1),this.sendGASEvent&&V.sendTrackEvent({action:"unsubscribed",actionSubject:"list",source:"listMenuInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))||""},organization:{id:U(U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))||""}}}),B("List Menu","Subscribe","Unsubscribe")):(this.model.subscribe(!0),this.sendGASEvent&&V.sendTrackEvent({action:"subscribed",actionSubject:"list",source:"listMenuInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))||""},organization:{id:U(U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))||""}}}),B("List Menu","Subscribe","Subscribe"))}},{key:"moveCards",value:function(e){P.stop(e),this.sendGASEvent&&V.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"moveAllCardsMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))||""},organization:{id:U(U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))||""}}}),B("List Menu","Open Move All Cards in List"),w.pushView({view:new m({model:this.model,modelCache:this.modelCache})})}},{key:"archiveCards",value:function(e){var t=this;P.stop(e),this.sendGASEvent&&V.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"archiveAllCardsMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))||""},organization:{id:U(U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))||""}}}),B("List Menu","Open Archive All Cards in List"),d.pushView("archive all cards",{model:this.model,confirmBtnClass:"nch-button nch-button--danger",fxConfirm:function(e){w.hide();for(var n=M.clone(t.model.cardList.models),r=0,i=Array.from(n);r<i.length;r++)i[r].set({closed:!0});return t.model.run("archiveAllCards",{},t.listViewListen)}})}},{key:"loadPluginSorters",value:function(e){return y.all({command:"list-sorters",board:this.model.getBoard(),list:this.model,timeout:e}).catch((function(){return[]})).then((function(e){return M.chain(e).groupBy("idPlugin").map((function(e,t){return e.slice(0,5)})).flatten().value()}))}},{key:"preloadSortBy",value:function(e){var t=this;if(null==this.pluginSortersPromise)return this.pluginSortersPromise=this.loadPluginSorters(500).then((function(e){return t.pluginSortersPromise=null,t.pluginListSorters=e,t.pluginListSortersExpiry=Date.now()+5e3,e}))}},{key:"sortBy",value:function(e){var t=this;P.stop(e),B("List Menu","Open Sort Cards in List"),this.sendGASEvent&&V.sendUIEvent({action:"clicked",actionSubject:"menuItem",actionSubjectId:"sortListMenuItem",source:"listMenuInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))||""},organization:{id:U(U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))||""}}});var n=[];return n=null!=this.pluginListSorters&&this.pluginListSortersExpiry>Date.now()?this.pluginListSorters:null!=this.pluginSortersPromise?this.pluginSortersPromise:this.loadPluginSorters(150),j.resolve(n).then((function(e){return w.pushView({view:new g({model:t.model,modelCache:t.modelCache,pluginListSorters:e})}),t.pluginListSorters=null}))}},{key:"createButlerRule",value:function(e){var t,n,r;P.stop(e),E({template:e.target.dataset.template,listName:this.model.get("name")}),w.pushView({getViewTitle:()=>p(["view title","new workflow"]),reactElement:u.createElement(T,{key:"butlerCreateListRulePopover"},u.createElement(S,{idList:this.model.id,idBoard:null===(t=this.model.getBoard())||void 0===t?void 0:t.id,idOrganization:null===(n=this.model.getBoard())||void 0===n||null===(r=n.getOrganization())||void 0===r?void 0:r.id}))})}},{key:"createCustomButlerRule",value:function(e){P.stop(e),x(this.model.getBoard().id,C.Rules,O)}},{key:"setListLimit",value:function(e){return P.stop(e),R(A.LIST_MENU,D.OPENS,A.POWER_UP,"","","list-action",z),F({idPlugin:z,idBoard:this.model.getBoard().id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"powerUpListAction",source:"listMenuInlineDialog"}}),w.pushView({view:new v({model:this.model,modelCache:this.modelCache})})}},{key:"runPluginAction",value:function(e){P.stop(e);var t=this.pluginActions[this.$(e.target).closest(".js-plugin-list-action").data("index")],n=t.idPlugin;return R(A.LIST_MENU,D.OPENS,A.POWER_UP,"","","list-action",n),F({idPlugin:n,idBoard:this.model.getBoard().id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"powerUpListAction",source:"listMenuInlineDialog"}}),"function"==typeof t.callback?t.callback({el:this.el,list:this.model}):void 0}},{key:"closeList",value:function(e){P.stop(e);var t=this.model;return this.sendGASEvent&&V.sendTrackEvent({action:"archived",actionSubject:"list",source:"listMenuInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:U(U(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),B("List Menu","Archive List"),w.hide(),t.close(),!1}}])&&i(n.prototype,c),k&&i(n,k),I}(k)).initClass(),c=c)},"./app/scripts/views/list/list-move-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./app/scripts/views/lib/alerts.js"),d=n("./packages/atlassian-analytics/index.ts").Analytics,p=n("./app/scripts/db/auth.js"),m=n("./app/scripts/db/model-loader.js"),f=n("./app/scripts/network/payloads.ts").default,h=n("./app/scripts/views/card/card-limits-error.js").maybeDisplayLimitsErrorOnCardAdd,v=n("./app/scripts/views/label/label-limits-error-view.js"),g=n("./app/scripts/views/lib/pop-over.js"),b=n("./app/scripts/lib/util/index.js"),y=n("./app/scripts/views/internal/view.js"),k=n("./node_modules/underscore/underscore.js"),w=n("./app/scripts/views/templates/popover_move_list.js"),j=n("./packages/analytics/index.ts").track,_=n("./app/scripts/lib/localize.js"),x=n("./packages/feature-flag-client/index.ts").featureFlagClient,C=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(E,e);var t,n,y,C,S=(t=E,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function E(){return r(this,E),S.apply(this,arguments)}return n=E,C=[{key:"initClass",value:function(){this.prototype.viewTitleKey="move list",this.prototype.tagName="form",this.prototype.events={"change .js-select-list-pos":"renderValues","change .js-select-board":"updateBoardData","click .js-commit-position":"commitChange",submit:"commitChange"}}}],(y=[{key:"initialize",value:function(){if(this.sendGASEvent=x.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent)return d.sendScreenEvent({name:"moveListInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:O(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:O(O(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}})}},{key:"render",value:function(){var e=this.model,t={},n=this.model.getBoard(),r=this.model.getBoard().getEnterprise();n.isGuest(p.me())&&n.get("enterpriseOwned")?(t.hasEnterprise=!0,t.enterpriseName=null!=r?r.get("displayName"):void 0,t.restrictToCurrentBoard=!0,t.organizations=[{displayName:O(n.getOrganization(),(function(e){return e.get("displayName")}))||_("member boards.boards"),boards:[k.extend(n.toJSON(),{selected:!0})]}]):null!=r?(t.hasEnterprise=!0,n=null==this.model.getBoard().getMembershipFor(p.me())?n:null,t.organizations=p.me().getOpenBoardsInEnterpriseByOrg(!0,r.get("id"),n),t.enterpriseName=r.get("displayName")):(n=this.model.getBoard().isEditableByTeamMemberAndIsNotABoardMember()?n:null,t.organizations=p.me().getOpenBoardsByOrg(!0,n));for(var i=0,o=Array.from(t.organizations);i<o.length;i++)for(var a=o[i],s=0,l=Array.from(a.boards);s<l.length;s++){var c=l[s];c.id===e.get("idBoard")&&(c.selected=!0)}return this.$el.html(w(t)),this.updateBoardData(),this}},{key:"renderValues",value:function(){var e=c(this.el),t=e.find(".js-select-board option:selected").val(),n=parseInt(e.find(".js-select-list-pos option:selected").text(),10),r=this.modelCache.get("Board",t).get("name");e.find(".js-board-value").text(r),e.find(".js-pos-value").text(String(n))}},{key:"updateBoardData",value:function(){var e=this,t=c(this.el),n=t.find(".js-select-board").find("option:selected").val();if(n===this.model.getBoard().id){this._boardData=this.model.getBoard();for(var r=0,i=Array.from(this._boardData.listList.models);r<i.length;r++){var o=i[r];o.cardCount=this._boardData.listList.get(o.id).openCards().length}this.updateListList()}else{var a=t.find(".select-list,.select-position");a.attr("disabled","disabled"),m.loadBoardData(n,f.listsMinimal).then((function(){return e._boardData=e.modelCache.get("Board",n),e.updateListList(),a.removeAttr("disabled")})).done()}}},{key:"updateListList",value:function(){var e,t,n=this.model,r=this.$(".js-select-list-pos");r.empty();var i=this._boardData.listList.models,o=this._boardData.id===this.model.getBoard().id;o?(t=k.indexOf(i,this.model),e=i.length):(t=-1,e=i.length+1);for(var a=0,s=e,l=0<=s;l?a<s:a>s;l?a++:a--){var u=String(a+1),d=a===t?_("current position",{index:u}):u,p=this._boardData.listList.calcPos(a,n),m=c("<option>").val(p).text(d).appendTo(r);a===t&&m.attr("selected","selected")}var f=this.$(".js-commit-position"),h=this.$(".js-list-limit-exceeded");if(o)f.toggleClass("disabled",!1).prop("disabled",!1),h.toggleClass("hide",!0);else{var v=this._boardData.isOverLimit("lists","totalPerBoard")||this._boardData.isOverLimit("lists","openPerBoard");f.toggleClass("disabled",v).prop("disabled",v),h.toggleClass("hide",!v)}return this.renderValues()}},{key:"commitChange",value:function(e){var t=this;b.stop(e);var n=this.$(".js-select-list-pos"),r=parseInt(n.find("option:selected").val(),10),i=this.$(".js-select-board option:selected").val();this.model.getBoard().composer.save("vis",!1);var o=this.model.getBoard().id,a=this.model.get("pos");if(i===o)this.model.update({pos:r}),j("List Menu","Move Menu","Successfully Moved"),this.sendGASEvent&&d.sendTrackEvent({action:"moved",actionSubject:"list",source:"moveListInlineDialog",containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:O(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))||""},organization:{id:O(O(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))||""}}});else if(null!=i&&null!=r){if(this.model.cardList.length>0){var s,l=s=!1;this.model.cardList.forEach((function(e){return l=l||e.attachmentList.length>0,s=s||e.checklistList.length>0}));var p={$elem:c(e.target),hasChecklists:s,hasAttachments:l,destinationBoard:this._boardData};if(h(p))return}if(this.model.cardList.filter((function(e){return e.getLabels().length>0}))&&this._boardData.isOverLimit("labels","perBoard"))return void g.pushView(new v);this.model.update({idBoard:i,pos:r},(function e(n){if(null!=(null!=n?n.message:void 0)){var r=O(JSON.parse(n.message),(function(e){return e.error}));return"BOARD_TOO_MANY_CUSTOM_FIELDS"===r?u.show("too many custom fields","error","movelist",8e3):"CUSTOM_FIELD_TOO_MANY_OPTIONS"===r&&u.show("too many custom options","error","movelist",8e3),t.model.set({idBoard:o,pos:a},e)}})),j("List Menu","Move Menu","Changed Board"),this.sendGASEvent&&d.sendTrackEvent({action:"moved",actionSubject:"list",source:"moveListInlineDialog",attributes:{boardSourceId:o},containers:{list:{id:(null!=this.model?this.model.id:void 0)||""},board:{id:i||""},organization:{id:O(O(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))||""}}})}g.hide()}}])&&i(n.prototype,y),C&&i(n,C),E}(y);function O(e,t){return null!=e?t(e):void 0}C.initClass(),e.exports=C},"./app/scripts/views/list/list-set-limit-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/lib/pop-over.js"),u=n("./app/scripts/views/templates/popover_set_list_limit.js"),d=n("./app/scripts/lib/util/index.js"),p=n("./app/scripts/views/internal/view.js"),m=n("./packages/analytics/index.ts"),f=m.Noun,h=m.Verb,v=m.trackUe,g=n("./packages/atlassian-analytics/index.ts").Analytics,b=n("./packages/feature-flag-client/index.ts").featureFlagClient,y=function(e){return null===e||!isNaN(e)&&e>=0&&e<=5e3},k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(j,e);var t,n,p,m,k=(t=j,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function j(){return r(this,j),k.apply(this,arguments)}return n=j,m=[{key:"initClass",value:function(){this.prototype.viewTitleKey="set list limit",this.prototype.tagName="form",this.prototype.events={"click .js-submit":"submit",submit:"submit","click .js-remove-limit":"removeLimit","keyup .js-list-limit-input":"limitChanged"}}}],(p=[{key:"initialize",value:function(){if(this.sendGASEvent=b.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent)return g.sendScreenEvent({name:"listLimitInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:w(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:w(w(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}})}},{key:"getValue",value:function(){var e=this.$(".js-list-limit-input").val();return e.length?parseInt(e,10):null}},{key:"limitChanged",value:function(e){var t=this.getValue(),n=y(t);return this.$(".js-list-limit-input").toggleClass("is-invalid",!n),this.$(".js-submit").attr("disabled",!n)}},{key:"submit",value:function(e){d.stop(e);var t=this.getValue();if(y(t))return this.sendGASEvent&&g.sendTrackEvent({action:"updated",actionSubject:"listLimit",source:"listLimitInlineDialog",attributes:{value:t},containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:w(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:w(w(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),v(f.LIST_LIMIT_MENU,h.SETS,f.LIST_LIMIT,"","","by clicking the save button",{change:t}),this.model.setSoftLimit(t),c.hide()}},{key:"removeLimit",value:function(e){return d.stop(e),this.sendGASEvent&&g.sendTrackEvent({action:"removed",actionSubject:"listLimit",source:"listLimitInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:w(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:w(w(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),v(f.LIST_LIMIT_MENU,h.REMOVES,f.LIST_LIMIT,"","","by clicking the remove button"),this.model.setSoftLimit(null),c.hide()}},{key:"render",value:function(){var e={limit:this.model.get("softLimit")};return this.$el.html(u(e)),this}}])&&i(n.prototype,p),m&&i(n,m),j}(p);function w(e,t){return null!=e?t(e):void 0}k.initClass(),e.exports=k},"./app/scripts/views/list/list-sort-view.js":function(e,t,n){function r(e){return function(e){if(Array.isArray(e))return i(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d,p=n("./node_modules/underscore/underscore.js"),m=n("./app/scripts/views/lib/alerts.js"),f=n("./packages/atlassian-analytics/index.ts").Analytics,h=n("./packages/feature-flag-client/index.ts").featureFlagClient,v=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),g=n("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),b=n("./app/scripts/views/plugin/plugin-view.js"),y=n("./app/scripts/views/lib/pop-over.js"),k=n("./node_modules/bluebird/js/browser/bluebird.js"),w=n("./app/scripts/data/legacy-power-ups.js"),j=n("./app/scripts/views/templates/list_sort.js"),_=n("./packages/analytics/index.ts"),x=_.track,C=_.trackUe,O=n("./app/scripts/lib/util/index.js"),S=n("./app/scripts/lib/localize.js"),E=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginUIEvent,T=n("./packages/config/index.ts").customFieldsId,P=function(e){var t=e.list,n=e.posBefore,r=e.posAfter;e.count;return Array.from(t).map((function(e,i){return{card:e,pos:n+(i+1)*(r-n)/(t.length+1)}}))};function N(e,t){return null!=e?t(e):void 0}e.exports=((d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(I,e);var t,i,d,b,_=(t=I,function(){var e,n=u(t);if(c()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function I(){return o(this,I),_.apply(this,arguments)}return i=I,b=[{key:"initClass",value:function(){this.prototype.viewTitleKey="sort list",this.prototype.events={"click .js-sort-by-due-date":"sortByDueDate","click .js-sort-newest-first":"sortNewestFirst","click .js-sort-oldest-first":"sortOldestFirst","click .js-sort-by-card-name":"sortByCardName","click .js-plugin-list-sort-action":"sortByPluginSort"}}}],(d=[{key:"initialize",value:function(){return this.sendGASEvent=h.get("dataeng.gasv3-event-tracking",!1),this.sendGASEvent&&f.sendScreenEvent({name:"sortListInlineDialog",containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:N(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),this.retain(this.options.pluginListSorters)}},{key:"render",value:function(){var e=p.chain(this.options.pluginListSorters).filter((function(e){return p.isString(e.text)&&e.text.length&&p.isFunction(e.callback)})).map((function(e){return p.extend(e,{image:v.fromId(e.idPlugin).getIconUrl(),name:v.fromId(e.idPlugin).getName()})})).value();return e=e.concat(this.getCustomFieldSorts()),this.model.getBoard().isPowerUpEnabled("voting")&&e.push({callback:this.sortByVotes(),text:S("templates.list_sort.most-votes"),image:n("./resources/images/powerups/voting-icon.svg"),name:S("power ups.voting.name")}),this.pluginListSorters=p.sortBy(e,"text"),this.$el.html(j({canSortByDueDate:this.model.cardList.any((function(e){return e.get("due")})),pluginListSorters:this.pluginListSorters})),this}},{key:"getCustomFieldSorts",value:function(){var e=this;return this.model.getBoard().isCustomFieldsEnabled()?p.chain(this.model.getBoard().customFieldList.models).filter((function(e){return e.isSortable()&&e.visible()})).map((function(t){return"number"===t.get("type")?[{callback:e.sortByCustomField(t.id),text:S("templates.list_sort.field-ascending",{field:t.get("name")}),image:v.fromId(T).getIconUrl(),name:S("view title.custom fields")},{callback:e.sortByCustomField(t.id,!0),text:S("templates.list_sort.field-descending",{field:t.get("name")}),image:v.fromId(T).getIconUrl(),name:S("view title.custom fields")}]:{callback:e.sortByCustomField(t.id),text:t.get("name"),image:v.fromId(T).getIconUrl(),name:S("view title.custom fields")}})).flatten().value():[]}},{key:"sortByDueDate",value:function(e){var t=this;return O.stop(e),y.hide(),x("List Menu","Sort Cards By Date"),this.sendGASEvent&&f.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by due date"},containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:N(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),this.applySort((function(){return t.model.cardList.sortBy((function(e){var t=e.get("due"),n=e.get("dueComplete");return[t?n?"1":"0":"2",null!=t?t:""].join(":")}))}))}},{key:"sortNewestFirst",value:function(e){var t=this;return O.stop(e),y.hide(),this.sendGASEvent&&f.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by newest first"},containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:N(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),x("List Menu","Sort Newest First"),this.applySort((function(){return t.model.cardList.sortBy((function(e){return e.id}))}),{reverse:!0})}},{key:"sortOldestFirst",value:function(e){var t=this;return O.stop(e),y.hide(),this.sendGASEvent&&f.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by oldest first"},containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:N(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),x("List Menu","Sort Oldest First"),this.applySort((function(){return t.model.cardList.sortBy((function(e){return e.id}))}))}},{key:"sortByCardName",value:function(e){var t=this;return O.stop(e),y.hide(),this.sendGASEvent&&f.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by card name"},containers:{list:{id:null!=this.model?this.model.id:void 0},board:{id:N(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:N(N(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),x("List Menu","Sort By Card Name"),this.applySort((function(){var e=t.model.cardList.comparator;return t.model.cardList.comparator=function(e,t){return e.get("name").localeCompare(t.get("name"))},t.model.cardList.sort(),t.model.cardList.comparator=e,t.model.cardList.models}))}},{key:"sortByCustomField",value:function(e,t){var n=this;return function(){n.sendGASEvent&&f.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by custom fields"},containers:{list:{id:null!=n.model?n.model.id:void 0},board:{id:N(null!=n.model?n.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:N(N(null!=n.model?n.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),C("list menu","opens","Power-Up","","","list-sorters",T);var r=[],i=[];p.forEach(n.model.cardList.models,(function(t){var n=t.customFieldItemList.find((function(t){return t.get("idCustomField")===e}));return null==n||n.isEmpty()?i.push(t.id):r.push({id:t.id,value:n.getParsedValue()})}));var o=p.chain(r).sortBy((function(e){return e.value})).map((function(e){return e.id})).value();return t&&(o=o.reverse()),o=o.concat(i),o=p.chain(o).map((function(e,t){return[e,t]})).object().value(),n.applySort((function(){return n.model.cardList.sortBy((function(e){return o[e.id]}))}))}}},{key:"sortByVotes",value:function(){var e=this;return function(){return e.sendGASEvent&&f.sendTrackEvent({action:"sorted",actionSubject:"list",source:"sortListInlineDialog",attributes:{method:"by votes"},containers:{list:{id:null!=e.model?e.model.id:void 0},board:{id:N(null!=e.model?e.model.getBoard():void 0,(function(e){return e.id}))},organization:{id:N(N(null!=e.model?e.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),C("list menu","opens","Power-Up","","","list-sorters",w.voting),e.applySort((function(){return e.model.cardList.sortBy((function(e){return-1*e.get("badges").votes}))}))}}},{key:"sortByPluginSort",value:function(e){var t=this;O.stop(e),x("List Menu","Sort Cards By Plugin");var n=this.$(e.target).closest(".js-plugin-list-sort-action").data("index"),r=this.pluginListSorters[n];return r.idPlugin?(C("list menu","opens","Power-Up","","","list-sorters",r.idPlugin),E({idPlugin:r.idPlugin,idBoard:this.model.getBoard().id,event:{action:"clicked",actionSubject:"option",actionSubjectId:"powerUpListSorter",source:"listMenuInlineDialog"}}),m.show("sorting list","warning","listsort"),r.callback({options:{cards:g.cards(this.model.cardList.models,["all"])}}).catch((function(){return{}})).then((function(e){var n=null!=e?e.sortedIds:void 0,r=t.model.cardList.models;if(null==n||!p.all(n,(function(e){return p.isString(e)&&/^[a-f0-9]{24}$/.test(e)}))||!p.all(r,(function(e){return Array.from(n).includes(e.id)})))return m.hide("listsort"),m.show("invalid sort order returned","warning","listsort",5e3),void y.hide();var i=p.chain(n).map((function(e,t){return[e,t]})).object().value();return t.applySort((function(){return t.model.cardList.sortBy((function(e){return i[e.id]}))}))})),y.hide()):(r.callback(),y.hide())}},{key:"applySort",value:function(e,t){if(null==t&&(t={}),!(this.model.cardList.length<=1)){m.show("sorting list","warning","listsort");var n=e();t.reverse&&n.reverse();for(var i=p.chain(n).map((function(e){return[e.id,e.get("pos")]})).object().value(),o=p.chain(function(e,t,n){for(var r=[],i=e<t,o=n?i?t+1:t-1:t,a=e;i?a<o:a>o;i?a++:a--)r.push(a);return r}(0,10,!0)).map((function(e){return Math.round((n.length-1)*e/10)})).uniq().map((function(e){return[].concat(r(Array.from(function(e,t){var n=e.length-1;return p.flatten(function(){for(var r=[];n>=0;){var i=n;for(n--;n>=0&&t[e[n].id]>t[e[i].id];)n--;r.push(P({list:e.slice(n+1,i),posBefore:n>=0?t[e[n].id]:0,posAfter:t[e[i].id]}))}return r}())}(n.slice(0,+e+1||void 0),i))),r(Array.from(function(e,t){var n=0;return p.flatten(function(){for(var r=[];n<e.length;){var i=n;for(n++;n<e.length&&t[e[n].id]<t[e[i].id];)n++;r.push(P({list:e.slice(i+1,n),posBefore:t[e[i].id],posAfter:n<e.length?t[e[n].id]:t[e[i].id]+O.spacing*(n-i)}))}return r}())}(n.slice(e),i))))})).sortBy((function(e){return e.length})).first().value(),a=0,s=Array.from(o);a<s.length;a++){var l=s[a],c=l.card,u=l.pos;c.set("pos",u)}return k.using(this.modelCache.getLock(),(function(){return e=o,n=(t={fx(e){var t=e.card;return e.pos,k.fromNode((function(e){return t.update("pos",t.get("pos"),e)}))},updatesPerMinute:300,concurrency:5}).fx,r=t.updatesPerMinute,i=t.concurrency,a=i*(6e4/r),k.map(e,(function(e){var t=Date.now();return k.resolve(n(e)).then((function(){var e=a-(Date.now()-t);if(e>0)return k.delay(e)}))}),{concurrency:i});var e,t,n,r,i,a})).then((function(){return m.hide("listsort"),m.show("list sorted","info","listsort",3e3)}))}}}])&&a(i.prototype,d),b&&a(i,b),I}(b)).initClass(),d=d)},"./app/scripts/views/list/list-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./packages/jquery/index.js"),d=n("./app/scripts/views/lib/alerts.js"),p=n("./app/scripts/db/auth.js"),m=n("./packages/browser/index.ts"),f=n("./app/scripts/views/card-composer/card-composer-inline-view.js"),h=n("./app/scripts/views/card/card-limits-error.js"),v=h.maybeDisplayLimitsErrorOnCardAdd,g=h.canAddCard,b=n("./app/scripts/views/card/card-list-view.js"),y=n("./app/scripts/controller/index.js");n("./app/scripts/views/internal/data-transfer/drag-drop-events.js");var k=n("./app/scripts/views/lib/drag-sort.js"),w=n("./app/scripts/views/internal/view.js"),j=n("./app/scripts/views/list/list-menu-view.js"),_=n("./app/scripts/views/lib/pop-over.js"),x=n("./app/scripts/lib/trello-clipboard.js"),C=n("./app/scripts/lib/util/url/parse-trello-url.js"),O=n("./node_modules/url-parse/index.js"),S=n("./app/scripts/views/internal/plugins/plugin-runner.js"),E=n("./node_modules/bluebird/js/browser/bluebird.js"),T=n("./app/scripts/views/internal/paste-input.js"),P=n("./app/scripts/lib/util/index.js"),N=n("./node_modules/underscore/underscore.js"),I=n("./app/scripts/debug/log.js"),A=n("./app/scripts/views/templates/list.js"),D=n("./packages/analytics/index.ts"),B=D.track,R=D.trackUe,L=D.Noun,M=D.Verb,F=n("./app/scripts/lib/localize-count.js"),V=n("./app/scripts/views/internal/warn-if-file-too-large.js"),z=n("./app/scripts/views/internal/pasted-file-name.js"),U=n("./packages/keybindings/index.ts"),H=U.getKey,W=U.Key,q=n("./app/scripts/lib/localize.js"),G=n("./node_modules/effing/lib/index.js"),$=n("./app/scripts/lib/util/ninvoke.js"),K=n("./app/scripts/lib/util/removeAllRanges.js"),Y=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginTrackEvent,Z=n("./app/scripts/db/id-cache.js"),J=n("./app/scripts/db/model-loader.js"),Q=n("./node_modules/react/index.js"),X=n("./packages/react-dom-wrapper/index.ts"),ee=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,te=n("./app/src/components/CardTemplatesPopover/index.ts").CardTemplatesButton,ne=n("./app/scripts/views/card/SeparatorCard/SeparatorCard.ts").getSeparatorClassName,re=n("./packages/atlassian-analytics/index.ts").Analytics,ie=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(U,e);var t,n,h,w,D=(t=U,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function U(){return r(this,U),D.apply(this,arguments)}return n=U,w=[{key:"initClass",value:function(){this.prototype.className="js-list list-wrapper",this.prototype.events={"mouseenter .js-open-list-menu":"preloadMenu","click .js-open-list-menu":"openMenu","mousedown .list-cards":"eventStopPropagation","click .js-open-card-composer":"openCardComposer","keydown  .js-list-name-input":"keyDownEvent","blur     .js-list-name-input":"stopEditing","click    .js-editing-target":"startEditing","focus    .js-list-name-input":"startEditing",movelist:"moveList",sortreceive:"sortReceive",sortcommit:"sortCommit","dd-drop:files":"dropFiles","dd-drop:text":"dropText","dd-drop:url":"dropUrl",mouseenter:"mouseenter",mouseleave:"mouseleave",mousemove:"mousemove","pasteinput:text":"dropText","pasteinput:files":"dropFiles","pasteinput:url":"dropUrl"}}}],(h=[{key:"initialize",value:function(){var e=this;o(c(U.prototype),"initialize",this).apply(this,arguments),this.fEditingName=!1,this.makeDebouncedMethods("render","toggleComposerLink","renderComposer","renderCardCount","renderName","renderAddButton","renderListLimit"),this.listenTo(this.model,{"change:limits":this.renderLimits,"change:name":this.renderNameDebounced,"change:subscribed":this.renderSubscribed,"change:softLimit":this.renderListLimit,"change:id":this.renderCardTemplateButton}),this.listenTo(this.model.cardList,{"add remove change:idList change:closed reset"(){return this.renderCardCountDebounced(),this.renderAddButtonDebounced(),this.renderListLimitDebounced()}}),this.listenTo(this.model.getBoard().boardPluginList,"add remove",(function(){return e.renderListLimitDebounced()})),this.listenTo(this.model.getBoard(),"permChange",this.renderEditable),this.listenTo(this.model.getBoard().composer,{"change:list change:index change:vis":this.renderComposerDebounced,"change:list change:vis"(){return this.toggleComposerLinkDebounced()}}),this.listenTo(this.model.getBoard(),{"change:prefs.isTemplate":this.renderDebounced}),this.cardListView=this.collectionSubview(b,this.model.cardList,{className:"list-cards u-fancy-scrollbar u-clearfix js-list-cards",deferCards:this.options.deferCards}),u(window).on("resize.".concat(this.uniqueId()),G(this,"hackFlexboxForSadBrowsers"));for(var t=0,n=["mouseEnterCardView","mouseLeaveCardView","mouseMoveCardView"];t<n.length;t++){var r=n[t];!function(t){e.listenTo(e.cardListView,t,(function(e){return this.trigger(t,e)}))}(r)}}},{key:"renderLimits",value:function(){var e=!g({destinationList:this.model});return this.cardListView.$el.toggleClass("card-limits-full",e),this}},{key:"render",value:function(){var e=this;return I("render","rendering list ".concat(this.model.get("name"))),this.cardListView.$el.detach(),this.$el.html(A({name:this.model.get("name"),subscribed:this.model.get("subscribed"),loggedIn:p.isLoggedIn(),editable:this.model.editable(),isTemplate:this.model.isTemplate()})),this.cardListView.$el.insertAfter(this.$(".js-list-header")),this.cardListView.render(),this.cardListView.$el.toggleClass("js-sortable",this.model.editable()),this.renderLimits(),this.renderListLimit(),this.toggleComposerLinkDebounced(),this.renderComposerDebounced(),this.renderCardCount(),this.renderEditable(),this.renderAddButton(),this.renderCardTemplateButton(),this.hackFlexboxForSadBrowsers(),N.defer((function(){return e.$(".js-list-name-input").autosize({append:!1})})),this}},{key:"remove",value:function(){return u(window).off(".".concat(this.uniqueId())),this.removeCardTemplateButton(),o(c(U.prototype),"remove",this).apply(this,arguments)}},{key:"renderName",value:function(){return this.$(".js-list-name-assist").text(this.model.get("name")),this.fEditingName||this.$(".js-list-name-input").val(this.model.get("name")).trigger("autosize.resize",!1),this}},{key:"renderSubscribed",value:function(){var e,t;return this.$(".js-list-subscribed").toggleClass("hide",!(null!==(e=this.model.get("subscribed"))&&void 0!==e&&e)),this.$(".js-list-header").toggleClass("is-subscribe-shown",null!==(t=this.model.get("subscribed"))&&void 0!==t&&t),this.$(".js-list-name-input").trigger("autosize.resize",!1),this}},{key:"renderEditable",value:function(){var e=this.model.editable();return this.$(".js-list-cards").toggleClass("js-sortable",e),e?this.$(".js-list-name-input").removeAttr("disabled"):this.$(".js-list-name-input").attr("disabled","disabled"),this.$(".js-open-card-composer").toggleClass("hide",!e),k.refreshListCardSortable(),this}},{key:"hackFlexboxForSadBrowsers",value:function(){var e=this;["explorer-10","explorer-11"].includes(m.browserVersionStr)&&this.defer((function(){var t=e.$(".list-header").outerHeight(),n=e.$(".open-card-composer").outerHeight(),r=u("#board").height()-t-n-20;return e.$(".list-cards").css({"max-height":r})}))}},{key:"saveListName",value:function(e){var t=this.$(".js-list-name-input"),n=this.model.get("name"),r=t.val();(r=r.replace(/\s+/g," ").trim())!==n&&(r.length>16384||0!==r.trim().length&&this.model.update("name",r))}},{key:"keyDownEvent",value:function(e){if(H(e)===W.Enter)return P.stop(e),void this.stopEditing();H(e)!==W.Escape||this.stopEditing()}},{key:"startEditing",value:function(e){var t=this;P.stop(e),this.fEditingName||!this.model.editable()||k.sorting||(this.fEditingName=!0,this.$(".js-editing-target").addClass("is-hidden"),N.defer((function(){return t.$(".js-list-name-input").focus().select().addClass("is-editing")})))}},{key:"stopEditing",value:function(e){if(this.fEditingName){this.$(".js-editing-target").removeClass("is-hidden");var t=this.$(".js-list-name-input").removeClass("is-editing");t.is(":focus")&&t.blur(),K(),this.fEditingName=!1,this.saveListName(),this.renderNameDebounced()}}},{key:"toggleComposerLink",value:function(){return this.$(".js-open-card-composer").toggleClass("hide",this.composerOpen()||!this.model.editable()),this.$(".js-card-composer-container").toggleClass("hide",this.composerOpen()||!this.model.editable())}},{key:"composerOpen",value:function(){var e=oe(this.model.getBoard(),(function(e){return e.composer}));return null!=e&&e.get("vis")&&e.get("list")===this.model}},{key:"renderComposer",value:function(){if(this.composerOpen()){var e=this.model.getBoard().composer,t=y.getCurrentBoardView().subview(f,e);this.insertComposerAtIndex(e.get("index"),t),t.scrollIntoView(),N.debounce(t.delegateEvents(),150)}return this}},{key:"insertComposerAtIndex",value:function(e,t){if(0===e)this.$(".list-cards").prepend(t.render().el);else{var n=e-1,r=this.$(".list-card").not(".js-composer");n>=r.length&&(n=r.length-1),r.eq(n).after(t.render().el)}}},{key:"renderCardCount",value:function(){return this.$(".js-num-cards").text(F("cards",this.model.openCards().length))}},{key:"openCardComposer",value:function(e){P.stop(e),_.hide();var t=this.model.getBoard(),n={$elem:u(e.target),destinationBoard:t,destinationList:this.model};v(n)||(t.composer.save({list:this.model,index:this.model.openCards().length,vis:!0}),B("Card Composer","Open","Via Bottom of List"),re.sendClickedButtonEvent({buttonName:"addAnotherCardButton",source:"listFooter",containers:{board:{id:null!=t?t.id:void 0},list:{id:null!=this.model?this.model.id:void 0},organization:{id:oe(null!=t?t.getOrganization():void 0,(function(e){return e.id}))}}}))}},{key:"triggerOnItem",value:function(e,t,n){var r=this;P.stopPropagation(e),this.defer((function(){return t.item.trigger(n,[t,r])}))}},{key:"sortReceive",value:function(e,t){this.triggerOnItem(e,t,"moveto")}},{key:"sortCommit",value:function(e,t){this.triggerOnItem(e,t,"movein")}},{key:"loadPluginActions",value:function(e,t){return S.all({timeout:t,command:"list-actions",el:e,board:this.model.getBoard(),list:this.model}).catch((function(){return[]})).then((function(e){return N.chain(e).groupBy("idPlugin").map((function(e,t){return e.slice(0,3)})).flatten().value()}))}},{key:"preloadMenu",value:function(e){var t=this;if(!k.sorting&&null==this.pluginActionsPromise)return this.pluginActionsPromise=this.loadPluginActions(e.currentTarget,500).then((function(e){return t.pluginActionsPromise=null,t.pluginActions=e,t.pluginActionsExpiry=Date.now()+5e3,e}))}},{key:"openMenu",value:function(e){var t=this;if(!k.sorting){P.preventDefault(e),B("List Menu","Open List Menu"),this.sendGASEvent&&re.sendClickedButtonEvent({buttonName:"listMenuButton",source:"listHeader",containers:{board:{id:oe(null!=this.model?this.model.getBoard():void 0,(function(e){return e.id}))},list:{id:null!=this.model?this.model.id:void 0},organization:{id:oe(oe(null!=this.model?this.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}});var n=[];return n=null!=this.pluginActions&&this.pluginActionsExpiry>Date.now()?this.pluginActions:null!=this.pluginActionsPromise?this.pluginActionsPromise:this.loadPluginActions(e.currentTarget,150),E.resolve(n).then((function(n){return _.toggle({elem:e.currentTarget,view:new j({model:t.model,modelCache:t.modelCache,pluginActions:n})}),t.pluginActions=null})),!1}}},{key:"moveList",value:function(e,t){P.stop(e);var n=t.item.parent().children().index(t.item);this.model.move(n)}},{key:"eventStopPropagation",value:function(e){P.stopPropagation(e)}},{key:"scrollToCard",value:function(e){var t=this.cardListView.viewForModel(e);P.scrollElementIntoView(this.$(".js-list-cards")[0],t.el,{vertical:!0,animated:!0})}},{key:"mouseenter",value:function(e){return this.trigger("mouseEnterListView"),T.addHandler(this,{scope:"list"})}},{key:"mouseleave",value:function(e){return this.trigger("mouseLeaveListView"),T.removeHandler(this,{scope:"list"})}},{key:"mousemove",value:function(e){return this.trigger("mouseMoveListView")}},{key:"dropText",value:function(e){var t=this;if(this.model.editable()){var n=this.model.getBoard(),r={$elem:u(e.target),destinationBoard:n,destinationList:this.model,hasAttachments:!0};if(!v(r)){var i=e.detail,o=re.startTask({taskName:"create-card",subTask:"paste-text",source:"cardFromClipboard"});return $(this.model,"uploadText",i,o).then((function(e){re.sendTrackEvent({action:"created",actionSubject:"card",source:"cardFromClipboard",containers:{board:{id:t.model.getBoard().id},list:{id:t.model.id},card:{id:e.id}},attributes:{taskId:o}}),re.taskSucceeded({taskName:"create-card",subTask:"paste-text",traceId:o,source:"cardFromClipboard"})})).catch((function(e){throw re.taskFailed({taskName:"create-card",subTask:"paste-text",traceId:o,source:"cardFromClipboard",error:e})}))}}}},{key:"dropUrl",value:function(e){if(this.model.editable()){var t=this.model.getBoard(),n={$elem:u(e.target),destinationBoard:t,destinationList:this.model,hasAttachments:!0};if(!v(n)){e.stopPropagation();var r=e.detail;if(!t.attachmentUrlRestricted(r)){var i=C(r);"card"===i.type?this.handlePastedCardUrl(i.shortLink,r):this.createCardFromUrl(r)}}}}},{key:"handlePastedCardUrl",value:function(e,t){var n=this,r="";return E.try((function(){var t,r=null!=(t=Z.getId("Card",e))?t:e,i=n.modelCache.get("Card",r);return null!=i?i:J.loadCardData(r)})).then((function(i){return E.try((function(){var e=i.getBoard();return oe(null!=e?e.get("memberships"):void 0,(function(e){return e.length}))?e:J.loadBoardMinimal(n.get("idBoard"))})).then((function(i){var o,a=x.isCut(t)&&i.editable(),s=!a,l=a?"moveCard":"copyCard";if(s&&(r=re.startTask({taskName:"create-card",subTask:"paste-url",source:"powerUpCardFromTrelloUrl"})),i.get("enterpriseOwned")){if(i.isGuest(p.me())&&i.get("id")!==n.model.getBoard().get("id"))return d.show(["can only copy within board",{boardName:i.get("name")}],"error","trello-clipboard",5e3),void(s&&re.taskAborted({taskName:"create-card",subTask:"paste-url",traceId:r,source:"powerUpCardFromTrelloUrl"}));if(oe(i.getOrganization(),(function(e){return e.get("idEnterprise")}))!==oe(n.model.getBoard().getOrganization(),(function(e){return e.get("idEnterprise")})))return d.show(["can only copy within enterprise",{enterpriseName:i.getEnterprise().get("displayName")}],"error","trello-clipboard",5e3),void(s&&re.taskAborted({taskName:"create-card",subTask:"paste-url",traceId:r,source:"powerUpCardFromTrelloUrl"}))}if(n.trigger(l,{shortLink:e,idList:n.model.id,traceId:r}),s&&(re.sendTrackEvent({action:"created",actionSubject:"card",source:"powerUpCardFromTrelloUrl",containers:{board:{id:n.model.getBoard().id},list:{id:n.model.id}},attributes:{taskId:r}}),re.taskSucceeded({taskName:"create-card",subTask:"paste-url",traceId:r,source:"powerUpCardFromTrelloUrl"})),o=p.me()){var c="pasteAlert-".concat(l);if(!o.isDismissed(c))return o.dismiss(c)}}))})).catch((function(e){return r&&re.taskFailed({taskName:"create-card",subTask:"paste-url",traceId:r,source:"powerUpCardFromTrelloUrl",error:e}),n.createCardFromUrl(t)}))}},{key:"createCardFromUrl",value:function(e){var t,n=this,r=re.startTask({taskName:"create-card",subTask:"paste-url",source:"powerUpCardFromUrl"}),i=O(e);if(null!=(t=i.host))return S.one({timeout:2e3,command:"card-from-url",list:this.model,board:this.model.getBoard(),options:{url:e}}).catch(S.Error.NotHandled,(function(){return{}})).then((function(i){var o=q("loading from domain",{domain:t}),a=N.pick(i,"name","desc");return(null!=i?i.idPlugin:void 0)&&R("board view","creates","Power-Up","","","card-from-url",i.idPlugin),$(n.model,"uploadUrl",e,a,o,r).then((function(e){if(null!=i?i.idPlugin:void 0)return Y({idPlugin:i.idPlugin,idBoard:n.model.getBoard().id,idCard:e.id,event:{action:"created",actionSubject:"card",source:"powerUpCardFromUrl",attributes:{taskId:r}}});re.sendTrackEvent({action:"created",actionSubject:"card",source:"powerUpCardFromUrl",containers:{board:{id:n.model.getBoard().id},list:{id:n.model.id},card:{id:e.id}},attributes:{taskId:r}}),re.taskSucceeded({taskName:"create-card",subTask:"paste-url",traceId:r,source:"powerUpCardFromUrl"})})).catch((function(e){throw re.taskFailed({taskName:"create-card",subTask:"paste-url",traceId:r,source:"powerUpCardFromUrl",error:e})}))})).done()}},{key:"dropFiles",value:function(e){var t=this;if(this.model.editable()){var n=this.model.getBoard();if(!n.attachmentTypeRestricted("computer")){var r={$elem:u(e.target),destinationBoard:n,destinationList:this.model,hasAttachments:!0};if(!v(r)){var i=e.detail;if(!V(this.model.getBoard(),i))return E.resolve(i).each((function(e){var n=e.name||z(),r=re.startTask({taskName:"create-card",subTask:"paste-file",source:"cardFromClipboard"});return $(t.model,"upload",e,n,r).then((function(e){e?(re.sendTrackEvent({action:"created",actionSubject:"card",source:"cardFromClipboard",containers:{board:{id:t.model.getBoard().id},list:{id:t.model.id},card:{id:e.id}},attributes:{taskId:r}}),re.taskSucceeded({taskName:"create-card",subTask:"paste-file",traceId:r,source:"cardFromClipboard"})):re.taskAborted({taskName:"create-card",subTask:"paste-file",traceId:r,source:"cardFromClipboard"})}),(function(e){throw re.taskFailed({taskName:"create-card",subTask:"paste-file",traceId:r,source:"cardFromClipboard",error:e})}))})).catch((function(){})).done()}}}}},{key:"renderAddButton",value:function(){var e=0===this.model.cardList.length;return this.$(".js-add-a-card").toggleClass("hide",!e),this.$(".js-add-another-card").toggleClass("hide",e)}},{key:"renderListLimit",value:function(){var e=this.$(".js-list-content"),t=this.$(".js-list-limit-badge"),n=this.$(".js-list-header");if(this.model.getBoard().isListLimitsPowerUpEnabled()){var r=this.model.get("softLimit");if(null!=r){var i=this.model.cardList.filter((function(e){return!ne(e.get("name"))})).length,o=i>r;return t.text("".concat(i," / ").concat(r)),n.addClass("is-list-limit-shown"),t.removeClass("hide"),e.toggleClass("exceeds-list-limit",o),t.toggleClass("mod-warning",o)}return e.removeClass("exceeds-list-limit"),t.addClass("hide"),n.removeClass("is-list-limit-shown")}return e.removeClass("exceeds-list-limit"),t.addClass("hide"),n.removeClass("is-list-limit-shown")}},{key:"createCardFromTemplate",value:function(e,t,n){var r=this;null==n&&(n=[]);var i=re.startTask({taskName:"create-card",subTask:"template",source:"createCardFromTemplateInlineDialog"});return new E((function(o,a){var s=r.model.cardList.create({name:e,idCardSource:t,keepFromSource:n.join(",")},{traceId:i,error:function(e){return r.model.cardList.remove(card),re.taskFailed({taskName:"create-card",subTask:"template",traceId:i,source:"createCardFromTemplateInlineDialog",error:new Error(e)}),a()},success:function(e){return re.sendTrackEvent({action:"created",actionSubject:"card",source:"createCardFromTemplateInlineDialog",attributes:{cardSourceId:t,taskId:i},containers:{card:{id:e.id},board:{id:oe(null!=r.model?r.model.getBoard():void 0,(function(e){return e.id}))},list:{id:null!=r.model?r.model.id:void 0},organization:{id:oe(oe(null!=r.model?r.model.getBoard():void 0,(function(e){return e.getOrganization()})),(function(e){return e.id}))}}}),R({category:L.CARD_TEMPLATES,verb:M.COMPLETES,directObj:L.CREATE_CARD_FROM_TEMPLATE_MENU,context:{entry:L.LIST}}),re.taskSucceeded({taskName:"create-card",subTask:"template",traceId:i,source:"createCardFromTemplateInlineDialog"}),o((function(){return r.cardListView.scrollToCardView(e)}))}});return r.model.getBoard().filter.addNewCard(s)}))}},{key:"renderCardTemplateButton",value:function(){var e=this;return null!=this.model.id&&ee(Q.createElement(te,{idList:this.model.id,idBoard:this.model.getBoard().id,createCard:function(t,n,r){return e.createCardFromTemplate(t,n,r)}}),this.$(".js-card-templates-button")[0]),this}},{key:"removeCardTemplateButton",value:function(){if(this.$(".js-card-templates-button").length)return X.unmountComponentAtNode(this.$(".js-card-templates-button")[0])}}])&&i(n.prototype,h),w&&i(n,w),U}(w);function oe(e,t){return null!=e?t(e):void 0}ie.initClass(),e.exports=ie},"./app/scripts/views/member-menu-profile/activity-member-menu-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/member-menu-profile/member-mini-profile-view.js");e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(p,e);var t,n,c,u,d=(t=p,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function p(){return r(this,p),d.apply(this,arguments)}return n=p,(c=[{key:"renderMenu",value:function(){}}])&&i(n.prototype,c),u&&i(n,u),p}(c)},"./app/scripts/views/member-menu-profile/board-member-menu-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,d=n("./node_modules/react/index.js"),p=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,m=n("./app/scripts/views/member/add-to-team-popover-view.js"),f=n("./app/scripts/views/lib/alerts.js"),h=n("./app/scripts/db/auth.js"),v=n("./app/scripts/views/member/change-role-popover-view.js"),g=n("./app/scripts/views/lib/confirm.js"),b=n("./app/scripts/controller/index.js"),y=n("./packages/feature-flag-client/index.ts").featureFlagClient,k=n("./app/scripts/views/member-menu-profile/member-mini-profile-view.js"),w=n("./app/scripts/views/lib/pop-over.js"),j=n("./app/scripts/lib/util/index.js"),_=n("./packages/jquery/index.js"),x=n("./node_modules/underscore/underscore.js"),C=n("./app/scripts/lib/localize.js"),O=n("./packages/error-reporting/index.ts").sendErrorEvent,S=n("./app/scripts/views/internal/templates.js"),E=n("./app/scripts/views/organization/member-limits-error.js").maybeDisplayOrgMemberLimitsError,T=n("./packages/browser/index.ts").dontUpsell,P=n("./app/scripts/controller/navigate.js").navigate,N=n("./app/src/components/UpgradePathAudit/FacePileLinkButton.tsx").FacePileLinkButton;e.exports=((u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(D,e);var t,u,k,I,A=(t=D,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function D(){return r(this,D),A.apply(this,arguments)}return u=D,I=[{key:"initClass",value:function(){this.prototype.className="board-member-menu",this.prototype.events={"click .js-remove-member":"removeMember","click .js-add-to-team":"addMemberToTeam","click .js-add-to-team a":"addMemberToTeamUpgrade","click .js-change-role":"changeRole","click .js-view-member-activity":"viewMemberActivity"}}}],(k=[{key:"initialize",value:function(){return this.board=this.options.board,this.org=this.board.getOrganization(),this.listenTo(this.board,"change:prefs",this.render),this.org&&this.listenTo(this.org,"change:products",this.render),o(c(D.prototype),"initialize",this).apply(this,arguments)}},{key:"addMemberToTeamUpgrade",value:function(e){if(e.stopPropagation(),!T())return e.preventDefault(),P(e.target.pathname,{trigger:!0})}},{key:"renderMenu",value:function(){var e=x.extend(this.model.toJSON(),"function"==typeof this.board.premiumFeatures?this.board.premiumFeatures():void 0,this.model.getMembershipData(this.board)),t=this.board.getOrganization();e.boardProfileUrl=b.getMemberBoardProfileUrl(this.model.get("username"),this.board.id);var r=this.board.getMemberType(this.model,{ignoreEntAdminStatus:!0});return e.canInviteMemberToTeam=t&&this.canInviteMemberToTeam(t),e.isGhost="virtual"===r,e.type=C(["member types",r]),e.isTemplate=this.board.isTemplate(),e.isFreeTeam=t&&!t.isPremium(),e.orgBillingUrl=(null!=t?t.get("name"):void 0)&&(null!=t?t.getBillingUrl():void 0),e.orgId=null!=t?t.get("id"):void 0,["superadmin","deactivated"].includes(r)&&(e.canChangeRole=!1),this.$el.append(S.fillMenu(n("./app/scripts/views/templates/member_on_board_menu.js"),e,{editable:this.board.editable(),owned:this.board.owned()})),this.renderUpsellLinkButton(null!=t?t.get("id"):void 0),this}},{key:"renderUpsellLinkButton",value:function(e){var t=this.$(".for-more-roles-react-component")[0];if(e&&t&&y.get("btg.upgrade-prompt-audit",!1))return p(d.createElement(N,{orgId:e}),t)}},{key:"viewMemberActivity",value:function(){return w.hide()}},{key:"canInviteMemberToTeam",value:function(e){if(e.hasActiveMembership(this.model))return!1;var t,n,r=h.me(),i=e.ownedByMember(r),o=e.belongsToRealEnterprise(),a=e.get("idEnterprise"),s=(t=r.get("idEnterprisesAdmin"),n=function(e){return e.indexOf(a)},(null!=t?n(t):void 0)>=0);return i||o&&s}},{key:"changeRole",value:function(e){j.stop(e),w.pushView({view:new v({model:this.model,parent:this.board,modelCache:this.modelCache})})}},{key:"removeMember",value:function(e,t){var n=this;return j.stop(e),g.pushView(this.model.removeMembershipConfirmationKey(this.board),{confirmBtnClass:"nch-button nch-button--danger",fxConfirm:function(e){return n.board.removeMember(n.model),w.hide()}})}},{key:"showError",value:function(e){O(new Error("Unknown server error message '".concat(e,"'")));var t=C(["server error","unknown"]);return f.showLiteralText(t,"error","alert",5e3)}},{key:"addMemberToTeam",value:function(e,t){var n=this;j.stop(e);var r=this.board.getOrganization(),i=r.belongsToRealEnterprise(),o=r.isBusinessClass(),a=r.isStandard();if(i||o||a)w.pushView({view:new m({isBC:o,isStandard:a,isEnterprise:i,model:this.model,org:r})});else{if(E(_(e.target),r,this.model))return;r.addMember(this.model).then((function(){return w.hide()})).catch((function(e){return n.showError(e.message),w.hide()}))}}}])&&i(u.prototype,k),I&&i(u,I),D}(k)).initClass(),u=u)},"./app/scripts/views/member-menu-profile/card-member-menu-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,d=n("./packages/atlassian-analytics/index.ts"),p=d.Analytics,m=d.tracingCallback,f=n("./app/scripts/views/member-menu-profile/member-mini-profile-view.js"),h=n("./app/scripts/views/lib/pop-over.js"),v=n("./app/scripts/views/internal/templates.js");e.exports=((u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(b,e);var t,u,d,f,g=(t=b,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function b(){return r(this,b),g.apply(this,arguments)}return u=b,f=[{key:"initClass",value:function(){this.prototype.events={"click .js-remove-member":"removeMember"}}}],(d=[{key:"initialize",value:function(){o(c(b.prototype),"initialize",this).apply(this,arguments),this.card=this.options.card}},{key:"renderMenu",value:function(){return this.$el.append(v.fillMenu(n("./app/scripts/views/templates/member_on_card_menu.js"),this.model.toJSON(),{editable:this.card.editable()})),this}},{key:"removeMember",value:function(e){var t=this;h.hide();var n=this.model.id,r="cardMemberMenuInlineDialog",i=p.startTask({taskName:"edit-card",subTask:"idMembers",source:r});this.card.removeMemberWithTracing(n,i,m({taskName:"edit-card",subTask:"idMembers",traceId:i,source:r},(function(e,n){n&&p.sendUpdatedCardFieldEvent({field:"idMembers",source:r,containers:{card:{id:t.card.id},board:{id:t.card.get("idBoard")},list:{id:t.card.get("idList")}},attributes:{taskId:i}})})))}}])&&i(u.prototype,d),f&&i(u,f),b}(f)).initClass(),u=u)},"./app/scripts/views/member-menu-profile/large-avatar-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/internal/view.js"),u=n("./app/scripts/views/templates/member_large_avatar.js"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(m,e);var t,n,c,d,p=(t=m,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function m(){return r(this,m),p.apply(this,arguments)}return n=m,d=[{key:"initClass",value:function(){this.prototype.displayType="mod-avdetail"}}],(c=[{key:"getViewTitle",value:function(){return this.model.get("fullName")}},{key:"render",value:function(){var e=this.model.toJSON();return this.$el.html(u(e)),this}}])&&i(n.prototype,c),d&&i(n,d),m}(c);d.initClass(),e.exports=d},"./app/scripts/views/member-menu-profile/member-mini-profile-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./app/scripts/db/auth.js"),d=n("./app/scripts/views/member-menu-profile/large-avatar-view.js"),p=n("./app/scripts/db/model-loader.js"),m=n("./app/scripts/views/lib/pop-over.js"),f=n("./app/scripts/lib/util/index.js"),h=n("./app/scripts/views/internal/view.js"),v=n("./node_modules/underscore/underscore.js"),g=n("./app/scripts/views/templates/mini_profile.js"),b=n("./packages/analytics/index.ts").track,y=n("./packages/atlassian-analytics/index.ts").Analytics,k=n("./packages/feature-flag-client/index.ts").featureFlagClient,w=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(_,e);var t,n,h,w,j=(t=_,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function _(){return r(this,_),j.apply(this,arguments)}return n=_,w=[{key:"initClass",value:function(){this.prototype.viewTitleKey="member",this.prototype.displayType="mod-mini-profile"}}],(h=[{key:"initialize",value:function(){return o(c(_.prototype),"initialize",this).apply(this,arguments),this.listenTo(this.model,"change change:avatarUrl change:avatarSource",this.frameDebounce(this.render)),this.sendGASEvent=k.get("dataeng.gasv3-event-tracking",!1)}},{key:"delegateEvents",value:function(e){return o(c(_.prototype),"delegateEvents",this).call(this,v.extend({"click .js-profile":"showProfile","click .js-view-large":"viewLarge"},e||this.events))}},{key:"render",value:function(){var e,t,n=this,r=this.model.toJSON();return r.isMe=u.isMe(this.model),r.showEmail=null!=r.email&&!r.isMe,r.isDeactivated=(e=null!=this.options?this.options.board:void 0,t=function(e){return e.isDeactivated(n.model)},null!=e?t(e):void 0),null!=r.email||"ghost"!==this.model.get("memberType")||this.loaded||this.loadEmail(),this.$el.html(g(r)),this.renderMenu(),this}},{key:"renderMenu",value:function(){}},{key:"loadEmail",value:function(){var e=this;return p.loadMemberEmail(this.model.id).then((function(){return e.loaded=!0})).done()}},{key:"showProfile",value:function(){b("Mini Profile","Click Profile"),this.sendGASEvent&&y.sendClickedLinkEvent({linkName:"fullNameProfileLink",source:"miniProfileInlineDialog"})}},{key:"viewLarge",value:function(e){f.stop(e),b("Mini Profile","View Large Avatar"),this.sendGASEvent&&y.sendUIEvent({action:"clicked",actionSubject:"avatar",actionSubjectId:"miniProfileAvatar",source:"miniProfileInlineDialog"}),m.pushView({elem:this.$(e.target),view:new d({model:this.model,modelCache:this.modelCache})})}}])&&i(n.prototype,h),w&&i(n,w),_}(h);w.initClass(),e.exports=w},"./app/scripts/views/member-menu-profile/member-on-board-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/db/auth.js"),u=n("./app/scripts/views/member-menu-profile/board-member-menu-view.js"),d=n("./app/scripts/views/lib/drag-sort.js"),p=n("./app/scripts/views/lib/pop-over.js"),m=n("./app/scripts/lib/util/index.js"),f=n("./app/scripts/views/internal/view.js"),h=n("./app/scripts/lib/assert/index.js"),v=n("./app/scripts/debug/log.js"),g=n("./app/scripts/views/templates/member.js"),b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(k,e);var t,n,f,b,y=(t=k,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function k(){return r(this,k),y.apply(this,arguments)}return n=k,b=[{key:"initClass",value:function(){this.prototype.tagName="a",this.prototype.className="member js-member",this.prototype.viewTitleKey="change permissions",this.prototype.attributes={tabindex:0},this.prototype.zIndex=0,this.prototype.events={click:"showMenu",keydown:"showMenu"}}}],(f=[{key:"initialize",value:function(e){var t=e.board,n=e.notClickable,r=e.small,i=e.hideBadges,o=e.zIndex;this.board=t,this.notClickable=n,this.small=r,this.hideBadges=i,this.zIndex=o,h(null!=this.model,"You cannot have a deleted member as a board member!"),this.listenTo(this.model,"change",this.render),this.listenTo(this.board,"change:memberships",this.render)}},{key:"render",value:function(){var e=this;v("render","rendering ".concat(this.constructor.name," ").concat(this.model.get("fullName")));var t,n,r=this.model.toJSON();return r.isBoardAdmin=function(t){var n=t.getMembershipFor(e.model);return"admin"===(null!=n?n.memberType:void 0)}(this.board)||(t=this.board.getOrganization(),n=function(t){return t.isPremOrgAdmin(e.model)},null!=t?n(t):void 0),r.isGhost="ghost"===this.model.get("memberType"),r.isDeactivated=this.board.isDeactivated(this.model),r.hideBadges=this.hideBadges,this.$el.html(g(r)).css("z-index",this.zIndex),this.model.isFeatureEnabled("crown")&&this.$el.addClass("has-crown"),this.small&&this.$el.addClass("m-member-mod-24"),this.notClickable&&this.$el.addClass("m-member-mod-no-click"),this.$el.toggleClass("member-deactivated js-member-deactivated",r.isDeactivated),this.$el.toggleClass("member-virtual-invitee","ghost"===r.memberType&&(null==r.idMemberReferrer||r.idMemberReferrer===c.me().id)),this.$el.toggleClass("long-initials",(null!=r.initials?r.initials.length:void 0)>2),r.isGhost&&this.$el.addClass("member-virtual"),this.$el.data("id",this.model.id),this}},{key:"showMenu",value:function(e){if(!d.sorting&&!this.notClickable){if("keydown"===e.type){if(m.stopPropagation(e)," "!==e.key&&"Enter"!==e.key)return}else m.stop(e);var t=this.options.pushView?"pushView":"toggle";p[t]({elem:e.currentTarget,view:new u({board:this.board,model:this.model,modelCache:this.modelCache})})}}}])&&i(n.prototype,f),b&&i(n,b),k}(f);b.initClass(),e.exports=b},"./app/scripts/views/member/add-to-team-popover-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/lib/alerts.js"),u=n("./app/scripts/views/lib/pop-over.js"),d=n("./app/scripts/lib/util/index.js"),p=n("./app/scripts/views/internal/view.js"),m=n("./packages/jquery/index.js"),f=n("./app/scripts/views/templates/popover_add_to_team.js"),h=n("./app/scripts/lib/localize.js"),v=n("./app/scripts/lib/localize-server-error.js"),g=n("./app/scripts/views/organization/member-limits-error.js").maybeDisplayOrgMemberLimitsError,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(k,e);var t,n,p,b,y=(t=k,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function k(){return r(this,k),y.apply(this,arguments)}return n=k,b=[{key:"initClass",value:function(){this.prototype.viewTitleKey="add to team",this.prototype.events={"click .js-add-to-team":"addToTeam"}}}],(p=[{key:"render",value:function(){var e=h(["products",this.options.isStandard?"standard":this.options.isBC?"bc":"enterprise"]);return this.$el.html(f({teamType:e})),this}},{key:"showError",value:function(e){var t=v(e);return c.showLiteralText(t,"error","alert",5e3)}},{key:"addToTeam",value:function(e){var t=this;if(d.preventDefault(e),this.$(".js-add-to-team").attr("disabled",!0).addClass("disabled"),!g(m(e.target),this.options.org,this.model))return this.options.isOrgView?this.options.org.addMembers(this.model).then((function(e){return e[e._categories.ADDED]&&(null!=t.options.showAlert?t.options.showAlert:t.options.showAlert=!1)&&c.show("added to team","confirm","info",3e3),u.hide()})):this.options.org.addMember(this.model).then((function(){if(null!=t.options.showAlert?t.options.showAlert:t.options.showAlert=!1)return c.show("added to team","confirm","info",3e3)})).catch((function(e){return t.showError(e.message)})).finally((function(){return u.hide()}))}}])&&i(n.prototype,p),b&&i(n,b),k}(p);b.initClass(),e.exports=b},"./app/scripts/views/member/change-role-popover-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./app/scripts/db/auth.js"),d=n("./app/scripts/views/lib/confirm.js"),p=n("./app/scripts/views/lib/pop-over.js"),m=n("./app/scripts/lib/util/index.js"),f=n("./app/scripts/views/internal/view.js"),h=n("./app/scripts/views/internal/templates.js"),v=n("./app/scripts/lib/localize.js"),g=n("./packages/atlassian-analytics/index.ts").Analytics,b=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(w,e);var t,f,b,y,k=(t=w,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function w(){return r(this,w),k.apply(this,arguments)}return f=w,y=[{key:"initClass",value:function(){this.prototype.viewTitleKey="change permissions",this.prototype.events={"click .js-make-admin":"makeAdmin","click .js-make-member":"makeMember","click .js-make-observer":"makeObserver"}}}],(b=[{key:"initialize",value:function(){this.parent=this.options.parent,this.listenTo(this.parent,"change:memberships",this.render)}},{key:"render",value:function(){var e=this,t=this.model.getMembershipData(this.parent);t.showObserver=this.parent.hasObservers(),t.canMakeAdmin=this.model.get("confirmed");for(var r=function(){if("Organization"===e.parent.typeName)return"org roles";if("Board"===e.parent.typeName)return"board roles";throw new Error("A fragile abstraction has broken")}(),i=0,o=Array.from(this.parent.getAvailableRoles());i<o.length;i++){var a=o[i];t["roleText_".concat(a)]=v([r,a,"text"])}return null==t.roleText_admin&&(t.roleText_admin=t.roleText_superadmin),this.$el.html(h.fill(n("./app/scripts/views/templates/popover_change_roles.js"),t)),this}},{key:"apiChangeRole",value:function(e,t){this.$el.find("ul a").addClass("disabled"),this.parent.changeMemberRole(this.model,{type:e},t).then((function(){g.taskSucceeded({taskName:"edit-board",subTask:"members/role",source:"changeBoardMemberRoleInlineDialog",traceId:t})})).catch((function(e){g.taskFailed({taskName:"edit-board",subTask:"members/role",source:"changeBoardMemberRoleInlineDialog",traceId:t,error:e})})).done(),p.hide()}},{key:"getMemberType",value:function(){return this.parent.getExplicitMemberType(this.model)}},{key:"isAdminAndMe",value:function(){return"admin"===this.getMemberType()&&u.isMe(this.model)}},{key:"isEnterpriseAdmin",value:function(){var e,t,n=this;return e="function"==typeof this.parent.getEnterprise?this.parent.getEnterprise():void 0,t=function(e){return e.isAdmin(n.model)},null!=e?t(e):void 0}},{key:"makeAdmin",value:function(e){if(m.stop(e),!c(e.target).closest("a").hasClass("disabled")&&"admin"!==this.getMemberType()){var t=g.startTask({taskName:"edit-board",subTask:"members/role",source:"changeBoardMemberRoleInlineDialog"});this.apiChangeRole("admin",t)}}},{key:"makeMember",value:function(e){var t=this;if(m.stop(e),!c(e.target).closest("a").hasClass("disabled")&&"normal"!==this.getMemberType()){var n=g.startTask({taskName:"edit-board",subTask:"members/role",source:"changeBoardMemberRoleInlineDialog"});this.isAdminAndMe()&&!this.isEnterpriseAdmin()?d.pushView("demote admin to normal member",{fxConfirm:function(e){return t.apiChangeRole("normal",n)}}):this.apiChangeRole("normal",n)}}},{key:"makeObserver",value:function(e){var t=this;if(m.stop(e),!c(e.target).closest("a").hasClass("disabled")&&"observer"!==this.getMemberType()){var n=g.startTask({taskName:"edit-board",subTask:"members/role",source:"changeBoardMemberRoleInlineDialog"});this.isAdminAndMe()?d.pushView("demote admin to observer",{fxConfirm:function(e){return t.apiChangeRole("observer",n)}}):this.apiChangeRole("observer",n)}}}])&&i(f.prototype,b),y&&i(f,y),w}(f);b.initClass(),e.exports=b},"./app/scripts/views/member/member-avatar-react.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t){return(i=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function o(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function a(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function s(e){return(s=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var l=n("./app/scripts/lib/util/naive-should-component-update.js"),c=n("./node_modules/react/index.js"),u=n("./app/scripts/views/internal/recup-with-helpers.js")("member"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&i(e,t)}(m,e);var t,n,c,d,p=(t=m,function(){var e,n=s(t);if(a()){var r=s(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return o(this,e)});function m(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,m),p.call(this,e)}return n=m,d=[{key:"initClass",value:function(){this.prototype.displayName="MemberAvatar",this.prototype.shouldComponentUpdate=l,this.prototype.render=u.renderable((function(){var e=this.props,t=e.avatarUrl,n=e.email,r=e.username,i=e.initials,o=e.isDeactivated,a=e.isBoardAdmin,s=e.isOrganizationAdmin,l=e.viewTitle;return u.div(".autocomplete-member-avatar",(function(){var e=l;if(t){var c=[t,"30.png"].join("/"),d=[t,"50.png"].join("/");u.img({class:"member-avatar",height:"30",width:"30",src:c,srcSet:"".concat(c," 1x, ").concat(d," 2x"),alt:e,title:e})}else null!=i&&""!==i?u.span(".member-initials",{title:e},(function(){return u.text(i)})):null!=r?u.div(".member-icon-container",(function(){return u.icon("member")})):null!=n&&u.span(".member-initials",{title:e},(function(){return u.text(n[0].toUpperCase())}));return o||(a&&u.span(".member-type.admin",{title:u.l("this-member-is-an-admin-of-this-board")}),s&&u.span(".member-type.admin",{title:u.l("this-member-is-an-admin-of-this-organization")})),u.span(".member-gold-badge",{title:u.l("this-member-has-trello-gold")})}))}))}}],(c=null)&&r(n.prototype,c),d&&r(n,d),m}(c.Component);d.initClass(),e.exports=d},"./app/scripts/views/member/member-board-profile-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/models/collections/action-list.js"),u=n("./app/scripts/views/action/action-list-view.js"),d=n("./app/scripts/network/payloads.ts").default,p=n("./app/scripts/views/internal/view-with-actions.js"),m=n("./app/scripts/views/internal/view.js"),f=n("./app/scripts/views/internal/templates.js"),h=n("./node_modules/underscore/underscore.js"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(g,e);var t,p,m,h,v=(t=g,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function g(){return r(this,g),v.apply(this,arguments)}return p=g,h=[{key:"initClass",value:function(){this.prototype.events={"click .js-more-actions":"loadMoreActions"}}}],(m=[{key:"initialize",value:function(){var e=this;return this.board=this.options.board,this.listenTo(this.board.memberList,"add remove reset",this.frameDebounce(this.render)),this.actionListView=this.collectionSubview(u,new c(this.model.getActions(this.board),{modelCache:this.modelCache}),{renderOpts:{context:this.model,readOnly:!0,source:"boardScreen"}}),this.listenTo(this.modelCache,"add:Action:".concat(this.model.id," remove:Action:").concat(this.model.id),(function(){return e.actionListView.collection.reset(e.model.getActions(e.board),{silent:!0}),e.renderActions()})),this.idModels=[this.board.id],this.nextPage=0,this.loadMoreActions()}},{key:"render",value:function(){return this.$el.html(f.fill(n("./app/scripts/views/templates/board_member_profile.js"),this.model.toJSON())),this.actionListView.setElement(this.$(".list-actions")[0]),this.renderActions()}},{key:"renderActions",value:function(){return this.actionListView.render(),this.$(".js-more-actions").toggle(this.hasMoreActions()),this}},{key:"getActionsFilter",value:function(){return d.memberActions}}])&&i(p.prototype,m),h&&i(p,h),g}(m);v.initClass(),h.extend(v.prototype,p),e.exports=v},"./app/scripts/views/member/member-multi-select-autocomplete-component.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return t&&i(e.prototype,t),n&&i(e,n),e}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e){return function(){var t,n=p(e);if(d()){var r=p(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return c(this,t)}}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?u(e):t}function u(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=n("./node_modules/underscore/underscore.js"),f=n("./packages/jquery/index.js"),h=n("./app/scripts/views/organization/invite-member-autocomplete-avatar.js"),v=n("./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.js"),g=n("./node_modules/bluebird/js/browser/bluebird.js"),b=n("./node_modules/react/index.js"),y=n("./app/scripts/views/internal/recup-with-helpers.js")("org_members"),k=n("./app/scripts/lib/localize.js"),w=n("./packages/browser/index.ts").isDesktop(),j=n("./app/src/components/InfiniteList/index.ts").InfiniteList,_=n("./app/common/lib/util/non-public-fields-filter.ts").useNonPublicIfAvailable,x=n("./packages/test-ids/index.ts").TeamTestIds,C=/([^"@\s\[\]\(\),:;<>\\]+@[-a-z0-9\.]+\.[a-z]+)/gi,O=/^@[a-z0-9_]{3,}$/,S=function(e){a(n,e);var t=l(n);function n(){return r(this,n),t.apply(this,arguments)}return o(n,[{key:"shouldComponentUpdate",value:function(e){return e.isActive}},{key:"render",value:function(){var e=this.props,t=e.displayDetails,n=e.displayOrg,r=e.selectedOptions,i=e.activeIndex,o=e.searchResults,a=e.selectMemberOption;if(!o.length)return null;var s=r.map((function(e){return e.id}));return b.createElement(j,{itemCount:o.length,pageSize:20,awaitMore:!1,renderItem:function(e,r){var l=o[e],c=s.includes(l.id),u=i===e;return b.createElement(h,{onMouseDown:function(e){return a(e,l)},displayDetails:t,displayOrg:n,activeMember:u,member:l,selected:c,isDesktop:w,key:r})}})}}]),n}(b.Component),E=void 0,T=void 0,P=function(e){a(i,e);var t=l(i);function i(e){var n;return r(this,i),(n=t.call(this,e)).isUnmounted=!1,n.updateSearchResultList=m.debounce(n.updateSearchResultList,250),n.searchForMembersPromise=null,n.searchForMembers=n.searchForMembers.bind(u(n)),n.selectMemberOption=n.selectMemberOption.bind(u(n)),n.onInputChange=n.onInputChange.bind(u(n)),n.onInputFocus=n.onInputFocus.bind(u(n)),n.onInputBlur=n.onInputBlur.bind(u(n)),n.onInputKeyUp=n.onInputKeyUp.bind(u(n)),n.onInputKeyDown=n.onInputKeyDown.bind(u(n)),n.onInputPaste=n.onInputPaste.bind(u(n)),n.onAutocompleteKeyDown=n.onAutocompleteKeyDown.bind(u(n)),n.onAutocompleteSubmit=n.onAutocompleteSubmit.bind(u(n)),n.searchCache={},n.searchInput=b.createRef(),n.onDocumentClick=n.onDocumentClick.bind(u(n)),n.searchInputFocusPending=null,n.state={activeIndex:-1,isOpen:!1,isFetching:e.loadingOrg,processingMembers:!1,isActive:!0,isTyping:!1,searchResults:[],searchText:"",shouldFocusOnUpdate:!1,showMultiBoardGuestAlert:!1},n}return o(i,null,[{key:"initClass",value:function(){E=function(e){return f.trim(e).toLowerCase().match(C)},T=function(e){return f.trim(e).toLowerCase().replace(/@/g,"")},this.prototype.render=y.renderable((function(){var e=this,t=this.state,r=t.activeIndex,i=t.isActive,o=t.isFetching,a=t.isOpen,s=t.processingMembers,l=t.searchResults,c=t.searchText,u=t.error,d=t.showMultiBoardGuestAlert,p=this.props,f=p.placeholder,g=p.displayDetails,b=p.displayOrg,j=p.emptySearchText,_=p.submitText,O=p.children,E=p.extraSearchOption,T=p.selectedOptions,P=p.onRemoveMemberOption,N=p.fullWidthButton,I=p.submitAlwaysEnabled,A=p.hideDefaultButton,D=p.hideInviteLink,B=p.showMultiboardGuestWarning,R=p.isTemplate,L=c.match(C),M=T.length>0,F=m.some(T,(function(e){return e.blockInvite})),V=F&&b&&b.owned(),z=F&&b&&!b.owned(),U=(!M&&L||M)&&!s&&(!F||V)||I;return y.div(".multi-select-autocomplete-container",(function(){if(y.div(".autocomplete-input-container",{class:y.classify({active:i,processing:s,"is-empty":!T.length}),onKeyDown:e.onAutocompleteKeyDown},(function(){if(y.div(".autocomplete-selected",(function(){return T.length&&T.map((function(t,n){return y.createElement(h,{displayDetails:!1,onRemoveClick:function(e){return e.preventDefault(),P(n)},onShowMultiBoardGuestAlert:function(t){return e.setState({showMultiBoardGuestAlert:t})},member:t})})),y.input(".autocomplete-input",{type:"text",onBlur:e.onInputBlur,onChange:e.onInputChange,onKeyUp:e.onInputKeyUp,onKeyDown:e.onInputKeyDown,onFocus:e.onInputFocus,onPaste:e.onInputPaste,disabled:s,placeholder:T.length?"":f,value:c,style:{minWidth:"".concat(Math.min(8*(null!=c?c.length:void 0)+2,264),"px")},ref:e.searchInput,"data-test-id":x.AddMemberInput})})),a){if(o)return y.div(".autocomplete-search-results",(function(){return y.div(".spinner.loading")}));if(l.length>0)return y.div(".autocomplete-search-results",{className:null!=E?"has-extra-option":""},(function(){if(y.div(".autocomplete-search-scroll",(function(){return y.tag(S,{isActive:i,displayDetails:g,displayOrg:b,selectedOptions:T,activeIndex:r,searchResults:l,selectMemberOption:e.selectMemberOption})})),E)return y.addElement(E)}));if(null!=j)return y.div(".autocomplete-search-results.is-empty",(function(){if(y.div(".is-empty-text",{class:y.classify({"is-empty-text-mod-padding":null!=E})},(function(){return y.text(j)})),E)return y.addElement(E)}))}else{if(null!=u)return y.div(".autocomplete-search-results.is-empty",(function(){return y.text(u.message)}));if(d)return y.div(".autocomplete-search-results.is-empty",(function(){return y.createElement(v,{displayOrg:b,isDesktop:w})}))}})),y.addElement(O),D||(y.div(".invite-link-actions",(function(){return y.span(".invite-with-link",(function(){return y.img(".invite-with-link-icon",{src:n("./resources/images/icon-link.svg")}),y.text(k(["templates","board_member_add_multiple","invite-with-link"]))})),y.a(".action-link.js-show-invitation-link",{href:"#"},(function(){return y.text(k(["templates","board_member_add_multiple","create-link"]))})),y.a(".action-link.js-deactivate-link.hide.js-invitation-link-container",{href:"#"},(function(){return y.text(k(["templates","board_member_add_multiple","disable-link"]))}))})),y.p(".quiet.invite-with-link-description",(function(){if(!B)return R?y.text(k(["templates","board_member_add_multiple","anyone-with-link-can-join-as-template-member"])):y.text(k(["templates","board_member_add_multiple","anyone-with-link-can-join-as-board-member"]));if(y.text(k(["templates","board_member_add_multiple","guests-that-are-already-on-another-team"])),!w){y.text(" ");return y.a({href:"https://help.trello.com/article/1123-multi-board-guests",target:"_blank"},(function(){return k(["templates","select_member","learn-more"])}))}})),y.div(".manage-member-invitation-link.hide.js-invitation-link-container",(function(){return y.input(".js-invitation-link",{type:"text",readOnly:"readonly",placeholder:k(["templates","board_member_add_multiple","loading"])}),y.button(".nch-button.nch-button--primary.js-copy-invitation-link.js-hide-on-copy",(function(){return y.text(k(["templates","board_member_add_multiple","copy"]))})),y.button(".nch-button.nch-button--primary.js-copy-invitation-link.js-show-on-copy.hide",(function(){return y.text(k(["templates","board_member_add_multiple","copied"]))}))}))),(V||z)&&y.div(".multi-board-guest-message",(function(){return y.format("invite-multi-board-guests-confirmation-message")})),!A)return y.button(".autocomplete-btn.nch-button.nch-button--primary",{class:y.classify({disabled:!U,fullWidthButton:N}),disabled:!U,onClick:e.onAutocompleteSubmit(V),"data-test-id":x.TeamInviteSubmitButton},(function(){return s?y.div(".spinner.loading"):V?y.format("invite-multi-board-guests-confirmation-button"):y.text(_)}))}))}))}}]),o(i,[{key:"componentDidMount",value:function(){var e=this;return this.searchInputFocusPending=setTimeout((function(){return null!=e.searchInput.current?e.searchInput.current.focus():void 0}),100),document.addEventListener("click",this.onDocumentClick)}},{key:"componentDidUpdate",value:function(e){var t=this;if(!e.loadingOrg||this.props.loadingOrg||this.state.searchText||this.setState({shouldFocusOnUpdate:!0},(function(){return t.searchForMembers(t.state.searchText)})),this.state.shouldFocusOnUpdate&&(this.searchInput.current.focus(),this.setState({shouldFocusOnUpdate:!1})),this.state.isActive&&document.activeElement!==this.searchInput.current)return this.setState({isOpen:!1,isActive:!1})}},{key:"componentWillUnmount",value:function(){return null!=this.searchInputFocusPending&&(clearTimeout(this.searchInputFocusPending),this.searchInputFocusPending=null),this.isUnmounted=!0,null!=this.searchForMembersPromise&&this.searchForMembersPromise.cancel(),document.removeEventListener("click",this.onDocumentClick)}},{key:"updateSearchResultList",value:function(e){if(e){var t=this.searchCache[e];return t?this.receiveSearchResults(t):this.searchForMembers(e)}}},{key:"searchForMembers",value:function(e,t){var n=this,r=this.props.onAutocompleteSearch;return null!=this.searchForMembersPromise&&this.searchForMembersPromise.cancel(),this.searchForMembersPromise=g.try((function(){return O.test(e)?e=T(e):C.test(e)&&(e=E(e)[0]),n.setState({isFetching:!0,isOpen:!0}),r(e)})).cancellable().then((function(t){return null==t&&(t=[]),t.forEach((function(e){if(e.id){var t={avatarUrl:_(e,"avatarUrl"),fullName:_(e,"fullName"),initials:_(e,"initials")};return m.extend(e,t)}})),n.searchCache[e]=t,n.receiveSearchResults(t,e)})).catch(g.CancellationError,(function(){return n.setState({isFetching:!1})})).catch((function(e){return n.setState({isFetching:!1,error:e})}))}},{key:"receiveSearchResults",value:function(e,t){return e=m.filter(e,(function(e){return e.email||e.username})),this.setState({isOpen:this.state.isTyping,isFetching:!1,searchResults:e})}},{key:"selectMemberOption",value:function(e,t){e.preventDefault();var n=this.props,r=n.onSelectMemberOption,i=n.shouldFocusOnSelectMemberOption;return null!=this.searchForMembersPromise&&this.searchForMembersPromise.cancel(),this.setState({searchText:"",isOpen:!1,shouldFocusOnUpdate:i||!1}),r(t)}},{key:"onDocumentClick",value:function(e){if(0===f(e.target).closest(".autocomplete-search-results.is-empty, .autocomplete-option").length&&this.state.showMultiBoardGuestAlert)return this.setState({showMultiBoardGuestAlert:!1})}},{key:"onInputBlur",value:function(e){if(document.activeElement!==this.searchInput.current)return C.test(e.target.value)&&this.selectMemberOption(e,m.map(E(e.target.value),(function(e){return{email:e}}))),this.setState({isOpen:!1,isActive:!1})}},{key:"onInputChange",value:function(e){e.persist();var t=e.target.value;return this.setState({searchText:t,isOpen:!1,error:void 0,showMultiBoardGuestAlert:!1}),this.updateSearchResultList(t)}},{key:"onInputFocus",value:function(e){return this.setState({isActive:!0})}},{key:"onInputKeyUp",value:function(e){var t=this.props.selectedOptions;return["Enter",","," "].includes(e.key)&&C.test(e.target.value)?(e.preventDefault(),this.setState({isOpen:!1,isTyping:!1}),null!=this.searchForMembersPromise&&this.searchForMembersPromise.cancel(),this.selectMemberOption(e,m.map(E(e.target.value),(function(e){return{email:e}})))):!1===e.key||e.target.value||!t.length?this.setState({isTyping:!0}):void 0}},{key:"onInputKeyDown",value:function(e){var t=this.props,n=t.onRemoveMemberOption,r=t.selectedOptions;if("Backspace"===e.key&&!e.target.value&&r.length)return n(r.length-1),this.setState({shouldFocusOnUpdate:!0})}},{key:"onInputPaste",value:function(e){var t=e.clipboardData.getData("Text");if(C.test(t))return this.selectMemberOption(e,m.map(E(t),(function(e){return{email:e}})))}},{key:"onAutocompleteKeyDown",value:function(e){var t,n,r=this.state,i=r.activeIndex,o=r.searchResults;switch(e.key){case"Enter":if(o[i]&&!o[i].joined)return this.setState({activeIndex:-1}),this.selectMemberOption(e,o[i]);break;case"ArrowRight":case"ArrowDown":return t=i===o.length-1?-1:i+1,this.setState({activeIndex:t});case"ArrowLeft":case"ArrowUp":return n=-1===i?o.length-1:i-1,this.setState({activeIndex:n});default:return null}}},{key:"onAutocompleteSubmit",value:function(e){var t=this;return function(n){var r=t.state.searchText,i=t.props,o=i.onSubmit,a=i.submitDisabled;return C.test(r)&&t.selectMemberOption(n,m.map(E(r),(function(e){return{email:e}}))),t.setState({processingMembers:!0}),o(e).then((function(){if(!t.isUnmounted&&!a)return t.setState({processingMembers:!1})})).catch((function(e){if(!t.isUnmounted)return t.setState({processingMembers:!1,error:e})}))}}}]),i}(b.Component);P.initClass(),e.exports=P},"./app/scripts/views/member/select-filterable-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/internal/view.js"),u=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_member"),d=u.renderable((function(e){var t=e.text,n=e.extraText,r=e.mentionCount;return u.li({class:"item js-member-item"},(function(){return u.a({href:"#",class:"js-select-member ",title:t,autocompleteText:t},(function(){return u.span(".text",{title:"card"},(function(){return u.text("".concat(n," (").concat(r,")"))}))}))}))}));e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(m,e);var t,n,c,u,p=(t=m,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function m(){return r(this,m),p.apply(this,arguments)}return n=m,(c=[{key:"render",value:function(){return this.$el.html(d(this.options)),this}}])&&i(n.prototype,c),u&&i(n,u),m}(c)},"./app/scripts/views/member/select-member-on-card-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./app/scripts/views/member/select-member-view.js");e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(m,e);var t,n,u,d,p=(t=m,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function m(){return r(this,m),p.apply(this,arguments)}return n=m,(u=[{key:"initialize",value:function(){return this.listenTo(this.options.card,"change:idMembers",this.renderActive)}},{key:"renderActive",value:function(){var e;return this.$el.toggleClass("active",(e=this.model.id,Array.from(this.options.card.get("idMembers")).includes(e)))}},{key:"render",value:function(){return o(c(m.prototype),"render",this).apply(this,arguments),this.renderActive(),this}}])&&i(n.prototype,u),d&&i(n,d),m}(u)},"./app/scripts/views/member/select-member-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/internal/view.js"),u=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_member"),d=n("./app/scripts/views/templates/member.js"),p=u.renderable((function(e){var t=e.url,n=e.extraText,r=e.id,i=e.viewTitle,o=e.username,a=e.isVirtual,s=e.fullName,l=e.inactive,c=e.unconfirmed;return u.a(".name.js-select-member",{href:t||"#",class:u.classify({"multi-line":n}),idMember:r,title:i,autocompleteText:o},(function(){if(u.span(".member.js-member",{class:u.classify({virtual:a})},(function(){return d(e)})),u.span(".full-name",{name:"".concat(s).concat(o?" (".concat(o):""),"aria-hidden":!0},(function(){if(u.text(s),u.text(" "),o)return u.span(".username",(function(){return u.text("(".concat(o,")"))}))})),n&&u.div(".extra-text.quiet",(function(){return u.format("extratext",{extraText:n})})),u.icon("check",{class:"checked-icon","aria-label":u.l("added-to-card")}),u.icon("forward",{class:"light option js-open-option"}),l&&u.span(".quiet.sub-name",(function(){return u.format("inactive-account")})),c)return u.span(".quiet.sub-name",(function(){return u.format("unconfirmed-user")}))}))})),m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(m,e);var t,n,c,u,d=(t=m,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function m(){return r(this,m),d.apply(this,arguments)}return n=m,u=[{key:"initClass",value:function(){this.prototype.tagName="li",this.prototype.className="item js-member-item"}}],(c=[{key:"initialize",value:function(){}},{key:"render",value:function(){var e=this.model.toJSON();return"ghost"===this.model.get("memberType")&&(e.isVirtual=!0),e.unconfirmed=this.options.showUnconfirmed&&!e.isVirtual&&!e.confirmed,e.inactive=this.options.showInactive&&!e.active,e.isKnownMember=this.options.isKnownMember,e.extraText=this.options.extraText,e.disabled=this.options.disabled,this.options.linkName?e.url="/".concat(this.model.get("username")):delete e.url,this.el.innerHTML=p(e),this.$el.toggleClass("active",Boolean(e.isActive)).toggleClass("unconfirmed",Boolean(e.unconfirmed)).toggleClass("inactive",Boolean(e.inactive)).toggleClass("js-autoselect",Boolean(e.isKnownMember)).toggleClass("disabled",Boolean(e.disabled)),this.$(".js-member").data("id",this.model.id),this}}])&&i(n.prototype,c),u&&i(n,u),m}(c);m.initClass(),e.exports=m},"./app/scripts/views/onboarding/inspiration-popover.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t,n){return t&&a(e.prototype,t),n&&a(e,n),e}function l(e,t){return(l=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function c(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n("./node_modules/underscore/underscore.js"),m=n("./node_modules/react/index.js"),f=n("./app/scripts/db/auth.js"),h=n("./app/scripts/controller/index.js"),v=n("./packages/error-reporting/index.ts").sendErrorEvent,g=n("./app/scripts/views/internal/recup-with-helpers.js")("onboarding"),b=n("./packages/analytics/index.ts").trackUe,y=n("./app/scripts/views/onboarding/constants.js").verticals,k=n("./app/scripts/views/onboarding/helpers.js"),w=k.copyBoardFromVertical,j=k.getVertical,_=k.removeBoard,x=k.getLocale,C=n("./packages/nachos/icons/down.tsx").DownIcon,O=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&l(e,t)}(a,e);var t,i=(t=a,function(){var e,n=d(t);if(u()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return c(this,e)});function a(){var e;o(this,a),e=i.apply(this,arguments);var t=x(),n=Object.keys(y).map((function(e){return Object.assign(y[e],{key:e})})),s=Array.from(p.partition(n,(function(e){return!isNaN(e.sortId)}))),l=r(s,2),c=l[0],u=l[1];return e.verticals=c.sort((function(e,t){return e.sortId-t.sortId})).concat(p.shuffle(u)).filter((function(e){return e.inspirationBoards[t]})),e.state={copyingBoard:!1,selectedVertical:j(e.props.boardId)},e}return s(a,null,[{key:"initClass",value:function(){this.prototype.displayName="InspirationPopover",this.prototype.render=g.renderable((function(){var e=this,t=this.state,r=t.copyingBoard,i=t.selectedVertical;return g.div(".inspiration-popover",(function(){return g.div(".inspiration-popover--taco",(function(){return g.div(".inspiration-popover--taco-inner",(function(){return g.img({src:n("./resources/images/taco.png")})}))})),g.div(".inspiration-popover--content",(function(){return g.h2((function(){return g.format("welcome-to-trello-wave",{name:f.me().get("fullName")})})),g.div(".inspiration-popover--select",(function(){return r&&g.div(".spinner"),g.addElement(m.createElement(C,{block:!0})),g.select({onChange:function(t){return e.handleChangeSelect(t)},defaultValue:i},(function(){return function(){for(var t=[],n=function(){var e=o[r].key,n=e===i?g.l(["exploring-trello-for"],{vertical:g.l(e)},{raw:!0}):g.l(e);t.push(g.option(".inspiration-popover--select-option",{value:e},(function(){return g.text(n)})))},r=0,o=Array.from(e.verticals);r<o.length;r++)n();return t}()}))})),g.p((function(){return g.format("heres-an-example-of-how-to-use",{vertical:g.l(i)})})),g.p((function(){return g.format("this-is-just-an-example")})),g.button(".nch-button.nch-button--primary",{onClick:function(){return e.handleKeepBoard()},disabled:r,class:g.classify({disabled:r})},(function(){return g.format("keep-this-board")})),g.button(".button",{onClick:function(){return e.handleGetStarted()},disabled:r,class:g.classify({disabled:r})},(function(){return g.format("help-me-get-started")}))}))}))}))}}]),s(a,[{key:"handleChangeSelect",value:function(e){var t=this,n=e.target.value;return b("Inspiration Board Popover","changes","vertical","","","",{boardId:this.props.boardId,lastVertical:this.state.selectedVertical,nextVertical:n}),this.setState({copyingBoard:!0,selectedVertical:n},(function(){return w(t.props.modelCache,n).then((function(){return t.setState({copyingBoard:!1})})).catch((function(e){return v(e,{extraData:{vertical:n,message:"Error copying board",source:"Inspiration Popover"},tags:{feature:"Personalized Onboarding"}}),t.setState({copyingBoard:!1})}))}))}},{key:"handleKeepBoard",value:function(){return b("Inspiration Board Popover","clicks","keep board","","","",{boardId:this.props.boardId,vertical:this.state.selectedVertical}),_(this.props.boardId),this.props.onClose()}},{key:"handleGetStarted",value:function(){b("Inspiration Board Popover","clicks","get started","","","",{boardId:this.props.boardId,vertical:this.state.selectedVertical});var e="other"===this.state.selectedVertical?"default":this.state.selectedVertical;return h.navigate("/create-first-board?selectedVertical=".concat(e),{trigger:!0})}}],[{key:"getDerivedStateFromProps",value:function(e){return e.boardId!==this.props.boardId?{selectedVertical:j(e.boardId)}:null}}]),a}(m.Component);O.initClass(),e.exports=O},"./app/scripts/views/organization/create-org-view.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function o(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function a(e,t,n){return t&&o(e.prototype,t),n&&o(e,n),e}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?c(e):t}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function u(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function d(e){return(d=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var p=n("./app/scripts/db/auth.js"),m=n("./app/scripts/models/board.js"),f=n("./app/scripts/controller/index.js"),h=n("./app/scripts/db/model-loader.js"),v=n("./app/scripts/views/lib/pop-over.js"),g=n("./node_modules/bluebird/js/browser/bluebird.js"),b=n("./app/scripts/views/organization/member-limits-error.js").maybeDisplayOrgMemberLimitsError,y=n("./app/scripts/lib/util/index.js"),k=n("./app/scripts/views/internal/view.js"),w=n("./app/scripts/views/internal/templates.js"),j=n("./packages/browser/index.ts").isDesktop,_=n("./packages/analytics/index.ts"),x=_.track,C=_.trackUe,O=_.Noun,S=_.Verb,E=n("./packages/feature-flag-client/index.ts").featureFlagClient,T=n("./app/src/components/TeamTypeSelect/index.ts").TeamTypeSelect,P=n("./app/src/components/ComponentWrapper/index.ts").renderComponent,N=n("./node_modules/react/index.js"),I=n("./app/scripts/views/lib/post-render.js"),A=n("./packages/jquery/index.js"),D=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(o,e);var t,i=(t=o,function(){var e,n=d(t);if(u()){var r=d(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=i.call(this,e)).onChangeTeamType=t.onChangeTeamType.bind(c(t)),t.renderTeamTypeSelect=t.renderTeamTypeSelect.bind(c(t)),t}return a(o,null,[{key:"initClass",value:function(){this.prototype.viewTitleKey="create organization",this.prototype.events={"click .js-save":"submit","submit form":"submit","click .js-business-class":"clickBusinessClassMore","click .js-enterprise-learn-more":"clickEnterpriseLearnMore","input .js-display-name"(){return this.updateSubmitButton()}}}}]),a(o,[{key:"initialize",value:function(e){var t=e.createOpts,n=e.trackingOpts;this.createOpts=t,this.trackingOpts=n,null==this.trackingOpts&&(this.trackingOpts={category:null,method:null,context:{}}),null==this.createOpts&&(this.createOpts={isBusinessClass:!1,boardToAddToOrg:!1,isEnterprise:!1});var i=r(Array.from((p.me().get("email")||"").split("@")),2)[1];return this.emailDomain=i||"",this.teamTypeValue="",this}},{key:"getValue",value:function(e){return t=this.$("[name=".concat(e,"]")).val(),n=function(e){return e.trim()},null!=t?n(t):void 0;var t,n}},{key:"render",value:function(){var e,t,r,i=E.get("fv.domain-level-free-team-restricted",!1);return this.createOpts.isEnterprise?(e=n("./app/scripts/views/templates/org_create_enterprise.js"),t={enterprises:p.me().enterpriseList,dontUpsell:j()}):(e=n("./app/scripts/views/templates/org_create.js"),t={freeTeamLimitExceeded:i,dontUpsell:j(),emailDomain:(r=this.emailDomain,r?"(".concat(r,")"):""),boardToAddToOrg:this.createOpts.boardToAddToOrg,memberCount:null!=this.model.memberList?this.model.memberList.length:void 0,isPrivateTemplate:this.createOpts.isPrivateTemplate}),this.$el.html(w.fill(e,t)),this.updateSubmitButton(),this.renderTeamTypeSelect(),i&&C({category:O.BOARD_HEADER,verb:S.SHOWS,directObj:O.FREE_TEAM_LIMIT_BLOCKED_POPOVER,context:{domainName:this.emailDomain,context:j()?"desktop":"web"}}),this}},{key:"updateSubmitButton",value:function(){var e=0===this.getValue("displayName").length||""===this.teamTypeValue;return this.$(".js-save").prop("disabled",e)}},{key:"submit",value:function(e){var t=this;if(y.stop(e),!b(A(e.target),null,p.me())){var n={};this.$(".js-save").prop("disabled",!0).addClass("disabled");for(var r=0,i=["displayName","desc","enterprise"];r<i.length;r++){var o=i[r];n[o]=this.getValue(o)}""!==this.teamTypeValue&&(n.teamType=this.teamTypeValue),p.me().organizationList.create(n,{modelCache:this.modelCache,silent:!0,success:function(e){return t.createOpts.boardToAddToOrg&&(t.createOpts.boardToAddToOrg.update({idOrganization:e.id}),t.createOpts.isPrivateTemplate&&t.model.setPref("isTemplate",!1).save()),h.loadOrganizationMembersMinimal(e.id).then((function(){if(t.$(".js-add-members").prop("checked")){var e=t.model.getOrganization();return g.map(t.model.memberList.models,(function(t){if(!e.isMember(t))return e.changeMemberRole(t,{type:"normal"})}),{concurrency:3})}})).then((function(){var n=t.createOpts.context?t.createOpts.context:{},r=Object.assign(n,{teamId:e.id});t.model instanceof m&&(r.boardId=t.model.get("id")),t.createOpts.isBusinessClass?(f.organizationBillingView(e.get("name")),x("New Team","Create Business Class Team",void 0,e.id),C(t.trackingOpts.category,"adds","business class team","","",t.trackingOpts.method,r)):t.createOpts.isEnterprise?(f.organizationAccountView(e.get("name")),x("New Team","Create Enterprise Team",void 0,e.id),C(t.trackingOpts.category,"adds","enterprise team","","",t.trackingOpts.method,r)):(f.organizationBoardsView(e.get("name")),x("New Team","Create Team",void 0,e.id),C(t.trackingOpts.category,"adds","team","","",t.trackingOpts.method,r)),v.hide()})).done()}})}}},{key:"clickBusinessClassMore",value:function(){return x("New Org","Click Business Class Link")}},{key:"clickEnterpriseLearnMore",value:function(){return C({category:O.BOARD_HEADER,verb:S.CLICKS,directObj:O.FREE_TEAM_LIMIT_BLOCKED_POPOVER_ENTERPRISE_LINK,context:{domainName:this.emailDomain,context:j()?"desktop":"web"}})}},{key:"onChangeTeamType",value:function(e){return this.teamTypeValue=e,this.updateSubmitButton()}},{key:"renderTeamTypeSelect",value:function(){var e=this;return I.enqueue((function(){var t=N.createElement(T,{onChange:e.onChangeTeamType}),n=e.$(".js-team-type-select")[0];return P(t,n)}))}}]),o}(k);D.initClass(),e.exports=D},"./app/scripts/views/organization/invite-member-autocomplete-avatar.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./node_modules/react/index.js"),d=n("./app/scripts/views/member/member-avatar-react.js"),p=n("./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.js"),m=n("./app/scripts/views/internal/recup-with-helpers.js")("select_member"),f=n("./packages/analytics/index.ts").trackUe,h=n("./node_modules/underscore/underscore.js").debounce,v=n("./packages/test-ids/index.ts").TeamTestIds,g=n("./app/scripts/views/organization/constants.js").BoardInviteRestrictValues,b="joined",y="invited",k="blocked",w="org-restrict-org",j="org-restrict-managed",_="org-restrict-managed-or-org",x=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,e);var t,n=(t=r,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).onRemoveClick=t.onRemoveClick.bind(s(t)),t.onMouseDown=t.onMouseDown.bind(s(t)),t.onMouseOver=h(t.onMouseOver.bind(s(t))),t.state={mgbAlertSeen:!1},t}return i(r,null,[{key:"initClass",value:function(){this.prototype.displayName="AutocompleteMemberAvatar",this.prototype.render=m.renderable((function(){var e,t=this,n=this.props,r=n.member,i=n.onRemoveClick,o=n.displayDetails,a=n.displayOrg,s=n.displayUsername,l=n.activeMember,c=n.isDesktop,u=r.active,f=r.username,h=r.email,g=r.confirmed,b=r.fullName,y=r.idOrganizations,k=r.wouldBecomeBillableGuest,w=r.hasError,j=r.blockInvite,_=this.getDisabledReason(),x=this.isClickable();return s?e="".concat(b," (").concat(f,")"):(e=b||h)===f&&(e="@".concat(e)),m.div(".autocomplete-option",{onMouseDown:this.onMouseDown,onMouseOver:this.onMouseOver,class:m.classify({disabled:!x,active:l&&x,"has-links":k&&!_,"has-error":w||j}),"data-test-id":v.TeamInviteeOption},(function(){if(m.div(".member-container",(function(){if(o&&m.div(".member",{class:m.classify({"member-deactivated":r.activityBlocked})},(function(){return m.createElement(d,t.props.member)})),m.div(".member-info",(function(){if(m.div(".full-name",(function(){return m.text(e)})),null!=a&&o&&y&&Array.from(y).includes(a.id)&&m.span(".quiet.sub-name",{style:{marginRight:4}},(function(){return m.text(a.get("displayName"))})),o&&_&&m.span(".quiet.sub-name",(function(){return m.format(_)})),o&&!_){if(!1===g)return m.span(".quiet.sub-name",(function(){return m.format("unconfirmed-user")}));if(!1===u)return m.span(".quiet.sub-name",(function(){return m.format("inactive-account")}))}})),i)return m.a(".icon-sm .icon-close",{onClick:t.onRemoveClick,href:"#"})})),t.showMultiBoardGuestAlert())return m.div(".multi-board-guest-autocomplete-alert",(function(){return m.createElement(p,{displayOrg:a,isDesktop:c})}))}))}))}}]),i(r,[{key:"getDisabledReason",value:function(){var e,t=this.props,n=t.displayOrg,r=t.member;if(r.joined)return null!=r.memberType==="ghost"?y:b;if(r.activityBlocked||r.isDeactivated)return k;if(n&&(e=n.getPref("boardInviteRestrict"))){var i=null!=r.idOrganizations?r.idOrganizations.some((function(e){return e===n.get("id")})):void 0,o=null!=r.idEnterprise&&r.idEnterprise===n.get("idEnterprise");if(e===g.ORG)return!i&&w;if(e===g.MANAGED)return!o&&j;if(e===g.ORG_OR_MANAGED)return!(i||o)&&_}}},{key:"showMultiBoardGuestAlert",value:function(){var e=this.props,t=e.onRemoveClick,n=e.member;return!t&&n.wouldBecomeBillableGuest&&null==this.getDisabledReason()}},{key:"isClickable",value:function(){var e=null!=this.props.displayOrg?this.props.displayOrg.getAvailableLicenseCount():void 0;return!this.getDisabledReason()&&!this.props.selected&&!(C(null!=this.props?this.props.member:void 0,(function(e){return e.wouldBecomeBillableGuest}))&&(!(null!=this.props.displayOrg?this.props.displayOrg.owned():void 0)||(null!=this.props?this.props.isDesktop:void 0)))&&(C(null!=this.props?this.props.member:void 0,(function(e){return e.wouldBecomeBillableGuest}))&&e>0||!C(null!=this.props?this.props.member:void 0,(function(e){return e.wouldBecomeBillableGuest})))}},{key:"onMouseDown",value:function(e){var t=this.props,n=t.onShowMultiBoardGuestAlert,r=t.member,i=-1!==e.target.className.indexOf("icon-close");return null!=n&&r.blockInvite&&!i&&n(!0),this.isClickable()?(null!=this.props?this.props.onMouseDown:void 0)?this.props.onMouseDown(e):void 0:e.preventDefault()}},{key:"onMouseOver",value:function(e){if(!this.state.mgbAlertSeen&&this.showMultiBoardGuestAlert())return this.setState({mgbAlertSeen:!0}),f("invite to board","shows","mbg alert","","","by hovering over the guest in the dropdown",{organizationid:null!=this.props.displayOrg?this.props.displayOrg.id:void 0,memberid:this.props.member.id})}},{key:"onRemoveClick",value:function(e){var t=this.props,n=t.onRemoveClick,r=t.onShowMultiBoardGuestAlert;return t.member.blockInvite&&null!=r&&r(!1),n(e)}}]),r}(u.Component);function C(e,t){return null!=e?t(e):void 0}x.initClass(),e.exports=x},"./app/scripts/views/organization/invite-member-autocomplete-multi-board-guest-alert.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/lib/util/naive-should-component-update.js"),u=n("./node_modules/react/index.js"),d=n("./app/scripts/views/internal/recup-with-helpers.js")("select_member"),p=n("./app/scripts/lib/localize-count.js"),m=n("./packages/analytics/index.ts").trackUe,f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,e);var t,n=(t=r,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function r(e){return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),n.call(this,e)}return i(r,null,[{key:"initClass",value:function(){this.prototype.displayName="AutoCompleteMultiBoardGuestAlert",this.prototype.shouldComponentUpdate=c,this.prototype.render=d.renderable((function(){var e=this.props,t=e.displayOrg,n=e.isDesktop,r=null!=t?t.owned():void 0,i=null!=t?t.get("url"):void 0;return d.div({onMouseDown:this.onMouseDown.bind(this)},(function(){if(r&&t&&!n)t.getAvailableLicenseCount()>0?d.format("multi-board-guest-alert-as-admin"):d.format("multi-board-guest-alert-as-admin-no-seats");else if(n)d.format("multi-board-guest-alert-desktop");else if(null!=t){var e=t.adminList.map((function(e){return e.get("fullName")||e.get("username")}));if(1===e.length)d.format("multi-board-guest-alert-as-member-with-1-admin",{admin1:e[0]});else if(2===e.length)d.format("multi-board-guest-alert-as-member-with-2-admins",{admin1:e[0],admin2:e[1]});else if(3===e.length)d.format("multi-board-guest-alert-as-member-with-3-admins",{admin1:e[0],admin2:e[1],admin3:e[2]});else{var o=p("others",e.length-3);d.format("multi-board-guest-alert-as-member-with-more-admins",{admin1:e[0],admin2:e[1],admin3:e[2],others:o,othersUrl:"".concat(i,"/members")})}}else d.format("multi-board-guest-alert-as-guest");if(!n){d.text(" ");var a="https://help.trello.com/article/1123-multi-board-guests";return d.a({href:a,target:"_blank",onMouseDown:e=>(window.open(a,"_blank"),m("invite to board","clicks","mbg learn more link","","","by clicking on learn more link",{organizationid:t.id}),e.preventDefault(),e.stopPropagation())},(function(){return d.format("learn-more")}))}}))}))}}]),i(r,[{key:"onMouseDown",value:function(e){if(e.target.classList.contains("stop-propagation")&&(e.preventDefault(),e.target.href))return window.open(e.target.href,"_blank")}}]),r}(u.Component);f.initClass(),e.exports=f},"./app/scripts/views/organization/member-limits-error.js":function(e,t,n){var r=n("./node_modules/underscore/underscore.js"),i=n("./app/scripts/db/auth.js"),o=n("./app/scripts/views/lib/limit-error-popover.js");e.exports={maybeDisplayOrgMemberLimitsError:function(e,t,n){var a=(null!=t?t.isOverLimit("orgs","totalMembersPerOrg"):void 0)?{message:"members exceeds total per org limit",params:{orgName:t.get("name"),orgId:t.get("id")}}:(null!=n?n.isOverLimit("orgs","totalPerMember"):void 0)?i.isMe(n)?{message:"your orgs exceed total per member limit"}:{message:"orgs exceeds total per member limit",params:{memberName:n.get("name")}}:void 0;return null!=a&&(o(r.extend({trackingArea:"orgMemberLimit",elem:e},a)),!0)}}},"./app/scripts/views/plugin/plugin-badge-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/views/plugin/plugin-view.js"),u=n("./node_modules/underscore/underscore.js"),d=n("./app/scripts/views/internal/teacup-with-helpers.js")(),p=n("./node_modules/xtend/immutable.js"),m=n("./packages/nachos/tokens.ts").IconQuietColor,f=d.renderable((function(e){var t=e.icon,n=e.text,r=e.iconColor,i=e.iconColorClass;if(null!=t&&d.span(".badge-icon.icon-sm.plugin-icon".concat(i),{style:d.stylify({"background-image":d.urlify(d.addRecolorParam(t,"?color=".concat(r)))})}),n)return d.span(".badge-text",(function(){return d.text(n)}))})),h={blue:"plugin-color-blue",green:"plugin-color-green",orange:"plugin-color-orange",red:"plugin-color-red",yellow:"plugin-color-yellow",purple:"plugin-color-purple",pink:"plugin-color-pink",sky:"plugin-color-sky",lime:"plugin-color-lime","light-gray":"plugin-color-light-gray"},v=u.values(h).join(" "),g=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(b,e);var t,n,c,d,g=(t=b,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function b(){return r(this,b),g.apply(this,arguments)}return n=b,d=[{key:"initClass",value:function(){this.prototype.tagName="div",this.prototype.className="badge"}}],(c=[{key:"initialize",value:function(e){var t=e.pluginBadge;this.pluginBadge=t}},{key:"renderBadge",value:function(e){return this.$el.html(f(e)),this.$el}},{key:"render",value:function(){var e,t=this.pluginBadge,n=(e=t.color,h[e]),r=null!=n&&"light-gray"!==t.color,i=r?"fff":m.substr(1).toLowerCase(),o=r?".mod-invert":".mod-quiet";!1===t.monochrome&&(o=".mod-reset");var a=this.renderBadge(p(t,{iconColor:i,iconColorClass:o}));return a.removeClass(v),null!=n&&a.addClass(n),this}},{key:"updateBadge",value:function(e){if(!u.isEqual(this.pluginBadge,e))return this.pluginBadge=e,this.render(e)}}])&&i(n.prototype,c),d&&i(n,d),b}(c);g.initClass(),e.exports=g},"./app/scripts/views/plugin/plugin-badges-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c,u=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),d=n("./app/scripts/lib/plugins/plugin-validators.js"),p=n("./app/scripts/views/plugin/plugin-badge-view.js"),m=n("./app/scripts/views/internal/plugins/plugin-model-serializer.js"),f=n("./app/scripts/views/internal/plugins/plugin-runner.js"),h=n("./app/scripts/views/plugin/plugin-view.js"),v=n("./app/scripts/views/lib/post-render.js"),g=n("./node_modules/bluebird/js/browser/bluebird.js"),b=n("./app/scripts/data/dropbox.js"),y=b.DropboxPluginId,k=b.DropboxClaimedHosts,w=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginViewedComponentEvent,j=n("./packages/analytics/index.ts").trackUe,_=n("./node_modules/underscore/underscore.js"),x=n("./resources/images/dropbox-mark.svg");x.startsWith("https://")||(x=window.location.origin+x);var C={},O=null,S={};function E(e,t){return null!=e?t(e):void 0}e.exports=((c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(T,e);var t,n,c,h,b=(t=T,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function T(){return r(this,T),b.apply(this,arguments)}return n=T,h=[{key:"initClass",value:function(){this.prototype.tagName="span",this.prototype.badgeView=p,this.prototype.vigor=this.VIGOR.NONE}}],(c=[{key:"isDetailView",value:function(){return!1}},{key:"runnerOptions",value:function(){return{command:"card-badges",board:this.model.getBoard(),card:this.model,timeout:1e4,options:{attachments:m.attachments(this.model.attachmentList.models,["id","name","url"])}}}},{key:"_cacheKey",value:function(){var e=this.runnerOptions(),t=e.command,n=e.board,r=e.card;return[t,null!=n?n.id:void 0,null!=r?r.id:void 0].join(":")}},{key:"requestBadges",value:function(){var e=this,t=this.callback((function(t){var n=_.filter(t,d.isValidBadge);if(!e.isDetailView()&&!E(e.model.getBoard(),(function(e){return e.isPluginEnabled(y)}))){var r=e.model.attachmentList.filter((function(e){return k.includes(function(e){try{return new URL(e).host}catch(t){return e}}(e.get("url")))})).length;r>0&&n.push({icon:x,text:r,idPlugin:y})}var i=(e.latestRun||0)+1;e.latestRun=i;var o=[],a=function(){return e.latestRun===i},s=function(){if(a())return e.renderResolvedBadges(o),C[e._cacheKey()]=o.map((function(e){return _.omit(e,"callback")}))};return e.cancelOnRemove(g.map(n,(function(t,n){return e.retain(t),null!=t.dynamic?function r(){var i=t.dynamic().cancellable().then((function(t){if(!d.isValidBadge(t))return o[n]=void 0,void s();if(o[n]=t,s(),t.refresh&&a()){var i=Math.max(10,t.refresh);return i+=2*Math.random()-1,e.setTimeout(r,1e3*i)}})).catch(f.Error.NotHandled,(function(){return null}));return e.cancelOnRemove(i),i}():o[n]=t}))).cancellable().then((function(){return s()})).catch(g.CancellationError,(function(){}))}));return f.all(this.runnerOptions()).then(t)}},{key:"renderOnce",value:function(){var e,t=this;null!=(e=C[this._cacheKey()])&&this.renderResolvedBadges(e);var n=E(this.model.getBoard(),(function(e){return e.id}));return n&&n!==O&&(O=n,S={}),v.enqueue("plugin_badges_render_".concat(this.cid),(function(){var e=t.runnerOptions();t.latestRun=0;var n=t.debounce((function(){return t.requestBadges()}),500);t.listenTo(t.model,"change:dateLastActivity",n),t.listenTo(t.model.attachmentList,"add remove reset change",n);var r=u(e.board,e.card);return t.subscribe(r,_.after(2,(function(e){return n()}))),t.waitForId(t.model,(function(){return t.requestBadges()}))})),this}},{key:"trackBadges",value:function(e){if(!S[e])return S[e]=!0,j("board view","views","Power-Up","","","card-badges",e),w({idPlugin:e,idBoard:this.model.getBoard().id,idCard:this.model.id,event:{componentType:"badge",componentName:"pupCardBadge",source:"boardScreen"}})}},{key:"renderResolvedBadges",value:function(e){var t=this,n=this.isDetailView(),r=_.filter(e,(function(e){return d.isRenderableBadge(e,n)})).map((function(e,n){t.trackBadges(e.idPlugin);var r=t.subview(t.badgeView,t.model,{pluginBadge:e},n);return r.updateBadge(e),r}));return this.ensureSubviews(r)}}])&&i(n.prototype,c),h&&i(n,h),T}(h)).initClass(),c=c)},"./app/scripts/views/plugin/plugin-button-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c,u=n("./app/scripts/lib/plugins/plugin-validators.js"),d=n("./app/scripts/views/plugin/plugin-view.js"),p=n("./app/scripts/views/lib/pop-over.js"),m=n("./app/scripts/lib/util/index.js");e.exports=((c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(h,e);var t,n,c,d,f=(t=h,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function h(){return r(this,h),f.apply(this,arguments)}return n=h,d=[{key:"initClass",value:function(){this.prototype.events={click(e){if(m.stopPropagation(e),"function"==typeof this.trackClick&&this.trackClick(this.pluginButton),null!=this.pluginButton.callback){var t=e.target.closest(".button-link")||e.target.closest(".board-header-btn")||e.target.closest("a")||e.target;return this.isPopOverShowing(t)?p.hide():this.pluginButton.callback({el:t}).done()}}}}}],(c=[{key:"tagName",value:function(){return null!=this.options.pluginButton.url?"a":"span"}},{key:"attributes",value:function(){var e=this.options.pluginButton,t=e.url,n=e.target;if(t&&u.isValidUrlForIframe(t))return{href:t,target:null!=n?n:t,rel:"noreferrer nofollow noopener"}}},{key:"initialize",value:function(e){var t=e.pluginButton;return this.pluginButton=t,this.retain(this.pluginButton)}},{key:"template",value:function(){throw Error("no template specified")}},{key:"isPopOverShowing",value:function(e){return p.contains(e)||p.toggledBy(e)}},{key:"renderOnce",value:function(){return this.$el.html(this.template(this.pluginButton)),this}}])&&i(n.prototype,c),d&&i(n,d),h}(d)).initClass(),c=c)},"./app/scripts/views/plugin/plugin-buttons-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c,u=n("./node_modules/underscore/underscore.js"),d=n("./app/scripts/db/auth.js"),p=n("./app/scripts/views/internal/plugins/plugin-runner.js"),m=n("./app/scripts/views/internal/plugins/plugins-changed-signal.js"),f=n("./app/scripts/views/plugin/plugin-view.js");e.exports=((c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(v,e);var t,n,c,f,h=(t=v,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function v(){return r(this,v),h.apply(this,arguments)}return n=v,f=[{key:"initClass",value:function(){this.prototype.buttonsSelector=".js-button-list",this.prototype.buttonView=null,this.prototype.vigor=this.VIGOR.NONE}}],(c=[{key:"initialize",value:function(){var e=this;return this.requestButtonsDebounced=u.debounce((function(){return e.requestButtons()}),500)}},{key:"hideContainer",value:function(e){return null==e||0===e.length}},{key:"renderContainer",value:function(){return this.$el}},{key:"runnerOptions",value:function(){throw Error("runnerOptions not specified")}},{key:"renderButtons",value:function(e){var t=this,n=this.renderContainer(e);this.$el.toggleClass("hide",this.hideContainer(e)),this.removeSubviews();var r=u.sortBy(e,"text").map((function(e,n){return null!=e.view?t.subview(e.view,t.model,{},n):t.subview(t.buttonView,t.model,{pluginButton:e},n)}));return this.appendSubviews(r,n)}},{key:"requestButtons",value:function(){var e=this;return p.all(this.runnerOptions()).then((function(t){return t=u.filter(t,(function(t){if(u.isArray(t)||!u.isObject(t)||!(null!=t?t.text:void 0))return!1;if(null==t.condition)return e.model.editable();switch(t.condition){case"admin":return"Card"===e.model.typeName?e.model.getBoard().owned():"Board"===e.model.typeName&&e.model.owned();case"edit":return e.model.editable();case"readOnly":return!e.model.editable();case"signedIn":return d.isLoggedIn();case"signedOut":return!d.isLoggedIn();case"always":return!0;default:return!1}})),e.renderButtons(t)})).catch((function(){return"undefined"!=typeof console&&null!==console?console.warn("Failed to request Power-Up buttons."):void 0}))}},{key:"renderOnce",value:function(){var e=this.runnerOptions();return this.subscribe(m(e.board,e.card),this.requestButtonsDebounced),this}}])&&i(n.prototype,c),f&&i(n,f),v}(f)).initClass(),c=c)},"./app/scripts/views/plugin/plugin-header-button-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c,u=n("./node_modules/underscore/underscore.js"),d=n("./app/scripts/views/plugin/plugin-button-view.js"),p=n("./app/scripts/views/internal/teacup-with-helpers.js")(),m=n("./packages/analytics/index.ts"),f=m.track,h=m.trackUe,v=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginUIEvent,g=p.renderable((function(e){var t=e.icon,n=e.text,r=e.monochrome,i="light"===this.model.get("prefs").backgroundBrightness,o=function(){if(u.isString(t)){var e=i?"000":"fff";return p.addRecolorParam(t,"?color=".concat(e))}return i&&u.isString(null!=t?t.light:void 0)?t.light:!i&&u.isString(null!=t?t.dark:void 0)?t.dark:void 0}(),a=u.isString(t)||!1!==r;null!=o&&p.span(".board-header-btn-icon.icon-sm.plugin-icon",{class:p.classify({recolorable:a,"mod-reset":!1===r,"mod-invert":a&&!i}),style:p.stylify({"background-image":p.urlify(o)})}),p.span(".board-header-btn-text",(function(){return p.text(n)}))}));e.exports=((c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(p,e);var t,n,c,u,d=(t=p,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function p(){return r(this,p),d.apply(this,arguments)}return n=p,u=[{key:"initClass",value:function(){this.prototype.template=g}}],(c=[{key:"className",value:function(){return null!=(null!=this.options.pluginButton?this.options.pluginButton.icon:void 0)?"board-header-btn":"board-header-btn board-header-btn-without-icon"}},{key:"trackClick",value:function(e){return f("Board Header","Board Plugin Button",e.text),h("board view","opens","Power-Up","","","board-button",e.idPlugin),v({idPlugin:e.idPlugin,idBoard:this.model.id,event:{action:"clicked",actionSubject:"button",actionSubjectId:"powerUpBoardButton",source:"boardScreen"}})}}])&&i(n.prototype,c),u&&i(n,u),p}(d)).initClass(),c=c)},"./app/scripts/views/plugin/plugin-header-buttons-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c,u=n("./app/scripts/views/plugin/plugin-buttons-view.js"),d=n("./app/scripts/views/plugin/plugin-header-button-view.js");e.exports=((c=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(m,e);var t,n,c,u,p=(t=m,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function m(){return r(this,m),p.apply(this,arguments)}return n=m,u=[{key:"initClass",value:function(){this.prototype.tagName="span",this.prototype.className="board-header-plugin-btns",this.prototype.buttonView=d}}],(c=[{key:"runnerOptions",value:function(){return{command:"board-buttons",timeout:1e4,board:this.model}}}])&&i(n.prototype,c),u&&i(n,u),m}(u)).initClass(),c=c)},"./app/scripts/views/power-ups/calendar-settings-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./app/scripts/db/auth.js"),d=n("./app/scripts/lib/util/index.js"),p=n("./app/scripts/views/internal/view.js"),m=n("./app/scripts/views/templates/power_ups_calendar_prefs.js"),f=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(v,e);var t,n,p,f,h=(t=v,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function v(){return r(this,v),h.apply(this,arguments)}return n=v,f=[{key:"initClass",value:function(){this.prototype.viewTitleKey="calendar settings",this.prototype.events={"click .js-calendar-pref-feed:not(.disabled)":"selectFeedEnabled","click .js-calendar-feed-url:not(:disabled)":"focusInput","click .js-regen-calendar-url:not(.disabled)":"generateNewFeedURL"}}}],(p=[{key:"initialize",value:function(){return this.generating=!1,this.listenTo(this.model,{"change:prefs":this.render,"change:myPrefs.calendarKey":this.generationComplete})}},{key:"generationComplete",value:function(){return this.generating=!1,this.render()}},{key:"generateNewFeedURL",value:function(e){return d.stop(e),this.generating=!0,this.model.generateCalendarKey(),this.render()}},{key:"render",value:function(){var e=this.model.toJSON({prefs:!0}).prefs,t=this.model.getPref("calendarKey"),n="https://".concat(location.host,"/calendar/")+"".concat(u.me().id,"/").concat(this.model.id,"/").concat(t,".ics");return t||(this.generating=!0,this.model.generateCalendarKey()),this.$el.html(m({isEnabled:e.calendarFeedEnabled,isGenerated:null!=t&&!this.generating,url:n,canChange:this.model.editable()})),this}},{key:"focusInput",value:function(e){return this.$(".js-calendar-feed-url").focus().select()}},{key:"selectFeedEnabled",value:function(e){d.stop(e);var t="enabled"===c(e.target).closest("a").attr("name");return this.model.setPref("calendarFeedEnabled",t)}}])&&i(n.prototype,p),f&&i(n,f),v}(p);f.initClass(),e.exports=f},"./app/scripts/views/power-ups/card-aging-settings-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./packages/atlassian-analytics/index.ts"),d=u.Analytics,p=u.tracingCallback,m=n("./app/scripts/lib/util/index.js"),f=n("./app/scripts/views/internal/view.js"),h=n("./app/scripts/views/templates/power_ups_card_aging_prefs.js"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(g,e);var t,n,u,f,v=(t=g,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function g(){return r(this,g),v.apply(this,arguments)}return n=g,f=[{key:"initClass",value:function(){this.prototype.viewTitleKey="card aging settings",this.prototype.events={"click .js-select:not(.disabled)":"selectMode"}}}],(u=[{key:"initialize",value:function(){return this.listenTo(this.model,{"change:prefs":this.render})}},{key:"render",value:function(){return this.$el.html(h({agingMode:this.model.getPref("cardAging"),canChange:this.model.editable()})),this}},{key:"selectMode",value:function(e){var t=this;m.stop(e);var n=d.startTask({taskName:"edit-board",subTask:"prefs/cardAging",source:"cardAgingSettingsInlineDialog"}),r=c(e.target).closest(".js-select").attr("name"),i=this.model.getPref("cardAging");return this.model.setPrefWithTracing("cardAging",r,n,p({taskName:"edit-board",subTask:"prefs/cardAging",source:"cardAgingSettingsInlineDialog",traceId:n},(function(e,o){o&&d.sendUpdatedBoardFieldEvent({field:"cardAgingPref",value:r,source:"cardAgingSettingsInlineDialog",containers:{board:{id:t.model.id},organization:{id:t.model.get("idOrganization")},enterprise:{id:t.model.get("idEnterprise")}},attributes:{taskId:n,previous:i}})})))}}])&&i(n.prototype,u),f&&i(n,f),g}(f);v.initClass(),e.exports=v},"./app/scripts/views/power-ups/voting-settings-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./packages/jquery/index.js"),u=n("./packages/atlassian-analytics/index.ts"),d=u.Analytics,p=u.tracingCallback,m=n("./app/scripts/lib/util/index.js"),f=n("./app/scripts/views/internal/view.js"),h=n("./app/scripts/views/templates/power_ups_voting_prefs.js"),v=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(g,e);var t,n,u,f,v=(t=g,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function g(){return r(this,g),v.apply(this,arguments)}return n=g,f=[{key:"initClass",value:function(){this.prototype.viewTitleKey="voting settings",this.prototype.events={"click .js-voting-select:not(.disabled)":"selectPerm","click .js-vote-count-select:not(.disabled)":"hideVotes"}}}],(u=[{key:"initialize",value:function(){return this.listenTo(this.model,{"change:prefs":this.render})}},{key:"render",value:function(){var e;return this.$el.html(h({canChange:this.model.editable(),canSetObservers:null===(e=this.model.getOrganization())||void 0===e?void 0:e.isFeatureEnabled("observers"),canSetOrganization:this.model.hasOrganization(),canSetPublic:this.model.isPublic(),votingMode:this.model.getPref("voting"),hideVotes:this.model.getPref("hideVotes")})),this}},{key:"selectPerm",value:function(e){var t=this;m.stop(e);var n=d.startTask({taskName:"edit-board",subTask:"prefs/voting",source:"votingSettingsInlineDialog"}),r=c(e.target).closest(".js-voting-select").attr("name");this.model.setPrefWithTracing("voting",r,n,p({taskName:"edit-board",subTask:"prefs/voting",source:"votingSettingsInlineDialog"},(function(e,i){var o;i&&d.sendUpdatedBoardFieldEvent({field:"votingPref",value:r,source:"votingSettingsInlineDialog",containers:{board:{id:t.model.id},organization:{id:null===(o=t.model.getOrganization())||void 0===o?void 0:o.id}},attributes:{previous:t.model.getPref("voting"),taskId:n}})})))}},{key:"hideVotes",value:function(e){var t=this;m.stop(e);var n=d.startTask({taskName:"edit-board",subTask:"prefs/hideVotes",source:"votingSettingsInlineDialog"});this.model.setPrefWithTracing("hideVotes",!this.model.getPref("hideVotes"),n,p({taskName:"edit-board",subTask:"prefs/hideVotes",source:"votingSettingsInlineDialog",traceId:n},(function(e,r){var i;r&&d.sendUpdatedBoardFieldEvent({field:"hideVotesPref",value:t.model.getPref("hideVotes"),source:"votingSettingsInlineDialog",attributes:{taskId:n},containers:{board:{id:t.model.id},organization:{id:null===(i=t.model.getOrganization())||void 0===i?void 0:i.id}}})})))}}])&&i(n.prototype,u),f&&i(n,f),g}(f);v.initClass(),e.exports=v},"./app/scripts/views/reactions/reaction-icon.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./node_modules/react/index.js"),u=n("./app/scripts/views/internal/recup-with-helpers.js")("reactions"),d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(m,e);var t,n,c,d,p=(t=m,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function m(){return r(this,m),p.apply(this,arguments)}return n=m,d=[{key:"initClass",value:function(){this.prototype.displayName="ReactionIcon",this.prototype.render=u.renderable((function(){var e=this.props,t=e.disabled,n=e.withBorder,r=e.active,i=e.onClick;return u.span({class:u.classify({"reactions-add":!0,"is-disabled":t,"mod-with-border":n,"is-active":r}),onClick:i},(function(){return u.icon("add-reaction",{class:u.classify({"reactions-add-icon":!0}),title:u.l("add-reaction")})}))}))}}],(c=null)&&i(n.prototype,c),d&&i(n,d),m}(c.Component);d.initClass(),e.exports=d},"./app/scripts/views/reactions/reaction-piles.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||o(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e){return function(e){if(Array.isArray(e))return a(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||o(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function o(e,t){if(e){if("string"==typeof e)return a(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?a(e,t):void 0}}function a(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function s(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function l(e,t,n){return t&&s(e.prototype,t),n&&s(e,n),e}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var f=n("./packages/jquery/index.js"),h=n("./app/scripts/views/lib/alerts.js"),v=n("./app/scripts/db/auth.js"),g=n("./app/scripts/views/emoji/trello-emoji.js"),b=n("./app/scripts/lib/localize.js"),y=n("./app/scripts/db/model-cache.js"),k=n("./app/scripts/views/internal/model-cache-listener.js"),w=n("./app/scripts/views/lib/pop-over.js"),j=n("./app/scripts/views/internal/recup-with-helpers.js")("reactions"),_=n("./packages/analytics/index.ts").trackUe,x=n("./app/scripts/views/lib/tooltip.js");g=n("./app/scripts/views/emoji/trello-emoji.js");var C=n("./node_modules/react/index.js"),O=n("./app/scripts/views/reactions/reaction-icon.js"),S=n("./app/scripts/views/reactions/reaction-selector.js"),E=n("./app/scripts/views/reactions/reaction-tooltip.js"),T=n("./app/scripts/lib/util/index.js"),P=n("./node_modules/underscore/underscore.js"),N=n("./packages/atlassian-analytics/index.ts").Analytics,I=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(o,e);var t,n=(t=o,function(){var e,n=m(t);if(p()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return u(this,e)});function o(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),(t=n.call(this,e)).state={reactionSelectorOpen:!1,reactionList:t.props.reactionList},t.toggleReaction=t.toggleReaction.bind(d(t)),t.showReactionTooltip=t.showReactionTooltip.bind(d(t)),t.handleEmojiClick=t.handleEmojiClick.bind(d(t)),t.handleEmojiOver=t.handleEmojiOver.bind(d(t)),t.openReactionSelector=t.openReactionSelector.bind(d(t)),t.renderInlineReactIcon=t.renderInlineReactIcon.bind(d(t)),t._listen(),t}return l(o,null,[{key:"initClass",value:function(){this.prototype.displayName="ReactionPiles",this.prototype.render=j.renderable((function(){var e=this,t=this.props,n=t.canReact,r=t.renderReactIconWithBorder,i=this.mapReactionListToPiles();return j.div(".reaction-piles",{class:j.classify({"reaction-piles-empty":!i.length,disabled:!n})},(function(){for(var t=function(){var t=o[n],r=t.reaction,i=t.count,a=t.mine;j.div(".reaction-pile-item",{class:j.classify({"my-reaction":a}),"data-reaction":r},(function(){return j.addElement(C.createElement(g,{emoji:r,onClick:e.handleEmojiClick,onOver:e.handleEmojiOver,onLeave:e.hideReactionTooltip})),j.span(".reaction-pile-count",(function(){return j.text(i>99?"99+":i)}))}))},n=0,o=Array.from(i);n<o.length;n++)t();return i.length||r?e.renderReactIcon():e.renderInlineReactIcon()}))}))}}]),l(o,[{key:"_listen",value:function(){var e=this;return this._alertEvent("uniqueReactionLimit","unique-reaction-limit-exceeded"),this._alertEvent("totalReactionLimit","total-reaction-limit-exceeded"),this._alertEvent("addReactionError","add-reaction-error"),this._alertEvent("removeReactionError","remove-reaction-error"),this.props.modelListener(this.props.reactionList,"add remove reset",(function(){return e.props.onReactionChanged&&e.props.onReactionChanged(),e.setState({reactionList:e.props.reactionList})})),this.props.modelListener(this.props.reactionList,"add remove reset",(function(){return e.setState({reactionList:e.props.reactionList})}))}},{key:"_alertEvent",value:function(e,t){return this.props.modelListener(this.props.reactionList,e,(function(e){var n=e?j.l(t,{number:e.disableAt,heart:"❤"}):j.l(t);h.showLiteralText(n,"error","reaction-piles",3e3)}))}},{key:"trackWithData",value:function(e,t,n,r,i){var o=this.props.trackingContext.category,a=JSON.stringify(P.omit(this.props.trackingContext,"category"));return _(o,e,t,n,r,i,a)}},{key:"toggleReaction",value:function(e,t){var n=this;if(T.stop(t),this.props.canReact){return this.props.reactionList.toggleReaction(this.props.actionId,e,(function(t){t?N.sendTrackEvent({action:"added",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:A(null!=n.props?n.props.trackingContext:void 0,(function(e){return e.cardId}))},list:{id:A(null!=n.props?n.props.trackingContext:void 0,(function(e){return e.listId}))},board:{id:A(null!=n.props?n.props.trackingContext:void 0,(function(e){return e.boardId}))}},attributes:{addedTo:"comment",fromPile:!0}}):N.sendTrackEvent({action:"removed",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:A(null!=n.props?n.props.trackingContext:void 0,(function(e){return e.cardId}))},list:{id:A(null!=n.props?n.props.trackingContext:void 0,(function(e){return e.listId}))},board:{id:A(null!=n.props?n.props.trackingContext:void 0,(function(e){return e.boardId}))}},attributes:{removedFrom:"comment",fromPile:!0}});return n.trackWithData(t?"adds":"removes","reaction",e.id,t?"to a comment":"from a comment","by clicking the pile")}))}}},{key:"showReactionTooltip",value:function(e,t){var n=f(t.currentTarget),r=e.colons,o=!1,a=this.props.reactionList.chain().filter((function(e){return e.toEmojiMart().colons===r})).omit((function(e){var t=e.get("idMember")===v.myId();return t&&(o=!0),t})).map((function(e){return A(y.get("Member",e.get("idMember")),(function(e){return e.get("fullName")}))})).compact().value();o&&(a=[b("You")].concat(i(Array.from(a))));var s=new E({names:a,reaction:r});return x.show(s,n,!1,x.STYLE.MENU)}},{key:"hideReactionTooltip",value:function(){return x.hide()}},{key:"mapReactionListToPiles",value:function(){return this.props.reactionList.chain().groupBy((function(e){return e.toEmojiMart().colons})).pairs().map((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,2),n=t[0],i=t[1];return{reaction:n,count:i.length,mine:P.any(i,(function(e){return e.get("idMember")===v.myId()}))}})).value()}},{key:"handleEmojiClick",value:function(e,t){return this.hideReactionTooltip(),this.toggleReaction(e,t),this.props.onEmojiClick&&this.props.onEmojiClick(e,t)}},{key:"handleEmojiOver",value:function(e,t){return this.showReactionTooltip(e,t),this.props.onEmojiOver&&this.props.onEmojiOver(e,t)}},{key:"openReactionSelector",value:function(e){var t=this;this.shouldSuppressTracking=!1;var n=f(e.currentTarget);T.stop(e),this.setState({reactionSelectorOpen:!0});var r="by clicking the picker button ".concat(n.parents(".inline-add-reaction").length>0?"inline":"next to reactions");if(this.state.reactionSelectorOpen)return this.shouldSuppressTracking=!0,w.popView(),this.setState({reactionSelectorOpen:!1}),this.sendGASEvent&&N.sendClosedComponentEvent({componentType:"inlineDialog",componentName:"reactionSelectorInlineDialog",source:"cardDetailScreen",attributes:{method:"clicked picker button"},containers:{card:{id:A(null!=this.props?this.props.trackingContext:void 0,(function(e){return e.cardId}))},list:{id:A(null!=this.props?this.props.trackingContext:void 0,(function(e){return e.listId}))},board:{id:A(null!=this.props?this.props.trackingContext:void 0,(function(e){return e.boardId}))}}}),void this.trackWithData("closes","reaction selector","","",r);this.sendGASEvent&&N.sendScreenEvent({name:"reactionSelectorInlineDialog",containers:{card:{id:A(null!=this.props?this.props.trackingContext:void 0,(function(e){return e.cardId}))},list:{id:A(null!=this.props?this.props.trackingContext:void 0,(function(e){return e.listId}))},board:{id:A(null!=this.props?this.props.trackingContext:void 0,(function(e){return e.boardId}))}}}),this.trackWithData("opens","reaction selector","","",r);var i={actionId:this.props.actionId,reactionList:this.props.reactionList,trackingContext:this.props.trackingContext,onReactionClick:function(e,n){return T.stop(e),t.shouldSuppressTracking=!0,t.setState({reactionSelectorOpen:!1}),w.popView()}};return w.show({elem:f(e.currentTarget),hideHeader:!0,displayType:"mod-reaction-selector",view:new S(i),showImmediately:!0,hidden:function(){return P.defer((function(){if(t.setState({reactionSelectorOpen:!1}),!t.shouldSuppressTracking)return t.sendGASEvent&&N.sendClosedComponentEvent({componentType:"inlineDialog",componentName:"reactionSelectorInlineDialog",source:"cardDetailScreen",attributes:{method:"clicked outside the inline dialog"},containers:{card:{id:A(null!=t.props?t.props.trackingContext:void 0,(function(e){return e.cardId}))},list:{id:A(null!=t.props?t.props.trackingContext:void 0,(function(e){return e.listId}))},board:{id:A(null!=t.props?t.props.trackingContext:void 0,(function(e){return e.boardId}))}}}),t.trackWithData("closes","reaction selector","","","by clicking outside")}))}})}},{key:"renderReactIcon",value:function(){var e=this;return j.div(".reaction-pile-selector",(function(){return j.createElement(O,{disabled:!e.props.canReact,withBorder:!0,onClick:e.openReactionSelector,active:e.state.reactionSelectorOpen})}))}},{key:"renderInlineReactIcon",value:function(){var e=this;return j.span(".inline-add-reaction.meta-add-reaction.quiet",(function(){return j.createElement(O,{disabled:!e.props.canReact,withBorder:!1,onClick:e.openReactionSelector,active:e.state.reactionSelectorOpen})}))}}]),o}(C.Component);function A(e,t){return null!=e?t(e):void 0}I.initClass(),e.exports=k(I)},"./app/scripts/views/reactions/reaction-selector.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return(i="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u=n("./packages/jquery/index.js"),d=n("./app/scripts/views/internal/view.js"),p=n("./packages/analytics/index.ts").trackUe,m=n("./node_modules/underscore/underscore.js"),f=n("./node_modules/react/index.js"),h=n("./packages/react-dom-wrapper/index.ts"),v=n("./app/scripts/views/emoji/trello-emoji-picker.js"),g=n("./packages/atlassian-analytics/index.ts").Analytics;function b(e,t){return null!=e?t(e):void 0}e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(w,e);var t,n,d,y,k=(t=w,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function w(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,w),(t=k.call(this,e)).trackWithData=t.trackWithData.bind(s(t)),t}return n=w,(d=[{key:"render",value:function(){return h.render(this.getEmojiPicker(),this.$el[0]),this.trackReactionClickEvents(),this}},{key:"remove",value:function(){return h.unmountComponentAtNode(this.$el[0]),i(c(w.prototype),"remove",this).apply(this,arguments)}},{key:"trackWithData",value:function(e,t,n,r,i){var o=this.options.trackingContext.category,a=JSON.stringify(m.omit(this.options.trackingContext,"category"));return p(o,e,t,n,r,i,a)}},{key:"trackReactionClickEvents",value:function(){var e=this,t=".emoji-mart, .emoji-mart-anchor, .emoji-mart-skin-swatch-selected, .emoji-mart-skin-swatches-opened .emoji-mart-skin";return u(document).off("click",t).on("click",t,(function(t){t.stopPropagation();var n=u(t.currentTarget),r=n.is(".emoji-mart-anchor"),i=r?"reaction selector category button":n.is(".emoji-mart-skin-swatch")?"reaction selector skin tone button":n.is(".emoji-mart-skin")?"reaction selector skin tone menu":void 0;if(i){var o="by clicking the ".concat(i),a=r?"reaction selector category":"reaction selector skin tone menu",s=r?n.attr("title"):n.is(".emoji-mart-skin")?"skin-tone-".concat(n.data("skin")):"";return g.sendUIEvent({action:"clicked",actionSubject:"icon",actionSubjectId:"reactionMenuIcon",source:"reactionSelectorInlineDialog",attributes:{target:i},containers:{card:{id:b(null!=e.options?e.options.trackingContext:void 0,(function(e){return e.cardId}))},board:{id:b(null!=e.options?e.options.trackingContext:void 0,(function(e){return e.boardId}))},list:{id:b(null!=e.options?e.options.trackingContext:void 0,(function(e){return e.listId}))}}}),e.trackWithData("opens",a,s,"",o)}})),u(document).on("input",".emoji-mart-search input",m.debounce((function(t){return t.stopPropagation(),g.sendTrackEvent({action:"searched",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:b(null!=e.options?e.options.trackingContext:void 0,(function(e){return e.cardId}))},board:{id:b(null!=e.options?e.options.trackingContext:void 0,(function(e){return e.boardId}))},list:{id:b(null!=e.options?e.options.trackingContext:void 0,(function(e){return e.listId}))}}}),e.trackWithData("searches","reaction selector","","for emoji","by typing in the reaction selector search box")}),1e3))}},{key:"handleReactionClick",value:function(e,t){var n=this;return this.options.reactionList.toggleReaction(this.options.actionId,t,(function(e){return e?g.sendTrackEvent({action:"added",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:b(null!=n.options?n.options.trackingContext:void 0,(function(e){return e.cardId}))},list:{id:b(null!=n.options?n.options.trackingContext:void 0,(function(e){return e.listId}))},board:{id:b(null!=n.options?n.options.trackingContext:void 0,(function(e){return e.boardId}))}},attributes:{addedTo:"comment",emoji:t.id,fromPile:!1}}):g.sendTrackEvent({action:"removed",actionSubject:"reaction",source:"reactionSelectorInlineDialog",containers:{card:{id:b(null!=n.options?n.options.trackingContext:void 0,(function(e){return e.cardId}))},list:{id:b(null!=n.options?n.options.trackingContext:void 0,(function(e){return e.listId}))},board:{id:b(null!=n.options?n.options.trackingContext:void 0,(function(e){return e.boardId}))}},attributes:{removedFrom:"comment",emoji:t.id,fromPile:!1}}),n.trackWithData(e?"adds":"removes","reaction",t.id,e?"to a comment":"from a comment","by picking a reaction")})),this.options.onReactionClick&&this.options.onReactionClick(e,t)}},{key:"getEmojiPicker",value:function(){var e=this;return f.createElement(v,{onClick:function(t,n){return e.handleReactionClick(n,t)}})}},{key:"willBePopped",value:function(){return u(".js-open-reactions").removeClass("active"),u(document).off("click",".emoji-mart, .emoji-mart-anchor, .emoji-mart-skin-swatch-selected, .emoji-mart-skin-swatches-opened .emoji-mart-skin"),u(document).off("input",".emoji-mart-search input")}}])&&r(n.prototype,d),y&&r(n,y),w}(d)},"./app/scripts/views/reactions/reaction-tooltip.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function s(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function l(e){return(l=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var c=n("./app/scripts/lib/localize.js"),u=n("./app/scripts/views/internal/teacup-with-helpers.js")("reactions"),d=n("./app/scripts/views/internal/view.js"),p=n("./node_modules/joinn/lib/joinn.js"),m=function(e){return u.render((function(){return u.span(".reaction-fullname",(function(){return u.text(e)}))}))},f=function(e){return u.render((function(){return u.strong((function(){return u.text(e)}))}))},h=u.renderable((function(e){var t=e.names,n=e.reaction,r=(null!=t?t[0]:void 0)===c("You")&&1===t.length;return t=t.map(m),u.div(".reaction-tooltip",(function(){return""!==t&&null==n?u.raw(p(t,", "," ".concat(u.l("and")," "))):r?u.raw(u.l("reaction-tooltip-you",{reaction:f(n)},{raw:!0})):1===t.length?u.raw(u.l("reaction-tooltip",{name:t[0],reaction:f(n)},{raw:!0})):t.length>1?u.raw(u.l("reaction-tooltip-plural",{names:p(t,", "," ".concat(u.l("and")," ")),reaction:f(n)},{raw:!0})):u.raw(f(n))}))}));e.exports=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(p,e);var t,n,c,u,d=(t=p,function(){var e,n=l(t);if(s()){var r=l(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function p(){return r(this,p),d.apply(this,arguments)}return n=p,(c=[{key:"renderOnce",value:function(){var e=this.options.names,t=this.options.reaction;return null==e&&(e=[]),this.$el.append(h({names:e,reaction:t})),this}}])&&i(n.prototype,c),u&&i(n,u),p}(d)},"./app/scripts/views/stickers/sticker-edit-view.js":function(e,t,n){function r(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function i(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d,p=n("./packages/jquery/index.js"),m=n("./app/scripts/views/lib/pop-over.js"),f=n("./app/scripts/views/stickers/sticker-view.js"),h=n("./app/scripts/lib/util/index.js"),v=n("./node_modules/underscore/underscore.js"),g=n("./packages/atlassian-analytics/index.ts"),b=g.Analytics,y=g.tracingCallback;e.exports=((d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(k,e);var t,n,d,f,g=(t=k,function(){var e,n=u(t);if(c()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function k(){return o(this,k),g.apply(this,arguments)}return n=k,f=[{key:"initClass",value:function(){this.prototype.events={mouseenter:"mouseenter",mouseleave:"mouseleave",mousedown:"editSticker","mousedown .js-remove-sticker":"removeSticker","mousedown .js-rotate-sticker":"startRotate","mousedown .js-move-sticker":"startMove"},this.editTraceId=null}}],(d=[{key:"initialize",value:function(){return this.listenTo(this.model,"stopEditing",this.stopEditing),this.listenTo(this.model,"startEditing",this.editSticker),this.listenTo(this.model,"disableEditing",this.disableEditing),this.listenTo(this.model,"enableEditing",this.enableEditing)}},{key:"showEditControls",value:function(){return!0}},{key:"disableEditing",value:function(){return this.$el.addClass("editing-disabled")}},{key:"enableEditing",value:function(){return this.$el.removeClass("editing-disabled")}},{key:"endCurrentEdit",value:function(){return p(document).off(".stickerrotate .stickermove .stickerautomove"),this.$el.removeClass("moving rotating"),p(".quick-card-editor").removeClass("invalid dragging")}},{key:"stopEditing",value:function(e){if(h.stop(e),this.isEditing())return this.endCurrentEdit(),this.$el.removeClass("editing"),p(".quick-card-editor").removeClass("quick-card-editor-editing-stickers"),Array.from(this.model.collection.models).map((function(e){return e.trigger("enableEditing")}))}},{key:"isEditing",value:function(){return this.$el.is(".moving, .rotating, .editing")}},{key:"isEditingDisabled",value:function(){return this.$el.is(".editing-disabled")}},{key:"isMovingOrRotating",value:function(){return this.$el.is(".moving, .rotating")}},{key:"saveStickerAttrs",value:function(e){var t=this,n=e.position,o=e.rotation,a=function(e){return Math.round(100*e)/100},s={zIndex:this.model.collection.nextZIndex(this.model)};if(n){var l=this.$el.closest(".list-card").find(".js-card-stickers"),c=l.width(),u=l.height();s.left=a(parseFloat(this.$el.css("left"))/c*100),s.top=a(parseFloat(this.$el.css("top"))/u*100)}if(o){var d=h.getElemTransformMatrix(this.$el.find(".sticker-image"));s.rotate=a(h.getMatrixDegrees(d)%360)}this.model.update(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?r(Object(n),!0).forEach((function(t){i(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):r(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},s,{traceId:this.editTraceId}),y({taskName:"edit-card",subTask:"stickers",traceId:this.editTraceId,source:"stickerEditView",attributes:{action:o?"rotated":n?"moved":"edited"}},(function(e,r){if(r){var i,a=null===(i=t.options)||void 0===i?void 0:i.card;b.sendUpdatedCardFieldEvent({field:"stickers",source:"stickerEditView",attributes:{taskId:t.editTraceId,action:o?"rotated":n?"moved":"edited"},containers:{card:{id:null==a?void 0:a.id},board:{id:null==a?void 0:a.get("idBoard")},list:{id:null==a?void 0:a.get("idList")}}})}})))}},{key:"mouseenter",value:function(e){this.isEditingDisabled()||this.isEditing()||this.isMovingOrRotating()||this.$el.addClass("hover")}},{key:"mouseleave",value:function(e){this.$el.removeClass("hover")}},{key:"editSticker",value:function(e){var t,n=this;if(null==e||1===e.which){if(h.stop(e),null!=e&&"mousedown"===e.type){var r=e.pageX,i=e.pageY,o=function(){return p(document).off(".stickerautomove"),clearTimeout(t)};p(document).on("mousemove.stickerautomove",(function(e){if(Math.pow(e.pageX-r,2)+Math.pow(e.pageY-i,2)>25)return o(),n.startMove(e)})),p(document).on("mouseup.stickerautomove",o),t=this.setTimeout(o,1e3)}for(var a=v.clone(this.model.collection.models),s=0,l=Array.from(a);s<l.length;s++){var c=l[s];c!==this.model&&(c.trigger("stopEditing"),c.trigger("disableEditing"))}this.defer((function(){return m.hide(),n.$el.addClass("editing"),p(".quick-card-editor").addClass("quick-card-editor-editing-stickers")}))}}},{key:"startRotate",value:function(e){var t=this;if(this.isEditing()){h.preventDefault(e),this.editTraceId=b.startTask({taskName:"edit-card",subTask:"stickers",source:"stickerEditView",attributes:{action:"rotated"}});var n=this.$el.offset().left+this.$el.width()/2,r=this.$el.offset().top+this.$el.height()/2,i=e.pageX,o=e.pageY,a=0,s=h.getElemTransformMatrix(this.$el.find(".sticker-image"));null!=s&&(a=h.getMatrixDegrees(s));var l=!1;return p(document).on("mousemove.stickerrotate",(function(e){l||(t.$el.removeClass("hover").addClass("rotating"),p(".quick-card-editor").addClass("dragging"),l=!0);var s=e.pageX,c=e.pageY,u=s-n,d=c-r,m=h.getDegrees(o-r,i-n),f=h.getDegrees(d,u),v=a+(f-m);t.$el.find(".sticker-image").css({transform:"rotate(".concat(v,"deg)"),"-webkit-transform":"rotate(".concat(v,"deg)")})})),p(document).on("mouseup.stickerrotate",(function(){return l?(t.saveStickerAttrs({rotation:!0}),t.endCurrentEdit()):p(document).off(".stickerrotate")})),!1}}},{key:"startMove",value:function(e){var t,n,r=this;if(this.isEditing()){h.stop(e),this.editTraceId=b.startTask({taskName:"edit-card",subTask:"stickers",source:"stickerEditView",attributes:{action:"moved"}});var i=this.$el.closest(".list-card").find(".js-card-stickers"),o=i.offset(),a=o.left,s=o.top,l=this.$el.width(),c=this.$el.height(),u={left:-40,right:i.width()-10,top:-40,bottom:i.height()-10};null!=e?(t=this.$el.offset().left+this.$el.width()/2-e.pageX,n=this.$el.offset().top+this.$el.height()/2-e.pageY):(t=0,n=0);var d=!1;return p(document).on("mousemove.stickermove",(function(e){d||(r.$el.removeClass("hover").addClass("moving"),p(".quick-card-editor").addClass("dragging"),d=!0);var i=e.pageX-a-l/2+t,o=e.pageY-s-c/2+n,m=!0;return i>u.right&&(i=u.right,m=!1),i<u.left&&(i=u.left,m=!1),o>u.bottom&&(o=u.bottom,m=!1),o<u.top&&(o=u.top,m=!1),p(".quick-card-editor").toggleClass("invalid",!m),r.$el.css({left:i,top:o})})),p(document).on("mouseup.stickermove",(function(){return d?(r.saveStickerAttrs({position:!0}),r.endCurrentEdit()):p(document).off(".stickermove")})),!1}}},{key:"removeSticker",value:function(e){var t=this;if(this.isEditing()){var n=v.once((function(){t.stopEditing(),t.model.destroyWithTracing({traceId:t.editTraceId},y({taskName:"edit-card",subTask:"stickers",traceId:t.editTraceId,source:"stickerEditView",attributes:{action:"removed"}},(function(e,n){if(n){var r,i=null===(r=t.options)||void 0===r?void 0:r.card;b.sendUpdatedCardFieldEvent({field:"stickers",source:"stickerEditView",attributes:{taskId:t.editTraceId,action:"removed"},containers:{card:{id:null==i?void 0:i.id},board:{id:null==i?void 0:i.get("idBoard")},list:{id:null==i?void 0:i.get("idList")}}})}}))),t.$el.remove()}));this.$el.one("transitionEnd webkitTransitionEnd",n),this.setTimeout(n,100),this.$el.addClass("fade-out")}}}])&&a(n.prototype,d),f&&a(n,f),k}(f)).initClass(),d)},"./app/scripts/views/stickers/sticker-view.js":function(e,t,n){function r(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function o(e,t,n){return(o="undefined"!=typeof Reflect&&Reflect.get?Reflect.get:function(e,t,n){var r=function(e,t){for(;!Object.prototype.hasOwnProperty.call(e,t)&&null!==(e=c(e)););return e}(e,t);if(r){var i=Object.getOwnPropertyDescriptor(r,t);return i.get?i.get.call(n):i.value}})(e,t,n||e)}function a(e,t){return(a=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function s(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function u(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var p=n("./packages/browser/index.ts"),m=n("./app/scripts/lib/util/index.js"),f=n("./app/scripts/views/internal/view.js"),h=n("./app/scripts/data/sticker-size.js"),v=n("./app/scripts/lib/util/sticker-clip.js"),g=n("./app/scripts/views/internal/teacup-with-helpers.js")("sticker_on_card"),b=n("./node_modules/bluebird/js/browser/bluebird.js"),y=n("./packages/analytics/index.ts").track,k=n("./packages/atlassian-analytics/index.ts"),w=k.Analytics,j=k.tracingCallback,_=p.supportsFancyPeel(),x=g.renderable((function(e){var t=e.url,r=e.rotate,i=e.image,o=e.showEditControls,a=e.showRemoveUI,s=e.isGiphySticker;return a?(g.div({class:g.classify({"sticker-removing":!0,"giphy-sticker":s})},(function(){return g.div(".sticker-removing-highlight",{style:"transform: rotate(".concat(r,"deg)")}),_?(g.img(".sticker-remove-image.sticker-removing-residue",{src:n("./resources/images/stickers/residue.png"),style:"--sticker-rotation: ".concat(r,"deg; mask-image: ").concat(g.urlify(t),"; -webkit-mask-image: ").concat(g.urlify(t),";")}),g.img(".sticker-remove-image.sticker-removing-shadow",{src:t,style:"--sticker-rotation: ".concat(r,"deg")}),g.img(".sticker-remove-image.sticker-removing-fixed",{src:t,style:"--sticker-rotation: ".concat(r,"deg;")}),g.img(".sticker-remove-image.sticker-removing-peel",{src:t,style:"--sticker-rotation: ".concat(r,"deg")})):g.img(".sticker-remove-image.sticker-removing-fixed",{src:t,style:"transform: rotate(".concat(r,"deg)")})})),g.span(".sticker-control-btn.remove-btn.js-remove-sticker",{style:"display: none"},(function(){return g.format("remove")}))):(g.img({class:g.classify({"sticker-image":!0,"giphy-sticker":s}),src:t,style:"-webkit-transform: rotate(".concat(r,"deg);transform: rotate(").concat(r,"deg);"),alt:i}),o?g.div(".sticker-controls",(function(){return g.span(".sticker-control-btn.rotate-btn.js-rotate-sticker",(function(){return g.format("rotate")})),g.span(".sticker-control-btn.move-btn.js-move-sticker",(function(){return g.format("move")})),g.span(".sticker-control-btn.remove-btn.js-remove-sticker",(function(){return g.format("remove")}))})):void 0)})),C=function(e,t){null==t&&(t={});var n=e.getBoundingClientRect(),r=n.left,i=n.top,o=t.fixedWidth?r+t.fixedWidth():n.right,a=t.fixedHeight?i+t.fixedHeight():n.bottom;return{left:r,top:i,bottom:a,right:o,width:o-r,height:a-i,x:r+(o-r)/2,y:i+(a-i)/2}},O=function(e){var t=e.rect,n=e.containerRect,r=e.controlRect,i=(e.currentX,e.currentY,e.deltaX),o=e.deltaY,a=(e.interval,m.getPositiveDegrees(-o,i)),s=function(e){return e-45<a&&a<e+45},l=8-r.height,c=(t.height-r.height)/2,p=t.height-8,f=8-r.width,h=(t.width-r.width)/2,v=t.width-8,g=[{left:h,top:p,avoid:s(270)},{left:h,top:l,avoid:s(90)},{left:v,top:c,avoid:s(0)||s(360)},{left:f,top:c,avoid:s(180)},{left:f,top:p,avoid:s(225)},{left:v,top:p,avoid:s(315)},{left:f,top:l,avoid:s(135)},{left:v,top:l,avoid:s(45)}].map((function(e){var i=e.left+(t.left-n.left),o=e.top+(t.top-n.top),a=i+r.width,s=o+r.height;return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?u(Object(n),!0).forEach((function(t){d(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):u(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{visibleArea:(Math.min(a,n.width)-Math.max(0,i))*(Math.min(s,n.height)-Math.max(0,o))})})).sort((function(e,t){return t.visibleArea-e.visibleArea}));return g.filter((function(e){return!e.avoid}))[0]||g.filter((function(e){return e.avoid}))[0]||g[0]},S=null,E=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&a(e,t)}(f,e);var t,n,u,d,p=(t=f,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return s(this,e)});function f(){return r(this,f),p.apply(this,arguments)}return n=f,d=[{key:"initClass",value:function(){this.prototype.className="sticker"}}],(u=[{key:"initialize",value:function(){return o(c(f.prototype),"initialize",this).apply(this,arguments),this.listenTo(this.model,"change",this.render)}},{key:"showEditControls",value:function(){return!1}},{key:"events",value:function(){return this.options.canRemove?{mouseenter(e){if(!this.showRemoveUI)return this.showRemoveUI=!0,this.render()},mouseleave:"mouseLeave",mousemove:"mouseMove",mousedown(e){if(!this.$(e.target).closest(".js-remove-sticker").length)return this.removeRemove()},"left-sticker":"removeRemove","mousemove .js-remove-sticker":e=>m.stop(e),"mouseenter .js-remove-sticker"(e){return this.$el.addClass("peeling")},"mouseleave .js-remove-sticker"(e){return this.$el.removeClass("peeling")},"click .js-remove-sticker"(e){return m.stop(e),this.removeSticker()}}:{}}},{key:"render",value:function(){var e,t,n,r=this.model.toJSON();return r.url=null!=(t=m.smallestPreviewBiggerThan(r.imageScaled,h),n=function(e){return e.url},e=null!=t?n(t):void 0)?e:r.imageUrl,r.showEditControls=this.showEditControls(),r.showRemoveUI=this.showRemoveUI,this.$el.html(x(r)).css({left:"".concat(v(r.left),"%"),top:"".concat(v(r.top),"%")}),this}},{key:"mouseMove",value:function(e){var t=this;return e.buttons?this.removeRemove():this.showingRemove?this.clearTimeouts():this.hoverTimeout?(this.currentX=e.offsetX,this.currentY=e.offsetY):(this.$el.siblings().trigger("left-sticker"),this.currentX=this.startX=e.offsetX,this.currentY=this.startY=e.offsetY,this.hoverTimeout=this.setTimeout((function(){return t.showRemove()}),350))}},{key:"showRemove",value:function(){var e=this;if(!this.showingRemove){this.showingRemove=!0;var t=this.currentX-this.startX,n=this.currentY-this.startY;this.$el.addClass("hover");var r=this.$(".js-remove-sticker");return b.try((function(){return S||(r.css({display:"inline-block"}),new b((function(t){return e.requestAnimationFrame((function(){return S=C(r.get(0)),r.css({display:"none"}),t(S)}))})))})).then((function(i){var o=O({rect:C(e.el),containerRect:C(e.$el.closest(".js-stickers-area").get(0),{fixedWidth:e.options.fixedWidth,fixedHeight:e.options.fixedHeight}),controlRect:i,currentX:e.currentX,currentY:e.currentY,deltaX:t,deltaY:n,interval:350}),a=o.left,s=o.top;return r.css({display:"inline-block",top:s,left:a})})).done()}}},{key:"removeRemove",value:function(e){if(this.showingRemove)return this.showingRemove=!1,this.clearTimeouts(),this.$(".js-remove-sticker").css({display:"none"}),this.$el.removeClass("hover peeling")}},{key:"mouseLeave",value:function(e){var t=this;return this.clearTimeouts(),this.removeTimeout=this.setTimeout((function(){return t.removeRemove()}),200)}},{key:"clearTimeouts",value:function(){return clearTimeout(this.hoverTimeout),this.hoverTimeout=null,clearTimeout(this.removeTimeout),this.removeTimeout=null}},{key:"removeSticker",value:function(){var e=this,t=w.startTask({taskName:"edit-card",subTask:"stickers",source:"stickerHoverView",attributes:{action:"removed"}});return y("Card","Sticker","Remove via Hover"),this.clearTimeouts(),this.$el.remove(),this.model.destroyWithTracing({traceId:t},j({taskName:"edit-card",subTask:"stickers",traceId:t,source:"stickerHoverView",attributes:{action:"removed"}},(function(n,r){if(r){var i,o=null===(i=e.options)||void 0===i?void 0:i.card;w.sendUpdatedCardFieldEvent({field:"stickers",source:"stickerHoverView",attributes:{taskId:t,action:"removed"},containers:{card:{id:null==o?void 0:o.id},list:{id:null==o?void 0:o.get("idList")},board:{id:null==o?void 0:o.get("idBoard")}}})}})))}}])&&i(n.prototype,u),d&&i(n,d),f}(f);E.initClass(),e.exports=E},"./app/scripts/views/templates/BoardClosed.js":function(e,t,n){"use strict";n.r(t),n.d(t,"BoardClosed",(function(){return l}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/common/lib/util/i18n/index.ts"),a=n("./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.tsx"),s=Object(o.forTemplate)("board_closed"),l=function(e){var t=e.name,n=e.deleting,r=e.canReopen,o=e.canDelete,l=e.isDesktop,c=e.isAtOrOverLimit,u=e.orgName,d=e.orgId,p=e.billingUrl,m=e.upgradePathAuditEnabled;return i.a.createElement("div",{className:"big-message quiet closed-board"},i.a.createElement("h1",null,s("name-is-closed",{name:t})),n?s("deleting"):[c?i.a.createElement("p",{className:"messaging",key:"messaging"},!l&&u&&p?m?i.a.createElement(a.a,{orgId:d,teamName:u}):i.a.createElement("span",{dangerouslySetInnerHTML:{__html:s("cannot-reopen-board-limit-reached",{orgName:u,billingUrl:p})}}):s("cannot-reopen-board-limit-reached-desktop")):r||o?null:i.a.createElement("p",{className:"messaging",key:"messaging"},s("you-re-a-member-of-this-board-but-only-board-admins-are-able-to-re-open-it")),r&&!c?i.a.createElement("p",{key:"reopen"},i.a.createElement("a",{className:"js-reopen",href:"#"},s("reopen"))):null,o?i.a.createElement("p",{className:"delete-container",key:"delete"},i.a.createElement("a",{className:"quiet js-delete",href:"#"},s("permanently-delete-board"))):null])}},"./app/scripts/views/templates/action.js":function(e,t,n){var r=n("./node_modules/underscore/underscore.js"),i=n("./app/scripts/views/internal/teacup-with-helpers.js")("action"),o=n("./app/scripts/views/templates/entity.js"),a=n("./app/scripts/views/templates/member_avatar.js"),s=n("./app/scripts/views/templates/action_footer.js"),l=n("./app/scripts/views/templates/action_appCreator.ts"),c=["attachmentPreview","comment","checkList"];e.exports=i.renderable((function(e,t,n){var u=e.entities,d=e.saved,p=e.dateLastEdited,m=e.date,f=e.url,h=e.appCreator,v=t.member,g=t.showReactions,b=t.showInlineReactionButton,y=t.canLinkAppCreator,k=n.useEmbedly,w=n.useCommentUnfurl,j=n.usePreviews,_=!0;return i.div(".phenom-creator",(function(){return v?i.div(".member.js-show-mem-menu",{class:i.classify({"member-deactivated":v.isDeactivated||v.activityBlocked}),idmember:v.id},(function(){return a(v)})):i.span(".icon-lg.icon-member")})),i.div(".phenom-desc",(function(){for(var e=0,r=Array.from(u);e<r.length;e++){var a=r[e];Array.from(c).includes(a.type)&&(_=!1,i.span(".inline-spacer",(function(){return i.text(" ")})),i.span(".phenom-date.quiet",(function(){if(d&&(f?i.a(".date.js-hide-on-sending.js-highlight-link.past",{dt:m,href:f}):i.span(".date.js-hide-on-sending.past",{dt:m,href:f})),p)return i.span(".js-date-title.js-hide-on-sending.past",{dt:p},(function(){return i.text(" "),i.format("edited")}));h&&l({appCreator:h,canLinkAppCreator:y})}))),o(a,t,n)}if(k&&i.div(".hide.embedly.js-embedly"),w&&i.div(".hide.unfurled-comment.comment-preview"),j)return i.div(".hide.previews.js-previews")})),g?i.div(".phenom-reactions",(function(){return i.div(".js-reaction-piles.reaction-piles-container",{class:i.classify({last:b,"reaction-piles-container-full":!b})}),s(e,t,r.extend(n,{needsDate:_}))})):s(e,t,r.extend(n,{needsDate:_}))}))},"./app/scripts/views/templates/action_appCreator.ts":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("action");e.exports=function(e){var t=e.appCreator,n=e.canLinkAppCreator;r.span((function(){var e;r.text(" "),r.raw("<span>".concat(r.l("via",{integrationName:(e=function(){var e="";return t.iconClass&&(e='<span class="app-creator-icon icon-sm '.concat(t.iconClass,'"></span>')),e+="<span>".concat(t.name,"</span>")},t.idPlugin&&n?'<a class="quiet js-app-creator-link" href="#">'.concat(e(),"</a>"):e())},{raw:!0}),"</span>"))}))}},"./app/scripts/views/templates/action_footer.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("action"),i=n("./app/scripts/views/templates/action_appCreator.ts");e.exports=r.renderable((function(e,t,n){var o=e.saved,a=e.dateLastEdited,s=e.date,l=e.url,c=e.appCreator,u=t.board,d=t.organization,p=t.canReply,m=t.canReplyAll,f=t.canDelete,h=t.canEdit,v=t.canAttachLink,g=t.canLinkAppCreator,b=n.showOptions,y=n.needsDate;return r.div(".phenom-meta.quiet",(function(){if(y&&(o&&(l?r.a(".date.js-hide-on-sending.js-highlight-link.past",{dt:s,href:l}):r.span(".date.js-hide-on-sending.past",{dt:s,href:l})),a&&r.span(".js-date-title.js-hide-on-sending.past",{dt:a},(function(){return r.text(" "),r.format("edited")})),c&&i({appCreator:c,canLinkAppCreator:g})),r.span({class:r.classify({"js-spinner":!0,hide:o})},(function(){return r.format("sending-ellipsis"),r.raw("&nbsp;")})),u){var e=t.boardPLevelAltText,n=t.boardPLevelIconClass;r.text(" - "),r.format("on-board-name",{url:u.url,name:u.name,boardPLevelAltText:e,boardPLevelIconClass:n})}if(d){var k=t.orgPLevelAltText,w=t.orgPLevelIconClass;r.text(" - "),r.format("on-organization-name",{url:d.url,name:d.name,orgPLevelAltText:k,orgPLevelIconClass:w})}if(b)return r.span(".js-hide-on-sending.middle",(function(){var e=!1,t=function(){return e?r.text(" - "):e=!0};return p&&(t(),r.a({href:"#",class:m?"js-reply-to-all-action":"js-reply-to-action"},(function(){return r.format("reply")}))),h&&(t(),r.a(".js-edit-action",{href:"#"},(function(){return r.format("edit")}))),v&&(t(),r.a(".js-attach-link",{href:"#"},(function(){return r.format("attach link")}))),f&&(t(),r.a(".js-confirm-delete-action",{href:"#"},(function(){return r.format("delete")}))),r.span(".edits-warning.quiet",(function(){return t(),r.format("you-have-unsaved-edits-on-this-field")}))}))}))}))},"./app/scripts/views/templates/board.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("board");e.exports=function(){return r.div(".board-main-content",(function(){r.div(".board-header.u-clearfix.js-board-header".concat(r.mustacheVar("isCollapsedWorkspaceNav")?".collapsed-workspace-nav":"")),r.div(".board-warnings.u-clearfix.js-board-warnings"),r.div(".board-canvas",(function(){r.div(".js-board-view-container")}))})),r.div(".board-menu.js-fill-board-menu")}},"./app/scripts/views/templates/board_copy.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_copy");e.exports=function(){return r.mustacheBlock("loading",(function(){return r.div(".spinner.loading")})),r.mustacheBlockInverted("loading",(function(){return r.form((function(){return r.label({for:"boardNewTitle"},(function(){return r.format("title")})),r.input(".non-empty.js-autofocus",{id:"boardNewTitle",type:"text",name:"name",placeholder:r.mustacheVar("placeholder"),value:r.mustacheVar("boardNameInputValue"),dir:"auto"}),r.div({class:r.mustacheBlock("hideOrg",(function(){return"hide"}))},(function(){return r.div(".u-clearfix",(function(){return r.label(".u-float-left",{style:"margin-right: 8px;"},(function(){return r.format("organization")})),r.mustacheBlock("canAddToOrgs",(function(){return r.a(".icon-sm.icon-information.dark-hover.js-helper-add-org",{href:"#"})}))})),r.mustacheBlock("hasEnterprise",(function(){return r.mustacheBlock("enterpriseName",(function(){if(!r.mustacheVar("showPrivateBoardsOptionForEntBoards"))return r.p(".quiet",(function(){return r.format("board-can-only-be-copied-to-teams-within-org",{enterpriseName:r.mustacheVar("enterpriseName")})}))}))})),r.mustacheBlockInverted("canAddToOrgs",(function(){return r.p(".quiet",{style:"margin-bottom: 16px;"},(function(){return r.format("organization-whisk-n-tsk"),r.text(" "),r.a(".js-create-org",{href:"#"},(function(){return r.format("create-an-organization")}))}))})),r.select({name:"org-id",class:r.mustacheBlockInverted("canAddToOrgs",(function(){return"hide"}))},(function(){return r.mustacheBlockInverted("blockTeamlessBoardsEnabled",(function(){if(!r.mustacheVar("hasEnterprise")||r.mustacheVar("showPrivateBoardsOptionForEntBoards"))return r.option({value:""},(function(){return r.format("none")}))})),r.mustacheBlock("orgs",(function(){return r.optionSelected(r.mustacheVar("selectOrg"),{value:r.mustacheVar("id")},(function(){return r.text(r.mustacheVar("displayName"))}))}))}))})),r.div(".board-limits-upgrade-ad.js-board-limits-upgrade-ad.hide",(function(){return r.p((function(){return r.mustacheVar("isDesktop")?r.format("board-cant-be-copied-because-of-board-limits-desktop"):r.mustacheVar("upgradePathAuditEnabled")?r.div(".copy-board-upsell-react-component"):r.format("board-cant-be-copied-because-of-board-limits")}))})),r.div(".js-permissions.hide",(function(){return r.input({type:"hidden",name:"permissionLevel",value:r.mustacheVar("pLevel")}),r.p(".quiet.js-vis-display"),r.ul(".pop-over-list.js-vis-chooser.hide"),r.p(".error.u-bottom.js-no-valid-org-privs.u-clearfix.hide"),r.div(".js-confirm-public-message.hide",(function(){return r.p(r.mustacheVar("publicConfirmationText")),r.input(".pop-over-confirmation-button.nch-button.nch-button--primary.js-confirm-public",{type:"button",value:r.mustacheVar("publicConfirmationConfirm")}),r.input(".pop-over-confirmation-button.js-cancel-public",{type:"button",value:r.mustacheVar("publicConfirmationCancel")})})),r.div(".check-div.u-clearfix",{style:"margin-top: 10px;"},(function(){return r.input({type:"checkbox",id:"idKeepCards",name:"cards",checked:!0}),r.label({for:"idKeepCards"},(function(){return r.format("keep-cards")}))})),r.div(".check-div.u-clearfix",{style:"margin-top: 10px;"},(function(){return r.input({type:"checkbox",id:"idKeepTemplateCards",name:"templates",checked:!0}),r.label({for:"idKeepTemplateCards"},(function(){return r.format("keep-template-cards")}))})),r.p(".quiet",(function(){return r.format("activity-and-members-will-not-be-copied")})),r.mustacheBlock("willRemovePowerUps",(function(){return r.p(".quiet",(function(){return r.format("power-ups-will-not-be-copied")}))}))})),r.input(".nch-button.nch-button--primary.wide.js-submit.disabled",{type:"submit",value:r.l("create")})}))}))}},"./app/scripts/views/templates/board_copy_vis.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_copy_vis");e.exports=function(){return r.format("this-board-will-be-visdisplaytext",{visIconClass:r.mustacheVar("visIconClass"),visDisplayText:r.mustacheVar("visDisplayText")}),r.text(" "),r.a(".js-change-vis",{href:"#"},(function(){return r.format("change")}))}},"./app/scripts/views/templates/board_header.js":function(e,t,n){var r=n("./app/scripts/lib/localize-count.js"),i=n("./app/common/lib/util/i18n/formatters.ts").asNumber,o=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_header"),a=n("./packages/feature-flag-client/index.ts").featureFlagClient.getTrackedVariation("board-header-filtering-experiment",!1);e.exports=o.renderable((function(e){var t=e.canRename,n=e.orgLogoUrl,s=e.orgLogoUrl2x,l=e.isStandard,c=(e.hasBusinessClass,e.isBusinessClass),u=e.isEnterprise,d=e.orgDisplayName,p=e.name,m=e.orgName,f=e.isLoggedIn,h=(e.isAdmin,e.isMember),v=e.isPrivateTeam,g=e.isUntitled,b=e.canJoin,y=e.canInviteMembers,k=(e.selfJoin,e.canAssign),w=e.showCopyButton,j=e.boardCardCount,_=e.isPrivateTeamForEnterpriseVisibleBoard,x=e.isTemplate,C=e.starTooltipKey,O=e.boardViewsButtonEnabled,S=e.currentBoardView,E=l?"STA":c?"BC":u?"ENT":"Free",T={"board-header-btn":!0,"mod-board-name":!0,"inline-rename-board":!0,"js-rename-board":t,"no-edit":!t,"should-rename":g&&t},P={"board-header-btn":!0,"board-header-btn-org-name":!0,"js-open-org-menu":!0,"board-header-btn-without-icon":!n};if(O){var N=o.classify({"icon-sm":!0,"board-header-btn-icon":!0,"icon-calendar":"calendar"===S,"icon-map":"map"===S,"icon-list":"list"===S});o.div(".js-board-views-btn-container",(function(){return o.a(".board-header-btn",{href:"#"},o.span({class:"board-views-btn-new-pill"}),(function(){return o.span({class:N})}),o.span({class:"board-views-btn-text-label"}),o.span({class:"board-views-btn-dropdown-icon"}))}))}return o.div({href:"#",class:o.classify(T)},(function(){return o.h1(".js-board-editing-target.board-header-btn-text",{dir:"auto"},(function(){return o.text(p)})),o.input(".board-name-input.js-board-name-input",{"aria-label":p,spellcheck:"false",dir:"auto",maxLength:512,value:p})})),x&&o.div(".board-header-btn-template-badge.js-board-template-badge"),f&&o.a(".board-header-btn.js-star-board",{href:"#",title:o.l(C),"aria-label":o.l("star-or-unstar-board")},(function(){return o.icon("star",{class:"board-header-btn-icon"})})),o.div(".js-board-header-btn-org-wrapper.board-header-btn-org-wrapper",(function(){return d&&m&&(o.span(".board-header-btn-divider"),o.a({href:"/".concat(m),class:o.classify(P),data:{boardtype:E}},(function(){return n&&o.div(".board-header-btn-name-org-logo-container",(function(){return o.img({class:"board-header-btn-name-org-logo",src:n,srcSet:"".concat(n," 1x, ").concat(s," 2x")})})),o.span(".board-header-btn-text",(function(){return o.text(d),o.span(".org-label",(function(){return o.text(E)}))}))})),o.span(".board-header-btn-divider")),o.div(".board-header-btns.mod-left",(function(){if(!d&&!x){if(o.span(".board-header-btn-divider"),h&&v||_)return o.span(".board-header-btn.board-header-btn-without-icon.board-header-btn-text.no-edit",(function(){return o.format("private-team")})),o.span(".board-header-btn-divider");if(!v&&!x)return o.span("#workspaces-preamble-board-header-button"),o.span(".board-header-btn-divider")}})),o.a(".board-header-btn.perms-btn.js-change-vis",{href:"#",id:"permission-level"})})),o.span(".board-header-btn-divider"),o.div(".board-header-btns.mod-left",(function(){if(o.div(".board-header-facepile.js-fill-facepile",{class:o.classify({"js-list-draggable-board-members":k})}),o.a("#member-count.board-header-btn.board-header-btn-member-count.js-open-show-all-board-members.js-fill-board-member-count",{href:"#"},(function(){})),o.span("#member-count-notifications"),y&&o.span("#workspaces-preamble-invite-button"),b&&!x)return o.a(".board-header-btn.board-header-btn-without-icon.board-header-btn-join-board.js-join-board",{href:"#",title:o.l("org-members-can-join-this-board")},(function(){return o.span(".board-header-btn-text",(function(){return o.format("join-board")}))}))})),o.div(".board-header-btns.mod-right",(function(){return a||o.a(".board-header-btn.mod-filter-indicator.hide.js-filter-cards-indicator.board-header-btn-without-icon",{href:"#"},(function(){return o.span(".board-header-btn-text",(function(){return o.text(r("search-results",j))})),o.icon("close",{class:"board-header-btn-icon-close js-filter-card-clear"})})),o.a(".board-header-btn.sub-btn.hide.js-board-header-subscribed",{href:"#"},(function(){return o.icon("subscribe",{class:"board-header-btn-icon"}),o.span(".board-header-btn-text",(function(){return o.format("watch")}))})),o.span(".js-calendar-board-btn board-header-btn-react-container"),o.a(".board-header-btn.hide.js-map-btn",{href:"#"},(function(){return o.span(".icon-sm.icon-location.board-header-btn-icon"),o.span(".board-header-btn-text",(function(){return o.format("map")}))})),o.span(".js-plugin-header-btns"),f&&w&&!x&&o.a(".board-header-btn.js-copy-board",{href:"#"},(function(){return o.icon("board",{class:"board-header-btn-icon"}),o.span(".board-header-btn-text",(function(){return o.format("copy-board")}))})),a&&(o.span(".board-header-btn-divider"),o.a(".board-header-btn.js-header-filter-btn",{href:"#"},(function(){return o.icon("filter",{class:"board-header-btn-icon"}),o.span(".board-header-filter-btn-text",(function(){return o.format("filter")})),o.span(".board-header-filter-count.js-filter-cards-count",(function(){return o.text(i(j))}))}))),o.a(".board-header-btn.mod-show-menu.js-show-sidebar",{href:"#"},(function(){return o.icon("overflow-menu-horizontal",{class:"board-header-btn-icon"}),o.span(".board-header-btn-text",(function(){return o.format("show-menu")}))}))})),o.div("#workspaces-auto-name-alert"),o.span("#board-header-notification")}))},"./app/scripts/views/templates/board_header_permissions.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_header_permissions");e.exports=r.renderable((function(e){var t=e.permIconClass,n=e.permText;return r.span({class:r.classify({"board-header-btn-icon":!0,"icon-sm":!0,["icon-".concat(t)]:!0})}),r.span(".board-header-btn-text",(function(){return r.text(n)}))}))},"./app/scripts/views/templates/board_header_warnings.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_header_warnings");e.exports=r.renderable((function(e){var t=e.canDismiss,n=e.warning,i=n.key,o=n.dismiss;return r.div(".board-warning",(function(){if(r.format(i),t)return r.span(".js-dismiss-warning.board-warning-close.icon-sm.icon-close",{"data-dismiss":o})}))}))},"./app/scripts/views/templates/board_member_profile.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_member_profile");e.exports=function(){return r.div(".window-header.u-clearfix",(function(){return r.span(".window-header-icon.icon-lg.icon-activity"),r.h2(".window-title",(function(){return r.text(r.mustacheVar("fullName")),r.span(".quiet",{style:"margin-left: 3px"},(function(){return r.text("(".concat(r.mustacheVar("username"),")"))}))}))})),r.div(".window-main-col.window-main-col-full",(function(){return r.div(".list-actions",(function(){return r.p(".js-board-member-profile-no-activity",(function(){return r.format("this-member-has-no-board-activity")}))})),r.a(".show-more.js-more-actions",{href:"#"},(function(){return r.format("load-more-activity")}))}))}},"./app/scripts/views/templates/board_menu_vis.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("board_menu_vis");e.exports=r.renderable((function(e){var t=e.current,n=e.isNewBoard,i=e.canChange,o=e.mustChange,a=e.hasSuperAdmins,s=e.hasOrg,l=e.orgName,c=e.privateRestricted,u=e.orgRestricted,d=e.enterpriseRestricted,p=e.publicRestricted,m=e.hasEnterprise,f=e.enterpriseName,h=e.isTemplate,v=e.isOrgPremium,g=e.isTeamlessOwnedBoard;o&&(l?r.p(".quiet",(function(){return r.format("illegal org visibility",{orgName:l})})):g&&f&&r.p(".quiet",(function(){return r.format("illegal teamless visibility",{enterpriseName:f})})));var b=m&&!g?"with enterprise":a?"with super admins":s?"with organization":"without organization",y={private:{iconClass:"icon-private",restricted:c,invalid:!v&&h},org:{iconClass:"icon-organization",restricted:u,invalid:n&&!s},enterprise:{iconClass:"icon-enterprise",restricted:m&&d,noEnterprise:!m,invalid:n&&!s},public:{iconClass:"icon-public",restricted:p}};return g&&(delete y.org,delete y.enterprise),function(){var e=[],o=function(o){var a=y[o],c=a.restricted,u=a.invalid,d=a.iconClass,p=a.noEnterprise;e.push(r.li((function(){var e=c||u||!i||p;return r.a(".js-select",{class:r.classify({disabled:e}),href:"#",name:o},(function(){return r.span(".icon-sm.vis-icon",{class:d},(function(){})),r.check(t===o,o),r.span(".sub-name",(function(){var e=f&&!g?{enterpriseName:f,orgName:l}:l?{orgName:l}:{},t=h?"is template ":"";if(r.format(["permission subtext","".concat(t).concat(b),o],e),i&&c)return r.raw(" "),r.span(".error",(function(){return n?r.format(["illegal visibility",s?"create":"create teamless"]):r.format(["illegal visibility",s?"change":"change teamless"])}))}))}))})))};for(var a in y)o(a);return e}()}))},"./app/scripts/views/templates/cant_add_board_to_ent.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("cant_add_board_to_ent");e.exports=function(){return r.p(".quiet",(function(){return r.mustacheBlock("isEntAdmin",(function(){return r.format("enterprise-displayname-does-not-allow-new-boards-you-can-change-this-on-the-enterprise-settings-page-by-clicking-on-board-creation-restrictions",{"enterprise.displayName":r.mustacheVar("enterprise.displayName"),entSettingsUrl:r.mustacheVar("entSettingsUrl")})})),r.mustacheBlockInverted("isEntAdmin",(function(){return r.format("enterprise-displayname-does-not-allow-new-boards-only-an-admin-of-the-enterprise-can-change-this-setting",{"enterprise.displayName":r.mustacheVar("enterprise.displayName")})}))}))}},"./app/scripts/views/templates/cant_add_board_to_org.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("cant_add_board_to_org");e.exports=function(){return r.p(".quiet",(function(){return r.mustacheBlock("isOrgAdmin",(function(){return r.format("organization-displayname-does-not-allow-new-boards-you-can-change-this-on-the-organization-settings-page-by-clicking-on-board-creation-restrictions",{"organization.displayName":r.mustacheVar("organization.displayName"),orgSettingsUrl:r.mustacheVar("orgSettingsUrl")})})),r.mustacheBlockInverted("isOrgAdmin",(function(){return r.format("organization-displayname-does-not-allow-new-boards-only-an-admin-of-the-organization-can-change-this-setting",{"organization.displayName":r.mustacheVar("organization.displayName")})}))}))}},"./app/scripts/views/templates/card_attach_links.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_attach_links");e.exports=r.renderable((function(e){return r.div(".card-attach-link-list",(function(){return function(){for(var t=[],n=function(){var e=o[i],n=e.url,a=e.text,s=e.domain,l=e.attached;t.push(r.div(".card-attach-link-list-item",{class:r.classify({attached:l})},(function(){return r.div(".card-attach-link-list-item-title",(function(){return a?r.text(a):r.format("link to domain",{domain:s})})),r.div(".card-attach-link-list-item-url.quiet",(function(){return r.text(n)})),l?r.div(".card-attach-link-list-item-attached.quiet",(function(){return r.span(".icon-lg.icon-check")})):r.button(".card-attach-link-list-item-attach.js-attach",{"data-url":n,"data-text":a},(function(){return r.format("attach")}))})))},i=0,o=Array.from(e);i<o.length;i++)n();return t}()}))}))},"./app/scripts/views/templates/card_composer_inline.js":function(e,t,n){var r=n("./packages/browser/index.ts"),i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_composer_inline");e.exports=function(){var e=i.mustacheVar("placeholder");return i.div(".list-card.js-composer",(function(){return i.div(".list-card-details.u-clearfix",(function(){return i.div(".list-card-labels.u-clearfix.js-list-card-composer-labels"),i.textarea(".list-card-composer-textarea.js-card-title",{dir:"auto",placeholder:e},(function(){return i.text(["explorer-10","explorer-11"].includes(r.browserVersionStr)?e:i.mustacheVar("title"))})),i.div(".list-card-members.js-list-card-composer-members")}))})),i.div(".cc-controls.u-clearfix",(function(){return i.div(".cc-controls-section",(function(){return i.input(".nch-button.nch-button--primary.confirm.mod-compact.js-add-card",{type:"submit",value:i.l("add-card")}),i.a(".icon-lg.icon-close.dark-hover.js-cancel",{href:"#"})})),i.div(".cc-controls-section.mod-right",(function(){return i.a(".icon-lg.icon-overflow-menu-horizontal.dark-background-hover.js-cc-menu",{href:"#"})}))}))}},"./app/scripts/views/templates/card_copy.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_copy");e.exports=function(){return r.mustacheBlock("loading",(function(){return r.div(".spinner.loading.js-loading-card-actions")})),r.mustacheBlockInverted("loading",(function(){return r.form((function(){return r.label((function(){return r.format("title")})),r.textarea(".js-autofocus",{name:"name"},(function(){return r.text(r.mustacheVar("name"))})),r.mustacheBlock("hasStuff",(function(){return r.label((function(){return r.format("keep-ellipsis")})),r.mustacheBlock("hasChecklists",(function(){return r.div(".check-div.u-clearfix",(function(){return r.input({id:"idKeepChecklists",type:"checkbox",name:"checklists",checked:!0}),r.label({for:"idKeepChecklists"},(function(){return r.format("checklists-numchecklists",{numChecklists:r.mustacheVar("numChecklists")})}))}))})),r.mustacheBlock("hasLabels",(function(){return r.div(".check-div.u-clearfix",(function(){return r.input({id:"idKeepLabels",type:"checkbox",name:"labels",checked:!0}),r.label({for:"idKeepLabels"},(function(){return r.format("labels-numlabels",{numLabels:r.mustacheVar("numLabels")})}))}))})),r.mustacheBlock("hasMembers",(function(){return r.div(".check-div.u-clearfix",(function(){return r.input({id:"idKeepMembers",type:"checkbox",name:"members",checked:!0}),r.label({for:"idKeepMembers"},(function(){return r.format("members-nummembers",{numMembers:r.mustacheVar("numMembers")})}))}))})),r.mustacheBlock("hasAttachments",(function(){return r.div(".check-div.u-clearfix",(function(){return r.input({id:"idKeepAttachments",type:"checkbox",name:"attachments",checked:!0}),r.label({for:"idKeepAttachments"},(function(){return r.format("attachments-numattachments",{numAttachments:r.mustacheVar("numAttachments")})}))}))})),r.mustacheBlock("hasComments",(function(){return r.div(".check-div.u-clearfix",(function(){return r.input({id:"idKeepComments",type:"checkbox",name:"comments",checked:!0}),r.label({for:"idKeepComments"},(function(){return r.format("comments-numcomments",{numComments:r.mustacheVar("numComments")})}))}))})),r.mustacheBlock("hasStickers",(function(){return r.div(".check-div.u-clearfix",(function(){return r.input({id:"idKeepStickers",type:"checkbox",name:"stickers",checked:!0}),r.label({for:"idKeepStickers"},(function(){return r.format("stickers-numstickers",{numStickers:r.mustacheVar("numStickers")})}))}))}))})),r.label((function(){return r.format("copy-to-ellipsis")})),r.mustachePartial(n("./app/scripts/views/templates/move_card_controls.js")),r.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:r.l("create-card")})}))}))}},"./app/scripts/views/templates/card_in_list.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_in_list"),i=n("./app/scripts/views/templates/label.js"),o=n("./app/scripts/views/templates/member_on_card.js"),a=n("./app/scripts/views/templates/card_in_list_cover.js");e.exports=r.renderable((function(e){var t=e.hasStickers,n=e.labels,s=e.quickEdit,l=e.name,c=e.members,u=e.showEditor,d=e.badgesHTML,p=e.hasCover,m=e.cover,f=e.hideCover,h=e.attachmentCoverUrl;return a({cover:m,hasCover:p,hideCover:f,hasStickers:t,attachmentCoverUrl:h}),u&&r.icon("edit",{class:"list-card-operation dark-hover js-open-quick-card-editor js-card-menu"}),r.div(".list-card-stickers-area.js-stickers-area",{class:r.classify({hide:!t})},(function(){return r.div(".stickers.js-card-stickers")})),r.div(".list-card-details.js-card-details",(function(){return r.div(".list-card-labels.js-card-labels",(function(){return Array.from(n).map((function(e){return i({name:e.name,color:e.color,extraClasses:["mod-card-front"]})}))})),s?r.textarea(".list-card-edit-title.js-edit-card-title",{dir:"auto"},(function(){return r.text(l)})):r.span(".list-card-title.js-card-name",{dir:"auto"}),r.div(".badges",(function(){return r.span(".js-badges",(function(){return r.raw(d)})),r.span(".custom-field-front-badges.js-custom-field-badges"),r.span(".js-plugin-badges")})),r.div(".list-card-members.js-list-card-members",(function(){return Array.from(c).map((function(e){return o(e)}))}))})),r.p(".list-card-dropzone",(function(){return r.format("drop-files-to-upload")})),r.p(".list-card-dropzone-limited",(function(){return r.format("too-many-attachments")})),r.p(".list-card-dropzone-restricted",(function(){return r.format("attachments-restricted")}))}))},"./app/scripts/views/templates/card_in_list_cover.js":function(e,t,n){var r=n("./packages/browser/index.ts"),i=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_in_list"),o=n("./app/scripts/lib/util/index.js"),a=n("./app/common/lib/util/preview.ts").makePreviewCachable;e.exports=i.renderable((function(e){var t,n=e.cover,s=e.hasCover,l=e.hideCover,c=e.hasStickers,u=e.attachmentCoverUrl;if(null==n||l||!s)return i.div(".list-card-cover.js-card-cover");var d=n.idAttachment,p=n.idUploadedBackground,m=n.color,f=n.scaled,h=n.edgeColor,v=n.size,g=n.idPlugin;if("full"===v)return i.div(".list-card-cover.js-card-cover");if(m)return t=c?64:32,i.div(".list-card-cover.js-card-cover.color-card-cover.color-card-cover-".concat(m,".is-covered"),{style:i.stylify({height:"".concat(t,"px")})});if(d||p||g){var b,y=r.isHighDPI()?600:300,k=null!=(b=o.smallestPreviewBiggerThan(f,y))?b:o.biggestPreview(f);null==k&&d&&(k={url:u});var w=Math.min(k.height,260);return t=245*k.height/k.width,i.div(".list-card-cover.js-card-cover.is-covered",{style:i.stylify({height:"".concat(t<w?t:w,"px"),"background-color":null!=h?h:"transparent","background-image":'url("'.concat(a(k.url),'")'),"background-size":t<=w?"cover":"contain"})})}}))},"./app/scripts/views/templates/card_title_on_card_front.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("card_title_on_card_front");e.exports=r.renderable((function(e){var t=e.idShort,n=e.name,i=e.separatorClassName;return t&&r.span(".card-short-id.hide",(function(){return r.format("idshort",{idShort:t})})),i?r.div(".".concat(i)):r.text(n)}))},"./app/scripts/views/templates/comment-unfurl-preview.js":function(e,t,n){function r(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function i(e,t,n){return t&&r(e.prototype,t),n&&r(e,n),e}function o(e,t){return(o=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function a(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?s(e):t}function s(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function l(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function c(e){return(c=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var u,d=n("./node_modules/underscore/underscore.js"),p=n("./app/scripts/lib/plugins/plugin-validators.js"),m=n("./app/scripts/views/plugin/plugin-view.js"),f=n("./app/scripts/views/internal/plugins/plugin-io-cache.js"),h=n("./app/scripts/views/internal/teacup-with-helpers.js")("plugin_section"),v=n("./app/scripts/lib/plugins/plugin-behavioral-analytics.ts").sendPluginUIEvent,g=h.renderable((function(e){var t=e.icon,n=e.text,r=e.image,i=(e.url,e.subtext),o=e.thumbnail,a=e.idPlugin,s=e.actions,l=f.fromId(a);h.div(".comment-unfurl.js-comment-unfurl",(function(){return h.div(".comment-unfurl-thumb",{style:h.stylify({"background-image":o?h.urlify(o):(null!=r?r.url:void 0)?h.urlify(r.url):t?h.urlify(t):p.isValidUrlForCSSImage(b(null!=l?l.icon:void 0,(function(e){return e.url})))?h.urlify(l.icon.url):void 0,"background-position-y":"top"===(null!=r?r.y:void 0)?"0px":void 0,"background-position-x":"left"===(null!=r?r.x:void 0)?"0px":void 0,"background-size":function(){if(!o&&!(null!=r?r.url:void 0))return"auto 40px";switch(null!=r?r.size:void 0){case"contain":return"contain";case"original":return"inherit";default:return"cover"}}()})}),h.div(".comment-unfurl-meta",(function(){return h.span(".comment-unfurl-title",(function(){return h.text(n)})),h.span(".comment-unfurl-subtext",{title:i},(function(){return h.text(i)})),h.div(".comment-unfurl-media",(function(){return h.div(".comment-unfurl-plugin-icon",(function(){return p.isValidUrlForImage(b(null!=l?l.icon:void 0,(function(e){return e.url})))&&h.img({src:l.icon.url}),h.span(".comment-unfurl-plugin-name",(function(){return h.text(f.fromId(a).name)}))})),h.div(".comment-unfurl-button-block",(function(){return null!=s?s.map((function(e,t){return e.url?h.a({href:e.url,title:n,rel:"noopener noreferrer",target:"_blank"},(function(){return e.text})):h.button(".js-comment-preview-button",{"data-index":t,title:e.text},e.text)})):void 0}))}))}))}))}));function b(e,t){return null!=e?t(e):void 0}e.exports=((u=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&o(e,t)}(r,e);var t,n=(t=r,function(){var e,n=c(t);if(l()){var r=c(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return a(this,e)});function r(e){var t;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,r),(t=n.call(this,e)).render=t.render.bind(s(t)),t}return i(r,null,[{key:"initClass",value:function(){this.prototype.events={"click .js-comment-unfurl":"clickCommentUnfurl","click .js-comment-preview-button":"executeActionCallback"}}}]),i(r,[{key:"initialize",value:function(e){var t=e.commentUnfurl;return this.commentUnfurl=t,this.retain(this.commentUnfurl)}},{key:"render",value:function(){return this.$el.html(g(this.commentUnfurl)),this}},{key:"clickCommentUnfurl",value:function(e){return d.isFunction(this.commentUnfurl.callback)?(e.preventDefault(),this.commentUnfurl.callback({el:e.currentTarget})):"A"!==e.target.tagName?window.open(this.commentUnfurl.url):void 0}},{key:"executeActionCallback",value:function(e){e.stopPropagation();var t=parseInt(this.$(e.currentTarget).attr("data-index"),10),n=this.commentUnfurl.actions[t];if(v(this.commentUnfurl.idPlugin,{action:"clicked",actionSubject:"button",source:"cardDetailScreen",actionSubjectId:"unfurlActionButton",objectType:"powerUp",objectId:this.commentUnfurl.idPlugin}),null!=n.callback)return e.preventDefault(),n.callback({el:e.currentTarget})}}]),r}(m)).initClass(),u)},"./app/scripts/views/templates/comment_edit_controls.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("comment_edit_controls");e.exports=function(){return r.div(".comment-controls.u-clearfix",(function(){return r.input(".nch-button.nch-button--primary.confirm.mod-no-top-bottom-margin.js-save-edit",{type:"submit",value:r.l("save"),tabindex:"2"}),r.a(".js-discard-comment-edits.icon-lg.icon-close.dark-hover.cancel",{href:"#"})})),r.div(".comment-controls-errors.u-clearfix",(function(){return r.div(".js-too-long-warning.hide",(function(){return r.p((function(){return r.format("your-comment-is-too-long")}))})),r.div(".js-is-empty-warning.hide",(function(){return r.p((function(){return r.format("must-have-at-least-one-character")}))}))}))}},"./app/scripts/views/templates/comment_options.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("comment_options");e.exports=r.renderable((function(e){return r.div(".comment-box-options",(function(){return e&&r.a(".comment-box-options-item.js-comment-add-attachment",{href:"#",title:r.l("add-an-attachment-ellipsis")},(function(){return r.icon("attachment")})),r.a(".comment-box-options-item.js-comment-mention-member",{href:"#",title:r.l("mention-a-member-ellipsis")},(function(){return r.icon("mention")})),r.a(".comment-box-options-item.js-comment-add-emoji",{href:"#",title:r.l("add-emoji-ellipsis")},(function(){return r.icon("emoji")})),r.a(".comment-box-options-item.js-comment-add-card",{href:"#",title:r.l("add-card-ellipsis")},(function(){return r.icon("card")}))}))}))},"./app/scripts/views/templates/confirm.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("confirm");e.exports=function(){return r.p((function(){return r.mustacheVar("html")?r.raw(r.mustacheVar("html")):r.text(r.mustacheVar("text"))})),r.input(".js-confirm.full",{type:"submit",class:r.mustacheVar("confirmBtnClass"),value:r.mustacheVar("confirmText"),"data-test-id":r.mustacheVar("confirmBtnTestId")}),r.mustacheBlock("cancelText",(function(){return r.input(".js-cancel.full",{type:"submit",value:r.mustacheVar("cancelText")})}))}},"./app/scripts/views/templates/date_picker.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("date_picker");e.exports=r.renderable((function(e){var t=e.upsellEnabled,n=e.canChangePowerUps,i=e.canEnableAdditionalPowerUps,o=e.customReminderSettings,a=e.selectedReminderSetting;return r.div(".datepicker-select.u-clearfix",(function(){return r.div(".datepicker-select-date",(function(){return r.label(".datepicker-select-label",(function(){return r.format("date"),r.input(".datepicker-select-input.js-dpicker-date-input.js-autofocus",{type:"text",placeholder:r.l("enter-date"),tabindex:101})}))})),r.div(".datepicker-select-time",(function(){return r.label(".datepicker-select-label",(function(){return r.format("time"),r.input(".datepicker-select-input.js-dpicker-time-input",{type:"text",placeholder:r.l("enter-time"),tabindex:102})}))}))})),r.div(".pickers.js-dpicker-cal"),o&&(r.label((function(){return r.format("set-reminder")})),r.select(".js-custom-reminder",(function(){return function(){for(var e=[],t=function(){var t=i[n],o=t.value===a;e.push(r.optionSelected(o,{value:t.value},(function(){return r.text(t.text)})))},n=0,i=Array.from(o);n<i.length;n++)t();return e}()})),r.div(".reminder-clarification",(function(){return r.format("reminder-clarification")}))),r.div(".datepicker-confirm-btns",(function(){return r.input(".nch-button.nch-button--primary.wide.confirm",{type:"submit",value:r.l("save"),tabindex:103}),r.button(".nch-button.nch-button--danger.remove-date.js-remove-date",{type:"button",tabindex:104},(function(){return r.format("remove")}))})),r.div(".js-enable-cal.hide",(function(){return r.hr(),i?(r.p((function(){return r.a(".quiet-button.mod-with-image.js-enable-calendar-powerup",{href:"#"},(function(){return r.icon("power-up","enable-the-calendar-power-up",{class:"quiet-button-icon"})}))})),r.p(".u-bottom.quiet",(function(){return r.format("you-ll-get-a-calendar-view-of-your-cards-and-an-ical-feed-woo")}))):t?r.p(".u-bottom.quiet",(function(){return r.format("upgrade-to-business-class-to-enable-the-calendar-power-up"),r.text(" "),r.format("you-ll-get-a-calendar-view-of-your-cards-and-an-ical-feed-woo")})):void 0})),r.div(".js-cal-enabled.hide",(function(){return r.hr(),r.p(".helper",(function(){return n?r.format("click-the-calendar-button-in-the-board-header-to-open-the-calendar-to-change-calendar-settings-click-power-ups-in-the-board-menu"):r.format("click-the-calendar-button-in-the-board-header-to-open-the-calendar")}))}))}))},"./app/scripts/views/templates/embedly.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("embedly");e.exports=function(){return r.div({class:"embed embed-".concat(r.mustacheVar("type")," embed-provider-").concat(r.mustacheVar("provider_name"))},(function(){return r.mustacheBlockInverted("type_photo",(function(){return r.mustacheBlock("requireHttps",(function(){return r.raw(r.mustacheVar("htmlHttps"))})),r.mustacheBlockInverted("requireHttps",(function(){return r.raw(r.mustacheVar("html"))}))})),r.mustacheBlock("type_photo",(function(){return r.a({href:r.mustacheVar("originalUrl"),target:"_blank"},(function(){return r.img({src:r.mustacheVar("url")})}))}))}))}},"./app/scripts/views/templates/entity.js":function(e,t,n){var r=n("./app/common/lib/util/preview.ts").makePreviewCachable,i=n("./app/scripts/views/internal/teacup-with-helpers.js")("entity"),o=n("./app/scripts/views/templates/comment_edit_controls.js"),a=n("./app/scripts/views/templates/comment_options.js"),s=n("./app/scripts/views/attachment/helpers.js");e.exports=i.renderable((function(e,t,n){var l,c,u,d,p,m,f,h,v,g,b,y,k,w,j,_,x,C,O,S,E=e.type,T=e.text;switch(E){case"text":case"list":case"checklist":case"plugin":case"date":return i.text(T);case"card":return v=e.url,(g=e.nameHtml)?i.span(".js-friendly-links-for-link-card",(function(){return i.raw(g)})):i.a(".action-card",{href:v},(function(){return i.text(T)}));case"board":return v=e.url,i.a({href:v},(function(){return i.text(T)}));case"organization":return v=e.url,i.a({href:v},T||i.l("an-organization"));case"checkItem":return(g=e.nameHtml)?i.span(".js-friendly-links",(function(){return i.raw(g)})):i.text(T);case"comment":return b=e.textHtml,y=t.canEdit,k=n.truncateComment,w=n.extremeTruncation,i.div(".comment-container",(function(){var e={"action-comment":!0,"can-edit":y,markeddown:!0,"js-comment":!0,"is-truncated":k,"extreme-truncation":w};return i.div({class:i.classify(e),dir:"auto"},(function(){if(k&&i.div(".action-comment-fade-button.js-expand-comment"),i.div(".current-comment.js-friendly-links.js-open-card",(function(){return i.raw(b)})),y)return i.div(".comment-box.mod-editing-comment",(function(){return i.textarea(".comment-box-input.js-text",{tabindex:"1"},(function(){return i.text(T)})),o(),a(!0)}))}))}));case"customField":case"customFieldItem":return i.text(T);case"label":return(_={"card-label":!0})[(j=e.color)+"-label"]=!0,x=T||"".concat(j," label (default)"),i.span({class:i.classify(_),title:x},(function(){return T?i.text(T):i.raw("&nbsp;")}));case"attachment":return p=e.link,v=e.url,d=e.isTrello,c=e.id,u=e.isFriendly,p||u?s.isViewerable(v)?i.a(".js-open-attachment-viewer",{href:v,"data-idattachment":c},(function(){return i.text(T)})):d?i.a(".js-friendly-links",{href:v},(function(){return i.text(T)})):i.a(".js-friendly-links",{href:v,target:"_blank",rel:"noopener noreferrer"},(function(){return i.text(T)})):i.span(".attachment-deleted",(function(){return i.text(T)}));case"attachmentPreview":if(f=e.previewUrlForRes,m=e.originalUrl,c=e.id,C=n.showCompactAttachmentPreview,f){_={"js-open-attachment-viewer":!C,"js-open-card":C,"js-friendly-links":!0};var P={"attachment-image-preview":!0,"mod-compact-image-preview":C};return i.a({class:i.classify(_),href:m,target:"_blank","data-idattachment":c},(function(){return i.img({class:i.classify(P),src:r(f)})}))}return i.raw("&nbsp;");case"member":return c=e.id,l=e.avatarUrl,h=e.username,i.span(".inline-member.js-show-mem-menu",{idMember:c},(function(){return l&&(x="".concat(T," (").concat(h,")"),i.img(".inline-member-av",{src:[l,"30.png"].join("/"),alt:x,title:x})),i.span(".u-font-weight-bold",(function(){return i.text(T)}))}));case"relDate":return O=e.date,S=e.current,i.span(".rel-date",{dt:O,text:T},(function(){return i.text(S)}))}}))},"./app/scripts/views/templates/filter_cards.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("filter_cards");e.exports=function(){return r.input(".js-input.js-autofocus",{type:"text",attr:"title",value:r.mustacheVar("title"),style:"margin-bottom: 0;"}),r.div(".js-filter-search-results")}},"./app/scripts/views/templates/filter_cards_search_results.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("filter_cards_search_results"),i=n("./packages/feature-flag-client/index.ts").featureFlagClient.getTrackedVariation("board-header-filtering-experiment",!1);e.exports=function(){if(r.mustacheBlock("showHelper",(function(){return r.p(".quiet",{style:"padding: 10px 8px 2px; margin-bottom: 0;"},(function(){return r.format("type-to-search-by-term-label-member-or-due-time")}))})),r.mustacheBlock("showLabels",(function(){return r.hr(),r.ul({class:"label-list".concat(r.mustacheBlock("limitLabels",(function(){return" limited"})))},(function(){return r.mustacheBlock("labels",(function(){return r.li({class:"label-list-item".concat(r.mustacheBlock("isActive",(function(){return" is-active"})))},(function(){return r.a(".label-list-item-link.js-toggle-label-filter",{href:"#","data-name":r.mustacheVar("color"),"data-idlabel":r.mustacheVar("id")},(function(){return r.div(".label-list-item-link-label",(function(){return r.span({class:"card-label mod-square card-label-".concat(r.mustacheVar("color"))})})),r.mustacheBlock("name",(function(){return r.span(".label-list-item-link-name",(function(){return r.text(r.mustacheVar("name"))}))})),r.mustacheBlockInverted("name",(function(){return r.span(".label-list-item-link-name.mod-quiet",(function(){return r.format("color-label-default",{color:r.mustacheVar("defaultColorName")})}))})),r.icon("check",{class:"label-list-item-link-icon"})}))}))})),r.mustacheBlock("limitLabels",(function(){return r.li(".label-list-item.js-show-all-labels-elem",(function(){return r.a(".label-list-item-link.js-show-all-labels",{href:"#"},(function(){return r.span(".label-list-item-link-name.mod-quiet",(function(){return r.format("show-all-labels-remaininglabels-hidden",{remainingLabels:r.mustacheVar("remainingLabels")})}))}))}))}))}))})),r.mustacheBlock("showMembers",(function(){return r.hr(),r.ul({class:"pop-over-member-list checkable js-mem-list".concat(r.mustacheBlock("limitMembers",(function(){return" limited"})))},(function(){return r.mustacheBlock("members",(function(){return r.mustachePartial(n("./app/scripts/views/templates/select_member.js"))}))})),r.mustacheBlock("limitMembers",(function(){return r.ul(".pop-over-member-list",(function(){return r.li(".item",(function(){return r.a(".name.quiet.js-show-all-members",{href:"#",style:"padding-left: 42px; font-weight: normal; margin-top: 4px;"},(function(){return r.format("show-all-members-remainingmembers-hidden",{remainingMembers:r.mustacheVar("remainingMembers")})}))}))}))}))})),r.mustacheBlock("showDueTimes",(function(){return r.hr(),r.ul(".pop-over-list.checkable.navigable.inset.normal-weight",(function(){return r.mustacheBlock("dueOptions",(function(){return r.li({class:"item ".concat(r.mustacheBlock("isActive",(function(){return" active"})))},(function(){return r.a(".js-due-filter",{href:"#",time:r.mustacheVar("time"),style:"padding-left: 40px;"},(function(){return r.text(r.mustacheVar("desc")),r.icon("check")}))}))}))}))})),r.mustacheBlock("showMatchMode",(function(){return r.hr(),r.ul(".pop-over-list.checkable.navigable.inset.normal-weight",(function(){return r.mustacheBlock("modes",(function(){return r.li({class:"item ".concat(r.mustacheBlock("isActive",(function(){return" active"})))},(function(){return r.a(".js-mode-filter",{href:"#",mode:r.mustacheVar("mode"),style:"padding-left: 40px;"},(function(){return r.text(r.mustacheVar("desc")),r.icon("check")}))}))}))}))})),!i)return r.hr(),r.ul(".pop-over-list.inset.normal-weight",(function(){return r.li((function(){return r.a({href:"#",class:"js-clear-all".concat(r.mustacheBlockInverted("isFiltering",(function(){return" disabled"}))),style:"padding-left: 40px;"},(function(){return r.format("clear-search")}))}))}))}},"./app/scripts/views/templates/invite_add_name.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("invite_add_name");e.exports=r.renderable((function(e){var t=e.email,n=e.fullName,i=e.canAddAsObserver,o=e.modelType,a=e.isLoading,s=e.isOrgAdmin,l=e.wouldBecomeBillableGuest,c=e.availableLicenseCount,u=e.error,d=e.isDesktop;a&&r.div(".spinner.loading"),u&&r.div(".error",(function(){return r.text(u)}));var p=s&&!d;if(l&&r.div(".card-back-billable-guests-alert.js-billable-guests-alert",{class:r.classify({"as-admin":p,"as-non-admin":!p})}),!a&&!u&&(!l||p)&&!(l&&c<1))return r.p(".quiet",(function(){if("Board"===o)return r.format("click-send-below");if("Organization"===o)return r.format("we dont know that person…team",{email:t});throw new Error("Expected either Board or Organization as modelType; got ".concat(o))})),r.p(".error.hide.js-name-error",(function(){return r.format("full name too short")})),r.p(".error.hide.js-name-error-url",(function(){return r.format("full name must not contain a url")})),r.form(".js-email-data",(function(){return r.label((function(){return r.format("full-name")})),r.input(".js-autofocus.js-full-name",{type:"text",value:n}),r.input(".js-email",{type:"hidden",value:t}),i&&r.span(".check-div.quiet.u-clearfix",(function(){return r.input({type:"checkbox",id:"addAsObserver"}),r.label({for:"addAsObserver"},(function(){return r.format("include-this-member-as-a-view-only-observer")}))})),r.input(".wide.nch-button.nch-button--primary.js-send-email-invite",{type:"submit",value:r.l("send")})}))}))},"./app/scripts/views/templates/invitee-orientation.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("invitee_orientation");e.exports=r.renderable((function(e){var t=e.visibleMembersCount,n=(e.maxVisible,e.firstMemberFullName),i=e.boardName,o=e.inviterAvatarUrl,a=e.inviterFullName,s=e.inviterUsername,l=e.inviterInitials;return r.div(".invitee-orientation-message-container.arrow",(function(){return r.a(".js-close-orientation.pop-over-header-close-btn.close-invitee-orientation.icon-sm.icon-close",{href:"#"}),r.h1((function(){return r.format("welcome-to-trello-wave")})),r.div((function(){return r.div(".orientation-header",(function(){return r.div(".board-header-facepile.invitee-orientation-facepile.js-invitee-orientation-facepile"),r.div(".orientation-facepile-text",(function(){if(t>0)return r.b((function(){return r.text(n),r.raw("&nbsp;")})),1===t?r.format("is-also-here"):2===t?r.format("one-other-is-here"):r.format("count-others-are-here",{count:t-1})}))})),r.div(".invitee-orientation-text.u-clearfix",(function(){return r.p((function(){return r.format("main-message",{boardName:i})})),r.p((function(){return r.format("that-s-all")}))}))}))})),r.div(".invitee-orientation-avatar-container",(function(){return o?r.img(".invitee-orientation-avatar",{src:[o,"50.png"].join("/"),alt:a,title:"".concat(a," (").concat(s,")")}):r.div(".invitee-orientation-initials-wrapper",(function(){return r.span(".invitee-orientation-initials",(function(){return r.text(l)}))}))}))}))},"./app/scripts/views/templates/label.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("label");e.exports=r.renderable((function(e){var t=e.color,n=e.name,i=e.extraClasses,o={"card-label":!0};if(t&&(o["card-label-".concat(t)]=!0),i)for(var a=0,s=Array.from(i);a<s.length;a++){o[s[a]]=!0}return r.span({class:r.classify(o),title:null!=n?n:"".concat(t," label (default)")},(function(){return r.span({class:"label-text"},(function(){return n?r.text(n):r.raw("&nbsp;")}))}))}))},"./app/scripts/views/templates/label_edit_component.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("label_edit_component");e.exports=function(){return r.label({for:"labelName"},(function(){return r.format("name")})),r.input(".js-autofocus.js-label-name",{id:"labelName",type:"text",name:"name",value:r.mustacheVar("label.name")}),r.label((function(){return r.format("select-a-color")})),r.div(".u-clearfix",(function(){return r.mustacheBlock("colors",(function(){return r.span({class:"card-label mod-edit-label mod-clickable card-label-".concat(r.mustacheVar("color")," palette-color js-palette-color"),"data-color":r.mustacheVar("color")},(function(){return r.span({class:"card-label-color-select-icon icon-sm icon-check light ".concat(r.mustacheBlockInverted("selected",(function(){return"hide"}))," js-palette-select")})}))}))})),r.div(".edit-labels-no-color-section.u-clearfix",(function(){return r.div(".edit-labels-no-color-section-color",(function(){return r.span({class:"card-label mod-edit-label mod-clickable card-label-null palette-color js-palette-color","data-color":null},(function(){return r.span({class:"card-label-color-select-icon icon-sm icon-check light ".concat(r.mustacheBlockInverted("noColor",(function(){return"hide"}))," js-palette-select")})}))})),r.div(".edit-labels-no-color-section-text",(function(){return r.p(".u-bottom",(function(){return r.format("no-color")})),r.p(".u-bottom.quiet",(function(){return r.format("this-wont-show-up-on-the-front-of-cards")}))}))})),r.div(".u-clearfix",(function(){return r.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:r.mustacheVar("submitText")}),r.div(".u-float-right.js-accessory-view-holder")}))}},"./app/scripts/views/templates/label_limit_exceeded.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("label_limit_exceeded");e.exports=function(){return r.span({class:"error"},(function(){return r.format("board-label-limit-exceeded")}))}},"./app/scripts/views/templates/list.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("list");e.exports=r.renderable((function(e){var t=e.name,n=e.subscribed,i=e.loggedIn,o=e.editable,a=e.isTemplate;return r.div(".list.js-list-content",(function(){var e={"list-header":!0,"js-list-header":!0,"u-clearfix":!0,"is-menu-shown":i,"is-subscribe-shown":n};return r.div({class:r.classify(e)},(function(){return r.div(".list-header-target.js-editing-target"),r.h2(".list-header-name-assist.js-list-name-assist",{dir:"auto"},t),r.textarea({class:r.classify({"list-header-name":!0,"mod-list-name":!0,"js-list-name-input":!0}),"aria-label":t,spellcheck:"false",dir:"auto",maxLength:512},t),r.div(".list-header-extras",(function(){var e={"list-header-extras-subscribe":!0,"js-list-subscribed":!0};if(n||(e.hide=!0),r.span({class:r.classify(e)},(function(){return r.span(".icon-sm.icon-subscribe.mod-quiet")})),r.span(".list-header-extras-limit-badge.js-list-limit-badge.hide"),i&&!a||i&&a&&o)return r.a(".list-header-extras-menu.dark-hover.js-open-list-menu.icon-sm.icon-overflow-menu-horizontal",{href:"#"},(function(){return r.div()}))})),r.p(".list-header-num-cards.hide.js-num-cards")})),r.div(".card-composer-container.js-card-composer-container",(function(){return r.a(".open-card-composer.js-open-card-composer",{href:"#"},(function(){return r.icon("add"),r.span(".js-add-a-card",(function(){return r.format("add-a-card")})),r.span(".js-add-another-card.hide",(function(){return r.format("add-another-card")}))})),r.div(".js-card-templates-button.card-templates-button-container.dark-background-hover")}))}))}))},"./app/scripts/views/templates/list_add.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("list_add");e.exports=r.renderable((function(e){var t=e.tooManyTotalLists,n=e.tooManyOpenLists,i=e.isFirstList,o=t||n;return r.form((function(){if(r.a({href:"#",class:r.classify({"open-add-list js-open-add-list":!o,"too-many-lists":o})},(function(){return r.span(".placeholder",(function(){return t?r.format("you-have-too-many-lists"):n?r.format("you-have-too-many-open-lists"):(r.icon("add"),i?r.format("add-a-list"):r.format("add-another-list"))}))})),!o){var e=r.l("enter-list-title-ellipsis"),a=r.l("add-list");return r.input(".list-name-input",{type:"text",name:"name",placeholder:e,autocomplete:"off",dir:"auto",maxLength:512}),r.div(".list-add-controls.u-clearfix",(function(){return r.input(".nch-button.nch-button--primary.mod-list-add-button.js-save-edit",{type:"submit",value:a}),r.a(".icon-lg.icon-close.dark-hover.js-cancel-edit",{href:"#"})}))}}))}))},"./app/scripts/views/templates/list_bulk_card_move.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("list_bulk_card_move");e.exports=function(){return r.form((function(){return r.ul(".pop-over-list",(function(){return r.mustacheBlock("lists",(function(){return r.li((function(){return r.a({href:"#",class:"js-select-list highlight-icon ".concat(r.mustacheBlock("current",(function(){return" disabled"}))),name:r.mustacheVar("id")},(function(){return r.text(r.mustacheVar("name")),r.mustacheBlock("current",(function(){return r.text(" "),r.format("current")}))}))}))}))}))}))}},"./app/scripts/views/templates/list_copy.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("list_copy");e.exports=r.renderable((function(e){var t=e.canCopyOpen,n=e.canCopyTotal,i=e.name;return r.div((function(){var e=t&&n;return r.label((function(){return r.format("name")})),r.textarea(".js-autofocus",{name:"name"},(function(){return r.text(i)})),r.span(".js-limit-exceeded.error",{class:r.classify({hide:e})},(function(){return r.format(t?"total-limit-exceeded":"open-limit-exceeded")})),r.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:r.l("create-list"),disabled:!e})}))}))},"./app/scripts/views/templates/list_menu.js":function(e,t,n){var r=n("./node_modules/underscore/underscore.js"),i=n("./packages/feature-flag-client/index.ts").featureFlagClient,o=n("./app/scripts/views/internal/teacup-with-helpers.js")("list_menu");e.exports=o.renderable((function(e){var t=e.editable,n=e.subscribed,a=e.canCopyList,s=e.hasSortableCards,l=e.pluginActions,c=e.listLimitsEnabled,u=e.isTemplate;if(o.ul(".pop-over-list",(function(){if(t&&(o.li((function(){return o.a(".js-add-card",{href:"#"},(function(){return o.format("add-card-ellipsis")}))})),a&&o.li((function(){return o.a(".js-copy-list",{href:"#"},(function(){return o.format("copy-list-ellipsis")}))})),o.li((function(){return o.a(".js-move-list",{href:"#"},(function(){return o.format("move-list-ellipsis")}))}))),!u)return o.li((function(){return o.a(".highlight-icon.js-list-subscribe",{href:"#"},(function(){return o.check(n,"watch")}))}))})),t)return s&&(o.hr(),o.ul(".pop-over-list",(function(){return o.li((function(){return o.a(".js-sort-cards",{href:"#"},(function(){return o.format("sort-by")}))}))}))),i.get("workflowers.bob-list-menu-workflows",!1)&&(o.hr(),o.div(".pop-over-list-menu-butler-header",(function(){o.h3((function(){return o.format("butler")})),o.a(".js-list-menu-butler-feedback.quiet",{href:"https://trello.typeform.com/to/vNeXNqqr",target:"_blank"},(function(){return o.format("give-us-feedback")}))})),o.ul(".pop-over-list",(function(){["when-a-card-is-added-to-the-list","every-day-sort-list-by","every-monday-sort-list-by"].forEach((function(e){o.li((function(){o.a(".js-create-butler-rule-from-template",{href:"#","data-template":e},(function(){return o.format(e)}))}))}))})),o.button(".nch-button.nch-button--fullwidth.js-create-custom-butler-rule",{style:"margin-top: 8px;"},(function(){return o.format("create-a-custom-butler-rule")}))),(null!=l?l.length:void 0)>0&&(o.hr(),o.ul(".pop-over-list",(function(){return l.map((function(e,t){return o.li((function(){if(r.isFunction(e.callback))return o.a(".plugin-list-action.js-plugin-list-action",{href:"#","data-index":t,title:e.text},(function(){return o.span((function(){return o.text(e.text)})),o.img({src:e.icon,title:e.name,height:"18px",width:"18px"})}))}))}))}))),c&&(o.hr(),o.ul(".pop-over-list",(function(){return o.li((function(){return o.a(".js-set-list-limit",{href:"#"},(function(){return o.format("set-list-limit")}))}))}))),o.hr(),o.ul(".pop-over-list",(function(){return o.li((function(){return o.a(".js-move-cards",{href:"#"},(function(){return o.format("move-all-cards-in-this-list-ellipsis")}))})),o.li((function(){return o.a(".js-archive-cards",{href:"#"},(function(){return o.format("archive-all-cards-in-this-list-ellipsis")}))}))})),o.hr(),o.ul(".pop-over-list",(function(){return o.li((function(){return o.a(".js-close-list",{href:"#"},(function(){return o.format("archive-this-list")}))}))}))}))},"./app/scripts/views/templates/list_sort.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("list_sort");e.exports=r.renderable((function(e){var t=e.canSortByDueDate,n=e.pluginListSorters;return r.ul(".pop-over-list",(function(){if(r.li((function(){return r.a(".js-sort-newest-first",{href:"#"},(function(){return r.format("sort-newest-first")}))})),r.li((function(){return r.a(".js-sort-oldest-first",{href:"#"},(function(){return r.format("sort-oldest-first")}))})),r.li((function(){return r.a(".js-sort-by-card-name",{href:"#"},(function(){return r.format("sort-by-card-name")}))})),t&&r.li((function(){return r.a(".js-sort-by-due-date",{href:"#"},(function(){return r.format("due-date")}))})),(null!=n?n.length:void 0)>0)return r.hr(),n.map((function(e,t){return r.li((function(){return r.a(".plugin-list-action.js-plugin-list-sort-action",{"data-index":t,href:"#",title:e.text},(function(){return r.span((function(){return r.text(e.text)})),null!=e.icon?r.icon(e.icon):null!=e.image?r.img({src:e.image,title:e.name,height:"18px",width:"18px"}):void 0}))}))}))}))}))},"./app/scripts/views/templates/member.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("member");e.exports=r.renderable((function(e){var t=e.id,n=e.avatarUrl,i=e.viewTitle,o=e.initials,a=e.isDeactivated,s=e.isBoardAdmin,l=e.isOrganizationAdmin,c=e.hideBadges;if(n?r.img(".member-avatar",{height:"30",width:"30",src:[n,"30.png"].join("/"),srcset:[[n,"30.png 1x"].join("/"),[n,"50.png 2x"].join("/")].join(", "),alt:i,title:i}):o?r.span(".member-initials",{title:i,"aria-label":i},(function(){return r.text(o)})):r.div(".member-icon-container",(function(){return r.icon("member")})),t&&r.span("#".concat(t,"-avatar")),a||c||(s&&r.span(".member-type.admin",{title:r.l("this-member-is-an-admin-of-this-board"),"aria-label":r.l("this-member-is-an-admin-of-this-board")}),l&&r.span(".member-type.admin",{title:r.l("this-member-is-an-admin-of-this-organization"),"aria-label":r.l("this-member-is-an-admin-of-this-organization")})),!c)return r.span(".member-gold-badge",{title:r.l("this-member-has-trello-gold"),"aria-label":r.l("this-member-has-trello-gold")})}))},"./app/scripts/views/templates/member_avatar.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("member");e.exports=r.renderable((function(e){var t=e.avatarUrl,n=e.viewTitle,i=e.initials,o=e.isDeactivated,a=e.isBoardAdmin,s=e.isOrganizationAdmin,l=n;if(t){var c=[t,"30.png"].join("/"),u=[t,"50.png"].join("/");r.img({class:"member-avatar",height:"30",width:"30",src:c,srcset:"".concat(c," 1x, ").concat(u," 2x"),alt:l,title:l})}else i?r.span(".member-initials",{title:l,"aria-label":l},(function(){return r.text(i)})):r.div(".member-icon-container",(function(){return r.icon("member")}));return o||(a&&r.span(".member-type.admin",{title:r.l("this-member-is-an-admin-of-this-board")}),s&&r.span(".member-type.admin",{title:r.l("this-member-is-an-admin-of-this-organization")})),r.span(".member-gold-badge",{title:r.l("this-member-has-trello-gold")})}))},"./app/scripts/views/templates/member_large_avatar.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("member_large_avatar");e.exports=r.renderable((function(e){var t=e.avatarUrl,n=e.viewTitle,i="";return"atlassianAccount"===e.avatarSource&&(i="pop-over-atlassian-account-avatar"),r.img({src:[t,"original.png"].join("/"),class:i,alt:n,title:n})}))},"./app/scripts/views/templates/member_on_board_menu.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("member_on_board_menu"),i=n("./packages/feature-flag-client/index.ts").featureFlagClient,o=n("./packages/browser/index.ts").dontUpsell;e.exports=function(){return r.li((function(){if(r.mustacheVar("canInviteMemberToTeam")){var e=r.mustacheVar("isFreeTeam"),t=o()?"/business-class":r.mustacheVar("orgBillingUrl");e?r.div({class:"js-add-to-team pop-over-list-item",role:"button",tabIndex:"0"},(function(){return r.format("add-to-team-as-admin"),i.get("btg.upgrade-prompt-audit",!1)&&!o()?r.div({class:"for-more-roles-react-component"}):r.small(".add-to-team-upgrade-bc",(function(){return o()?r.format("for-more-roles-non-cta",{link:t}):r.format("for-more-roles",{link:t})}))})):r.a({class:"js-add-to-team",href:"#"},(function(){return r.format("add-to-team")}))}return r.mustacheBlock("type",(function(){return r.a({class:r.mustacheBlock("canChangeRole",(function(){return"js-change-role"}))+r.mustacheBlockInverted("canChangeRole",(function(){return"disabled"})),href:"#"},(function(){return r.format("change-permissions-ellipsis-type",{type:r.mustacheVar("type")})}))})),r.mustacheBlockInverted("type",(function(){return r.a({class:r.mustacheBlock("canChangeRole",(function(){return"js-change-role"}))+r.mustacheBlockInverted("canChangeRole",(function(){return"disabled"})),href:"#"},(function(){return r.format("change-permissions-ellipsis")}))}))})),r.mustacheVar("isTemplate")||r.li((function(){return r.a({class:"js-view-member-activity",href:r.mustacheVar("boardProfileUrl")},(function(){return r.format("view-member-s-board-activity")}))})),r.mustacheBlock("canRemove",(function(){return r.li((function(){return r.a(".js-remove-member",(function(){return r.mustacheBlock("isMe",(function(){return r.format("leave-board-ellipsis")})),r.mustacheBlockInverted("isMe",(function(){return r.format("remove-from-board-ellipsis")}))}))}))})),r.mustacheBlockInverted("canRemove",(function(){return r.mustacheBlock("isMe",(function(){return r.mustacheBlock("isMoreThanOneMember",(function(){return r.mustacheBlock("memberIsAdmin",(function(){return r.li((function(){return r.hr(),r.p(".quiet.u-bottom",(function(){return r.format("you-can-t-leave-because-you-are-the-only-admin-to-make-another-user-an-admin-click-their-avatar-select-change-permissions-ellipsis-and-select-admin")}))}))}))}))}))})),r.mustacheBlock("isGhost",(function(){return r.li((function(){return r.hr(),r.p(".quiet.u-bottom",(function(){return r.format("this-user-will-be-able-to-access-this-board-once-they-sign-up-with-trello-and-confirm-their-email-address")}))}))}))}},"./app/scripts/views/templates/member_on_card.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("member_on_card"),i=n("./app/scripts/views/templates/member.js");e.exports=r.renderable((function(e){var t=e.avatarUrl,n=e.fullName,o=e.id,a=e.initials,s=e.isDeactivated,l=e.isBoardAdmin,c=e.isOrganizationAdmin,u=e.isVirtual,d=e.username,p=e.viewTitle,m=e.activityBlocked;return r.div(".member.js-member-on-card-menu",{class:r.classify({"member-deactivated":s||m,"member-virtual":u,"long-initials":(null!=a?a.length:void 0)>2}),"data-idmem":o},(function(){return i({avatarUrl:t,fullName:n,initials:a,isDeactivated:s,isBoardAdmin:l,isOrganizationAdmin:c,username:d,viewTitle:p})}))}))},"./app/scripts/views/templates/member_on_card_menu.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("member_on_card_menu");e.exports=function(){return r.mustacheBlock("__ed",(function(){return r.li((function(){return r.a(".js-remove-member",(function(){return r.format("remove-from-card")}))}))}))}},"./app/scripts/views/templates/mini_profile.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("mini_profile");e.exports=r.renderable((function(e){var t=e.avatarUrl,n=e.viewTitle,i=e.fullName,o=e.username,a=e.initials,s=e.bio,l=e.email,c=e.showEmail,u=e.isMe,d=e.isDeactivated,p=e.activityBlocked;return r.div(".mini-profile",(function(){return r.div(".mini-profile-member.member-large",{class:r.classify({"member-deactivated":d||p})},(function(){t&&r.a(".av-btn.js-view-large",{href:"#"});var e=n;return t?r.img(".member-avatar",{height:"50",width:"50",src:[t,"50.png"].join("/"),alt:e,title:e}):a?r.span(".member-initials",{title:e},(function(){return r.text(a)})):r.div(".member-icon-container",(function(){return r.icon("member")}))})),r.div(".mini-profile-info",(function(){if(r.h3(".mini-profile-info-title",(function(){return r.a(".mini-profile-info-title-link.js-profile",{href:"/".concat(o)},(function(){return r.text(i)}))})),r.p(".quiet.u-bottom",(function(){return r.format("at-username",{username:o})})),s&&r.p(".mini-profile-info-bio.quiet",(function(){return r.text(s)})),c&&r.p(".u-bottom.quiet",(function(){return r.text(l)})),u)return r.p(".u-bottom",(function(){var e="/".concat(o,"/profile");return r.a(".quiet",{href:e},(function(){return r.format("edit-profile-info")}))}))}))}))}))},"./app/scripts/views/templates/move_card_controls.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("move_card_controls"),i=n("./packages/test-ids/index.ts").SelectTestIds;e.exports=function(){return r.mustacheBlockInverted("hideBoard",(function(){return r.div(".form-grid",(function(){return r.div(".form-grid-child.form-grid-child-full",{class:r.classify({hide:!r.mustacheVar("restrictToCurrentBoard")})},(function(){return r.label((function(){return r.format("board")})),r.p((function(){return r.mustacheBlock("organizations",(function(){return r.mustacheBlock("boards",(function(){return r.text(r.mustacheVar("name"))}))}))}))})),r.div(".button-link.setting.form-grid-child.form-grid-child-full",{class:r.classify({hide:r.mustacheVar("restrictToCurrentBoard")})},(function(){return r.span(".label",(function(){return r.format("board")})),r.span(".value.js-board-value"),r.label((function(){return r.format("board")})),r.select(".js-select-board",{"data-test-id":i.MoveBoardSelect},(function(){return r.mustacheBlock("organizations",(function(){return r.optgroup({label:r.mustacheVar("displayName")},(function(){return r.mustacheBlock("boards",(function(){return r.optionSelected(r.mustacheVar("selected"),{value:r.mustacheVar("id")},(function(){return r.text(r.mustacheVar("name")),r.mustacheBlock("selected",(function(){return r.text(" "),r.format("current")}))}))}))}))}))}))}))})),r.mustacheBlock("hasEnterprise",(function(){return r.mustacheBlock("enterpriseName",(function(){return r.mustacheBlock("isMove",(function(){return r.p(".quiet",(function(){return r.format("card-can-only-be-moved-to-teams-within-org",{enterpriseName:r.mustacheVar("enterpriseName")})}))})),r.mustacheBlock("isCopy",(function(){return r.p(".quiet",(function(){return r.format("card-can-only-be-copied-to-teams-within-org",{enterpriseName:r.mustacheVar("enterpriseName")})}))}))}))}))})),r.div(".form-grid",(function(){return r.div(".button-link.setting.form-grid-child.form-grid-child-threequarters",(function(){return r.span(".label",(function(){return r.format("list")})),r.span(".value.js-list-value"),r.label((function(){return r.format("list")})),r.select(".js-select-list")})),r.div(".button-link.setting.form-grid-child",(function(){return r.span(".label",(function(){return r.format("position")})),r.span(".value.js-pos-value"),r.label((function(){return r.format("position")})),r.select(".js-select-position")}))}))}},"./app/scripts/views/templates/org_create.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("org_create");e.exports=function(){return r.mustacheBlock("freeTeamLimitExceeded",(function(){return r.mustacheVar("dontUpsell")?r.p((function(){return r.format("your-org-is-out-of-teams-desktop",{domainName:r.mustacheVar("emailDomain")})})):(r.p((function(){return r.format("your-org-is-out-of-teams",{domainName:r.mustacheVar("emailDomain")})})),r.a({class:"button full js-enterprise-learn-more",href:"/enterprise?utm_source=trello-product&utm_medium=inapp&utm_campaign=P:trello|O:trello|F:awareness|C:ptour|I:trello-enterprise-in-product|E:cloud|&app_source=exceeded_message_popover",target:"_blank"},(function(){return r.format("enterprise-learn-more")})))})),r.form({class:r.classify({hide:r.mustacheVar("freeTeamLimitExceeded")})},(function(){return r.p(".error",{style:"display:none"}),r.label({for:"org-display-name"},(function(){return r.format("name")})),r.input(".js-autofocus.js-display-name",{type:"text",name:"displayName",id:"org-display-name",value:r.mustacheVar("displayName"),dir:"auto",maxLength:100}),r.div(".js-team-type-select.create-org-team-type-select"),r.mustacheVar("teamVerticalSelectionEnabled")||(r.label({for:"org-desc"},(function(){return r.format("description-optional")})),r.textarea({id:"org-desc",name:"desc",dir:"auto"},(function(){return r.text(r.mustacheVar("desc"))}))),r.mustacheVar("boardToAddToOrg")&&r.mustacheVar("memberCount")>1&&r.div(".check-div",(function(){return r.input(".js-add-members",{type:"checkbox",checked:!0,id:"addMembers"}),r.label({for:"addMembers",class:"create-team-add-members"},(function(){return r.format("add-the-members-of-this-board-to-the-team")}))})),r.input(".nch-button.nch-button--primary.wide.js-save",{type:"submit",value:r.l("create")})})),r.mustacheBlockInverted("freeTeamLimitExceeded",(function(){if(r.hr(),r.mustacheVar("isPrivateTemplate")&&r.p(".create-org-template-alert-notice",(function(){return r.format("moving-a-template")})),r.p(".quiet",(function(){return r.format("a-team-is-a-group-of-boards-and-people")})),!r.mustacheVar("dontUpsell"))return r.p(".quiet.u-bottom",(function(){return r.format("business-class-gives-your-organization-more"),r.text(" "),r.a(".js-business-class",{href:"/business-class",target:"_blank"},(function(){return r.format("learn-more")}))}))}))}},"./app/scripts/views/templates/org_create_enterprise.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("org_create");e.exports=function(){return r.form((function(){return r.p(".error",{style:"display:none"}),r.label({for:"org-display-name"},(function(){return r.format("name")})),r.input(".js-autofocus.js-display-name",{type:"text",name:"displayName",id:"org-display-name",value:r.mustacheVar("displayName"),dir:"auto",maxLength:100}),r.div(".js-team-type-select"),r.div((function(){return 1===r.mustacheVar("enterprises").length?(r.input({type:"hidden",name:"enterprise",value:r.mustacheVar("enterprises").first().id}),r.label((function(){return r.text("Enterprise")})),r.p((function(){return r.text(r.mustacheVar("enterprises").first().get("displayName"))}))):(r.label({for:"ent-select"},(function(){return r.text("Enterprise")})),r.select({id:"ent-select",name:"enterprise"},(function(){return r.mustacheVar("enterprises").forEach((function(e){return r.option({value:e.id},(function(){return r.text(e.get("displayName"))}))}))})))})),r.mustacheVar("boardToAddToOrg")&&r.mustacheVar("memberCount")>1&&r.div(".check-div",(function(){return r.input(".js-add-members",{type:"checkbox",checked:!0,id:"addMembers"}),r.label({for:"addMembers",class:"create-team-add-members"},(function(){return r.format("add-the-members-of-this-board-to-the-team")}))})),r.input(".nch-button.nch-button--primary.wide.js-save",{type:"submit",value:r.l("create")})})),r.hr(),r.p(".quiet.u-bottom",(function(){return r.format("a-team-is-a-group-of-boards-and-people-owned")}))}},"./app/scripts/views/templates/popover_add_list.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_add_list");e.exports=r.renderable((function(e){var t=e.tooManyTotalLists,n=e.tooManyOpenLists;if(t)r.p((function(){return r.format("you-have-too-many-lists-on-this-board")}));else{if(!n)return r.form((function(){return r.div(".form-grid",(function(){return r.div(".form-grid-child.form-grid-child-threequarters",(function(){return r.label({for:"list-name"},(function(){return r.format("name")})),r.input(".js-list-name.js-autofocus",{type:"text",id:"list-name",value:r.l("default-list-name"),style:"margin-bottom: 0;"})})),r.div(".form-grid-child",(function(){return r.div(".button-link.setting",{style:"margin-top: 4px;"},(function(){return r.span(".label",(function(){return r.format("position")})),r.span(".value.js-pos-value"),r.label((function(){return r.format("position")})),r.select(".js-select-list-pos")}))}))})),r.input(".nch-button.nch-button--primary.wide.js-add-list",{type:"submit",value:r.l("add")})}));r.p((function(){return r.format("you-have-too-many-open-lists-on-this-board")}))}}))},"./app/scripts/views/templates/popover_add_to_team.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_add_to_team");e.exports=r.renderable((function(e){var t=e.teamType;return r.p(".u-text-align-center",{style:"padding: 3px 0"},(function(){return r.format("add to team-disclaimer",{teamType:t})})),r.button(".button-link.primary.u-width-100.js-add-to-team",(function(){return r.format("add to team-confirm")}))}))},"./app/scripts/views/templates/popover_auto_mentioner.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_auto_mentioner");e.exports=function(){return r.mustacheBlock("button",(function(){return r.input(".js-filter-mentionables.js-autofocus",{type:"text",placeholder:r.l("search-members-ellipsis")})})),r.p(".quiet.js-empty-list.hide",{style:"padding: 8px 8px 0;"},(function(){return r.format("no-matching-members")})),r.ul(".pop-over-member-list.js-available-members")}},"./app/scripts/views/templates/popover_board_header_all_members.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_board_header_all_members");e.exports=r.renderable((function(e,t){var n=[{key:"members",jsClass:"js-list-members"},{key:"team-members",jsClass:"js-list-team-members"},{key:"recently-joined",jsClass:"js-list-recently-joined-members"},{key:"invited",jsClass:"js-list-invited-members"},{key:"guests",jsClass:"js-list-guests"},{key:"observers",jsClass:"js-list-observers"},{key:"deactivated",jsClass:"js-deactivated-members"}];return r.div(".board-header-popover.js-all-members",(function(){return r.div(".org-members-actions-search"),r.div(".board-members-search-container",(function(){return r.input(".board-members-search.js-search-board-member.js-autofocus.js-heading",{type:"text",placeholder:r.l("search-board-members")})}))})),r.div(".board-header-popover.js-all-members",(function(){return function(){for(var t=[],i=function(){var n=a[o],i=n.key,s=n.jsClass;t.push(r.div(".board-menu-member-section.".concat(s),(function(){return r.div(".board-menu-member-section-header.js-heading",(function(){return r.format(i)})),r.div(".u-clearfix.js-list",{class:r.classify({"js-list-draggable-board-members":e.canAssign})})})))},o=0,a=Array.from(n);o<a.length;o++)i();return t}()})),r.div(".js-invite-no-results.hide",(function(){return r.p(".board-member-no-results.empty",(function(){return t?r.format("no-results"):(r.format("not-a-member"),e.showInviteLink?r.a(".invite-to-board-link.js-invite-to-board-link",{href:"#",target:"_blank"},(function(){return r.format("invite-to-board")})):void 0)}))}))}))},"./app/scripts/views/templates/popover_board_header_org_menu.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_board_header_org_menu");e.exports=r.renderable((function(e){var t=e.blockTeamlessBoardsEnabled,n=e.canChangeOrg,i=e.setOrgNull,o=e.name,a=e.products,s=e.isOrgMember,l=e.upsellEnabled,c=e.upgradePathAuditEnabled;return r.ul(".pop-over-list",(function(){if(n&&(t?r.li((function(){return r.a(".js-change-org",{href:"#"},(function(){r.format("change-organization-ellipsis")}))})):r.li((function(){return r.a(".js-change-org",{href:"#"},(function(){if(i&&r.format("remove-from-organization"),!i)return r.format("change-organization-ellipsis")}))}))),r.li((function(){return r.a(".js-view-org",{href:"/".concat(o)},(function(){return r.format("view-organization-page")}))})),!a.length&&s&&l)return r.li(".divide",(function(){return c?r.div({id:"upgrade-path-react-component"}):r.a(".js-upgrade-to-bc",{href:"/".concat(o,"/billing")},(function(){return r.format("upgrade-to-business-class")}))}))}))}))},"./app/scripts/views/templates/popover_change_board_org.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_change_board_org"),i=n("./packages/test-ids/index.ts").BoardHeaderTestIds;e.exports=r.renderable((function(e){var t=e.orgs,n=e.allowsSelfJoin,o=e.hasOrg,a=e.isPrivate,s=e.isDesktop,l=e.isTemplate,c=e.addToTeam,u=e.hasEnterprise,d=e.enterpriseName,p=e.showPrivateBoardsOptionForEntBoards,m=e.blockTeamlessBoardsEnabled;return r.form((function(){return r.label({"data-test-id":i.ChangeTeamSelectLabel},(function(){return l?r.format("this-template-is-part-of"):r.format("this-board-is-part-of")})),r.select(".js-org",(function(){return m||u&&!p||r.optionSelected(!t,{value:""},(function(){return r.format("personal-boards-no-team")})),Array.from(t).map((function(e){return r.optionSelected(e.select,{value:e.id},(function(){return r.text(e.displayName)}))}))})),u&&!p&&r.div(".quiet",(function(){return r.format("board-can-only-be-moved-to-teams-within-org",{enterpriseName:d})})),r.div(".template-alert-notice.js-template-alert",(function(){return r.format("moving-a-template")})),r.div(".spinner.loading.js-loading.hide"),r.div(".js-loaded.hide",(function(){return r.div(".js-billable-guests-warning.move-board-to-org.hide"),r.div(".js-permissions.hide",(function(){if(a&&r.div(".check-div.js-check-div",(function(){return r.input(".js-make-org-visible",{type:"checkbox",checked:!o,id:"orgVisible"}),r.label({for:"orgVisible"},(function(){return r.format("make-board-visible-to-organization")}))})),!n&&!l)return r.div(".check-div.js-check-div",(function(){return r.input(".js-make-org-joinable",{type:"checkbox",checked:!0,id:"orgJoinable"}),r.label({for:"orgJoinable"},(function(){return r.format("allow-any-org-member-to-join-this-board")}))}))})),r.div(".board-limits-upgrade-ad.js-board-limits-upgrade-ad.hide",(function(){return r.p((function(){return s?r.format("board-cant-be-moved-because-of-board-limits-desktop"):r.format("board-cant-be-moved-because-of-board-limits")}))})),r.input(".js-submit.wide.nch-button.nch-button--primary.disabled",{type:"submit",value:c?r.l("add"):r.l("change")}),r.a({href:"#",class:"js-new-org right-of-button-link"},(function(){return r.format("create-team")}))}))}))}))},"./app/scripts/views/templates/popover_change_labels.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_change_labels");e.exports=function(){return r.input(".js-autofocus.js-label-search",{type:"text",placeholder:r.l("search-labels-ellipsis"),value:r.mustacheVar("searchInit"),autocomplete:"off"}),r.div(".pop-over-section.js-suggestions",(function(){r.h4((function(){return r.icon("sparkle"),r.format("suggested")})),r.ul(".edit-labels-pop-over.js-suggested-labels-list",(function(){}))})),r.div(".pop-over-section",(function(){return r.h4((function(){return r.format("labels")})),r.ul(".edit-labels-pop-over.js-labels-list"),r.mustacheBlock("__ed",(function(){return r.div((function(){return r.button(".button.full.js-add-label",(function(){return r.format("create-a-new-label")})),r.button(".button.full.hide.js-show-more",(function(){return r.format("show-more-labels")})),r.hr(),r.button(".button.full.js-toggle-color-blind-mode",(function(){return r.mustacheBlock("isColorBlindEnabled",(function(){return r.format("disable-color-blind-friendly-mode-no-punc")})),r.mustacheBlockInverted("isColorBlindEnabled",(function(){return r.format("enable-color-blind-friendly-mode-no-punc")}))}))}))}))}))}},"./app/scripts/views/templates/popover_change_roles.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_change_roles");e.exports=function(){return r.ul(".pop-over-list",(function(){return r.li((function(){return r.a({class:r.mustacheBlock("canMakeAdmin",(function(){return"js-make-admin highlight-icon"}))+r.mustacheBlockInverted("canMakeAdmin",(function(){return" disabled"}))},(function(){return r.check(r.mustacheVar("memberIsAdmin"),"admin"),r.span(".sub-name",(function(){return r.text(r.mustacheVar("roleText_admin"))}))}))})),r.li((function(){return r.a({class:r.mustacheBlock("canMakeMember",(function(){return"highlight-icon js-make-member "}))+r.mustacheBlockInverted("canMakeMember",(function(){return" disabled"}))},(function(){return r.check(r.mustacheVar("memberIsNormal"),"normal"),r.span(".sub-name",(function(){return r.text(r.mustacheVar("roleText_normal"))}))}))})),r.mustacheBlock("showObserver",(function(){return r.li((function(){return r.a({class:r.mustacheBlock("canMakeObserver",(function(){return"highlight-icon js-make-observer "}))+r.mustacheBlockInverted("canMakeObserver",(function(){return" disabled"}))},(function(){return r.format("observer"),r.icon("business-class"),r.mustacheBlock("memberIsObserver",(function(){return r.icon("check")})),r.span(".sub-name",(function(){return r.text(r.mustacheVar("roleText_observer"))}))}))}))}))})),r.mustacheBlockInverted("isMoreThanOneAdmin",(function(){return r.mustacheBlock("memberIsAdmin",(function(){return r.hr(),r.p(".quiet.u-bottom",(function(){return r.format("you-can-t-change-roles-because-there-must-be-at-least-one-admin")}))}))}))}},"./app/scripts/views/templates/popover_confirmation_public_boards.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_confirmation_public_boards");e.exports=r.renderable((function(e){var t=e.isTemplate;return r.div(".public-board-confirmation-popover",(function(){return r.div(".public-board-confirmation-popover-title",(function(){return t?(r.span((function(){return r.format("public-template-confirmation-description")})),r.button(".js-submit.wide.nch-button.nch-button--primary.full.make-public-confirmation-button",(function(){return r.format("public-template-confirm")}))):(r.span((function(){return r.format("public-board-confirmation-description")})),r.button(".js-submit.wide.nch-button.nch-button--primary.full.make-public-confirmation-button",(function(){return r.format("confirm")})))})),r.hr(),r.div(".public-board-confirmation-popover-invitation-link",(function(){return r.p((function(){return r.format("looking-for-invite-link"),r.a(".js-action-link.looking-for-invite-link",{href:"#",target:"_blank"},(function(){return t?r.format("invite-to-template-link"):r.format("invite-to-board-link")})),r.format("option")}))}))}))}))},"./app/scripts/views/templates/popover_emoji_completer.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_emoji_completer");e.exports=r.renderable((function(e){e.input;var t=e.button,n=e.upsellEnabled;return t&&r.input(".js-filter-emoji.js-autofocus",{type:"text",placeholder:r.l("search-for-emoji-ellipsis")}),r.div(".js-results",(function(){if(r.ul(".pop-over-emoji-list.js-available-emoji"),n)return r.hr(),r.ul(".pop-over-list",(function(){return r.li((function(){return r.a(".js-upload-emoji",{href:"#","data-emojiname":""},(function(){return r.format("upload-emoji")}))}))}))})),r.div(".js-no-results.hide",(function(){if(n)return r.p(".u-bottom.js-no-matching-emoji-helper"),r.a(".nch-button.nch-button--primary.nch-button--fullwidth.js-upload-emoji.my-4",{href:"#","data-emojiname":""})}))}))},"./app/scripts/views/templates/popover_emoji_uploader.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_emoji_uploader");e.exports=function(){return r.mustacheBlockInverted("canUpload",(function(){return r.div(".warning",(function(){return r.mustacheBlockInverted("hasGold",(function(){return r.p((function(){return r.format("you-can-upload-custom-emoji-with-trello-gold-learn-more-about-trello-gold")}))})),r.mustacheBlockInverted("hasBCGold",(function(){return r.p(".u-bottom",(function(){return r.format("you-can-get-custom-emoji-for-your-entire-organization-with-business-class-learn-more-about-business-class")}))}))})),r.hr()})),r.form({action:"/1/member/".concat(r.mustacheVar("id"),"/customEmoji"),method:"post",enctype:"multipart/form-data"},(function(){return r.input({type:"hidden",name:"token",value:""}),r.input({type:"hidden",name:"format",value:"http"}),r.label({for:"emojiImage"},(function(){return r.format("upload-image")})),r.input(".js-upload-emoji-file.upload-emoji",{id:"emojiImage",type:"file",name:"file",tabindex:"-1",accept:"image/*"}),r.label({for:"emojiName"},(function(){return r.format("emoji-name")})),r.input(".js-emoji-name",{id:"emojiName",type:"text",name:"name",value:r.mustacheVar("emojiName")}),r.p(".quiet",(function(){return r.format("the-name-will-default-to-the-name-of-the-uploaded-file-you-can-change-it-here-though")})),r.p(".warning.hide.js-invalid-name",(function(){return r.format("the-emoji-name-can-only-contain-letters-numbers-and-underscores")})),r.div(".js-emoji-preview",{style:"margin-bottom: 12px;"},(function(){return r.p({style:"margin-bottom: 4px;"},(function(){return r.strong((function(){return r.format("preview")}))})),r.span(".js-emoji-preview-name",(function(){return r.text(r.mustacheVar("emojiName"))})),r.text(" → "),r.img(".js-emoji-preview.emoji")})),r.input(".nch-button.nch-button--primary.wide.js-upload-emoji",{type:"submit",value:r.l("create-custom-emoji")}),r.div(".error.hide",(function(){return r.format("upload-failed")}))})),r.mustacheBlock("canUpload",(function(){return r.mustacheBlock("showTeamUpsell",(function(){return r.hr(),r.p(".u-bottom",(function(){return r.format("you-can-also-get-custom-emoji-for-your-entire-organization-with-business-class-learn-more-about-business-class")}))}))}))}},"./app/scripts/views/templates/popover_filter_pos_results.js":function(e,t,n){function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return i(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return i(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function i(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var o=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_filter_pos_results");e.exports=function(){return o.ul(".pop-over-list.navigable.normal-weight.js-pos-results",(function(){return[["js-select-pos-keyword",o.mustacheVar("keywordList")],["js-select-pos-pos",o.mustacheVar("indexList")],["js-select-pos-list",o.mustacheVar("listList")]].forEach((function(){var e=Array.from(arguments.length<=0?void 0:arguments[0]),t=r(e,2),n=t[0],i=t[1];return i.forEach((function(e){return o.li((function(){return o.a({href:"#",name:e.value,class:n},(function(){return o.format("position-in-list",{index:e.indexString,listName:e.listName})}))}))}))}))}))}},"./app/scripts/views/templates/popover_helper_new_board_add_org.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_helper_new_board_add_org");e.exports=function(){return r.p((function(){return r.format("an-organization-is-a-collection-of-members-and-boards-they-make-sharing-and-working-within-a-group-even-easier")})),r.a(".button.js-create-org",{href:"#"},(function(){return r.format("create-an-organization")}))}},"./app/scripts/views/templates/popover_limit_exceeded.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_limit_exceeded");e.exports=r.renderable((function(e){return r.div(".error.js-limit-exceeded",{style:"margin: 12px 0 6px;"},(function(){return"perCard"===e?r.format("attachments-per-card-exceeded"):"perBoard"===e?r.format("attachments-per-board-exceeded"):void 0}))}))},"./app/scripts/views/templates/popover_member_searcher.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_member_searcher");e.exports=function(){return r.mustacheBlock("showSearch",(function(){return r.input(".js-filter-members.js-autofocus",{type:"text",placeholder:r.l("search-members-ellipsis")})})),r.ul(".pop-over-member-list.checkable.js-members-list")}},"./app/scripts/views/templates/popover_move_card.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_move_card");e.exports=function(){var e=r.mustacheVar("suggestions");return e.length>0&&r.div(".pop-over-section.js-suggestions",(function(){r.h4((function(){return r.icon("sparkle"),r.format("suggested")}));for(var t=function(){var e=i[n];r.a(".button-link.js-suggested-move",{class:r.classify({"flip-icon":"left"===e.direction}),"data-id":e.id,"data-position":e.position,href:"#"},(function(){return r.icon("move"),r.text(e.name)}))},n=0,i=Array.from(e);n<i.length;n++)t()})),r.div(".pop-over-section",(function(){return r.h4((function(){return r.format("select-destination")})),r.mustachePartial(n("./app/scripts/views/templates/move_card_controls.js")),r.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:r.l("move")})}))}},"./app/scripts/views/templates/popover_move_list.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_move_list");e.exports=r.renderable((function(e){var t=e.organizations,n=e.hasEnterprise,i=e.enterpriseName,o=e.restrictToCurrentBoard;return r.div(".form-grid",(function(){return r.div(".form-grid-child.form-grid-child-full",{class:r.classify({hide:!o})},(function(){return r.label((function(){return r.format("board")})),r.p((function(){return r.text(t[0].boards[0].name)}))})),r.div(".button-link.setting.form-grid-child.form-grid-child-full",{class:r.classify({hide:o})},(function(){return r.span(".label",(function(){return r.format("board")})),r.span(".value.js-board-value"),r.label((function(){return r.format("board")})),r.select(".js-select-board",(function(){return Array.from(t).map((function(e){return r.optgroup({label:e.displayName},(function(){return Array.from(e.boards).map((function(e){return r.optionSelected(e.selected,{value:e.id},(function(){if(r.text(e.name),e.selected)return r.text(" "),r.format("current")}))}))}))}))}))}))})),n&&i&&r.p(".quiet",(function(){return r.format("list-can-only-be-moved-to-teams-within-org",{enterpriseName:i})})),r.div(".form-grid",(function(){return r.div(".button-link.setting.form-grid-child.form-grid-child-full",(function(){return r.span(".label",(function(){return r.format("position")})),r.span(".value.js-pos-value"),r.label((function(){return r.format("position")})),r.select(".js-select-list-pos")}))})),r.input(".nch-button.nch-button--primary.wide.js-commit-position",{type:"submit",value:r.l("move")}),r.p((function(){return r.span(".error.hide.js-list-limit-exceeded",(function(){return r.format("too many lists")}))}))}))},"./app/scripts/views/templates/popover_reopen_board.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_reopen_board");e.exports=r.renderable((function(){return r.div(".js-billable-guests-alert"),r.input(".nch-button.nch-button--primary.full.js-confirm-reopen",{type:"submit",value:r.l("confirm")})}))},"./app/scripts/views/templates/popover_select_members.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_select_members");e.exports=r.renderable((function(e){var t=e.canInviteMembers,n=e.includeOrgMembers,i=function(e){return r.h4((function(){return r.format(e)})),r.div(".js-loading",(function(){return r.p(".empty",{style:"padding: 24px 6px"},(function(){return r.format("loading")}))})),r.div(".js-no-results.hide",(function(){return r.p(".empty",{style:"padding: 24px 6px"},(function(){return r.format("no-results")}))})),r.ul(".pop-over-member-list.checkable.u-clearfix.js-mem-list")};return r.input(".js-search-mem.js-autofocus",{type:"text",placeholder:r.l("search-members")}),r.div(".pop-over-section.js-suggestions",(function(){r.h4((function(){return r.icon("sparkle"),r.format("suggested")})),r.ul(".pop-over-member-list.checkable.u-clearfix.js-mem-list")})),r.div(".pop-over-section.js-board-members",(function(){return i("board-members")})),n&&(r.div(".pop-over-section.js-org-members",(function(){return i("team-members")})),r.div(".js-show-org-members",(function(){return r.a(".subtle.button.full",{href:"#",style:"margin-top: 8px;"},(function(){return r.format("show-team-members")}))}))),r.div(".js-invite-no-results.hide",(function(){return r.p(".empty",{style:"padding: 24px 6px"},(function(){return t?r.l("not-a-member"):r.l("no-results")}))})),r.div(".js-invite-results.hide"),r.div(".js-invite-error.hide",(function(){return r.p(".error",{style:"margin: 16px 8px 6px;"})}))}))},"./app/scripts/views/templates/popover_selector_menu.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_selector_menu");e.exports=r.renderable((function(e){var t=e.isTemplate;return r.ul(".pop-over-list",(function(){return t||r.li((function(){return r.a(".js-mem-selector",{href:"#"},(function(){return r.format("members-ellipsis")}))})),r.li((function(){return r.a(".js-label-selector",{href:"#"},(function(){return r.format("labels-ellipsis")}))})),r.li((function(){return r.a(".js-pos-selector",{href:"#"},(function(){return r.format("position-ellipsis")}))}))}))}))},"./app/scripts/views/templates/popover_set_list_limit.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_set_list_limit");e.exports=r.renderable((function(e){var t=e.limit;return r.div((function(){return r.label((function(){return r.format("maximum-cards"),r.input(".set-list-limit.js-autofocus.js-list-limit-input",{name:"list-limit",min:0,max:5e3,placeholder:r.l("no-limit-set"),type:"number",value:t})})),r.p(".quiet",(function(){return r.format("highlight-this-list-if-the-number-of-cards-in-it-passes-this-limit")})),r.div(".set-list-limit-buttons",(function(){return r.input(".nch-button.nch-button--primary.wide.js-submit",{type:"submit",value:r.l("save")}),r.button(".nch-button.nch-button--danger.js-remove-limit",{type:"button"},(function(){return r.format("remove")}))}))}))}))},"./app/scripts/views/templates/popover_trello_completer.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("popover_trello_completer");e.exports=r.renderable((function(){return r.label((function(){return r.format("card-or-board-to-add"),r.input(".js-search.js-autofocus",{type:"text",placeholder:r.l("search-for-a-card-or-board-ellipsis")})})),r.div(".js-loading",(function(){return r.span(".loading.spinner")})),r.div(".pop-over-section.js-card-results.hide",(function(){return r.h4(".pop-over-section-heading",(function(){return r.format("cards")})),r.ul(".pop-over-list.navigable.js-card-list"),r.div(".empty.js-no-card-results.hide",{style:"padding: 24px 6px"},(function(){return r.p(".u-bottom",(function(){return r.format("no-results")}))}))})),r.div(".pop-over-section.js-board-results.hide",(function(){return r.h4(".pop-over-section-heading",(function(){return r.format("boards")})),r.ul(".pop-over-list.navigable.js-board-list"),r.div(".empty.js-no-board-results.hide",{style:"padding: 24px 6px"},(function(){return r.p(".u-bottom",(function(){return r.format("no-results")}))}))}))}))},"./app/scripts/views/templates/power_ups_calendar_prefs.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("power_ups_calendar_prefs");e.exports=r.renderable((function(e){var t=e.isEnabled,n=e.isGenerated,i=e.url,o=e.canChange;return r.p((function(){return r.format("sync-this-trello-boards-calendar-with-your-personal-calendar")})),t?(r.hr(),r.strong((function(){return r.format("icalendar-feed")})),r.div(".icalendar-url",(function(){return r.input(".full.js-calendar-feed-url",{type:"text",value:n?i:r.l("generating")}),r.a(".button.js-regen-calendar-url",{href:"#",class:r.classify({disabled:!n})},(function(){return r.span(".icon-sm.icon-refresh.dark-hover")}))})),r.div(".u-text-align-center",(function(){return r.a(".js-select.js-calendar-pref-feed",{href:"#",class:r.classify({disabled:!o}),name:"disabled"},(function(){return r.span(".name",(function(){return r.format("disable-sync")}))}))}))):r.div(".u-text-align-center",(function(){return r.a(".js-select.js-calendar-pref-feed",{href:"#",class:r.classify({disabled:!o}),name:"enabled"},(function(){return r.span(".name",(function(){return r.format("enable-sync")}))}))}))}))},"./app/scripts/views/templates/power_ups_card_aging_prefs.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("power_ups_card_aging_prefs");e.exports=r.renderable((function(e){var t=e.agingMode,n=e.canChange;return r.h2((function(){return r.format("how-do-you-want-the-aged-cards-to-look")})),r.ul(".pop-over-list",(function(){return r.li((function(){return r.a(".js-select",{href:"#",class:r.classify({disabled:!n}),name:"regular"},(function(){return r.span(".name",(function(){return r.format("regular-mode")})),"regular"===t&&r.icon("check"),r.span(".sub-name",(function(){return r.format("older-cards-become-more-transparent")}))}))})),r.li((function(){return r.a(".js-select",{href:"#",class:r.classify({disabled:!n}),name:"pirate"},(function(){return r.span(".name",(function(){return r.format("pirate-mode")})),"pirate"===t&&r.icon("check"),r.span(".sub-name",(function(){return r.format("older-cards-crackle-and-tear")}))}))}))}))}))},"./app/scripts/views/templates/power_ups_voting_prefs.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("power_ups_voting_prefs");e.exports=r.renderable((function(e){var t=e.canChange,n=e.canSetObservers,i=e.canSetOrganization,o=e.canSetPublic,a=e.votingMode,s=e.hideVotes;return r.h4((function(){return r.format("who-is-allowed-to-vote-on-cards")})),r.ul(".pop-over-list",(function(){return r.li((function(){return r.a(".js-voting-select",{href:"#",class:r.classify({disabled:!t}),name:"members"},(function(){return r.span(".name",(function(){return r.format("members")})),"members"===a&&r.icon("check"),r.span(".sub-name",(function(){return r.format("admins-and-board-members-can-vote")}))}))})),r.li((function(){return r.a(".js-voting-select",{href:"#",class:r.classify({disabled:!t||!n}),name:"observers"},(function(){return r.span(".name",(function(){return r.format("members-and-observers")})),"observers"===a&&r.icon("check"),r.span(".sub-name",(function(){return r.format("admins-board-members-and-observers-can-vote")}))}))})),r.li((function(){return r.a(".js-voting-select",{href:"#",class:r.classify({disabled:!t||!i}),name:"org"},(function(){return r.span(".name",(function(){return r.format("organization-members")})),"org"===a&&r.icon("check"),r.span(".sub-name",(function(){return r.format("admins-board-members-observers-and-team-members-can-vote")}))}))})),r.li((function(){return r.a(".js-voting-select",{href:"#",class:r.classify({disabled:!t||!o}),name:"public"},(function(){return r.span(".name",(function(){return r.format("public-members")})),"public"===a&&r.icon("check"),r.span(".sub-name",(function(){return r.format("any-trello-user-can-vote")}))}))}))})),r.tag("hr"),r.h4((function(){return r.format("hide-vote-counts")})),r.ul(".pop-over-list",(function(){return r.li((function(){return r.a(".js-vote-count-select",{href:"#",class:r.classify({disabled:!t}),name:"hideVoteCount"},(function(){return r.span(".name",(function(){return r.format("hide-vote-counts-except-mine")})),s&&r.icon("check"),r.span(".sub-name",(function(){return r.format("hide-vote-counts-except-mine-explain")}))}))}))}))}))},"./app/scripts/views/templates/quick_card_editor.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("quick_card_editor"),i=n("./app/scripts/views/templates/card_in_list.js");e.exports=function(){var e=r.mustacheVar("cardUrl"),t=r.mustacheVar("isTemplate"),n=r.mustacheVar("isCardTemplate"),o=r.mustacheVar("cardRole");return r.span(".icon-lg.icon-close.quick-card-editor-close-icon.js-close-editor"),r.div(".quick-card-editor-card",{style:"top: ".concat(r.mustacheVar("top"),"px; left: ").concat(r.mustacheVar("left"),"px; width: ").concat(r.mustacheVar("width"),"px;")},(function(){return r.div(".list-card.list-card-quick-edit.js-stop",{style:"width: ".concat(r.mustacheVar("width"),"px;")},(function(){return i(r.mustacheVar("."))})),r.input(".nch-button.nch-button--primary.wide.js-save-edits",{type:"submit",value:r.l("save")}),r.div({class:"quick-card-editor-buttons".concat(r.mustacheBlock("leftButtons",(function(){return" quick-card-editor-buttons-left"})))},(function(){o||(r.a(".quick-card-editor-buttons-item",{href:e},(function(){return r.icon("card",{class:"light"}),r.span(".quick-card-editor-buttons-item-text",(function(){return r.format("open-card")}))})),r.a(".quick-card-editor-buttons-item.js-edit-labels",{href:"#"},(function(){return r.icon("label",{class:"light"}),r.span(".quick-card-editor-buttons-item-text",(function(){return r.format("edit-labels")}))}))),t||o||r.a(".quick-card-editor-buttons-item.js-edit-members",{href:"#"},(function(){return r.icon("member",{class:"light"}),r.span(".quick-card-editor-buttons-item-text",(function(){return r.format("change-members")}))})),o||r.a(".quick-card-editor-buttons-item.js-edit-cover",{href:"#"},(function(){return r.icon("card-cover",{class:"light"}),r.span(".quick-card-editor-buttons-item-text",(function(){return r.format("change-cover")}))})),r.a(".quick-card-editor-buttons-item.js-move-card",{href:"#"},(function(){return r.icon("move",{class:"light"}),r.span(".quick-card-editor-buttons-item-text",(function(){return r.format("move")}))})),r.a(".quick-card-editor-buttons-item.js-copy-card",{href:"#"},(function(){return r.icon("card",{class:"light"}),r.span(".quick-card-editor-buttons-item-text",(function(){return r.format("copy")}))})),n||o||r.a(".quick-card-editor-buttons-item.js-edit-due-date",{href:"#"},(function(){return r.icon("clock",{class:"light"}),r.span(".quick-card-editor-buttons-item-text",(function(){return r.format("change-due-date")}))})),r.mustacheBlockInverted("closed",(function(){return r.a(".quick-card-editor-buttons-item.js-archive",{href:"#"},(function(){return r.icon("archive",{class:"light"}),r.span(".quick-card-editor-buttons-item-text",(function(){return n?r.format("hide-from-list"):r.format("archive")}))}))})),r.div("#convert-card-role-button-react-root",{class:r.mustacheBlock("leftButtons",(function(){return"left-side-react-root"}))})}))}))}},"./app/scripts/views/templates/select_board.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_board");e.exports=r.renderable((function(e){var t=e.name,n=e.id,i=e.closed,o=e.orgName;return r.li(".item",(function(){return r.a(".name.js-select-board",{href:"#",title:t,"data-id":n},(function(){if(r.span(".item-name",(function(){if(r.text(t),i)return r.text(" "),r.span(".quiet",(function(){return r.format("archived")}))})),o)return r.span(".sub-name",(function(){return r.format("in-orgname",{orgName:o})}))}))}))}))},"./app/scripts/views/templates/select_card.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_card");e.exports=r.renderable((function(e){var t=e.name,n=e.id,i=e.closed,o=e.boardName;return r.li(".item",(function(){return r.a(".name.js-select-card",{href:"#",title:t,"data-id":n},(function(){if(r.span(".item-name",(function(){if(r.text(t),i)return r.text(" "),r.span(".quiet",(function(){return r.format("archived")}))})),o)return r.span(".sub-name",(function(){return r.format("in-boardname",{boardName:o})}))}))}))}))},"./app/scripts/views/templates/select_emoji.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_emoji");e.exports=function(){return r.li(".item",(function(){return r.a(".name.js-select-emoji",{href:"#",title:r.mustacheVar("name")},(function(){return r.img(".emoji",{src:r.mustacheVar("image")}),r.span(".emoji-name",{name:r.mustacheVar("name")},(function(){return r.text(r.mustacheVar("name"))}))}))}))}},"./app/scripts/views/templates/select_labels.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_labels");e.exports=function(){return r.mustacheBlock("labels",(function(){return r.li((function(){return r.mustacheBlock("__ed",(function(){return r.a(".card-label-edit-button.icon-sm.icon-edit.js-edit-label",{href:"#","data-idlabel":r.mustacheVar("id")})})),r.span({class:"card-label mod-selectable card-label-".concat(r.mustacheVar("color")," ").concat(r.mustacheBlock("isActive",(function(){return"active"}))," js-select-label"),"data-idlabel":r.mustacheVar("id"),"data-color":r.mustacheVar("color")},(function(){return r.mustacheBlock("name",(function(){return r.text(r.mustacheVar("name"))})),r.icon("check",{class:"card-label-selectable-icon light"})}))}))}))}},"./app/scripts/views/templates/select_member.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("select_member"),i=n("./app/scripts/views/templates/member.js");e.exports=function(){return r.li({class:"item".concat(r.mustacheBlock("isActive",(function(){return" active"}))).concat(r.mustacheBlock("unconfirmed",(function(){return" unconfirmed"}))).concat(r.mustacheBlock("inactive",(function(){return" inactive"}))).concat(r.mustacheBlock("isKnownMember",(function(){return" js-autoselect"}))," js-member-item").concat(r.mustacheBlock("disabled",(function(){return" disabled"})))},(function(){return r.a({href:r.mustacheBlock("url",(function(){return r.mustacheVar("url")}))+r.mustacheBlockInverted("url",(function(){return"#"})),class:"name js-select-member ".concat(r.mustacheBlock("extraText",(function(){return"multi-line"}))),idMember:r.mustacheVar("id"),title:r.mustacheVar("viewTitle"),autocompleteText:r.mustacheVar("username")},(function(){return r.span({class:"member js-member".concat(r.mustacheBlock("isVirtual",(function(){return" virtual"}))).concat(r.mustacheBlock("activityBlocked",(function(){return" member-deactivated"}))).concat(r.mustacheBlock("isDeactivated",(function(){return" member-deactivated"})))},(function(){return i(r.mustacheVar("."))})),r.span(".full-name",{name:r.mustacheVar("fullName")+r.mustacheBlock("username",(function(){return" (".concat(r.mustacheVar("username"),")")})),"aria-hidden":!0},(function(){return r.text(r.mustacheVar("fullName")),r.text(" "),r.mustacheBlock("username",(function(){return r.span(".username",(function(){return r.text("(".concat(r.mustacheVar("username"),")"))}))}))})),r.mustacheBlock("extraText",(function(){return r.div(".extra-text.quiet",(function(){return r.format("extratext",{extraText:r.mustacheVar("extraText")})}))})),r.icon("check",{class:"checked-icon","aria-label":r.l("added-to-card")}),r.icon("forward",{class:"light option js-open-option"}),r.mustacheBlock("inactive",(function(){return r.span(".quiet.sub-name",(function(){return r.format("inactive-account")}))})),r.mustacheBlock("unconfirmed",(function(){return r.span(".quiet.sub-name",(function(){return r.format("unconfirmed-user")}))}))}))}))}},"./app/scripts/views/templates/tooltip_content.js":function(e,t,n){var r=n("./app/scripts/views/internal/teacup-with-helpers.js")("tooltip_content");e.exports=function(){var e=r.mustacheVar("closeable"),t=e?[".tooltip-content-closeable"]:[];return r.div(t.join("")+".tooltip-content.js-tooltip-content",(function(){return e&&r.icon("close",{class:"tooltip-close-button js-tooltip-close-button"}),r.raw(r.mustacheVar("tooltipHtml"))}))}},"./app/src/components/AdvancedCalendarView/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"AdvancedCalendarView",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/use-lazy-component/index.ts"),a=n("./app/src/components/BoardDashboardView/PermissionsContext.tsx"),s=function(e){var t=e.idBoard,s=e.navigateToCard,l=e.closeView,c=Object(o.useLazyComponent)((function(){return n.e(26).then(n.bind(null,"./app/src/components/AdvancedCalendarView/AdvancedCalendarComponent.tsx"))}),{namedImport:"AdvancedCalendarComponent"});return i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(a.b,{idBoard:t},i.a.createElement(c,{idBoard:t,navigateToCard:s,closeView:l})))}},"./app/src/components/AutoEnableCalendar/AutoEnableCalendar.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AutoEnableCalendar/AutoEnableCalendar.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/BillableGuestsAlert/InlineLink.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return d}));var r=n("./node_modules/react/index.js"),i=n.n(r);function o(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function a(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function s(e,t){return(s=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function l(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function c(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function u(e){return(u=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var d=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&s(e,t)}(m,e);var t,n,r,d,p=(t=m,function(){var e,n=u(t);if(c()){var r=u(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return l(this,e)});function m(){return o(this,m),p.apply(this,arguments)}return n=m,(r=[{key:"render",value:function(){var e=this.props,t=e.text,n=e.href,r=void 0===n?"#":n,o=e.onClick,a=void 0===o?function(){}:o;return i.a.createElement("a",{onClick:a,href:r,rel:"noopener noreferrer",target:"_blank"},t)}}])&&a(n.prototype,r),d&&a(n,d),m}(i.a.Component)},"./app/src/components/BillableGuestsAlert/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"BillableGuestsAlert",(function(){return m}));var r=n("./app/common/lib/util/i18n/index.ts"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./app/src/components/BillableGuestsAlert/InlineLink.tsx");function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function d(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function p(e){return(p=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}var m=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(h,e);var t,n,i,m,f=(t=h,function(){var e,n=p(t);if(d()){var r=p(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return u(this,e)});function h(){return s(this,h),f.apply(this,arguments)}return n=h,(i=[{key:"render",value:function(){var e=this.props,t=e.adminNames,n=e.newBillableGuestsCount,i=e.availableLicenseCount,s=e.orgName,l=e.isOrgAdmin,c=e.orgUrl,u=e.onCountClick,d=e.isReopen,p=e.isDesktop,m=Object(r.forNamespace)(d?"re-open billable guests alert":"add to team billable guests alert"),f=Object(r.localizeCount)("others",t.length-3),h=o.a.createElement(a.a,{key:"othersLink",href:"".concat(c,"/members"),text:f}),v=m("learn more"),g=o.a.createElement(a.a,{key:"learnMoreLink",href:"https://help.trello.com/article/1123-multi-board-guests",text:v}),b=o.a.createElement("strong",{key:"team"},s),y=o.a.createElement(a.a,{key:"boardMembersCount",onClick:u,text:Object(r.localizeCount)("board members",n)}),k=Object(r.localizeCount)("board members already guests on team",n,{count:y,team:b});if(p)return d?Object(r.localizeCount)("billable guests alert re-open desktop",n,{boardMembersOnTeam:k,learnMoreLink:g}):Object(r.localizeCount)("billable guests alert move desktop",n,{boardMembersOnTeam:k,learnMoreLink:g});if(l){var w=d?"":" add to team";return n>i?Object(r.localizeCount)("text as admin max bcpo licenses reached".concat(w),n,{boardMembersOnTeam:k,learnMoreLink:g}):Object(r.localizeCount)("text as admin".concat(w),n,{boardMembersOnTeam:k,learnMoreLink:g})}return 1===t.length?m("text with 1 admin",{boardMembersOnTeam:k,learnMoreLink:g,admin1:o.a.createElement("strong",{key:"admin1"},t[0])}):2===t.length?m("text with 2 admin",{boardMembersOnTeam:k,learnMoreLink:g,admin1:o.a.createElement("strong",{key:"admin1"},t[0]),admin2:o.a.createElement("strong",{key:"admin2"},t[1])}):3===t.length?m("text with 3 admin",{boardMembersOnTeam:k,learnMoreLink:g,admin1:o.a.createElement("strong",{key:"admin1"},t[0]),admin2:o.a.createElement("strong",{key:"admin2"},t[1]),admin3:o.a.createElement("strong",{key:"admin3"},t[2])}):t.length>3?m("text with more admins",{boardMembersOnTeam:k,learnMoreLink:g,othersLink:h,admin1:o.a.createElement("strong",{key:"admin1"},t[0]),admin2:o.a.createElement("strong",{key:"admin2"},t[1]),admin3:o.a.createElement("strong",{key:"admin3"},t[2])}):void 0}}])&&l(n.prototype,i),m&&l(n,m),h}(o.a.Component)},"./app/src/components/BillingDetails/BillingHistory/TeamBillingStatementsQuery.graphql":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"TeamBillingStatements"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"statements"},arguments:[{kind:"Argument",name:{kind:"Name",value:"accountType"},value:{kind:"EnumValue",value:"organizations"}},{kind:"Argument",name:{kind:"Name",value:"accountId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"date"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"amount"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"item"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statementUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"statementToken"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"translationKey"},arguments:[],directives:[]}]}}]}}],loc:{start:0,end:202}};n.loc.source={body:"query TeamBillingStatements($orgId: ID!) {\n  statements(accountType: organizations, accountId: $orgId) @client {\n    date\n    amount\n    item\n    statementUrl\n    statementToken\n    translationKey\n  }\n}",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.TeamBillingStatements=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var r=o(e,t);r&&n.definitions.push(r)})),n}(n,"TeamBillingStatements")},"./app/src/components/BoardDashboardView/PermissionsContext.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return l})),n.d(t,"b",(function(){return c}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/boards/index.ts"),a=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PermissionsContext"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"selfJoin"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deactivated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unconfirmed"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterprise"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idAdmins"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"deactivated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unconfirmed"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idPremOrgsAdmin"},arguments:[],directives:[]}]}}]}}]};var l=Object(r.createContext)({canEdit:()=>!1}),c=function(e){var t,n=e.idBoard,c=e.children,u=(t={variables:{idBoard:n}},a.c(s,t)).data,d=Object(r.useCallback)((function(){return!(!(null==u?void 0:u.board)||!(null==u?void 0:u.member))&&Object(o.a)(u.member,u.board)}),[u]);return i.a.createElement(l.Provider,{value:{canEdit:d}},c)}},"./app/src/components/BoardSidebarLoadingError/BoardSidebarLoadingError.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardSidebarLoadingError/BoardSidebarLoadingError.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/BoardSidebarLoadingError/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"BoardSidebarLoadingError",(function(){return k}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/common/lib/util/i18n/index.ts"),a=n("./packages/nachos/button.ts"),s=n("./app/src/components/BoardSidebarLoadingError/BoardSidebarLoadingError.less"),l=n.n(s);function c(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function d(e,t){return(d=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function p(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?m(e):t}function m(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function f(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function h(e){return(h=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function v(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var g=Object(o.forTemplate)("error"),b=Object(o.forNamespace)("view title"),y=Object(o.forTemplate)("connect_failed"),k=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&d(e,t)}(k,e);var t,n,r,o,s=(t=k,function(){var e,n=h(t);if(f()){var r=h(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return p(this,e)});function k(){var e;c(this,k);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return v(m(e=s.call.apply(s,[this].concat(n))),"reloadPage",(function(){return window.location.reload()})),e}return n=k,(r=[{key:"render",value:function(){return i.a.createElement("div",{className:l.a.errorMessage},i.a.createElement("div",{className:"board-menu-header-content"},i.a.createElement("h3",{className:"board-menu-header-title js-board-menu-title-text"},b("menu"))),i.a.createElement("hr",{className:"board-menu-header-divider"}),i.a.createElement("h4",null,g("menu-loading-error")),i.a.createElement("p",null,g("reload-call-to-action")),i.a.createElement(a.Button,{appearance:"primary",onClick:this.reloadPage},y("reload-page")))}}])&&u(n.prototype,r),o&&u(n,o),k}(i.a.Component)},"./app/src/components/BoardViewsButton/BoardViewsButton.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsButton.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/BoardViewsButton/BoardViewsButtonCallout.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsButtonCallout.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/BoardViewsButton/BoardViewsFeedbackLink.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsFeedbackLink.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/BoardViewsButton/BoardViewsPopover.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsPopover.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/BoardViewsButton/BoardViewsPopoverUpsell/BoardViewsUpsellPrompt.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsPopoverUpsell/BoardViewsUpsellPrompt.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/BoardViewsButton/BoardViewsTeamTableLink.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsTeamTableLink.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/BoardViewsButton/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"BoardViewsButton",(function(){return Ce}));var r=n("./packages/atlassian-analytics/index.ts"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/classnames/index.js"),s=n.n(a),l=n("./app/common/lib/util/i18n/index.ts"),c=n("./app/src/components/UpgradePrompts/index.ts"),u=n("./packages/nachos/tooltip.ts"),d=n("./packages/nachos/icons/business-class.tsx"),p=n("./app/src/components/Lozenge/index.ts"),m=n("./app/src/components/BoardViewsButton/BoardViewsPopover.less"),f=n.n(m),h=n("./app/src/components/BoardViewsButton/BoardViewsFeedbackLink.less"),v=n.n(h),g=n("./packages/session-cookie/index.ts"),b=n("./packages/organizations/index.ts"),y=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardViewsFeedbackLink"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"premiumFeatures"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idEnterprise"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"credits"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"freeTrial"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]};function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=Object(l.forTemplate)("board-views"),x=function(e){var t,n=e.idBoard,a=e.idOrg,s=e.isOrgPrivate,l=e.hidePopover,c=(t=a&&!s?{variables:{orgId:a}}:{skip:!0},y.c(k,t)).data,u=function(e,t){r.Analytics.sendClickedLinkEvent(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({linkName:e,source:"boardViewsInlineDialog",containers:{board:{id:n},organization:{id:a}}},t&&{attributes:t})),l()},d=Object(i.useMemo)((function(){var e,t=new URL("https://trello.typeform.com/to/KrXQo6XN"),n=null==c?void 0:c.organization,r=null==c||null===(e=c.organization)||void 0===e?void 0:e.idEnterprise;return t.searchParams.append("team_status",a?Object(b.getOrgPaidStatus)(n):"NO_TEAM"),g.memberId&&t.searchParams.append("memberid",g.memberId),a&&t.searchParams.append("orgid",a),r&&t.searchParams.append("enterpriseid",r),t.href}),[c,a]);return o.a.createElement("div",{className:v.a.feedbackRequest},o.a.createElement("a",{href:d,target:"_blank",className:v.a.feedbackLink,onClick:function(){return u("viewsFeedbackLink")}},_("feedback-request")))},C=n("./app/common/components/singlespa/router-link.tsx"),O=n("./app/src/components/BoardViewsButton/BoardViewsTeamTableLink.less"),S=n.n(O),E=n("./packages/nachos/icons/table.tsx"),T=n("./packages/nachos/icons/external-link.tsx"),P=n("./packages/test-ids/index.ts");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var A=n("./packages/feature-flag-client/index.ts").useFeatureFlag,D=Object(l.forTemplate)("board-views"),B=function(e){var t=e.idBoard,n=e.hidePopover,i=e.isFreeTeam,a=e.orgName,s=e.shortLink,l=A("ecosystem.views-beta-phase-transition",!1),c=function(e,i){r.Analytics.sendClickedLinkEvent(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){I(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({linkName:e,source:"boardViewsInlineDialog",containers:{board:{id:t}}},i&&{attributes:i})),n()};return o.a.createElement("div",{className:S.a.teamTableCell},o.a.createElement(C.a,{className:S.a.teamTableLinkTile,href:"/".concat(a,"/tables?idBoards=").concat(s),target:"_blank",onClick:function(){c("teamBoardTableViewLink",{isFreeTeam:!!i})},testId:P.BoardHeaderTestIds.TeamTableViewOption},o.a.createElement("div",{className:S.a.tableThumbnail},o.a.createElement("div",{className:S.a.tableIcon},o.a.createElement(E.TableIcon,{size:"small"}))),o.a.createElement("div",{className:S.a.tableLinkDescription},o.a.createElement("div",{className:"tableLinkText"},D("team-table"))),o.a.createElement("div",{className:S.a.informationalIcons},!l&&o.a.createElement("div",{className:S.a.betaLozenge},o.a.createElement(p.a,{color:"blue"},D("beta"))),o.a.createElement("div",{className:S.a.linkIcon},o.a.createElement(T.a,{size:"medium"})))))},R=Object(l.forTemplate)("board-views"),L=Object(l.forNamespace)("upgrade prompt"),M=function(e){var t=e.showTooltip,n=e.children;return t?o.a.createElement(u.a,{tag:"li",content:R("limit-upsell"),delay:100},n):o.a.createElement("li",null,n)},F=function(e){var t=e.idBoard,n=e.shortLink,a=e.orgName,l=e.idOrg,u=e.isOrgPrivate,m=e.isFreeTeam,h=e.shouldShowTeamTableLink,v=e.hidePopover,g=e.currentView,b=e.viewOptions,y=e.clearFilters;Object(i.useEffect)((function(){r.Analytics.sendScreenEvent({name:"boardViewsInlineDialog",containers:{board:{id:t},organization:{id:l}}})}),[t,l]);var k=a?"/".concat(a,"/billing"):"/select-team-to-upgrade",w=o.a.createElement(c.UpgradePromptPill,{ctaLink:k,icon:o.a.createElement(d.BusinessClassIcon,null),cta:L("upgrade team"),ctaOnClick:function(){r.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePill",source:"boardViewsInlineDialog",containers:{board:{id:t}}})}}),j=b.map((function(e){if(e.isVisible){var t=R(e.name),n=R(e.descriptionString),r=o.a.createElement(e.icon,{size:"small"}),i=o.a.createElement(p.a,{color:"blue"},R("beta"));return o.a.createElement(M,{key:e.name,showTooltip:e.showUpsell||!1},o.a.createElement("div",{className:s()({"pop-over-list-item":!0,current:g===e.name}),role:"button",onClick:function(){e.showUpsell||(e.track(),e.navigateTo(),"timeline"!==e.name&&"calendar-view"!==e.name||y())}},r," ",t," ",e.isBeta&&i," ",e.showUpsell&&w,o.a.createElement("span",{className:"sub-name","data-test-id":e.showUpsell?e.testId+"-upsell":e.testId},n)))}}));return o.a.createElement(o.a.Fragment,null,o.a.createElement("ul",{className:"pop-over-list"},j),h&&a&&o.a.createElement(o.a.Fragment,null,o.a.createElement("hr",{className:f.a.lineSeparator}),o.a.createElement(B,{idBoard:t,hidePopover:v,isFreeTeam:m,orgName:a,shortLink:n})),o.a.createElement("hr",{className:f.a.lineSeparator}),o.a.createElement(x,{idBoard:t,idOrg:l,isOrgPrivate:u,hidePopover:v}))},V=n("./packages/nachos/popover.ts"),z=n("./app/common/router/index.ts"),U=n("./app/src/components/BoardViewsButton/BoardViewsButtonCallout.less"),H=n.n(U),W=n("./packages/nachos/icons/close.tsx"),q=n("./packages/locale/index.ts"),G=n("./packages/feature-flag-client/index.ts"),$=n("./resources/images/views/BoardViewsButtonCalloutImage.svg"),K=Object(l.forTemplate)("board-views"),Y=function(e){var t=e.onClose,n=e.idBoard,a=e.idOrg,s=e.buttonPosition,l=void 0===s?{top:48,left:8}:s;Object(i.useEffect)((function(){r.Analytics.sendViewedComponentEvent({componentType:"overlay",componentName:"boardViewSwitcherCalloutOverlay",containers:{board:{id:n},organization:{id:a}},source:"boardScreen"})}),[n,a]);var c=Object(G.useFeatureFlag)("remarkable.board-views-switcher-overlay-new-views-link",!1);return o.a.createElement(o.a.Fragment,null,o.a.createElement("div",{className:H.a.boardViewsCalloutPointer}),o.a.createElement("div",{className:H.a.boardViewsCallout,style:l,"data-test-id":P.BoardHeaderTestIds.BoardViewsSwitcherCallout},o.a.createElement("img",{className:H.a.trelloViewsImage,alt:"TrelloViews",src:$}),o.a.createElement("p",{className:H.a.calloutHeaderText},K("visualize-your-work-in-new-ways")),o.a.createElement("p",{className:H.a.calloutContentText},K("get-a-brand-new-perspective")," ",o.a.createElement("a",{href:c?"https://trello.com/views":function(){switch(q.currentLocale){case"fr-CA":case"fr":return"https://blog.trello.com/fr/lavenir-de-trello";case"de":return"https://blog.trello.com/de/future-of-trello";case"es":return"https://blog.trello.com/es/futuro-de-trello";case"pt-BR":return"https://blog.trello.com/br/futuro-do-trello";case"ja":return"https://blog.trello.com/ja/future-of-trello";default:return"https://blog.trello.com/future-of-trello"}}(),target:"_blank",onClick:function(){var e=c?"viewsLandingPageLink":"viewsBlogLink";r.Analytics.sendClickedLinkEvent({linkName:e,source:"boardViewSwitcherCalloutOverlay",containers:{board:{id:n},organization:{id:a}}})}},K("learn-more"))),o.a.createElement("button",{className:H.a.calloutCloseButtonWrapper,onClick:t,"data-test-id":P.BoardHeaderTestIds.BoardViewsSwitcherCalloutClose},o.a.createElement(W.a,{dangerous_className:H.a.calloutCloseButton,size:"small"}))))},Z=n("./node_modules/react-transition-group/esm/CSSTransition.js"),J=n("./packages/nachos/icons/down.tsx"),Q=n("./packages/nachos/icons/list.tsx"),X=n("./packages/storage/index.ts"),ee=n("./packages/product-features/index.ts"),te={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardViewsPopoverUpsell"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]}]}}]}}]};var ne=n("./app/src/components/FreeTrial/index.ts"),re=function(e){var t,n=e.orgId,r=Object(G.useFeatureFlagTracked_experimental)("nusku.views-switcher-upsell",!1),i=(t={variables:{orgId:n},skip:!n},y.c(te,t)).data,o=null==i?void 0:i.organization,a=Boolean(o&&!o.products[0]),s=Boolean(o&&ee.ProductFeatures.isStandardProduct(o.products[0])),l=Object(ne.useFreeTrialEligibilityRules)(n),c=l.isEligible,u=l.startFreeTrial,d=l.isAdmin,p=!s&&a&&c?"freetrial":s||a&&!c?"upgrade":null,m=Boolean(o&&r&&p),f=Object(G.useFeatureFlagTracked_experimental)("nusku.views-switcher-upsell-default-open",!1);return{activateFreeTrial:function(){return u({redirect:!1},"boardViewsInlineDialog")},isUpsellEnabled:m,step:p,isAdmin:d,isUpsellDefaultOpenEnabled:Boolean(f&&m)}},ie=n("./app/src/components/BoardViewsButton/BoardViewsPopoverUpsell/BoardViewsUpsellPrompt.less"),oe=n.n(ie),ae=n("./packages/nachos/button.ts"),se=n("./packages/browser/index.ts"),le=Object(l.forTemplate)("views_prompt"),ce=function(e,t){return le([e,t])},ue=function(e,t){return le(["upsell-trial-prompt","views-list",e,t])},de=function(e){var t=e.isAdmin,a=e.isUpgrade,s=e.activateFreeTrial,l=e.hidePopover,c=e.orgId,u=e.boardId,d=e.orgName;Object(i.useEffect)((function(){r.Analytics.sendScreenEvent({name:"upsellPromptBoardViewsInlineDialog",containers:{board:{id:u},organization:{id:c}},attributes:{promptType:a?"upgrade":"freeTrial"}})}),[u,c,a]);var p=[{image:"timeline",content:{name:ue("timeline","name"),description:ue("timeline","description")}},{image:"table",content:{name:ue("table","name"),description:ue("table","description")}},{image:"calendar",content:{name:ue("calendar","name"),description:ue("calendar","description")}},{image:"dashboard",content:{name:ue("dashboard","name"),description:ue("dashboard","description")}},{image:"map",content:{name:ue("map","name"),description:ue("map","description")}}];return o.a.createElement("div",{className:oe.a.container},o.a.createElement("section",{className:oe.a.header},o.a.createElement("div",{className:oe.a.promptHeader},a&&!Object(se.dontUpsell)()?ce("bc-trial-prompt","admin-upgrade-bc-header"):ce("upsell-trial-prompt","header")),o.a.createElement("article",{className:oe.a.promptDescription},ce("upsell-trial-prompt","description"))),o.a.createElement("section",{className:oe.a.content},o.a.createElement("ul",null,p.map((function(e){var t=e.content,r=t.name,i=t.description,a=e.image;return o.a.createElement("li",{className:oe.a.view,key:r},o.a.createElement("img",{className:oe.a.viewIcon,alt:"".concat(r," view"),src:n("./resources/images/views-upsell sync recursive ^\\.\\/.*\\.svg$")("./".concat(a,".svg"))}),o.a.createElement("div",null,o.a.createElement("div",{className:oe.a.viewName},r),o.a.createElement("div",{className:oe.a.viewDescription},i)))})))),o.a.createElement("section",{className:oe.a.ctaSection},!Object(se.dontUpsell)()&&o.a.createElement(o.a.Fragment,null,a&&!t?o.a.createElement("p",null,ce("bc-trial-prompt","contact-team-admin")):o.a.createElement(ae.Button,{appearance:"primary",size:"fullwidth","data-test-id":a?P.BoardHeaderTestIds.UpsellPromptUpgradeBCButton:P.BoardHeaderTestIds.UpsellPromptStartFreeTrialButton,onClick:function(){return e=a,l(),r.Analytics.sendClickedButtonEvent({buttonName:e?"upgradeToBCButton":"startFreeTrialButton",source:"upsellPromptBoardViewsInlineDialog",containers:{board:{id:u},organization:{id:c}}}),void(e?window.open("/".concat(d,"/billing"),"_blank"):s());var e}},a?ce("bc-trial-prompt","upgrade-button"):ce("upsell-trial-prompt","button"))),o.a.createElement(C.a,{"data-test-id":P.BoardHeaderTestIds.UpsellPromptLearnMoreLink,className:oe.a.link,href:"/business-class",target:"_blank",onClick:function(){r.Analytics.sendClickedLinkEvent({linkName:"learnMoreLink",source:"upsellPromptBoardViewsInlineDialog",containers:{board:{id:u},organization:{id:c}}})}},a&&!Object(se.dontUpsell)()?ce("bc-trial-prompt","link"):ce("upsell-trial-prompt","link"))))},pe=function(e){var t=e.orgId,n=e.boardId,r=e.orgName,i=e.hidePopover,a=re({orgId:t}),s=a.activateFreeTrial,l=a.step,c=a.isAdmin;switch(l){case"freetrial":return o.a.createElement(de,{orgName:r,isUpgrade:!1,isAdmin:c,activateFreeTrial:s,hidePopover:i,orgId:t,boardId:n});case"upgrade":return o.a.createElement(de,{orgName:r,isUpgrade:!0,isAdmin:c,activateFreeTrial:s,hidePopover:i,orgId:t,boardId:n});default:return null}},me=n("./app/src/components/ViewsGenerics/index.ts"),fe=n("./app/src/components/BoardViewsButton/BoardViewsButton.less"),he=n.n(fe),ve={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DismissOneTimeMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]}]}}]}}]};function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function be(e){return function(e){if(Array.isArray(e))return we(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||ke(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ye(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||ke(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ke(e,t){if(e){if("string"==typeof e)return we(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?we(e,t):void 0}}function we(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var je,_e=Object(l.forTemplate)("board-views"),xe=Object(l.forTemplate)("views_prompt");!function(e){e[e.BoardViews=0]="BoardViews"}(je||(je={}));var Ce=function(e){var t,n=e.isTeamMember,a=e.hasViewsFeature,s=e.orgName,l=e.isOrgPrivate,c=e.isPremiumTeam,d=e.shouldShowTeamTableLink,m=e.idBoard,f=e.idOrg,h=e.shortLink,v=e.preloadPlugins,g=e.viewOptions,b=e.clearFilters,k=e.oneTimeMessagesDismissed,w=re({orgId:f}),j=w.isUpsellEnabled,_=w.isUpsellDefaultOpenEnabled,x=z.defaultRouter.getRoute(),C=x.routePath.split("/")[4]||"board",O=g.find((function(e){return e.name===C&&e.isVisible})),S=_e(O?C.toString():"board"),E=o.a.createElement(O?O.icon:Q.ListIcon,{size:"small",dangerous_className:he.a.boardViewsButtonIcon}),T=o.a.createElement(J.DownIcon,{dangerous_className:"".concat(he.a.dropDownIcon," board-views-btn-dropdown-icon")}),N=!!n&&d,I=ye(y.b(ve,t),1)[0],A=G.featureFlagClient.get("remarkable.board-views-switcher-new-pill-and-overlay",!1),D=g.reduce((function(e,t){return t.isVisible?e+1:e}),0)>1||N,B=function(e){return"".concat(e,"-views-switcher-new-pill")},R=[].concat(be(g.filter((function(e){return e.isVisible&&!e.isGA&&!(null==k?void 0:k.includes(B(e.name)))})).map((function(e){return e.name}))),be(!(null==k?void 0:k.includes(B("team-table")))&&N?["team-table"]:[])),L=function(e){var t=e.routePath.split("/"),n="b"===t[1],r=e.routeName===z.RouteNames.BOARD,i=t.length<5;return n&&r&&i},M=ye(Object(i.useState)(k&&D&&A&&a&&L(x)&&R.length>0),2),U=M[0],H=M[1],W=ye(Object(i.useState)(_&&L(x)&&!(null==k?void 0:k.includes("views-switcher-callout"))&&!(null==k?void 0:k.includes("nusku.views-switcher-upsell-default-open"))),2),q=W[0],$=W[1],K=ye(Object(i.useState)(U&&!_&&L(x)&&!(null==k?void 0:k.includes("views-switcher-callout"))&&!(null==k?void 0:k.includes("nusku.views-switcher-upsell-default-open"))),2),ee=K[0],te=K[1],ne=Object(i.useCallback)((function(){r.Analytics.sendClosedComponentEvent({componentName:"boardViewsInlineDialog",componentType:"inlineDialog",source:"boardScreen",containers:{organization:{id:f},board:{id:m}}}),q&&(I({variables:{messageId:"nusku.views-switcher-upsell-default-open"}}),$(!1))}),[m,f,q,I]),ie=Object(V.e)({initialScreen:je.BoardViews,onHide:ne}),oe=ie.show,ae=ie.toggle,se=ie.hide,le=ie.triggerRef,ce=ie.popoverProps;Object(i.useEffect)((function(){q&&oe()}),[q,oe]),Object(i.useEffect)((function(){r.Analytics.sendViewedComponentEvent({componentType:"button",componentName:"boardViewsButton",containers:{board:{id:m}},attributes:{hasNewPill:U},source:"boardScreen"})}),[m,U]),Object(i.useEffect)((function(){try{var e="views-switcher-callout-".concat(h);if(ee||q)X.TrelloStorage.unset(e),r.Analytics.sendOperationalEvent({action:"unset",actionSubject:"viewsSwitcherCalloutCache",source:"boardScreen",containers:Object(r.formatContainers)({idBoard:h})});else if(!X.TrelloStorage.get(e)){var t=Date.now();X.TrelloStorage.set(e,t),r.Analytics.sendOperationalEvent({action:"set",actionSubject:"viewsSwitcherCalloutCache",source:"boardScreen",containers:Object(r.formatContainers)({idBoard:h}),attributes:{currentTime:t}})}}catch(e){r.Analytics.sendOperationalEvent({action:"errored",actionSubject:"viewsSwitcherCalloutCache",source:"boardScreen",containers:Object(r.formatContainers)({idBoard:h}),attributes:{message:null==e?void 0:e.message,name:null==e?void 0:e.name}})}}),[ee,q,h]),Object(i.useEffect)((function(){Object(me.getViewsUpsellFlag)("remarkable.org-table-view-free-team-upsell",!1)}),[]);var ue=function(){ee&&I({variables:{messageId:"views-switcher-callout"}}),te(!1)};if(!D)return null;if("board"!==g[0].name)return null;return o.a.createElement(o.a.Fragment,null,o.a.createElement(u.a,{content:_e("board-views"),delay:100,hideTooltipOnMouseDown:!0},o.a.createElement("a",{className:"".concat(he.a.boardViewsButton," board-header-btn"),ref:le,onClick:function(){r.Analytics.sendClickedButtonEvent({buttonName:"boardViewsButton",containers:{board:{id:m},organization:{id:f}},attributes:{hasNewPill:U},source:"boardScreen"}),ue(),ae(),A&&U&&(R.forEach((function(e){return I({variables:{messageId:B(e)}})})),H(!1))},role:"button",onMouseOver:function(){v()},onFocus:function(){v()},"data-test-id":P.BoardHeaderTestIds.BoardViewsSwitcherButton},o.a.createElement(Z.a,{in:U,timeout:150,unmountOnExit:!0,classNames:{exit:he.a.newPillExit,exitActive:he.a.newPillExitActive}},o.a.createElement("span",{className:"".concat(he.a.boardViewsNewLozenge," board-views-btn-new-pill"),"data-test-id":P.BoardHeaderTestIds.BoardViewsSwitcherNewPill},o.a.createElement(p.a,{color:"green"},_e("new")))),E,o.a.createElement("span",{className:"".concat(he.a.boardViewsLabel," board-views-btn-text-label")},S),T)),o.a.createElement(V.b,ge({},ce,{size:j?"large":"medium",noVerticalPadding:!0}),o.a.createElement(V.d,{id:je.BoardViews,title:j?xe("views-prompt-header"):null},j?o.a.createElement(pe,{orgName:s,orgId:f,boardId:m,hidePopover:se}):o.a.createElement(F,{idBoard:m,shortLink:h,orgName:s,idOrg:f,isFreeTeam:!c,isOrgPrivate:l,shouldShowTeamTableLink:N,hidePopover:function(){return se()},currentView:C,viewOptions:g,clearFilters:function(){return b()}}))),ee&&o.a.createElement(Y,{onClose:ue,idBoard:m,idOrg:f}))}},"./app/src/components/BusinessClassTeamOnboardingPupPopover/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"LazyTeamOnboardingPupPopover",(function(){return a})),n.d(t,"LazyTeamOnboardingPupTooltip",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/use-lazy-component/index.ts"),a=function(e){var t=Object(o.useLazyComponent)((function(){return n.e(143).then(n.bind(null,"./app/src/components/BusinessClassTeamOnboardingPupPopover/TeamOnboardingPupPopover.tsx"))}),{namedImport:"TeamOnboardingPupPopover"});return i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(t,e))},s=function(e){var t=Object(o.useLazyComponent)((function(){return n.e(144).then(n.bind(null,"./app/src/components/BusinessClassTeamOnboardingPupPopover/TeamOnboardingPupTooltip.tsx"))}),{namedImport:"TeamOnboardingPupTooltip"});return i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(t,e))}},"./app/src/components/Butler/Buttons/ButlerCardButton.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButton.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/Butler/Buttons/ButlerCardButtons.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButtons.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/Butler/CommandEditors/CommandBlock.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandBlock.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/Butler/CommandEditors/CommandSelect.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandSelect.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/Butler/CommandEditors/CommandText.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandText.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/Butler/CommandEditors/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return we})),n.d(t,"e",(function(){return ke})),n.d(t,"c",(function(){return je})),n.d(t,"d",(function(){return s})),n.d(t,"f",(function(){return Ae})),n.d(t,"g",(function(){return Me}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/keybindings/index.ts"),a=n("./app/common/lib/util/i18n/index.ts"),s=function(e){var t={type:e,[e]:{}};switch(t.type){case"MOVE_CARD_ACTION":case"COPY_CARD_ACTION":t[t.type].DESTINATION={POSITION_TOP:"top"};break;case"MARK_DUE_COMPLETE_ACTION":case"UNMARK_DUE_COMPLETE_ACTION":t[t.type]=!0;break;case"REMOVE_FROM_CARD_ACTION":t[t.type].REMOVE_ALL_MEMBERS=!0;break;case"JOIN_CARD_ACTION":t[t.type]=!0;break;case"ADD_DUE_DATE_ACTION":t[t.type].DUE_DATE={IN_X_FROM_TODAY:{X_WORKING_DAYS:3}};break;case"SORT_LIST_ACTION":t[t.type]={SORT_ASCENDING:!0,SORT_BY_DUE_DATE:!0};break;case"ADD_LABEL_ACTION":t[t.type].LABEL={}}return t},l=n("./app/src/components/Butler/CommandEditors/CommandBlock.less"),c=n.n(l),u=Object(a.forNamespace)(["butler","action labels"]),d={rule:["SORT_LIST_ACTION"],"card-button":["MOVE_CARD_ACTION","COPY_CARD_ACTION","MARK_DUE_COMPLETE_ACTION","REMOVE_FROM_CARD_ACTION","JOIN_CARD_ACTION","ADD_DUE_DATE_ACTION"]},p=function(e){var t=e.commandType,n=e.onSelectAction,r=d[t],a=function(e){var t=s(e);n(t)};return i.a.createElement(i.a.Fragment,null,r.map((function(e){return i.a.createElement("div",{key:"butler-actions-list-".concat(e),className:c.a.commandBlock,onClick:function(){return a(e)},onKeyDown:function(t){Object(o.isSubmitEvent)(t)&&a(e)},role:"button",style:{cursor:"pointer"},tabIndex:0},u(e))})))},m=n("./packages/nachos/button.ts"),f=n("./packages/nachos/src/components/Select/Select.tsx"),h=n("./app/src/components/Butler/CommandEditors/CommandSelect.less"),v=n.n(h);function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var y=function(e){var t=e.key,n=e.width,r=b(e,["key","width"]);return i.a.createElement(f.a,g({appearance:"subtle",containerClassName:v.a.select,containerStyle:{width:n},key:t,spacing:"compact"},r))},k=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActionDestination"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]};function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x,C=Object(a.forNamespace)(["butler","command"]),O=function(e){var t=e.id;return{label:e.name,value:t}},S=function(e){var t,n=j(Object(r.useState)(e),2),i=n[0],o=n[1],a=(t={variables:{idBoard:i},fetchPolicy:"cache-and-network"},k.c(w,t)),s=a.data,l=a.loading,c=Object(r.useMemo)((function(){var e,t,n,r,i,o;return{boards:null!==(e=null==s||null===(t=s.member)||void 0===t||null===(n=t.boards)||void 0===n?void 0:n.map(O))&&void 0!==e?e:[],lists:null!==(r=null==s||null===(i=s.board)||void 0===i||null===(o=i.lists)||void 0===o?void 0:o.map(O))&&void 0!==r?r:[]}}),[s]);return{idBoard:i,boards:c.boards,lists:c.lists,loading:l,selectBoard:o}},E=[{label:C("top"),value:"top"},{label:C("bottom"),value:"bottom"}],T=Object(a.forNamespace)(["butler","command"]),P=function(e){var t,n,o=e.action,a=e.update,s=e.idBoard,l=S(s),u=l.idBoard,d=l.boards,p=l.lists,m=l.loading,f=l.selectBoard;return Object(r.useEffect)((function(){if(!o.COPY_CARD_ACTION.DESTINATION.$BOARD&&d.length){var e=d.find((function(e){return e.value===u}));e&&a((function(t){t.COPY_CARD_ACTION.DESTINATION.$BOARD=e.label}))}}),[o,a,d,u]),i.a.createElement("div",{className:c.a.commandBlock},T("copy_card_to_position_of_the_list_on_board_action",{position:i.a.createElement(y,{width:"120px",key:"copy-card-action-position",onChange:function(e){var t=e.value;a((function(e){"top"===t?(e.COPY_CARD_ACTION.DESTINATION.POSITION_TOP=t,e.COPY_CARD_ACTION.DESTINATION.POSITION_BOTTOM=void 0):(e.COPY_CARD_ACTION.DESTINATION.POSITION_BOTTOM=t,e.COPY_CARD_ACTION.DESTINATION.POSITION_TOP=void 0)}))},options:E,value:o.COPY_CARD_ACTION.DESTINATION.POSITION_BOTTOM?E[1]:E[0]}),list:i.a.createElement(y,{key:"copy-card-action-list",width:"180px",isLoading:m,isSearchable:!0,onChange:function(e){var t=e.label;a((function(e){e.COPY_CARD_ACTION.DESTINATION.$LIST=t}))},options:p,placeholder:T("list name"),value:null!==(t=o.COPY_CARD_ACTION.DESTINATION.$LIST)&&void 0!==t?t:null}),board:i.a.createElement(y,{key:"copy-card-action-board",width:"240px",isLoading:m,isSearchable:!0,onChange:function(e){var t=e.label,n=e.value;a((function(e){e.COPY_CARD_ACTION.DESTINATION.$BOARD!==t&&(e.COPY_CARD_ACTION.DESTINATION.$BOARD=t,e.COPY_CARD_ACTION.DESTINATION.$LIST=void 0)})),f(n)},options:d,placeholder:T("board name"),value:null!==(n=o.COPY_CARD_ACTION.DESTINATION.$BOARD)&&void 0!==n?n:null})}))},N=Object(a.forNamespace)(["butler","command"]),I=function(e){var t,n,o=e.action,a=e.update,s=e.idBoard,l=S(s),u=l.idBoard,d=l.boards,p=l.lists,m=l.loading,f=l.selectBoard;return Object(r.useEffect)((function(){if(!o.MOVE_CARD_ACTION.DESTINATION.$BOARD&&d.length){var e=d.find((function(e){return e.value===u}));e&&a((function(t){t.MOVE_CARD_ACTION.DESTINATION.$BOARD=e.label}))}}),[o,a,d,u]),i.a.createElement("div",{className:c.a.commandBlock},N("move_card_to_position_of_the_list_on_board_action",{position:i.a.createElement(y,{key:"move-card-action-position",width:"120px",onChange:function(e){var t=e.value;a((function(e){"top"===t?(e.MOVE_CARD_ACTION.DESTINATION.POSITION_TOP=t,e.MOVE_CARD_ACTION.DESTINATION.POSITION_BOTTOM=void 0):(e.MOVE_CARD_ACTION.DESTINATION.POSITION_BOTTOM=t,e.MOVE_CARD_ACTION.DESTINATION.POSITION_TOP=void 0)}))},options:E,value:o.MOVE_CARD_ACTION.DESTINATION.POSITION_BOTTOM?E[1]:E[0]}),list:i.a.createElement(y,{key:"move-card-action-list",width:"180px",isLoading:m,isSearchable:!0,onChange:function(e){var t=e.label;a((function(e){e.MOVE_CARD_ACTION.DESTINATION.$LIST=t}))},options:p,placeholder:N("list name"),value:null!==(t=o.MOVE_CARD_ACTION.DESTINATION.$LIST)&&void 0!==t?t:null}),board:i.a.createElement(y,{key:"move-card-action-board",width:"240px",isLoading:m,isSearchable:!0,onChange:function(e){var t=e.label,n=e.value;a((function(e){e.MOVE_CARD_ACTION.DESTINATION.$BOARD!==t&&(e.MOVE_CARD_ACTION.DESTINATION.$BOARD=t,e.MOVE_CARD_ACTION.DESTINATION.$LIST=void 0)})),f(n)},options:d,placeholder:N("board name"),value:null!==(n=o.MOVE_CARD_ACTION.DESTINATION.$BOARD)&&void 0!==n?n:null})}))},A=Object(a.forNamespace)(["butler","command"]),D=[{label:A("complete"),value:"MARK_DUE_COMPLETE_ACTION"},{label:A("incomplete"),value:"UNMARK_DUE_COMPLETE_ACTION"}],B=function(e){var t=e.action,n=e.update;return i.a.createElement("div",{className:c.a.commandBlock},A("mark_due_date_complete_action",{status:i.a.createElement(y,{width:"150px",key:"mark-due-date-action-type",onChange:function(e){var t=e.value;n((function(e){e.type=t,"MARK_DUE_COMPLETE_ACTION"===t?(delete e.UNMARK_DUE_COMPLETE_ACTION,e.MARK_DUE_COMPLETE_ACTION=!0):(delete e.MARK_DUE_COMPLETE_ACTION,e.UNMARK_DUE_COMPLETE_ACTION=!0)}))},options:D,value:D.find((function(e){return e.value===t.type}))})}))},R=n("./node_modules/classnames/index.js"),L=n.n(R),M={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ActionLabel"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]}]}}]}}]}}]};function F(e){return k.c(M,e)}!function(e){e[e.green=0]="green",e[e.yellow=1]="yellow",e[e.orange=2]="orange",e[e.red=3]="red",e[e.purple=4]="purple",e[e.blue=5]="blue",e[e.sky=6]="sky",e[e.lime=7]="lime",e[e.pink=8]="pink",e[e.black=9]="black"}(x||(x={}));var V=function(e){return x[e]},z=Object(a.forNamespace)(["butler","command"]),U=function(e){var t=e.idBoard,n=e.onChange,o=e.value,a=e.width,s=F({variables:{idBoard:t}}),l=s.data,c=s.loading,u=Object(r.useMemo)((function(){var e,t;return null!==(e=null==l||null===(t=l.board)||void 0===t?void 0:t.labels.sort((function(e,t){var n=e.color,r=e.name,i=void 0===r?"":r,o=t.color,a=t.name,s=void 0===a?"":a,l=i.localeCompare(s);return n&&o?V(n)-V(o)||l:!n&&o?1:n&&!o?-1:l})).map((function(e){return{label:i.a.createElement("span",{className:L()({[v.a.colorLabel]:!0,[v.a["colorLabel--".concat(e.color)]]:!!e.color})},e.name),value:{color:e.color,title:e.name}}})))&&void 0!==e?e:[]}),[l]),d=Object(r.useMemo)((function(){return o&&(null==u?void 0:u.find((function(e){var t=e.value,n=t.color,r=t.title;return n===o.color&&r===o.title})))}),[u,o]),p=z(c?"loading":"label");return i.a.createElement(y,{key:"labelSelector",containerClassName:L()(v.a.select,v.a.labelSelector),isLoading:c,placeholder:p,onChange:function(e){var t=e.value;n(t)},options:u,value:d,width:a||"250px"})},H=Object(a.forNamespace)(["butler","command"]),W=[{label:H("label"),value:"LABEL"},{label:H("all labels"),value:"REMOVE_ALL_LABELS"},{label:H("due date"),value:"REMOVE_DUE_DATE"},{label:H("all checklists"),value:"REMOVE_ALL_CHECKLISTS"},{label:H("all members"),value:"REMOVE_ALL_MEMBERS"},{label:H("all stickers"),value:"REMOVE_ALL_STICKERS"},{label:H("cover"),value:"REMOVE_COVER"}],q=function(e){var t,n=e.action,o=e.update,a=e.idBoard,s=F({variables:{idBoard:a}}).data;Object(r.useEffect)((function(){var e=n.REMOVE_FROM_CARD_ACTION.LABEL;if(e&&!e.COLOR&&!e.$TITLE){var t,r=null==s||null===(t=s.board)||void 0===t?void 0:t.labels[0];r&&o((function(e){e.REMOVE_FROM_CARD_ACTION.LABEL={COLOR:r.color,$TITLE:r.name}}))}}),[n,o,s]);return i.a.createElement("div",{className:c.a.commandBlock},H("remove_from_card_action",{remove:i.a.createElement(y,{key:"selector",onChange:function(e){var t=e.value;o((function(e){e.REMOVE_FROM_CARD_ACTION={[t]:!0}}))},options:W,value:W.find((function(e){return e.value===Object.keys(n.REMOVE_FROM_CARD_ACTION)[0]})),width:"140px"}),removeLabel:(null===(t=n.REMOVE_FROM_CARD_ACTION)||void 0===t?void 0:t.LABEL)&&i.a.createElement(U,{key:"labelSelector",idBoard:a,value:{color:n.REMOVE_FROM_CARD_ACTION.LABEL.COLOR,title:n.REMOVE_FROM_CARD_ACTION.LABEL.$TITLE},onChange:function(e){o((function(t){t.REMOVE_FROM_CARD_ACTION.LABEL={COLOR:e.color,$TITLE:e.title}}))}})}))},G=Object(a.forNamespace)(["butler","command"]),$=function(){return i.a.createElement("div",{className:c.a.commandBlock},G("join_card_action"))},K=n("./packages/nachos/src/components/Textfield/Textfield.tsx"),Y=n("./app/src/components/Butler/CommandEditors/CommandText.less"),Z=n.n(Y);function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var X=function(e){var t=e.width,n=Q(e,["width"]);return i.a.createElement(K.a,J({className:Z.a.commandText,appearance:"borderless",spacing:"compact",style:{width:t}},n))};function ee(e){var t=Object.keys(e).find((function(t){return"number"==typeof e[t]}));return t?{propName:t,value:e[t]}:null}function te(e){var t=(e.IN_X_FROM_TODAY?ee(e.IN_X_FROM_TODAY):ee(e))||{};return{time:t.value,timeframe:t.propName}}function ne(e){var t=e.time,n=e.timeframe;if("number"==typeof t&&n){if("IN_MINUTES"===n||"IN_HOURS"===n)return{[n]:t};if(n)return{IN_X_FROM_TODAY:{[n]:t}}}return{}}var re=Object(a.forNamespace)(["butler","command"]),ie=[{label:re("minutes"),value:"IN_MINUTES"},{label:re("hours"),value:"IN_HOURS"},{label:re("days"),value:"X_DAYS"},{label:re("weekdays"),value:"X_WORKING_DAYS"},{label:re("weeks"),value:"X_WEEKS"},{label:re("months"),value:"X_MONTHS"}],oe=function(e){var t=e.update,n=te(e.action.ADD_DUE_DATE_ACTION.DUE_DATE),r=n.time,o=n.timeframe;return i.a.createElement("div",{className:c.a.commandBlock},re("add_due_date_action",{time:i.a.createElement(X,{key:"timeSelector",type:"number",onChange:function(e){t((function(t){t.ADD_DUE_DATE_ACTION.DUE_DATE=ne({time:Math.max(0,parseInt(e.target.value,10))||0,timeframe:o})}))},value:r,width:"42px"}),timeframe:i.a.createElement(y,{key:"timeframeSelector",containerClassName:L()(c.a.select,c.a.timeframeSelector),onChange:function(e){t((function(t){t.ADD_DUE_DATE_ACTION.DUE_DATE=ne({time:r,timeframe:e.value})}))},options:ie,value:ie.find((function(e){return e.value===o})),width:"105px"})}))};function ae(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function se(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function le(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ce=Object(a.forNamespace)(["butler","command"]),ue=[{label:ce("age"),value:"SORT_BY_AGE"},{label:ce("date in title"),value:"SORT_BY_DATE_IN_TITLE"},{label:ce("due date"),value:"SORT_BY_DUE_DATE"},{label:ce("label"),value:"SORT_BY_LABEL"},{label:ce("time in list"),value:"SORT_BY_TIME_IN_LIST"},{label:ce("title"),value:"SORT_BY_TITLE"},{label:ce("votes"),value:"SORT_BY_VOTES"}],de=[{label:ce("ascending"),value:"SORT_ASCENDING"},{label:ce("descending"),value:"SORT_DESCENDING"}],pe=function(e){var t=e.action,n=e.update,o=e.idBoard,a=Object(r.useMemo)((function(){return ue.find((function(e){var n=e.value;return!!t.SORT_LIST_ACTION[n]}))}),[t]),s=t.SORT_LIST_ACTION.SORT_ASCENDING?de[0]:de[1];return i.a.createElement("div",{className:c.a.commandBlock},ce("sort_list_action",{field:i.a.createElement(i.a.Fragment,null,i.a.createElement(y,{key:"sort-list-field",onChange:function(e){(null==a?void 0:a.value)!==e.value&&n((function(t){t.SORT_LIST_ACTION={[e.value]:!0,[s.value]:!0}}))},options:ue,value:a,width:"180px"}),t.SORT_LIST_ACTION.SORT_BY_LABEL&&i.a.createElement(U,{key:"sort-list-by-label-selector",idBoard:o,value:{color:t.SORT_LIST_ACTION.SORT_BY_LABEL.COLOR,title:t.SORT_LIST_ACTION.SORT_BY_LABEL.$TITLE},onChange:function(e){n((function(t){t.SORT_LIST_ACTION.SORT_BY_LABEL={COLOR:e.color,$TITLE:e.title}}))}})),direction:i.a.createElement(y,{key:"sort-list-direction",onChange:function(e){var t=e.value;n((function(e){var n=e.SORT_LIST_ACTION,r=(n.SORT_ASCENDING,n.SORT_DESCENDING,le(n,["SORT_ASCENDING","SORT_DESCENDING"]));e.SORT_LIST_ACTION=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ae(Object(n),!0).forEach((function(t){se(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ae(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},r,{[t]:!0})}))},options:de,value:s,width:"150px"})}))},me=Object(a.forNamespace)(["butler","command"]),fe=function(e){var t=e.action,n=e.update,o=e.idBoard,a=F({variables:{idBoard:o}}).data;return Object(r.useEffect)((function(){var e=t.ADD_LABEL_ACTION.LABEL;if(e&&!e.COLOR&&!e.$TITLE){var r,i=null==a||null===(r=a.board)||void 0===r?void 0:r.labels[0];i&&n((function(e){e.ADD_LABEL_ACTION.LABEL={COLOR:i.color,$TITLE:i.name}}))}}),[t,n,a]),i.a.createElement("div",{className:c.a.commandBlock},me("add_label_action",{label:i.a.createElement(U,{key:"labelSelector",idBoard:o,width:"190px",value:{color:t.ADD_LABEL_ACTION.LABEL.COLOR,title:t.ADD_LABEL_ACTION.LABEL.$TITLE},onChange:function(e){n((function(t){t.ADD_LABEL_ACTION.LABEL={COLOR:e.color,$TITLE:e.title}}))}})}))};function he(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function ge(){return(ge=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function be(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var ye=Object(a.forNamespace)(["butler","add action"]),ke=function(e){var t=e.action,n=e.index,r=be(e,["action","index"]),o="".concat(t.type,"-").concat(n);switch(t.type){case"COPY_CARD_ACTION":return i.a.createElement(P,ge({key:o,action:t},r));case"MOVE_CARD_ACTION":return i.a.createElement(I,ge({key:o,action:t},r));case"MARK_DUE_COMPLETE_ACTION":case"UNMARK_DUE_COMPLETE_ACTION":return i.a.createElement(B,ge({key:o,action:t},r));case"REMOVE_FROM_CARD_ACTION":return i.a.createElement(q,ge({key:o,action:t},r));case"JOIN_CARD_ACTION":return i.a.createElement($,ge({key:o,action:t},r));case"ADD_DUE_DATE_ACTION":return i.a.createElement(oe,ge({key:o,action:t},r));case"SORT_LIST_ACTION":return i.a.createElement(pe,ge({key:o,action:t},r));case"ADD_LABEL_ACTION":return i.a.createElement(fe,ge({key:o,action:t},r));default:return null}},we=function(e){var t=e.actions,n=e.update,r=e.onClickAddAction,a=be(e,["actions","update","onClickAddAction"]);return i.a.createElement("div",{className:c.a.commandActionsList},t.map((function(e,t){return ke(function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?he(Object(n),!0).forEach((function(t){ve(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):he(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({action:e,update:function(e){return n(e,t)},index:t},a))})),i.a.createElement(m.Button,{appearance:t.length>0?"default":"primary",size:"fullwidth",onClick:r,onKeyPress:function(e){Object(o.isSubmitEvent)(e)&&r()}},ye("button")))},je=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"gears";return"https://app.butlerfortrello.com/assets/fa-5.1.1/icons/pngs/".concat(e,".png")},_e=Object(a.forNamespace)(["butler","command"]),xe=function(e){var t,n=e.trigger,r=e.update,o=e.idBoard,a=S(o),s=a.lists,l=a.loading;return i.a.createElement("div",{className:c.a.commandBlock},_e("when_card_is_added_into_list_trigger",{list:i.a.createElement(y,{key:"when-card-into-list-trigger-list",width:"180px",isLoading:l,isSearchable:!0,onChange:function(e){var t=e.label;r((function(e){e.WHEN.CARD_INTO_LIST.$LIST=t}))},options:s,placeholder:_e("list name"),value:null!==(t=n.CARD_INTO_LIST.$LIST)&&void 0!==t?t:null})}))},Ce=n("./node_modules/moment/moment.js"),Oe=Object(a.forNamespace)(["butler","command"]),Se=Object(Ce.weekdays)().map((function(e,t){return{label:e,value:String(t)}})),Ee=function(e){var t,n=e.trigger,r=e.update;return i.a.createElement("div",{className:c.a.commandBlock},Oe("certain_days_trigger",{day:i.a.createElement(y,{width:"150px",key:"certain-days-trigger-day",onChange:function(e){var t=e.value;r((function(e){e.EVERY.CERTAIN_DAYS.DAY=Number(t)}))},options:Se,placeholder:Oe("list name"),value:Se[null!==(t=n.CERTAIN_DAYS.DAY)&&void 0!==t?t:0]})}))},Te=Object(a.forNamespace)(["butler","command"]),Pe=function(){return i.a.createElement("div",{className:c.a.commandBlock},Te("every_day_trigger"))};function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ae=function(e){var t=e.trigger,n=Ie(e,["trigger"]);if(t.EVERY)switch(t.EVERY.type){case"EVERY_DAY":return i.a.createElement(Pe,Ne({trigger:t.EVERY},n));case"CERTAIN_DAYS":return i.a.createElement(Ee,Ne({trigger:t.EVERY},n));default:return null}else if(t.WHEN)switch(t.WHEN.type){case"CARD_INTO_LIST":return i.a.createElement(xe,Ne({trigger:t.WHEN},n));default:return null}return null},De=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.POSITION_TOP,n=e.POSITION_BOTTOM,r=e.$LIST;return!(!t&&!n||!r)},Be=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.COLOR,n=e.$TITLE;return!!t||!!n},Re=function(e,t){var n=t.filter((function(t){return!!e[t]}));return 1===n.length?n[0]:null},Le=function(e){switch(e.type){case"MOVE_CARD_ACTION":return De(e.MOVE_CARD_ACTION.DESTINATION);case"COPY_CARD_ACTION":return De(e.COPY_CARD_ACTION.DESTINATION);case"REMOVE_FROM_CARD_ACTION":var t=e.REMOVE_FROM_CARD_ACTION,n=Re(t,["LABEL","REMOVE_ALL_CHECKLISTS","REMOVE_ALL_MEMBERS","REMOVE_ALL_STICKERS","REMOVE_ALL_LABELS","REMOVE_COVER","REMOVE_DUE_DATE"]);return!!n&&(t.LABEL?Be(t.LABEL):!0===t[n]);case"ADD_DUE_DATE_ACTION":var r=e.ADD_DUE_DATE_ACTION.DUE_DATE;if(!r)return!1;var i=te(r),o=i.time;return!!i.timeframe&&"number"==typeof o&&!Number.isNaN(o);case"SORT_LIST_ACTION":var a=e.SORT_LIST_ACTION,s=Re(a,["SORT_BY_AGE","SORT_BY_CUSTOM_FIELD","SORT_BY_DATE_IN_TITLE","SORT_BY_DUE_DATE","SORT_BY_LABEL","SORT_BY_TIME_IN_LIST","SORT_BY_TITLE","SORT_BY_VOTES"]);return!!s&&(a.SORT_BY_LABEL?Be(a.SORT_BY_LABEL):a.SORT_BY_CUSTOM_FIELD?function(){return!!(arguments.length>0&&void 0!==arguments[0]?arguments[0]:{}).$NAME}(a.SORT_BY_CUSTOM_FIELD):!0===a[s]);case"ADD_LABEL_ACTION":return Be(e.ADD_LABEL_ACTION.LABEL);case"MARK_DUE_COMPLETE_ACTION":case"UNMARK_DUE_COMPLETE_ACTION":case"JOIN_CARD_ACTION":return!0;default:return!1}},Me=function(e){return!!e.ACTION.length&&e.ACTION.every(Le)}},"./app/src/components/Butler/ListRule/hydrateListRuleTemplate.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"hydrateListRuleTemplate",(function(){return o}));var r=n("./app/src/components/Butler/CommandEditors/index.ts"),i=n("./app/src/components/Butler/ListRule/listRuleDraftState.ts"),o=function(e){var t=e.template,n=e.listName;switch(t){case"when-a-card-is-added-to-the-list":return void i.a.setValue({TRIGGER:{type:"WHEN",WHEN:{type:"CARD_INTO_LIST",CARD_INTO_LIST:{$LIST:n}}},ACTION:[]});case"every-day-sort-list-by":return void i.a.setValue({TRIGGER:{type:"EVERY",EVERY:{type:"EVERY_DAY",EVERY_DAY:!0}},ACTION:[Object(r.d)("SORT_LIST_ACTION")]});case"every-monday-sort-list-by":return void i.a.setValue({TRIGGER:{type:"EVERY",EVERY:{type:"CERTAIN_DAYS",CERTAIN_DAYS:{DAY:1}}},ACTION:[Object(r.d)("SORT_LIST_ACTION")]});default:throw new Error("Invalid template: ".concat(t))}}},"./app/src/components/Butler/ListRule/listRuleDraftState.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n("./packages/shared-state/index.ts").b)({})},"./app/src/components/Butler/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"ButlerCardButtons",(function(){return ne})),n.d(t,"CreateListRulePopover",(function(){return re})),n.d(t,"showButlerDirectory",(function(){return C.c})),n.d(t,"ButlerTab",(function(){return C.b})),n.d(t,"ButlerNewCommandId",(function(){return C.a}));var r,i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./packages/use-lazy-component/index.ts"),s=n("./app/scripts/debug/constants.ts"),l=n("./app/src/components/ErrorBoundary/index.ts"),c=n("./node_modules/classnames/index.js"),u=n.n(c),d=n("./packages/atlassian-analytics/index.ts"),p=n("./packages/feature-flag-client/index.ts"),m=n("./packages/keybindings/index.ts"),f=n("./packages/nachos/icons/information.tsx"),h=n("./packages/nachos/popover.ts"),v=n("./packages/nachos/button.ts"),g=n("./app/common/lib/util/i18n/index.ts"),b=n("./app/scripts/db/auth.js"),y=n.n(b),k=n("./app/scripts/db/model-cache.js"),w=n.n(k),j=n("./app/src/components/Lozenge/index.ts"),_=n("./app/src/components/UpgradePrompts/index.ts");!function(e){e.CardButton="card-button",e.UsageQuota="usage-quota"}(r||(r={}));var x=n("./app/src/components/Butler/showButlerAlert.ts"),C=n("./app/src/components/Butler/showButlerDirectory.ts"),O=n("./app/scripts/views/lib/dialog.js"),S=n.n(O),E=n("./packages/config/index.ts"),T=n("./packages/session-cookie/index.ts");function P(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function N(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){P(o,r,i,a,s,"next",e)}function s(e){P(o,r,i,a,s,"throw",e)}a(void 0)}))}}function I(e){return A.apply(this,arguments)}function A(){return(A=N(regeneratorRuntime.mark((function e(t){var n,r,i,o,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.idButton,r=t.idBoard,i=t.idCard,e.prev=1,e.next=4,fetch("/1/boards/".concat(r,"/butlerButtons/").concat(n,"/runs"),{method:"POST",credentials:"include",headers:{"Content-Type":"application/json","X-Trello-Client-Version":E.clientVersion},body:JSON.stringify({idCard:i,token:T.token})});case 4:if((o=e.sent).ok){e.next=20;break}return e.next=8,o.text();case 8:if("CANT_PARSE_COMMAND"!==(a=e.sent)){e.next=11;break}return e.abrupt("return",x.a.InvalidCommand);case 11:if(e.prev=11,"Command quota exceeded"!==JSON.parse(a).message){e.next=15;break}return e.abrupt("return",x.a.PowerupUsageExceeded);case 15:e.next=19;break;case 17:e.prev=17,e.t0=e.catch(11);case 19:return e.abrupt("return",x.a.RunButtonError);case 20:e.next=25;break;case 22:return e.prev=22,e.t1=e.catch(1),e.abrupt("return",x.a.NetworkError);case 25:return e.abrupt("return",x.a.Success);case 26:case"end":return e.stop()}}),e,null,[[1,22],[11,17]])})))).apply(this,arguments)}var D=n("./app/src/components/Butler/Buttons/ButlerCardButton.less"),B=n.n(D);function R(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=function(e){var t=e.button,n=e.idCard,r=e.idBoard,a=e.idOrganization,s=e.cardButtonCallback,l=L(Object(i.useState)(!1),2),c=l[0],p=l[1],f=function(){var e,i=(e=regeneratorRuntime.mark((function e(){var i,o,l=arguments;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(i=l.length>0&&void 0!==l[0]&&l[0],!c){e.next=3;break}return e.abrupt("return");case 3:return d.Analytics.sendClickedButtonEvent({buttonName:"butlerCardButton",source:"cardDetailScreen",containers:Object(d.formatContainers)({idCard:n,idBoard:r,idOrganization:a}),attributes:{close:!!t.close,section:"butlerCardButtons",viaKeypress:i}}),p(!0),t.close&&S.a.hide(!0),e.next=8,I({idButton:t.id,idBoard:r,idCard:n});case 8:o=e.sent,p(!1),s(o);case 11:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){R(o,r,i,a,s,"next",e)}function s(e){R(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return i.apply(this,arguments)}}();return o.a.createElement("a",{key:t.id,className:u()("button-link",{disabled:c}),onClick:function(){return f()},onKeyDown:function(e){Object(m.isSubmitEvent)(e)&&f(!0)},role:"button",tabIndex:0,title:t.label},o.a.createElement("span",{className:u()("icon-sm","plugin-icon",B.a.icon,{spinner:c}),style:{backgroundImage:c?"":"url(".concat(t.image,")")}}),t.label)},V=n("./app/scripts/init/useSocketSubscription.ts"),z=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),U={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ButlerButtons"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idBoard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idOrganization"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"skipOrganization"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idBoard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"butlerButtonLimit"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"privateButlerButtons"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cmd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pos"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"close"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sharedButlerButtons"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cmd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pos"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"close"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"butlerButtonOverrides"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idButton"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"overrides"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idOrganization"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"skip"},arguments:[{kind:"Argument",name:{kind:"Name",value:"if"},value:{kind:"Variable",name:{kind:"Name",value:"skipOrganization"}}}]},{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"privateButlerButtons"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cmd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pos"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"close"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"sharedButlerButtons"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cmd"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enabled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"label"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pos"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idMemberOwner"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"close"},arguments:[],directives:[]}]}}]}}]}}]};function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||q(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(e){return function(e){if(Array.isArray(e))return G(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||q(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){if(e){if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?G(e,t):void 0}}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=function(e,t){if(!e||!t)return null!=e?e:[];var n=W(e);return null==t||t.forEach((function(e){var t=e.idButton,r=e.overrides,i=n.find((function(e){return e.id===t}));i&&"boolean"==typeof(null==r?void 0:r.enabled)&&(i.enabled=r.enabled)})),n},K=function(e){var t,n,r,o,a=e.type,s=e.idBoard,l=e.idOrganization,c=!l;Object(V.a)("Board",s),Object(V.a)("Organization",l,c);var u,d=H(Object(i.useState)([]),2),m=d[0],f=d[1],h=(u={variables:{idBoard:s,idOrganization:l,skipOrganization:c}},z.c(U,u)).data;return Object(i.useEffect)((function(){h&&f(function(e,t){var n,r,i=t.member,o=t.board,a=t.organization;return o?[$(null!==(n=null==a?void 0:a.sharedButlerButtons)&&void 0!==n?n:[],o.butlerButtonOverrides),$(null!==(r=null==a?void 0:a.privateButlerButtons)&&void 0!==r?r:[],o.butlerButtonOverrides),$(o.sharedButlerButtons,o.butlerButtonOverrides),$(o.privateButlerButtons,o.butlerButtonOverrides)].flatMap((function(t){return t.filter((function(t){return t.enabled&&t.type===e})).sort((function(e,t){return e.pos-t.pos})).sort((function(e,t){return e.idMemberOwner===(null==i?void 0:i.id)&&t.idMemberOwner!==(null==i?void 0:i.id)?-1:e.idMemberOwner!==(null==i?void 0:i.id)&&t.idMemberOwner===(null==i?void 0:i.id)?1:0}))})).slice(0,o.butlerButtonLimit).sort((function(e,t){return e.label.localeCompare(t.label)})):[]}(a,h))}),[a,h]),{buttons:m,limit:Object(p.useFeatureFlag)("workflowers.ungate-paid-commands",!1)?Math.max(null!==(t=null==h||null===(n=h.board)||void 0===n?void 0:n.butlerButtonLimit)&&void 0!==t?t:20,20):null!==(r=null==h||null===(o=h.board)||void 0===o?void 0:o.butlerButtonLimit)&&void 0!==r?r:1}},Y=n("./app/src/components/Butler/Buttons/ButlerCardButtons.less"),Z=n.n(Y);function J(){return(J=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ee=Object(g.forNamespace)("butler"),te=function(e){var t=e.idCard,s=e.idBoard,l=e.idOrganization,c=Object(p.useFeatureFlag)("workflowers.add-card-button-popover",!1),g=w.a.get("Board",s),b=Q(Object(i.useState)(),2),k=b[0],O=b[1],S=K({type:"card-button",idBoard:s,idOrganization:l}),E=S.buttons,T=S.limit,P=Object(_.useUpgradePromptRules)(l).shouldDisplayUpgradePrompt,N=Object(p.useFeatureFlag)("workflowers.ungate-paid-commands",!1),I=Object(a.useLazyComponent)((function(){return Promise.resolve().then(n.bind(null,"./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx"))}),{namedImport:"UpgradeSmartComponent"}),A=Object(h.e)({onShow:function(){d.Analytics.sendScreenEvent({name:"butlerUpsellInlineDialog",containers:Object(d.formatContainers)({idCard:t,idBoard:s,idOrganization:l}),attributes:{upsellReason:k}})},onHide:function(){O(void 0)}}),D=A.popoverProps,B=A.triggerRef,R=A.show,L=A.hide,M=Object(h.e)({onShow:function(){d.Analytics.sendScreenEvent({name:"aboutButlerInlineDialog",containers:Object(d.formatContainers)({idCard:t,idBoard:s,idOrganization:l}),attributes:{numCardButtons:E.length}})}}),V=M.popoverProps,z=M.triggerRef,U=M.toggle,H=Object(h.e)({onShow:function(){d.Analytics.sendScreenEvent({name:"ungateBetaButlerInlineDialog",containers:Object(d.formatContainers)({idCard:t,idBoard:s,idOrganization:l}),attributes:{numCardButtons:E.length}})}}),W=H.popoverProps,q=H.triggerRef,G=H.toggle,$=Object(a.useLazyComponent)((function(){return n.e(25).then(n.bind(null,"./app/src/components/Butler/Buttons/AddCardButtonPopover.tsx"))}),{namedImport:"AddCardButtonPopover"}),Y=Object(h.e)({onShow:function(){d.Analytics.sendScreenEvent({name:"addButlerCardButtonInlineDialog",containers:Object(d.formatContainers)({idCard:t,idBoard:s,idOrganization:l}),attributes:{numCardButtons:E.length}})}}),X=Y.popoverProps,te=Y.triggerRef,ne=Y.toggle,re=Y.push,ie=Y.pop,oe=Y.hide,ae=function(e){e===x.a.PowerupUsageExceeded&&P?(O(r.UsageQuota),R()):Object(x.b)(e)},se=function(e){var n=e.source,r=e.butlerTab,i=e.butlerCmdEdit;n&&d.Analytics.sendClickedLinkEvent({linkName:"openButlerLink",source:n,containers:Object(d.formatContainers)({idCard:t,idBoard:s,idOrganization:l}),attributes:{upsellReason:k}}),Object(C.c)(s,r,i)},le=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d.Analytics.sendClickedButtonEvent({buttonName:"addButlerCardButtonButton",source:"cardDetailScreen",containers:Object(d.formatContainers)({idCard:t,idBoard:s,idOrganization:l}),attributes:{isAddCardButtonPopoverEnabled:c,numCardButtons:E.length,viaKeypress:e}}),E.length>=T?P&&!N?(O(r.CardButton),R()):Object(x.b)(x.a.ButtonLimitMet):c&&g.canShowButlerUI()?ne():Object(C.c)(s)},ce=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];d.Analytics.sendClickedLinkEvent({linkName:"giveFeedbackLink",source:"aboutButlerInlineDialog",containers:Object(d.formatContainers)({idCard:t,idBoard:s,idOrganization:l}),attributes:{viaKeypress:e}})},ue=w.a.get("Organization",l),de=!y.a.me().hasPremiumFeature("butler")&&(!ue||ue.isStandard()&&!(y.a.me().get("idOrganizations")||[]).includes(l)||!ue.isPremium())&&!g.get("idEnterprise");return o.a.createElement("div",{className:"window-module u-clearfix",ref:B},o.a.createElement("div",{className:Z.a.header},o.a.createElement("h3",{className:"mod-no-top-margin"},ee("butler"),de&&N?o.a.createElement("div",{className:Z.a.betaLozenge}," ",o.a.createElement("a",{onClick:G,onKeyDown:function(e){Object(m.isSubmitEvent)(e)&&G()},ref:q,role:"button",tabIndex:0},o.a.createElement(j.a,{color:"green"},ee("new")))):null),o.a.createElement("a",{className:u()(["button-link",Z.a.informationIcon]),onClick:U,onKeyDown:function(e){Object(m.isSubmitEvent)(e)&&U()},ref:z,role:"button",tabIndex:0},o.a.createElement(f.a,{size:"small"}))),o.a.createElement("div",{className:"u-clearfix"},E.map((function(e){return o.a.createElement(F,{key:e.id,button:e,idCard:t,idBoard:s,idOrganization:l,cardButtonCallback:ae})})),o.a.createElement("div",null,o.a.createElement("a",{className:"button-link add-button-link",onClick:function(){return le()},onKeyDown:function(e){Object(m.isSubmitEvent)(e)&&le(!0)},role:"button",ref:te,tabIndex:0},ee("add card button")))),X.isVisible?o.a.createElement(i.Suspense,{fallback:null},o.a.createElement($,{idCard:t,idBoard:s,idOrganization:l,popoverProps:X,push:re,pop:ie,hide:oe,goToButlerDirectory:function(e,t){se({butlerTab:e,butlerCmdEdit:t}),oe()}})):null,k?o.a.createElement(i.Suspense,{fallback:null},o.a.createElement(I,{orgId:l,promptId:"butlerUpsellPopoverPromptFull",additionalProps:{popoverProps:D,upsellReason:k,goToButler:function(){se({source:"butlerUpsellInlineDialog"}),L()},ctaOnClick:L}})):null,o.a.createElement(h.b,J({},V,{title:ee("about butler")}),o.a.createElement("div",{className:Z.a.aboutButlerPopoverContent},o.a.createElement("p",null,ee("about butler description 1")),o.a.createElement("p",null,ee("about butler description 2"))),o.a.createElement(v.Button,{appearance:"primary",size:"fullwidth",onClick:function(){return se({source:"aboutButlerInlineDialog"})},onKeyDown:function(e){Object(m.isSubmitEvent)(e)&&se({source:"aboutButlerInlineDialog"})},tabIndex:0},ee("go to the butler directory")),o.a.createElement("div",{className:Z.a.feedbackLinkContainer},o.a.createElement("a",{href:"https://trello.typeform.com/to/VVTrq577",target:"_blank",className:Z.a.feedbackLink,onClick:function(){return ce()},onKeyDown:function(e){Object(m.isSubmitEvent)(e)&&ce(!0)}},ee("give us feedback")))),o.a.createElement(h.b,J({},W,{title:ee("ungate beta butler popover title")}),o.a.createElement("div",{className:Z.a.aboutButlerPopoverContent},o.a.createElement("p",null,ee("ungate beta butler popover body"))),o.a.createElement("div",{className:Z.a.ungateBetaLinkContainer},o.a.createElement("a",{href:"https://help.trello.com/article/1242-butler-automation-free-teams-beta",target:"_blank",className:Z.a.feedbackLink},ee("ungate beta butler popover link")))))},ne=function(e){return o.a.createElement(l.ErrorBoundary,{tags:{ownershipArea:"trello-workflowers",feature:s.Feature.ButlerOnBoards}},o.a.createElement(te,e))},re=function(e){var t=Object(a.useLazyComponent)((function(){return n.e(55).then(n.bind(null,"./app/src/components/Butler/ListRule/CreateListRulePopover.tsx"))}),{namedImport:"CreateListRulePopover"});return o.a.createElement(i.Suspense,{fallback:null},o.a.createElement(l.ErrorBoundary,{tags:{ownershipArea:"trello-workflowers",feature:s.Feature.ButlerOnBoards}},o.a.createElement(t,e)))}},"./app/src/components/Butler/showButlerAlert.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return d}));var r,i=n("./packages/feature-flag-client/index.ts"),o=n("./packages/nachos/experimental.ts"),a=n("./app/common/lib/util/i18n/index.ts"),s=n("./app/scripts/views/lib/alerts.js"),l=n.n(s),c=Object(a.forNamespace)(["butler","alert"]);!function(e){e.Success="Success",e.InvalidCommand="InvalidCommand",e.PowerupUsageExceeded="PowerupUsageExceeded",e.RunButtonError="RunButtonError",e.NetworkError="NetworkError",e.ButtonLimitMet="ButtonLimitMet"}(r||(r={}));var u=new Map([[r.Success,{appearance:"info",title:c("success")}],[r.InvalidCommand,{appearance:"error",title:c("invalid command")}],[r.PowerupUsageExceeded,{appearance:"error",title:c("usage exceeded"),learnMoreHref:"https://help.trello.com/article/1181-butler-features-and-quotas"}],[r.RunButtonError,{appearance:"error",title:c("button error"),learnMoreHref:"https://help.trello.com/article/1150-opening-the-butler-usage-log"}],[r.NetworkError,{appearance:"error",title:c("network error")}],[r.ButtonLimitMet,{appearance:"error",title:c("button limit met"),learnMoreHref:"https://help.trello.com/article/1181-butler-features-and-quotas"}]]);function d(e){var t=u.get(e)||{},n=t.appearance,r=t.title,a=t.learnMoreHref;n&&r&&(i.featureFlagClient.get("workflowers.ak-flag",!1)?Object(o.showFlag)({title:r,appearance:n,actions:a?[{content:c("learn more"),href:a,target:"_blank",type:"link"}]:void 0,isAutoDismiss:!0,msTimeout:5e3}):a?l.a.showHtml("\n      <span>".concat(r,'</span>\n      <br />\n      <a\n        class="app-alert-item-button"\n        href="').concat(a,'"\n        target="_blank"\n      >\n        ').concat(c("learn more"),"\n      </a>\n    "),n,"butlerAlert",5e3):l.a.showLiteralText(r,n,"butlerAlert",5e3))}},"./app/src/components/Butler/showButlerDirectory.ts":function(e,t,n){"use strict";n.d(t,"b",(function(){return r})),n.d(t,"a",(function(){return p})),n.d(t,"c",(function(){return m}));var r,i=n("./packages/error-reporting/index.ts"),o=n("./app/scripts/data/butler-id.js"),a=n("./app/scripts/db/model-cache.js"),s=n.n(a),l=n("./app/scripts/debug/constants.ts"),c=n("./app/scripts/views/internal/plugins/plugin-runner.js"),u=n.n(c);function d(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}!function(e){e.Rules="rules",e.BoardButton="board-button",e.CardButton="card-button",e.Schedule="scheduled",e.DueDate="on-date"}(r||(r={}));var p="new",m=function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n,r){var a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return a=s.a.get("Board",t),e.prev=1,e.next=4,u.a.one({plugin:o.BUTLER_POWER_UP_ID,command:"show-settings",board:a,options:{butlerTab:n,butlerCmdEdit:r}});case 4:e.next=9;break;case 6:e.prev=6,e.t0=e.catch(1),Object(i.sendErrorEvent)(e.t0,{tags:{ownershipArea:"trello-workflowers",feature:l.Feature.ButlerOnBoards}});case 9:case"end":return e.stop()}}),e,null,[[1,6]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){d(o,r,i,a,s,"next",e)}function s(e){d(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n,r){return t.apply(this,arguments)}}()},"./app/src/components/CardCoverChooser/CardCoversSetting.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/CardCoversSetting.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardCoverChooser/ColorCover.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/ColorCover.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardCoverChooser/MiniCard.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/MiniCard.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardCoverChooser/SearchResultImageButton.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResultImageButton.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardCoverChooser/SearchResultImageButton.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/common/lib/util/i18n/index.ts"),l=n("./packages/nachos/spinner.ts"),c=n("./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx"),u=n("./app/src/components/CardCoverChooser/UpdateCardCoverMutation.generated.tsx"),d=n("./app/src/components/CardCoverChooser/SearchResultImageButton.less"),p=n.n(d),m=n("./packages/analytics/index.ts"),f=n("./packages/unsplash/index.ts"),h=n("./packages/atlassian-analytics/index.ts");function v(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return b(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return b(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var y=Object(s.forTemplate)("card_cover_chooser"),k=n("./app/scripts/views/board-create/photo-attribution-component.js"),w=function(e){var t=e.cardId,n=e.index,r=e.urls,o=e.links,s=e.user,d=e.onSetCover,b=e.onSetCoverFailed,w=e.buttonClassName,j=e.onClick,_=Object(c.a)({variables:{cardId:t},fetchPolicy:"cache-only"}).data,x=g(Object(u.a)({onError:b,onCompleted:function(){d(),Object(m.track)("Card Cover Chooser","Choose Unsplash Search Result")}}),2),C=x[0],O=x[1].loading,S=null==_?void 0:_.card,E={organization:{id:null==S?void 0:S.board.idOrganization},board:{id:null==S?void 0:S.board.id},card:{id:null==S?void 0:S.id}},T=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=h.Analytics.startTask({taskName:"edit-card",subTask:"cover-unsplash",source:"cardCoverInlineDialog"}),e.prev=1,e.next=4,C({variables:{traceId:r,cardId:t,cover:n}});case 4:h.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"unsplash",value:n.url,taskId:r},containers:E}),h.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover-unsplash",traceId:r,source:"cardCoverInlineDialog"}),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),h.Analytics.taskFailed({taskName:"edit-card",subTask:"cover-unsplash",traceId:r,source:"cardCoverInlineDialog",error:e.t0});case 11:f.unsplashClient.trackDownload({links:o});case 12:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){v(o,r,i,a,s,"next",e)}function s(e){v(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}();return i.a.createElement("div",{key:n,className:p.a.backgroundGridItem},i.a.createElement("button",{className:a()("button",p.a.coverTilesItem,w),style:{backgroundImage:"url('".concat(r.thumb,"')")},onClick:function(e){j&&j(e),e.isDefaultPrevented()||T({url:f.unsplashClient.appendImageParameters(r.raw)})}},O?i.a.createElement("div",{className:p.a.upload},i.a.createElement(l.a,{wrapperClassName:p.a.spinnerWrapper,inline:!0,modLeft:!0,small:!0,text:y("uploading-ellipsis")})):i.a.createElement(k,{user:s,size:"small"})))}},"./app/src/components/CardCoverChooser/SearchResults.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResults.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardCoverChooser/SearchUnsplashQuery.generated.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SearchUnsplash"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"query"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"page"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"perPage"}},type:{kind:"NamedType",name:{kind:"Name",value:"Int"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"unsplashPhotos"},arguments:[{kind:"Argument",name:{kind:"Name",value:"query"},value:{kind:"Variable",name:{kind:"Name",value:"query"}}},{kind:"Argument",name:{kind:"Name",value:"page"},value:{kind:"Variable",name:{kind:"Name",value:"page"}}},{kind:"Argument",name:{kind:"Name",value:"perPage"},value:{kind:"Variable",name:{kind:"Name",value:"perPage"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"urls"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"thumb"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"raw"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"links"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"download_location"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"user"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"links"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"html"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]}}]};function o(e){return r.c(i,e)}},"./app/src/components/CardCoverChooser/SelectAttachmentCover.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectAttachmentCover.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardCoverChooser/SelectCover.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectCover.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardCoverChooser/SelectCover.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"getPotentialCovers",(function(){return et})),n.d(t,"SelectCover",(function(){return tt}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/common/lib/util/i18n/index.ts"),a=n("./node_modules/classnames/index.js"),s=n.n(a),l=n("./app/src/components/CardCoverChooser/SelectCover.less"),c=n.n(l),u=n("./packages/analytics/index.ts"),d=n("./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx"),p=n("./app/src/components/CardCoverChooser/UpdateCardCoverMutation.generated.tsx"),m=n("./packages/atlassian-analytics/index.ts"),f=n("./app/src/components/CardCoverChooser/ColorCover.less"),h=n.n(f);function v(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function g(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?v(Object(n),!0).forEach((function(t){b(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):v(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function b(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function y(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=Object(o.forTemplate)("card_cover_chooser"),_=["green","yellow","orange","red","purple","blue","sky","lime","pink","black"],x=function(e){var t=e.cardId,n=Object(d.a)({variables:{cardId:t},fetchPolicy:"cache-only"}).data,r=k(Object(p.a)(),1)[0],o=null==n?void 0:n.card,a=null==o?void 0:o.cover,l=null==a?void 0:a.color,c={organization:{id:null==o?void 0:o.board.idOrganization},board:{id:null==o?void 0:o.board.id},card:{id:null==o?void 0:o.id}},f=function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i={color:n,brightness:"black"===n?"dark":"light"},o=m.Analytics.startTask({taskName:"edit-card",subTask:"cover-color",source:"cardCoverInlineDialog"}),n===l?(i=null,Object(u.track)("Card Cover Chooser","Toggled Cover Off","Color"),m.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"color",taskId:o},containers:c})):(Object(u.track)("Card Cover Chooser","Chose Cover","Color"),m.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"color",value:n,taskId:o},containers:c})),e.prev=3,e.next=6,r({variables:{cardId:t,cover:i,traceId:o},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:t,cover:g({__typename:"Card_Cover"},a,i?{color:n,brightness:i.brightness,idUploadedBackground:null,idAttachment:null}:{color:null,idUploadedBackground:null,idAttachment:null,scaled:null}),idAttachmentCover:null}}});case 6:m.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover-color",traceId:o,source:"cardCoverInlineDialog"}),e.next=12;break;case 9:throw e.prev=9,e.t0=e.catch(3),m.Analytics.taskFailed({taskName:"edit-card",subTask:"cover-color",traceId:o,source:"cardCoverInlineDialog",error:e.t0});case 12:case"end":return e.stop()}}),e,null,[[3,9]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){y(o,r,i,a,s,"next",e)}function s(e){y(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",{className:h.a.heading},j("colors")),i.a.createElement("div",{className:h.a.colorTiles},_.map((function(e){return i.a.createElement("button",{key:e,onClick:function(){m.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverColorTile",source:"cardCoverInlineDialog",attributes:{value:e},containers:c}),f(e)},className:s()(h.a.colorTile,h.a[e],{[h.a.selected]:e===l})})}))))},C=n("./packages/nachos/spinner.ts"),O=n("./app/common/lib/util/preview.ts"),S=n("./app/src/components/CardCoverChooser/SearchUnsplashQuery.generated.tsx"),E=n("./app/src/components/CardCoverChooser/MiniCard.less"),T=n.n(E),P=function(e){var t=e.onClick,n=e.coverSize,r=e.coverColor,o=e.coverImageUrl,a=e.selected,l=e.textColor,c=void 0===l?"dark":l,u=e.disabled,d="normal"===n,p="full"===n,m=r?T.a[r]:null,f=p?m:null,h="linear-gradient(to bottom, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5))";return"light"===c&&(h="linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5))"),i.a.createElement("div",{role:"button",onClick:u?void 0:t,className:s()(T.a.miniCard,f,{[T.a.hasCover]:d,[T.a.hasFullCover]:p,[T.a.colorCardCover]:p&&Boolean(r),[T.a.imageCardCover]:p&&Boolean(o),[T.a.selected]:a,[T.a.disabled]:u}),style:{backgroundImage:p&&o?"".concat(h,", url(").concat(o,")"):void 0}},d&&i.a.createElement("div",{className:s()(T.a.cover,m,{[T.a.colorCardCover]:Boolean(r),[T.a.imageCardCover]:Boolean(o)}),style:{backgroundImage:o?"url(".concat(o,")"):void 0}}),i.a.createElement("div",{className:s()(T.a.content,{[T.a.light]:"light"===c})},i.a.createElement("div",{className:T.a.longName}),i.a.createElement("div",{className:T.a.shortName}),i.a.createElement("div",{className:T.a.badges},i.a.createElement("div",{className:T.a.badge}),i.a.createElement("div",{className:T.a.badge})),i.a.createElement("div",{className:T.a.avatar})))},N=n("./app/src/components/CardCoverChooser/SelectSize.less"),I=n.n(N);function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(Object(n),!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function L(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return M(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return M(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function M(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var F=Object(o.forTemplate)("card_cover_chooser"),V=function(e){var t=e.cardId,n=e.cover,o=Object(d.a)({variables:{cardId:t},fetchPolicy:"cache-only"}).data,a=L(Object(p.a)(),1)[0],s=null==o?void 0:o.card,l={organization:{id:null==s?void 0:s.board.idOrganization},board:{id:null==s?void 0:s.board.id},card:{id:null==s?void 0:s.id}},c=Object(r.useCallback)(function(){var e,r=(e=regeneratorRuntime.mark((function e(r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return i=m.Analytics.startTask({taskName:"edit-card",subTask:"cover-size",source:"cardCoverInlineDialog"}),e.prev=1,e.next=4,a({variables:{traceId:i,cardId:t,cover:{size:r}},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:t,cover:D({__typename:"Card_Cover"},n,{size:r}),idAttachmentCover:null==n?void 0:n.idAttachment}}});case 4:m.Analytics.sendTrackEvent({action:"updated",actionSubject:"coverSize",source:"cardCoverInlineDialog",attributes:{value:r,taskId:i},containers:l}),m.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover-size",traceId:i,source:"cardCoverInlineDialog"}),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),m.Analytics.taskFailed({taskName:"edit-card",subTask:"cover-size",traceId:i,source:"cardCoverInlineDialog",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){R(o,r,i,a,s,"next",e)}function s(e){R(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return r.apply(this,arguments)}}(),[t,l,n,a]),u=Object(r.useCallback)((function(){m.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverSizeTile",source:"cardCoverInlineDialog",attributes:{value:"normal"},containers:l}),c("normal")}),[l,c]),f=Object(r.useCallback)((function(){m.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverSizeTile",source:"cardCoverInlineDialog",attributes:{value:"full"},containers:l}),c("full")}),[l,c]),h=n&&n.scaled?Object(O.smallestPreviewBiggerThan)(n.scaled,86,64)||Object(O.biggestPreview)(n.scaled):null,v=n&&(n.idAttachment||(null==n?void 0:n.color)||(null==n?void 0:n.idUploadedBackground)||(null==n?void 0:n.idPlugin));return i.a.createElement("div",{className:I.a.selectSize},i.a.createElement("h4",{className:I.a.heading},F("size")),i.a.createElement("div",{className:I.a.sizeTiles},i.a.createElement(P,{onClick:u,coverSize:"normal",coverColor:null==n?void 0:n.color,coverImageUrl:null==h?void 0:h.url,selected:Boolean(v&&"normal"===(null==n?void 0:n.size)),disabled:!v}),i.a.createElement(P,{onClick:f,coverSize:"full",coverColor:null==n?void 0:n.color,coverImageUrl:null==h?void 0:h.url,selected:Boolean(v&&"full"===(null==n?void 0:n.size)),textColor:"dark"===(null==n?void 0:n.brightness)?"light":"dark",disabled:!v})))},z=n("./app/src/components/CardCoverChooser/SelectTextColor.less"),U=n.n(z);function H(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?H(Object(n),!0).forEach((function(t){q(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):H(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function q(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function G(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function $(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return K(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return K(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function K(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Y=Object(o.forTemplate)("card_cover_chooser"),Z=function(e){var t=e.cardId,n=e.cardName,o=e.cover,a=Object(d.a)({variables:{cardId:t},fetchPolicy:"cache-only"}).data,l=$(Object(p.a)(),1)[0],c=null==a?void 0:a.card,u={organization:{id:null==c?void 0:c.board.idOrganization},board:{id:null==c?void 0:c.board.id},card:{id:null==c?void 0:c.id}},f=Object(r.useCallback)(function(){var e,n=(e=regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.Analytics.startTask({taskName:"edit-card",subTask:"cover-text-color",source:"cardCoverInlineDialog"}),e.prev=1,e.next=4,l({variables:{traceId:r,cardId:t,cover:{brightness:n}},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:t,cover:W({__typename:"Card_Cover"},o,{brightness:n}),idAttachmentCover:null==o?void 0:o.idAttachment}}});case 4:m.Analytics.sendTrackEvent({action:"updated",actionSubject:"coverBrightness",source:"cardCoverInlineDialog",attributes:{value:n,taskId:r},containers:u}),m.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover-text-color",traceId:r,source:"cardCoverInlineDialog"}),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),m.Analytics.taskFailed({taskName:"edit-card",subTask:"cover-text-color",traceId:r,source:"cardCoverInlineDialog",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){G(o,r,i,a,s,"next",e)}function s(e){G(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return n.apply(this,arguments)}}(),[t,u,o,l]),h=Object(r.useCallback)((function(){f("dark"),m.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverTextColorTile",source:"cardCoverInlineDialog",attributes:{value:"dark"},containers:u})}),[f,u]),v=Object(r.useCallback)((function(){f("light"),m.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverTextColorTile",source:"cardCoverInlineDialog",attributes:{value:"light"},containers:u})}),[f,u]),g="dark";"dark"===(null==o?void 0:o.brightness)&&(g="light");var b=null==o?void 0:o.color,y=b?U.a[b]:null,k=o&&o.scaled?Object(O.smallestPreviewBiggerThan)(o.scaled,86,64)||Object(O.biggestPreview)(o.scaled):null,w=s()(U.a.textColorTile,y,{[U.a.colorCardCover]:y}),j={backgroundImage:(null==k?void 0:k.url)?"".concat("linear-gradient(to bottom, rgba(0, 0, 0, 0.5), rgba(0, 0, 0, 0.5))",", url(").concat(k.url,")"):void 0},_={backgroundImage:(null==k?void 0:k.url)?"".concat("linear-gradient(to bottom, rgba(255, 255, 255, 0.5), rgba(255, 255, 255, 0.5))",", url(").concat(k.url,")"):void 0};return i.a.createElement("div",{className:U.a.selectTextColor},i.a.createElement("h4",{className:U.a.heading},Y("text-color")),i.a.createElement("div",{className:U.a.textColorTiles},i.a.createElement("div",{role:"button",onClick:h,className:s()(w,{[U.a.selected]:"light"===g}),style:j},i.a.createElement("h3",{className:s()(U.a.name,U.a.light)},n)),i.a.createElement("div",{role:"button",onClick:v,className:s()(w,{[U.a.selected]:"dark"===g}),style:_},i.a.createElement("h3",{className:U.a.name},n))))},J=n("./app/src/components/CardCoverChooser/Upload.less"),Q=n.n(J),X=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),ee={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UploadCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"file"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"FileUpload"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"uploadCardCover"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cardId"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"Argument",name:{kind:"Name",value:"file"},value:{kind:"Variable",name:{kind:"Name",value:"file"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}}]}}]};function te(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function ne(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return re(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return re(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function re(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ie=Object(o.forTemplate)("card_cover_chooser"),oe=function(e){var t,n=e.cardId,o=e.onFileSelected,a=e.onFileUploaded,l=e.onUploadFailed,c=e.hideHeading,p=e.className,f=Object(d.a)({variables:{cardId:n},fetchPolicy:"cache-only"}).data,h=null==f?void 0:f.card,v={organization:{id:null==h?void 0:h.board.idOrganization},board:{id:null==h?void 0:h.board.id},card:{id:null==h?void 0:h.id}},g=ne((t={onError:l,onCompleted:function(){Object(u.track)("Card Cover Chooser","Set cover to an upload"),m.Analytics.sendTrackEvent({action:"uploaded",actionSubject:"cover",source:"cardCoverInlineDialog",containers:v}),a&&a()}},X.b(ee,t)),2),b=g[0],y=g[1],k=y.loading,w=y.error,j=ne(Object(r.useState)(),2),_=j[0],x=j[1],O=Object(r.useRef)(null);return k?i.a.createElement(C.a,{centered:!0}):i.a.createElement("div",{className:p},!c&&i.a.createElement("h4",{className:Q.a.heading},ie("upload")),i.a.createElement("input",{ref:O,className:Q.a.fileInput,type:"file",accept:"image/*",onClick:function(){x(void 0)},onChange:function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,i,a;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(r=t.target,!(i=r.files&&r.files[0])){e.next=15;break}return x(i),o&&o(),a=m.Analytics.startTask({taskName:"create-attachment",subTask:"card-cover",source:"cardCoverInlineDialog"}),e.prev=6,e.next=9,b({variables:{traceId:a,cardId:n,file:i}});case 9:m.Analytics.taskSucceeded({taskName:"create-attachment",subTask:"card-cover",traceId:a,source:"cardCoverInlineDialog"}),e.next=15;break;case 12:throw e.prev=12,e.t0=e.catch(6),m.Analytics.taskFailed({taskName:"create-attachment",subTask:"card-cover",traceId:a,source:"cardCoverInlineDialog",error:e.t0});case 15:case"end":return e.stop()}}),e,null,[[6,12]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){te(o,r,i,a,s,"next",e)}function s(e){te(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}()}),i.a.createElement("button",{className:s()("button",Q.a.upload),onClick:function(){O.current&&O.current.click(),Object(u.track)("Card Cover Chooser","Clicked Upload"),m.Analytics.sendClickedButtonEvent({buttonName:"cardCoverAttachmentUploadButton",source:"cardCoverInlineDialog",containers:v})}},ie("upload-a-cover-image")),w&&_?i.a.createElement("div",{className:Q.a.error},ie("unable-to-use-file-as-card-cover",{fileName:_.name})):i.a.createElement("div",{className:Q.a.tip},ie("tip-drag-an-image")))},ae=n("./app/src/components/CardCoverChooser/SelectAttachmentCover.less"),se=n.n(ae);function le(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ce(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?le(Object(n),!0).forEach((function(t){ue(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):le(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function ue(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function de(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||me(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function me(e,t){if(e){if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?fe(e,t):void 0}}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he=Object(o.forTemplate)("card_cover_chooser"),ve=function(e){var t,n=e.cardId,o=Object(d.a)({variables:{cardId:n},fetchPolicy:"cache-only"}).data;if(!(null==o?void 0:o.card))throw new Error("Failed to load card details from cache for SelectAttachmentCover.");var a=o.card,l=a.attachments,c=null===(t=a.cover)||void 0===t?void 0:t.idAttachment,f=pe(Object(r.useState)(!1),2),h=f[0],v=f[1],g=pe(Object(r.useState)(c),2),b=g[0],y=g[1],k=pe(Object(r.useState)(!1),2),w=k[0],j=k[1],_=pe(Object(p.a)(),1)[0];if(!(null==o?void 0:o.card))throw new Error("Failed to load card details from cache for SelectAttachmentCover.");var x,C={organization:{id:null==a?void 0:a.board.idOrganization},board:{id:null==a?void 0:a.board.id},card:{id:null==a?void 0:a.id}},S=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.Analytics.startTask({taskName:"edit-card",subTask:"cover-attachment",source:"cardCoverInlineDialog"}),e.prev=1,e.next=4,_({variables:{traceId:r,cardId:n,cover:t},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:n,cover:ce({__typename:"Card_Cover"},a.cover,t?{idAttachment:t.idAttachment,idUploadedBackground:null,color:null}:{idAttachment:null,idUploadedBackground:null,color:null}),idAttachmentCover:null==t?void 0:t.idAttachment}}});case 4:t?m.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"attachment",value:t.idAttachment,taskId:r},containers:C}):m.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"attachment",taskId:r},containers:C}),m.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover-attachment",traceId:r,source:"cardCoverInlineDialog"}),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),m.Analytics.taskFailed({taskName:"edit-card",subTask:"cover-attachment",traceId:r,source:"cardCoverInlineDialog",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){de(o,r,i,a,s,"next",e)}function s(e){de(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),E=[],T=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=me(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}(l);try{for(T.s();!(x=T.n()).done;){var P=x.value,N=Object(O.smallestPreviewBiggerThan)(P.previews,256)||Object(O.biggestPreview)(P.previews);if(N&&N.url){var I={id:P.id,edgeColor:P.edgeColor||"transparent",thumbnailUrl:N.url,selected:c===P.id};b&&P.id===b?E.unshift(I):E.push(I)}}}catch(e){T.e(e)}finally{T.f()}var A=h?E:E.slice(0,6);return i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",{className:se.a.heading},he("attachments")),E.length>0&&i.a.createElement("div",{className:se.a.attachmentTiles},A.map((function(e,t){var n=e.id,r=e.edgeColor,o=e.thumbnailUrl,a=e.selected;return i.a.createElement("button",{key:n,className:s()("button",se.a.attachmentTilesItem,{[se.a.selected]:a}),style:{backgroundColor:r,backgroundImage:"url('".concat(o,"')"),backgroundSize:"contain"},onClick:function(){a?(S(null),Object(u.track)("Card Cover Chooser","Toggled Cover Off","Attachment")):(S({idAttachment:n}),j(t>5),Object(u.track)("Card Cover Chooser","Chose Cover","Attachment")),m.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverAttachmentTile",source:"cardCoverInlineDialog",attributes:{value:n},containers:C})}})}))),E.length>6&&!h&&i.a.createElement("button",{className:s()("button",se.a.showMoreButton),onClick:function(){m.Analytics.sendClickedButtonEvent({buttonName:"cardCoverAttachmentShowMoreButton",source:"cardCoverInlineDialog",containers:C}),v(!0)}},he("show-more")),h&&i.a.createElement("button",{className:s()("button",se.a.showFewerButton),onClick:function(){var e;(m.Analytics.sendClickedButtonEvent({buttonName:"cardCoverAttachmentShowFewerButton",source:"cardCoverInlineDialog",containers:C}),v(!1),w)&&y(null===(e=a.cover)||void 0===e?void 0:e.idAttachment)}},he("show-fewer")),i.a.createElement(oe,{cardId:n,className:s()(se.a.uploadButton,{[se.a.hasNoAttachments]:0===E.length,[se.a.hasPaginatedTiles]:E.length>6}),hideHeading:!0}))},ge=n("./app/src/components/CardCoverChooser/SearchResultImageButton.tsx"),be=n("./app/src/components/CardCoverChooser/SelectUnsplashCover.less"),ye=n.n(be);function ke(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function we(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ke(Object(n),!0).forEach((function(t){je(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ke(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function je(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function _e(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function xe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||Ce(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ce(e,t){if(e){if("string"==typeof e)return Oe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Oe(e,t):void 0}}function Oe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Se=Object(o.forTemplate)("card_cover_chooser"),Ee=function(e){var t,n=e.cardId,o=e.navigateToAddCover,a=xe(Object(r.useState)(null),2),l=a[0],c=a[1],u=Object(d.a)({variables:{cardId:n},fetchPolicy:"cache-only"}).data,f=Object(S.a)({variables:{query:"",perPage:9,page:1},fetchPolicy:"cache-only"}).data,h=xe(Object(p.a)(),1)[0];if(!(null==u?void 0:u.card))throw new Error("Failed to load card details from cache for SelectUnsplashCover.");var v=u&&u.card,g=v?v.cover:null,b={organization:{id:null==v?void 0:v.board.idOrganization},board:{id:null==v?void 0:v.board.id},card:{id:null==v?void 0:v.id}},y=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=m.Analytics.startTask({taskName:"edit-card",subTask:"cover-unsplash",source:"cardCoverInlineDialog"}),e.prev=1,e.next=4,h({variables:{traceId:r,cardId:n,cover:t},optimisticResponse:{__typename:"Mutation",updateCardCover:{__typename:"Card",id:n,cover:we({__typename:"Card_Cover"},v.cover,t?{idUploadedBackground:t.idUploadedBackground,idAttachment:null,color:null}:{idAttachment:null,idUploadedBackground:null,color:null}),idAttachmentCover:null}}});case 4:t?m.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"unsplash",value:t.idUploadedBackground,taskId:r},containers:b}):m.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:"unsplash",taskId:r},containers:b}),m.Analytics.taskSucceeded({taskName:"edit-card",subTask:"cover-unsplash",traceId:r,source:"cardCoverInlineDialog"}),e.next=11;break;case 8:throw e.prev=8,e.t0=e.catch(1),m.Analytics.taskFailed({taskName:"edit-card",subTask:"cover-unsplash",traceId:r,source:"cardCoverInlineDialog",error:e.t0});case 11:case"end":return e.stop()}}),e,null,[[1,8]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){_e(o,r,i,a,s,"next",e)}function s(e){_e(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),k=xe(Object(r.useState)(g),1)[0];Object(r.useEffect)((function(){var e=null==g?void 0:g.idUploadedBackground,t=(null==g?void 0:g.color)||(null==g?void 0:g.idAttachment);e&&!t||c(null)}),[g,k]);var w=null,j=6;if(k&&k.idUploadedBackground&&k.scaled){var _=Object(O.smallestPreviewBiggerThan)(k.scaled,256)||Object(O.biggestPreview)(k.scaled);_&&_.url&&(w=i.a.createElement("button",{key:"firstUnsplashCoverNode",className:s()("button",ye.a.unsplashTilesItem,{[ye.a.selected]:g&&k.idUploadedBackground===g.idUploadedBackground}),style:{backgroundColor:(null==k?void 0:k.edgeColor)||"transparent",backgroundImage:"url('".concat(_.url,"')"),backgroundSize:"cover"},onClick:function(){m.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"cardCoverInlineDialog",containers:b}),g&&k.idUploadedBackground===g.idUploadedBackground?(y(null),c(null)):(null==k?void 0:k.idUploadedBackground)&&(y({idUploadedBackground:k.idUploadedBackground}),c(null))}}),j=5)}var x=[];if(null==f||null===(t=f.unsplashPhotos)||void 0===t?void 0:t.length){var C,E=0,T=function(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Ce(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}(f.unsplashPhotos.slice(0,j));try{var P=function(){var e=C.value,t=e.urls,r=e.links,o=e.user,a=e.id;x.unshift(i.a.createElement(ge.a,{key:a,urls:t,links:r,user:o,index:E++,cardId:n,onSetCover:function(){c(a)},onSetCoverFailed:function(){},buttonClassName:s()(ye.a.unsplashTilesItem,{[ye.a.selected]:l===a}),onClick:function(e){l===a&&(e.preventDefault(),y(null)),m.Analytics.sendUIEvent({action:"clicked",actionSubject:"tile",actionSubjectId:"cardCoverUnsplashTile",source:"cardCoverInlineDialog",attributes:{value:t.raw},containers:b})}}))};for(T.s();!(C=T.n()).done;)P()}catch(e){T.e(e)}finally{T.f()}}return i.a.createElement(i.a.Fragment,null,i.a.createElement("h4",{className:ye.a.heading},Se("unsplash")),i.a.createElement("div",{className:ye.a.unsplashTiles},w,x),i.a.createElement("button",{className:s()("button",ye.a.searchButton),onClick:function(){m.Analytics.sendClickedButtonEvent({buttonName:"cardCoverUnsplashSearchButton",source:"cardCoverInlineDialog",containers:b}),o()}},Se("search-for-photos")))},Te=n("./packages/nachos/button.ts"),Pe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCardCoversPreference"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardCovers"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardCardCoversPref"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"cardCovers"},value:{kind:"Variable",name:{kind:"Name",value:"cardCovers"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardCovers"},arguments:[],directives:[]}]}}]}}]}}]};var Ne=n("./app/src/components/CardCoverChooser/CardCoversSetting.less"),Ie=n.n(Ne);function Ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return De(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return De(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function De(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Be=Object(o.forTemplate)("card_cover_chooser"),Re=function(e){var t,n=e.idBoard,r=e.isAdmin,o=Ae(X.b(Pe,t),1)[0];return r?i.a.createElement("div",null,i.a.createElement("p",{className:Ie.a.isAdmin},Be("card-covers-are-disbaled-on-this-board")),i.a.createElement(Te.Button,{appearance:"primary",size:"fullwidth",onClick:function(){o({variables:{boardId:n,cardCovers:!0},optimisticResponse:{__typename:"Mutation",updateBoardCardCoversPref:{__typename:"Board",id:n,prefs:{__typename:"Board_Prefs",cardCovers:!0}}}})},className:Ie.a.enableButton},Be("enable-card-covers"))):i.a.createElement("p",{className:Ie.a.notAdmin},Be("card-covers-are-disabled-on-this-board-admins-can-enable-card-covers"))},Le={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelectPluginCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idEnterprise"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardCovers"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"plugins"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"available"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"capabilities"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"icon"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"tags"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"boardPlugins"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idPlugin"},arguments:[],directives:[]}]}}]}}]}}]};function Me(e){return X.c(Le,e)}var Fe=n("./app/scripts/db/model-cache.js"),Ve=n.n(Fe),ze=n("./app/src/components/CardCoverChooser/SelectPluginCover.less"),Ue=n.n(ze);function He(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}var We=n("./app/scripts/views/internal/plugins/plugin-runner.js"),qe=Object(o.forTemplate)("card_cover_chooser"),Ge=function(e){var t,n,o,a=e.cardId,l=e.boardId,c=Object(d.a)({variables:{cardId:a},fetchPolicy:"cache-only"}).data,u=Me({variables:{boardId:l},fetchPolicy:"cache-only"}).data,p=Object(r.useCallback)(function(){var e,t=(e=regeneratorRuntime.mark((function e(t,n){var r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=Ve.a.get("Card",a),i=r.getBoard(),e.next=4,We.one({command:"card-cover",plugin:t,card:r,board:i,list:r.getList(),timeout:5e3,el:n});case 4:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){He(o,r,i,a,s,"next",e)}function s(e){He(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e,n){return t.apply(this,arguments)}}(),[a]),m=null==c?void 0:c.card,f=null==u?void 0:u.board,h=null!==(t=null==f?void 0:f.plugins)&&void 0!==t?t:[],v=(null!==(n=null==f?void 0:f.boardPlugins)&&void 0!==n?n:[]).map((function(e){return e.idPlugin})),g=h.filter((function(e){return v.includes(e.id)&&e.capabilities.includes("card-cover")&&e.tags.includes("plugin-cover-beta")})),b=null==m||null===(o=m.cover)||void 0===o?void 0:o.idPlugin,y=g.map((function(e){var t;return{id:e.id,title:null!==(t=e.name)&&void 0!==t?t:"",iconUrl:e.icon.url,selected:e.id===b}}));return 0===y.length?null:i.a.createElement("div",null,i.a.createElement("h4",{className:Ue.a.heading},qe("power-ups")),i.a.createElement("div",{className:Ue.a.pluginCoverTiles},y.map((function(e){return i.a.createElement("button",{key:e.id,className:s()("button",Ue.a.pluginCoverTilesItem,{[Ue.a.selected]:e.id===b}),style:{backgroundImage:"url('".concat(e.iconUrl,"')"),backgroundSize:"contain"},onClick:function(t){return p(e.id,t.target)}})}))))};function $e(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Ke(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||Ze(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ye(e){if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(e=Ze(e))){var t=0,n=function(){};return{s:n,n:function(){return t>=e.length?{done:!0}:{done:!1,value:e[t++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var r,i,o=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return o=e.done,e},e:function(e){a=!0,i=e},f:function(){try{o||null==r.return||r.return()}finally{if(a)throw i}}}}function Ze(e,t){if(e){if("string"==typeof e)return Je(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?Je(e,t):void 0}}function Je(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Qe,Xe=Object(o.forTemplate)("card_cover_chooser");!function(e){e.Attachment="attachment",e.Unsplash="unsplash"}(Qe||(Qe={}));var et=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1?arguments[1]:void 0,r=[],i=Ye(t);try{for(i.s();!(e=i.n()).done;){var o=e.value,a=Object(O.smallestPreviewBiggerThan)(o.previews,256)||Object(O.biggestPreview)(o.previews);a&&a.url&&r.unshift({id:o.id,type:Qe.Attachment,edgeColor:o.edgeColor||"transparent",thumbnailUrl:a.url,selected:n===o.id})}}catch(e){i.e(e)}finally{i.f()}return r},tt=function(e){var t,n,o=e.navigateToAddCover,a=e.cardId,l=e.boardId,f=Object(d.a)({variables:{cardId:a},fetchPolicy:"cache-and-network"}),h=f.data,v=f.error,g=f.loading,b=Me({variables:{boardId:l},fetchPolicy:"cache-and-network"}),y=b.error,k=b.loading,w=Ke(Object(p.a)(),1)[0],j=Ke(Object(r.useState)(),2),_=j[0],E=j[1],T=Ke(Object(r.useState)(!1),2),P=T[0],N=T[1],I=Object(S.a)({variables:{query:"",perPage:9,page:1}}).loading,A=g||I||k,D=null==h?void 0:h.card,B=null==D?void 0:D.board,R=null==h?void 0:h.member,L=Boolean(null===(t=null==B||null===(n=B.prefs)||void 0===n?void 0:n.cardCovers)||void 0===t||t),M={organization:{id:null==D?void 0:D.board.idOrganization},board:{id:null==D?void 0:D.board.id},card:{id:null==D?void 0:D.id}},F=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,i,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return(r=null==D?void 0:D.cover)&&(r.color?n="color":r.idUploadedBackground?n="unsplash":r.idAttachment?n="attachment":r.idPlugin&&(n="plugin")),i="color"===n?"cover-color":"unsplash"===n?"cover-unsplash":"attachment"===n?"cover-attachment":"cover",o=m.Analytics.startTask({taskName:"edit-card",subTask:i,source:"cardCoverInlineDialog"}),e.prev=4,e.next=7,w({variables:{traceId:o,cardId:a,cover:t}});case 7:t?m.Analytics.sendTrackEvent({action:"updated",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:t.idAttachment?"attachment":"unsplash",value:t.idAttachment||t.idUploadedBackground,taskId:o},containers:M}):m.Analytics.sendTrackEvent({action:"removed",actionSubject:"cover",source:"cardCoverInlineDialog",attributes:{type:n,taskId:o},containers:M}),m.Analytics.taskSucceeded({taskName:"edit-card",subTask:i,traceId:o,source:"cardCoverInlineDialog"}),e.next=14;break;case 11:throw e.prev=11,e.t0=e.catch(4),m.Analytics.taskFailed({taskName:"edit-card",subTask:i,traceId:o,source:"cardCoverInlineDialog",error:e.t0});case 14:case"end":return e.stop()}}),e,null,[[4,11]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){$e(o,r,i,a,s,"next",e)}function s(e){$e(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){D&&!P&&(m.Analytics.sendScreenEvent({name:"cardCoverInlineDialog",containers:M}),N(!0))}),[D,M,P]);var z,U,H,W,q,G,$,K,Y,J=D&&D.idAttachmentCover?D.idAttachmentCover:null,Q=D?D.cover:null,X=D&&D.attachments?et(D.attachments,J):[];if(Object(r.useEffect)((function(){Q&&Q.idUploadedBackground&&E(Q)}),[Q]),!L&&R&&B){var ee=null!==(K=null===(Y=B.memberships)||void 0===Y?void 0:Y.some((function(e){return e.idMember===R.id&&"admin"===e.memberType})))&&void 0!==K&&K||!(!B.idOrganization||!R)&&null!==(q=null===(G=R.organizations)||void 0===G||null===($=G.find((function(e){return e.id===B.idOrganization})))||void 0===$?void 0:$.memberships.some((function(e){return e.idMember===R.id&&"admin"===e.memberType})))&&void 0!==q&&q||!(!B.idEnterprise||!R.enterprises)&&null!==(z=null===(U=R.enterprises)||void 0===U||null===(H=U.find((function(e){return e.id===B.idEnterprise})))||void 0===H||null===(W=H.idAdmins)||void 0===W?void 0:W.some((function(e){return e===R.id})))&&void 0!==z&&z;return i.a.createElement(Re,{idBoard:B.id,isAdmin:ee})}var te=Boolean(Q&&Q.idUploadedBackground&&Q.scaled),ne=te?Q:_;if(ne&&ne.idUploadedBackground&&ne.scaled){var re=Object(O.smallestPreviewBiggerThan)(ne.scaled,256)||Object(O.biggestPreview)(ne.scaled);re&&re.url&&X.unshift({id:ne.idUploadedBackground,edgeColor:ne.edgeColor||"transparent",thumbnailUrl:re.url,selected:te,type:Qe.Unsplash})}var ie=X.some((function(e){return e.selected}))||Boolean(null==Q?void 0:Q.color)||Boolean(null==Q?void 0:Q.idPlugin),oe=!A&&!v&&"full"===(null==Q?void 0:Q.size)&&((null==Q?void 0:Q.idAttachment)||(null==Q?void 0:Q.idUploadedBackground)||(null==Q?void 0:Q.idPlugin));return A?i.a.createElement("div",null,i.a.createElement(C.a,{centered:!0})):v||y?i.a.createElement("div",null,Xe("something-went-wrong")):i.a.createElement("div",null,i.a.createElement(V,{cardId:a,cover:Q}),ie&&i.a.createElement("button",{className:s()("button",c.a.remove,c.a.colorAndFullVersion),onClick:function(){F(null),Object(u.track)("Card Cover Chooser","Remove Cover"),m.Analytics.sendClickedButtonEvent({buttonName:"removeCardCoverButton",source:"cardCoverInlineDialog",containers:M})}},Xe("remove-cover")),oe&&i.a.createElement(Z,{cardId:a,cardName:null==D?void 0:D.name,cover:Q}),i.a.createElement(x,{cardId:a}),i.a.createElement(ve,{cardId:a}),i.a.createElement(Ee,{cardId:a,navigateToAddCover:o}),i.a.createElement(Ge,{cardId:a,boardId:l}))}},"./app/src/components/CardCoverChooser/SelectCoverQuery.generated.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"SelectCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"card"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idAttachment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idUploadedBackground"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idPlugin"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edgeColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brightness"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"idAttachmentCover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"edgeColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"previews"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idEnterprise"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardCovers"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterprises"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idAdmins"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"organizations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idEnterprise"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}}]}}]}}]}}]};function o(e){return r.c(i,e)}},"./app/src/components/CardCoverChooser/SelectPluginCover.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectPluginCover.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardCoverChooser/SelectSize.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectSize.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardCoverChooser/SelectTextColor.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectTextColor.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardCoverChooser/SelectUnsplashCover.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectUnsplashCover.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardCoverChooser/SuggestedSearches.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SuggestedSearches.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardCoverChooser/TopUnsplashPhotos.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/TopUnsplashPhotos.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardCoverChooser/UnsplashSearch.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/UnsplashSearch.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardCoverChooser/UpdateCardCoverMutation.generated.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpdateCardCover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cover"}},type:{kind:"NamedType",name:{kind:"Name",value:"InputCover"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCardCover"},arguments:[{kind:"Argument",name:{kind:"Name",value:"cardId"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}},{kind:"Argument",name:{kind:"Name",value:"cover"},value:{kind:"Variable",name:{kind:"Name",value:"cover"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idAttachmentCover"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idAttachment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idUploadedBackground"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brightness"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}}]}}]}}]}}]};function o(e){return r.b(i,e)}},"./app/src/components/CardCoverChooser/Upload.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/Upload.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardFronts/BoardCard.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/BoardCard.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardFronts/BoardCard.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"BoardCard",(function(){return S}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/colors/index.ts"),a=n("./node_modules/underscore/underscore.js"),s=n("./node_modules/classnames/index.js"),l=n.n(s),c=n("./packages/trello-canonical-components/index.ts"),u=n("./app/scripts/lib/util/url/parse-trello-url.js"),d=n.n(u),p=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"GetBoard"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"pos"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"backgroundImage"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundBrightness"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundTopColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"backgroundImageScaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}]};var f=n("./app/src/components/CardFronts/BoardCard.less"),h=n.n(f),v=n("./app/common/components/singlespa/router-link.tsx"),g=n("./app/scripts/lib/util/decaying-interval.js"),b=n.n(g),y=n("./app/src/components/CardFronts/EditCardButton.tsx"),k=n("./packages/atlassian-analytics/index.ts");function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var j=c.CanonicalBoard.ErrorMessage,_=c.CanonicalBoard.BoardName,x=c.CanonicalBoard.PlaceholderBoardTile,C=c.CanonicalBoard.ProportionalBoardLists,O=c.CanonicalBoard.Board,S=function(e){var t,n,s=e.boardUrl,c=e.openEditor,u=e.isEditable,f=e.analyticsContainers,g=d()(s).shortLink,S=(n={variables:{boardId:g||""}},p.c(m,n)),E=S.data,T=S.loading,P=S.refetch,N=Object(r.useCallback)((function(){navigator.onLine&&P()}),[P]),I=Object(y.b)(),A=I.showEditCardButton,D=I.hideEditCardButton,B=I.shouldShowEditCardButton;Object(r.useEffect)((function(){if(!T&&(null==E?void 0:E.board)&&k.Analytics.sendViewedComponentEvent({componentType:"card",componentName:"boardCard",source:"cardView",containers:f,attributes:{linkBoardId:E.board.id}}),g!==d()(window.location.href).shortLink)return b()(N)}),[f,g,null==E?void 0:E.board,null==E||null===(t=E.board)||void 0===t?void 0:t.id,T,N]);var R=Object(r.useCallback)((function(){!T&&(null==E?void 0:E.board)&&k.Analytics.sendClickedLinkEvent({linkName:"boardCard",source:"cardView",containers:f,attributes:{linkBoardId:E.board.id}})}),[f,null==E?void 0:E.board,T]);if(T||null===(null==E?void 0:E.board)||void 0===(null==E?void 0:E.board))return T?i.a.createElement(x,{className:l()("board-background",h.a.boardCard),numLists:5}):i.a.createElement("div",{onFocus:A,onBlur:D,onMouseOver:A,onMouseOut:D},i.a.createElement(O,{className:l()("board-background",h.a.boardCard),hasError:!0,numLists:5},i.a.createElement(y.a,{onClick:c,shouldShow:u&&B}),i.a.createElement(j,null,"Unable to load board"),i.a.createElement(C,{lists:[{id:"1",size:2},{id:"2",size:3},{id:"3",size:1},{id:"4",size:2},{id:"5",size:2},{id:"6",size:1}],numLists:5})));var L=E.board||{},M=L.cards.reduce((function(e,t){return e[t.idList]?e[t.idList]+=1:e[t.idList]=1,e}),{}),F=L.lists.map((function(e){return{id:e.id,size:M[e.id]||0}}))||[];return i.a.createElement("div",{onFocus:A,onBlur:D,onMouseOver:A,onMouseOut:D},i.a.createElement(O,w({className:l()("board-background",h.a.boardCard)},function(e){var t,n,r=void 0,i=null,s=null;if(null!=e&&(e.prefs&&e.prefs.backgroundColor&&(r=e.prefs.backgroundColor),e.prefs&&e.prefs.backgroundImage&&(s=e.prefs.backgroundImage,i=(null===(t=e.prefs)||void 0===t?void 0:t.backgroundTopColor)?null===(n=e.prefs)||void 0===n?void 0:n.backgroundTopColor:"dark"===e.prefs.backgroundBrightness?"#333":o.N30,e.prefs.backgroundImageScaled))){var l=Object(a.sortBy)(e.prefs.backgroundImageScaled,"width").filter((function(e){return e.width>248&&e.height>158}));l.length>0&&(s=l[0].url)}return{bgColor:r,bgImage:s,headerBgColor:i}}(L),{numLists:5}),i.a.createElement(y.a,{onClick:c,shouldShow:u&&B}),i.a.createElement(_,null,L.name),i.a.createElement(C,{lists:F,numLists:5}),i.a.createElement(v.a,{href:s,className:h.a.boardLink,title:L.name,onClick:R})))}},"./app/src/components/CardFronts/EditCardButton.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/EditCardButton.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardFronts/EditCardButton.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return p})),n.d(t,"b",(function(){return m}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/icons/edit.tsx"),a=n("./app/src/components/CardFronts/EditCardButton.less"),s=n.n(a),l=n("./node_modules/classnames/index.js"),c=n.n(l);function u(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return d(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return d(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function d(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var p=function(e){var t=e.onClick,n=e.shouldShow;return i.a.createElement("button",{className:c()(s.a.editCardButton,n&&s.a.show),onClick:t},i.a.createElement(o.a,{color:"dark",size:"small"}))},m=function(){var e=u(Object(r.useState)(!1),2),t=e[0],n=e[1];return{showEditCardButton:function(){return n(!0)},hideEditCardButton:function(){return n(!1)},shouldShowEditCardButton:t}}},"./app/src/components/CardFronts/LinkCard.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/LinkCard.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardFronts/LinkCard.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"LinkCard",(function(){return Oe}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./node_modules/@atlaskit/smart-card/dist/esm/state/index.js"),l=n("./node_modules/@babel/runtime/regenerator/index.js"),c=n.n(l),u=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),d=n.n(u),p=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),m=n.n(p),f=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),h=n.n(f),v=n("./node_modules/@babel/runtime/helpers/createClass.js"),g=n.n(v),b=function(){function e(){h()(this,e)}return g()(e,[{key:"buildInlineAdf",value:function(e){return{type:"inlineCard",attrs:{url:e}}}},{key:"buildBlockAdf",value:function(e){return{type:"blockCard",attrs:{url:e}}}},{key:"buildEmbedAdf",value:function(e){return{type:"embedCard",attrs:{url:e,layout:"wide"}}}},{key:"toAdf",value:function(e,t){if(function(e){return e.match(/^https:\/\/.*?\/jira\/software\/(c\/)?projects\/[^\/]+?\/boards\/.*?\/roadmap\/?/)}(e))return this.buildEmbedAdf(e);switch(t){case"inline":return this.buildInlineAdf(e);case"block":return this.buildBlockAdf(e);case"embed":return this.buildEmbedAdf(e)}}}]),e}(),y=n("./node_modules/@atlaskit/smart-card/dist/esm/client/utils/environments.js");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){d()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}new(function(){function e(t){h()(this,e),this.baseUrl=Object(y.a)(t),this.resolverUrl=Object(y.b)(t),this.transformer=new b,this.requestOpts={method:"POST",credentials:"include",headers:{"Content-Type":"application/json",Accept:"application/json",Origin:this.baseUrl}}}var t,n,r,i;return g()(e,[{key:"check",value:(i=m()(c.a.mark((function e(t){var n,r,i;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n="".concat(this.resolverUrl,"/check"),e.next=4,fetch(n,w(w({},this.requestOpts),{},{body:JSON.stringify({resourceUrl:t})}));case 4:return r=e.sent,e.next=7,r.json();case 7:return i=e.sent,e.abrupt("return",i.isSupported);case 11:return e.prev=11,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",void 0);case 15:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(e){return i.apply(this,arguments)})},{key:"fetchPatterns",value:(r=m()(c.a.mark((function e(){var t,n,r;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t="".concat(this.resolverUrl,"/providers"),e.next=4,fetch(t,this.requestOpts);case 4:return n=e.sent,e.next=7,n.json();case 7:return r=e.sent,e.abrupt("return",r.providers.reduce((function(e,t){var n=t.patterns.map((function(e){return e.source}));return e.concat(n)}),[]));case 11:return e.prev=11,e.t0=e.catch(0),console.error(e.t0),e.abrupt("return",void 0);case 15:case"end":return e.stop()}}),e,this,[[0,11]])}))),function(){return r.apply(this,arguments)})},{key:"findPattern",value:(n=m()(c.a.mark((function e(t){var n;return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.t0=this.patterns,e.t0){e.next=5;break}return e.next=4,this.fetchPatterns();case 4:e.t0=e.sent;case 5:if(!(n=e.t0)){e.next=9;break}return this.patterns=n,e.abrupt("return",n.some((function(e){return t.match(e)})));case 9:return e.abrupt("return",!1);case 10:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"resolve",value:(t=m()(c.a.mark((function e(t,n){return c.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,this.findPattern(t);case 3:if(e.t0=e.sent,e.t0){e.next=8;break}return e.next=7,this.check(t);case 7:e.t0=e.sent;case 8:if(!e.t0){e.next=11;break}return e.abrupt("return",this.transformer.toAdf(t,n));case 11:e.next=16;break;case 13:e.prev=13,e.t1=e.catch(0),console.warn('Error when trying to check Smart Card url "'.concat(t," - ").concat(e.t1.prototype.name," ").concat(e.t1.message),e.t1);case 16:return e.abrupt("return",Promise.reject(void 0));case 17:case"end":return e.stop()}}),e,this,[[0,13]])}))),function(e,n){return t.apply(this,arguments)})}]),e}());var j=n("./node_modules/@atlaskit/smart-card/dist/esm/client/index.js"),_=n("./node_modules/@atlaskit/smart-card/dist/esm/client/errors.js"),x=n("./node_modules/@babel/runtime/helpers/inherits.js"),C=n.n(x),O=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),S=n.n(O),E=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),T=n.n(E),P=n("./node_modules/@atlaskit/smart-card/node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js"),N=n("./node_modules/@atlaskit/smart-card/node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsContext/index.js"),I=function(e){return function(t){var n=Object(r.forwardRef)((function(n,o){var a=n.analyticsContext,s=Object(P.c)(n,["analyticsContext"]),l=Object(r.useMemo)((function(){return Object(P.a)(Object(P.a)({},e),a)}),[a]);return i.a.createElement(N.a,{data:l},i.a.createElement(t,Object(P.a)({},s,{ref:o})))}));return n.displayName="WithAnalyticsContext("+(t.displayName||t.name)+")",n}},A=n("./node_modules/use-memo-one/dist/use-memo-one.esm.js"),D=function(e){function t(n){var r=e.call(this,n)||this;return r.clone=function(){return r.hasFired?null:new t({context:Object(P.d)(r.context),handlers:Object(P.d)(r.handlers),payload:JSON.parse(JSON.stringify(r.payload))})},r.fire=function(e){r.hasFired||(r.handlers.forEach((function(t){return t(r,e)})),r.hasFired=!0)},r.context=n.context||[],r.handlers=n.handlers||[],r.hasFired=!1,r}return Object(P.b)(t,e),t.prototype.update=function(t){return this.hasFired?this:e.prototype.update.call(this,t)},t}(function(){function e(t){var n=this;this.clone=function(){return new e({payload:Object(P.a)({},n.payload)})},this.payload=t.payload}return e.prototype.update=function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"==typeof e&&(this.payload=Object(P.a)(Object(P.a)({},this.payload),e)),this},e}()),B=n("./node_modules/@atlaskit/smart-card/node_modules/@atlaskit/analytics-next/dist/esm/hooks/useAnalyticsContext.js");function R(){var e=Object(B.a)();return{createAnalyticsEvent:Object(A.b)((function(t){return new D({context:e.getAtlaskitAnalyticsContext(),handlers:e.getAtlaskitAnalyticsEventHandlers(),payload:t})}),[e])}}var L=function(e){return void 0===e&&(e={}),function(t){var n=Object(r.forwardRef)((function(n,o){var a=function(e,t){void 0===e&&(e={});var n=R().createAnalyticsEvent;return{patchedEventProps:Object(r.useMemo)((function(){return Object.keys(e).reduce((function(r,i){var o,a=e[i];if(!["object","function"].includes(typeof a))return r;var s=t[i],l=function(){for(var e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];var i="function"==typeof a?a(n,t):n(a);s&&"function"==typeof s&&s.apply(void 0,Object(P.d)(e,[i]))};return l?Object(P.a)(Object(P.a)({},r),((o={})[i]=l,o)):r}),{})}),[e,t,n])}}(e,n).patchedEventProps,s=R().createAnalyticsEvent;return i.a.createElement(t,Object(P.a)({},n,a,{createAnalyticsEvent:s,ref:o}))}));return n.displayName="WithAnalyticsEvents("+(t.displayName||t.name)+")",n}};function M(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T()(e);if(t){var i=T()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S()(this,n)}}var F=function(e){C()(r,e);var t=M(r);function r(){return h()(this,r),t.apply(this,arguments)}return g()(r,[{key:"componentDidMount",value:function(){null===r.CardContent&&(this.props.importer||r.moduleImporter)(this)}},{key:"render",value:function(){var e=this.props,t=e.appearance,n=e.data,o=e.isSelected,a=e.onClick,s=e.onResolve,l=e.testId,c=e.showActions;if(!n)throw new Error("@atlaskit/smart-cards: you are trying to render a card with data, but does not provide any");return r.CardContent?i.a.createElement(r.CardContent,{appearance:t,data:n,isSelected:o,onClick:a,onResolve:s,testId:l,showActions:c}):i.a.createElement("div",{"data-card-with-data":!0})}}],[{key:"moduleImporter",value:function(e){n.e(17).then(n.bind(null,"./node_modules/@atlaskit/smart-card/dist/esm/view/CardWithData/component.js")).then((function(t){r.CardContent=t.CardWithDataContent,e.forceUpdate()}))}}]),r}(i.a.PureComponent);d()(F,"CardContent",null);var V=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),z=n.n(V),U=n("./node_modules/@atlaskit/smart-card/node_modules/uuid/index.js"),H=n.n(U),W=n("./node_modules/@atlaskit/media-ui/dist/esm/LinkView/index.js"),q=n("./node_modules/@atlaskit/smart-card/dist/esm/utils/analytics.js"),G=n("./node_modules/@atlaskit/smart-card/dist/esm/utils/performance.js");function $(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T()(e);if(t){var i=T()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S()(this,n)}}var K=function(e){C()(r,e);var t=$(r);function r(e){var n;return h()(this,r),n=t.call(this,e),d()(z()(n),"dispatchAnalytics",(function(e){var t=n.props,r=t.appearance,i=t.createAnalyticsEvent;e&&e.attributes&&(e.attributes.display||(e.attributes.display=r)),Object(q.d)(e,i)})),n.state={id:H()()},n}return g()(r,[{key:"componentDidMount",value:function(){null===r.CardContent&&(this.props.importer||r.moduleImporter)(this)}},{key:"componentWillUnmount",value:function(){var e=this.state.id;Object(G.a)(e),Object(G.b)(e)}},{key:"componentDidCatch",value:function(e,t){var n=this.props.appearance;if("APIError"===e.name)throw e;this.dispatchAnalytics(Object(q.p)(n,e,t))}},{key:"render",value:function(){var e=this.props,t=e.url,n=e.appearance,o=e.isSelected,a=e.isFrameVisible,s=e.onClick,l=e.container,c=e.onResolve,u=e.testId,d=e.showActions,p=e.inheritDimensions,m=e.platform,f=e.embedIframeRef;if(!t)throw new Error("@atlaskit/smart-card: url property is missing.");return null!==r.CardContent?i.a.createElement(r.CardContent,{id:this.state.id,url:t,appearance:n,onClick:s,isSelected:o,isFrameVisible:a,dispatchAnalytics:this.dispatchAnalytics,container:l,onResolve:c,testId:u,showActions:d,inheritDimensions:p,platform:m,embedIframeRef:f}):i.a.createElement(W.a,{key:"chunk-placeholder",link:t})}}],[{key:"moduleImporter",value:function(e){n.e(18).then(n.bind(null,"./node_modules/@atlaskit/smart-card/dist/esm/view/CardWithUrl/component-lazy/index.js")).then((function(t){r.CardContent=t.LazyCardWithUrlContent,e.forceUpdate()}))}}]),r}(i.a.PureComponent);d()(K,"CardContent",null);var Y=n("./node_modules/@atlaskit/smart-card/dist/esm/utils/index.js");function Z(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T()(e);if(t){var i=T()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S()(this,n)}}var J=function(e){C()(n,e);var t=Z(n);function n(){return h()(this,n),t.apply(this,arguments)}return g()(n,[{key:"render",value:function(){return Object(Y.b)(this.props)?i.a.createElement(F,this.props):i.a.createElement(K,this.props)}}]),n}(i.a.PureComponent),Q=I(q.c)(L()(J)),X=(n("./node_modules/@atlaskit/smart-card/dist/esm/state/context/index.js"),n("./node_modules/@atlaskit/media-ui/dist/esm/EmbedCard/components/styled.js"));function ee(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=T()(e);if(t){var i=T()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return S()(this,n)}}var te=["http://cdn.iframe.ly","https://cdn.iframe.ly","https://iframely.staging.atl-paas.net","https://iframely.prod.atl-paas.net"],ne=(i.a.Component,n("./packages/shared-state/index.ts")),re=n("./node_modules/react-intl/lib/index.es.js"),ie=n("./packages/feature-flag-client/index.ts"),oe=n("./app/src/components/CardFronts/LinkCard.less"),ae=n.n(oe),se=n("./app/src/components/CardFronts/EditCardButton.tsx"),le=n("./app/scripts/network/object-resolver-client/index.ts");function ce(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ce(o,r,i,a,s,"next",e)}function s(e){ce(o,r,i,a,s,"throw",e)}a(void 0)}))}}function de(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function pe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function me(e,t){return(me=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function fe(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?he(e):t}function he(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function ve(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function ge(e){return(ge=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function be(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ye=new(function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&me(e,t)}(l,e);var t,n,r,i,o,a,s=(t=l,function(){var e,n=ge(t);if(ve()){var r=ge(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return fe(this,e)});function l(){var e;de(this,l);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return be(he(e=s.call.apply(s,[this].concat(n))),"unauthorizedUrls",new Set),be(he(e),"authorizedProviders",new ne.b(new Set)),e}return n=l,(r=[{key:"prefetchData",value:(a=ue(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",void 0);case 1:case"end":return e.stop()}}),e)}))),function(){return a.apply(this,arguments)})},{key:"fetchData",value:(o=ue(regeneratorRuntime.mark((function e(t){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.objectResolverClient.resolveUrl(t,{forceFetch:this.unauthorizedUrls.has(t),publicLinksEnabled:Object(ie.seesVersionedVariation)("wildcard.public-links","beta"),sourceComponent:"link-card"});case 2:if(n=e.sent){e.next=5;break}throw new _.a("error","","Could not resolve URL.","ResolveUnsupportedError");case 5:return"unauthorized"===n.meta.access?this.unauthorizedUrls.add(t):(this.unauthorizedUrls.has(t)&&this.unauthorizedUrls.delete(t),this.authorizedProviders.value.has(n.meta.definitionId)||this.authorizedProviders.setValue((function(e){var t=new Set(e);return t.add(n.meta.definitionId),t}))),e.abrupt("return",n);case 7:case"end":return e.stop()}}),e,this)}))),function(e){return o.apply(this,arguments)})}])&&pe(n.prototype,r),i&&pe(n,i),l}(j.a)),ke=n("./app/src/components/ErrorBoundary/index.ts"),we=n("./packages/atlassian-analytics/index.ts");function je(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return xe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return xe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function xe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ce=["jira-object-provider","bitbucket-object-provider"],Oe=function(e){var t=e.url,n=e.openEditor,o=e.hideCover,l=e.locale,c=void 0===l?"en":l,u=e.isEditable,d=e.hideActions,p=e.analyticsContainers,m=Object(se.b)(),f=m.showEditCardButton,h=m.hideEditCardButton,v=m.shouldShowEditCardButton,g=_e(Object(ne.c)(ye.authorizedProviders),1)[0],b=_e(Object(r.useState)(le.objectResolverClient.isCached(t)),2),y=b[0],k=b[1],w=Object(ie.useSeesVersionedVariation)("wildcard.public-links","beta"),j=_e(Object(r.useState)(!1),2),_=j[0],x=j[1],C=_e(Object(r.useState)(),2),O=C[0],S=C[1],E=_e(Object(r.useState)(Date.now()),2),T=E[0],P=E[1],N=_e(Object(r.useState)(!1),2),I=N[0],A=N[1];Object(r.useEffect)((function(){I&&O&&g.has(O)&&(P(Date.now()),A(!1))}),[I,O,g]),Object(r.useEffect)((function(){var e=function(){var e,n=(e=regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,le.objectResolverClient.resolveUrl(t,{publicLinksEnabled:w,sourceComponent:"link-card"});case 2:(n=e.sent)?(k("not_found"!==n.meta.visibility),S(n.meta.definitionId),A("unauthorized"===n.meta.access),x(n.meta.key&&Ce.includes(n.meta.key)||Ce.includes(n.meta.definitionId))):k(!1),n&&"not_found"!==n.meta.visibility?k(!0):k(!1);case 5:case"end":return e.stop()}}),e)})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){je(o,r,i,a,s,"next",e)}function s(e){je(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return n.apply(this,arguments)}}();k(!1),e()}),[t,w]),Object(r.useEffect)((function(){we.Analytics.sendViewedComponentEvent({componentType:"card",componentName:"linkCard",source:"cardView",containers:p,attributes:{provider:T}})}),[p,T]);var D=Object(r.useCallback)((function(){we.Analytics.sendClickedLinkEvent({linkName:"linkCard",source:"cardView",containers:p,attributes:{provider:T}})}),[p,T]),B=i.a.createElement("a",{className:ae.a.link,href:t,target:"_blank",onClick:D},t),R=y?i.a.createElement(ke.ErrorBoundary,{sendCrashEvent:!1,errorHandlerComponent:function(){return B}},i.a.createElement(s.a,{client:ye,key:T},i.a.createElement(re.c,{locale:c},i.a.createElement("a",{className:ae.a.link,href:t,target:"_blank",onClick:function(e){return e.stopPropagation()}},i.a.createElement(Q,{onClick:function(e){e.preventDefault(),e.stopPropagation(),window.open(t,"_blank"),D()},appearance:"block",url:t,inheritDimensions:!0,showActions:!d}))))):B;return i.a.createElement("div",{className:a()({[ae.a.smartLinkCard]:y,[ae.a.linkCard]:!y,[ae.a.hideCover]:o,[ae.a.hasBadge]:_}),onFocus:f,onBlur:h,onMouseOver:f,onMouseOut:h},i.a.createElement(se.a,{onClick:n,shouldShow:u&&v}),R)}},"./app/src/components/CardFronts/SeparatorCard.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/SeparatorCard.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardFronts/SeparatorCard.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"SeparatorCard",(function(){return c}));var r=n("./packages/atlassian-analytics/index.ts"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./app/src/components/CardFronts/EditCardButton.tsx"),s=n("./app/src/components/CardFronts/SeparatorCard.less"),l=n.n(s),c=function(e){var t=e.openEditor,n=e.isEditable,s=e.analyticsContainers,c=Object(a.b)(),u=c.showEditCardButton,d=c.hideEditCardButton,p=c.shouldShowEditCardButton;return Object(i.useEffect)((function(){r.Analytics.sendViewedComponentEvent({componentType:"card",componentName:"separatorCard",source:"cardView",containers:s})}),[s]),o.a.createElement("div",{onFocus:u,onBlur:d,onMouseOver:u,onMouseOut:d},o.a.createElement("span",{className:l.a.separatorCardFront}),o.a.createElement(a.a,{onClick:t,shouldShow:n&&p}))}},"./app/src/components/CardTemplatesPopover/CardTemplatesButton.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesButton.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardTemplatesPopover/CardTemplatesQuery.graphql":function(e,t){var n={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"template"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idChecklists"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"left"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rotate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageScaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brightness"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkItems"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}],loc:{start:0,end:1031}};n.loc.source={body:"query CardTemplates($boardId: ID!) {\n  board(id: $boardId) @client {\n    id\n    members {\n      id\n      avatarUrl\n      initials\n    }\n    cards(filter: template) {\n      id\n      idBoard\n      shortLink\n      name\n      isTemplate\n      closed\n      idList\n      idChecklists\n      attachments {\n        id\n      }\n      stickers {\n        id\n        top\n        left\n        rotate\n        zIndex\n        image\n        imageUrl\n        imageScaled {\n          id\n          width\n          height\n          url\n          scaled\n        }\n      }\n      idLabels\n      labels {\n        id\n        name\n        color\n        idBoard\n      }\n      idMembers\n      cover {\n        scaled {\n          url\n          width\n          height\n          scaled\n        }\n        edgeColor\n        color\n        size\n        brightness\n      }\n      badges {\n        attachments\n        checkItems\n        description\n        attachmentsByType {\n          trello {\n            board\n            card\n          }\n        }\n      }\n    }\n  }\n}\n",name:"GraphQL request",locationOffset:{line:1,column:1}};function r(e,t){if("FragmentSpread"===e.kind)t.add(e.name.value);else if("VariableDefinition"===e.kind){var n=e.type;"NamedType"===n.kind&&t.add(n.name.value)}e.selectionSet&&e.selectionSet.selections.forEach((function(e){r(e,t)})),e.variableDefinitions&&e.variableDefinitions.forEach((function(e){r(e,t)})),e.definitions&&e.definitions.forEach((function(e){r(e,t)}))}var i={};function o(e,t){for(var n=0;n<e.definitions.length;n++){var r=e.definitions[n];if(r.name&&r.name.value==t)return r}}n.definitions.forEach((function(e){if(e.name){var t=new Set;r(e,t),i[e.name.value]=t}})),e.exports=n,e.exports.CardTemplates=function(e,t){var n={kind:e.kind,definitions:[o(e,t)]};e.hasOwnProperty("loc")&&(n.loc=e.loc);var r=i[t]||new Set,a=new Set,s=new Set;for(r.forEach((function(e){s.add(e)}));s.size>0;){var l=s;s=new Set,l.forEach((function(e){a.has(e)||(a.add(e),(i[e]||new Set).forEach((function(e){s.add(e)})))}))}return a.forEach((function(t){var r=o(e,t);r&&n.definitions.push(r)})),n}(n,"CardTemplates")},"./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardTemplatesPopover/TemplateCardComposer.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/TemplateCardComposer.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/CardTemplatesPopover/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CardTemplatesPopover",(function(){return re})),n.d(t,"CreateCardFromTemplatePopover",(function(){return ye})),n.d(t,"CardTemplatesButton",(function(){return Be}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplates"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"template"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idChecklists"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"left"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rotate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageScaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brightness"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkItems"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]};var s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplateMember"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"colorBlind"},arguments:[],directives:[]}]}}]}}]}}]};function l(e){return o.c(s,e)}var c=n("./packages/nachos/spinner.ts"),u=n("./packages/nachos/button.ts"),d=n("./packages/nachos/tooltip.ts"),p=n("./app/gamma/src/components/canonical-components/index.tsx"),m=n("./packages/trello-canonical-components/src/card-front/Card.tsx");function f(e){var t=e.cover;return t?t.color?{url:"",color:t.color,size:t.size,brightness:t.brightness}:t.scaled&&t.edgeColor?{url:"",edgeColor:t.edgeColor,previews:t.scaled.map((function(e){return{scaled:e.scaled,height:e.height,url:e.url,width:e.width}})),size:t.size,brightness:t.brightness}:null:null}function h(e){var t=e.badges,n=t.attachments,r=t.attachmentsByType,i=t.description,o=t.checkItems;return{attachments:n,description:i,attachmentsByType:{trello:{board:r.trello.board,card:r.trello.card}},checklistItems:o,checklistItemsChecked:0,comments:0,due:null,start:null,subscribed:!1,viewingMemberVoted:!1,votes:0,dueComplete:!1,checkItemsEarliestDue:null}}function v(e){return e.labels.map((function(e){var t=e.id,n=e.name,r=e.color;return{id:t,name:n,idBoard:e.idBoard,color:r||null}}))}function g(e,t){var n=e.idMembers,r=[];return n.forEach((function(e){var n=t.find((function(t){return t.id===e}));n&&r.push({avatars:n.avatarUrl?{30:"".concat(n.avatarUrl,"/30.png")}:null,initials:n.initials||"",id:n.id,enterprises:[],idPremOrgsAdmin:[]})})),r}function b(e){return e.stickers.map((function(e){var t=e.imageScaled.find((function(e){return e.url.includes("@2x")}));return{id:e.id,image:e.image,imageUrl:e.imageUrl,left:e.left,top:e.top,rotate:e.rotate,zIndex:e.zIndex,imageUrl2x:t?t.url:null}}))}function y(e,t){return{cover:f(e),badges:h(e),labels:v(e),members:g(e,t),stickers:b(e)}}var k=n("./app/common/lib/util/i18n/index.ts"),w=n("./app/common/components/singlespa/router-link.tsx"),j={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"CreateCardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"listId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"name"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"closed"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"traceId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createCardTemplate"},arguments:[{kind:"Argument",name:{kind:"Name",value:"listId"},value:{kind:"Variable",name:{kind:"Name",value:"listId"}}},{kind:"Argument",name:{kind:"Name",value:"name"},value:{kind:"Variable",name:{kind:"Name",value:"name"}}},{kind:"Argument",name:{kind:"Name",value:"closed"},value:{kind:"Variable",name:{kind:"Name",value:"closed"}}},{kind:"Argument",name:{kind:"Name",value:"traceId"},value:{kind:"Variable",name:{kind:"Name",value:"traceId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idChecklists"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"left"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rotate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageScaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"idMembers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkItems"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]};var _=n("./packages/analytics/index.ts"),x=n("./packages/atlassian-analytics/index.ts"),C=n("./packages/nachos/icons/add.tsx"),O=n("./packages/nachos/icons/close.tsx"),S=n("./packages/keybindings/index.ts"),E=n("./node_modules/classnames/index.js"),T=n.n(E),P=n("./app/src/components/CardTemplatesPopover/CardTemplatesQuery.graphql"),N=n.n(P),I=n("./app/src/components/CardTemplatesPopover/TemplateCardComposer.less"),A=n.n(I);function D(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function R(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){L(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function M(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return F(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return F(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function F(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var V=Object(k.forTemplate)("card-templates"),z=Object(k.forTemplate)("card_composer_inline"),U=function(e){var t,n=e.idList,a=e.idBoard,s=e.closedComponent,l=e.onCreate,c=M(Object(r.useState)(!1),2),d=c[0],p=c[1],m=M(Object(r.useState)(""),2),f=m[0],h=m[1],v=M(o.b(j,t),2),g=v[0],b=v[1].loading;Object(S.useShortcut)((function(){p(!1)}),{scope:S.Scope.Popover,key:S.Key.Escape,enabled:d});var y=function(e){return g({variables:{traceId:e,listId:n,name:f.trim(),closed:!1},update(e,t){var n=t.data,r=n&&n.createCardTemplate;if(r){var i=e.readQuery({query:N.a,variables:{boardId:a}});if(i){var o=i.board,s=o&&o.cards;s&&e.writeQuery({query:N.a,variables:{boardId:a},data:{board:R({},o,{cards:s.concat(r)})}})}}}})},k=function(){h(""),p(!1)},w=function(){var e,t=(e=regeneratorRuntime.mark((function e(){var t,n,r,i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==f.trim().length){e.next=3;break}return e.abrupt("return");case 3:return t=x.Analytics.startTask({taskName:"create-card",subTask:"template",source:"createCardTemplateInlineDialog"}),e.prev=4,e.next=7,y(t);case 7:n=e.sent,r=n.data,Object(_.trackUe)({category:_.Noun.CARD_TEMPLATES,verb:_.Verb.CREATES,directObj:_.Noun.CARD_TEMPLATE,indirectObj:_.Noun.CARD_TEMPLATES_MENU,method:"by clicking the create new template button"}),k(),l&&r&&r.createCardTemplate&&(i=r.createCardTemplate,l(i)),x.Analytics.taskSucceeded({taskName:"create-card",subTask:"template",traceId:t,source:"createCardTemplateInlineDialog"}),e.next=18;break;case 15:throw e.prev=15,e.t0=e.catch(4),x.Analytics.taskFailed({taskName:"create-card",subTask:"template",traceId:t,source:"createCardTemplateInlineDialog",error:e.t0});case 18:case"end":return e.stop()}}),e,null,[[4,15]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){D(o,r,i,a,s,"next",e)}function s(e){D(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(){return t.apply(this,arguments)}}();return d?i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:A.a.listCard},i.a.createElement("div",{className:T()(A.a.listCardDetails,"u-clearfix")},i.a.createElement("textarea",{value:f,className:A.a.templateCardComposerTextarea,dir:"auto",placeholder:V("template-title"),autoFocus:!0,onBlur:function(){0===f.length&&k()},onKeyDown:function(e){Object(S.getKey)(e)===S.Key.Enter&&(e.preventDefault(),w())},onChange:function(e){return h(e.target.value)}}))),i.a.createElement("div",{className:A.a.listCardButtons},i.a.createElement(u.Button,{onClick:w,className:A.a.addButton,appearance:"primary",isDisabled:b,isLoading:b},z("add")),i.a.createElement("a",{role:"button",className:A.a.closeButton,onClick:k},i.a.createElement(O.a,{dangerous_className:A.a.closeIcon,color:"quiet",size:"large"})))):s?s((function(){return p(!0)})):i.a.createElement("a",{role:"button",className:A.a.openTemplateCardComposer,href:"#",onClick:function(e){e.preventDefault(),p(!0)}},i.a.createElement(C.a,{dangerous_className:A.a.iconAdd,size:"small"}),i.a.createElement("span",null,V("create-a-new-template")))},H=n("./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less"),W=n.n(H),q=n("./packages/nachos/icons/edit.tsx"),G=n("./packages/nachos/src/components/Icon/index.ts"),$=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M9 4a1 1 0 011-1h4a1 1 0 011 1h4a1 1 0 011 1v1H4V5a1 1 0 011-1h4zm0 7a1 1 0 112 0v5a1 1 0 11-2 0v-5zm4 0a1 1 0 112 0v5a1 1 0 11-2 0v-5z",fill:"currentColor"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M5.858 18.153L5 7h14l-.858 11.153A2 2 0 0116.148 20H7.852a2 2 0 01-1.994-1.847zM7.852 18L7.16 9h9.68l-.692 9H7.852z",fill:"currentColor"}))},K=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,o=e.color,a=e.label,s=e.block;return i.a.createElement(G.a,{testId:t,size:r,dangerous_className:n,color:o,block:s,label:a||"TrashIcon",glyph:$})},Y=n("./packages/shared-state/index.ts"),Z=n("./app/src/components/Label/index.ts");function J(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function X(){return(X=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ee(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var te=Object(k.forTemplate)("card-templates"),ne=function(e){var t=e.onClick,n=ee(e,["onClick"]);return i.a.createElement("a",X({},n,{href:"#",role:"button",onClick:function(e){e.preventDefault(),t&&t(e)}}))},re=function(e){var t,n,r=e.idBoard,s=e.idList,f=e.onSelect,h=e.onTemplateCreated,v=e.confirmDelete,g=e.editTemplate,b=e.isEditing,k=e.setIsEditing;Object(S.useShortcut)((function(){k(!1)}),{scope:S.Scope.Popover,key:S.Key.Escape,enabled:b});var j,x=(j={fetchPolicy:"cache-and-network",variables:{boardId:r}},o.c(a,j)),C=x.data,O=x.loading,E=x.error,T=l({fetchPolicy:"cache-and-network"}),P=T.data,N=T.loading,I=(C&&C.board&&C.board.cards?C.board.cards:[]).filter((function(e){return e&&e.isTemplate})).sort((function(e,t){return e.name.localeCompare(t.name,void 0,{numeric:!0,caseFirst:"upper"})})),A=C&&C.board&&C.board.members?C.board.members:[],D=J(Object(Y.c)(Z.a),1)[0];if(E)return i.a.createElement("div",{id:"cardTemplatesError"},te("something-went-wrong"));if(!C&&(O||N))return i.a.createElement(c.a,{centered:!0});if(0===I.length)return i.a.createElement(U,{idList:s,idBoard:r,onCreate:h,closedComponent:function(e){return i.a.createElement("div",null,i.a.createElement("p",{className:W.a.emptyStateMessage},te("you-dont-have-any-templates")),i.a.createElement(u.Button,{onClick:e,className:W.a.createNewTemplateButton,appearance:"primary",shouldFitContainer:!0},te("create-a-new-template")))}});var B=null==P||null===(t=P.member)||void 0===t||null===(n=t.prefs)||void 0===n?void 0:n.colorBlind;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:W.a.templateCards},I.map((function(e){var t=y(e,A),n=t.cover,r=t.badges,o=t.labels,a=t.members,s=t.stickers;return i.a.createElement("div",{className:W.a.templateCardContainer,key:e.id},i.a.createElement(m.f,{className:W.a.templateCard,onClick:function(){return f(e.id)},cover:n,colorBlind:B,hasStickers:!!s.length,linkComponent:ne},i.a.createElement(p.a,{name:e.name,cover:n,badges:r,isTemplate:e.isTemplate,labels:o,expandLabels:D.showText,members:a,stickers:s,colorBlind:B})),b&&i.a.createElement("div",{className:W.a.controlButtons},i.a.createElement(d.a,{content:te("edit-this-template")},i.a.createElement(w.a,{className:W.a.noTextDecoration,onClick:function(){Object(_.trackUe)({category:_.Noun.CARD_TEMPLATES,verb:_.Verb.OPENS,directObj:_.Noun.CARD_TEMPLATE,indirectObj:_.Noun.CARD_TEMPLATES_MENU,method:"by clicking the edit this template button"}),null==g||g(e.id)},href:"/c/".concat(e.shortLink)},i.a.createElement(u.Button,{tabIndex:-1,iconBefore:i.a.createElement(q.a,{color:"gray",size:"small"}),className:W.a.controlButton}))),i.a.createElement(d.a,{content:te("delete-this-template")},i.a.createElement(u.Button,{iconBefore:i.a.createElement(K,{color:"gray",size:"small"}),onClick:function(){return v(e.id)},className:W.a.controlButton}))))}))),i.a.createElement(U,{idList:s,idBoard:r,onCreate:h}),b?i.a.createElement(u.Button,{className:W.a.finishEditingButton,onClick:function(){return k(!1)},shouldFitContainer:!0},te("finish-editing")):i.a.createElement(u.Button,{className:W.a.editTemplatesButton,onClick:function(){return k(!0)},shouldFitContainer:!0},te("edit-templates")))},ie={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"card"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"cardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"shortLink"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idChecklists"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"stickers"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"top"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"left"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"rotate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"zIndex"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"image"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"imageScaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"idLabels"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idMembers"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idBoard"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idAttachment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"width"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"height"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"scaled"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"edgeColor"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"size"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"brightness"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"checkItems"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"description"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachmentsByType"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"trello"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"card"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]};var oe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"CreateCardFromTemplateLists"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"closed"},arguments:[],directives:[]}]}}]}}]}}]};var ae=n("./packages/nachos/select.ts"),se=n("./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less"),le=n.n(se);function ce(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function ue(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){ce(o,r,i,a,s,"next",e)}function s(e){ce(o,r,i,a,s,"throw",e)}a(void 0)}))}}function de(){return(de=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function pe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function me(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return fe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function fe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var he=Object(k.forTemplate)("card-templates");function ve(e,t){var n=me(Object(r.useState)(e||t),2),i=n[0],o=n[1],a=me(Object(r.useState)(!1),2),s=a[0],l=a[1];return Object(r.useEffect)((function(){o(e),s||e===t||l(!0)}),[t,s,e]),[i,o,s]}var ge=function(e){var t=e.checked,n=e.setChecked,r=e.id,o=e.labelKey,a=e.count,s=e.disabled;return i.a.createElement("div",{className:"check-div u-clearfix"},i.a.createElement("input",{disabled:s,type:"checkbox",id:r,"aria-checked":t,checked:t,onChange:function(e){return n(e.target.checked)}}),i.a.createElement("label",{htmlFor:r},he(o,{count:a})))},be=function(e){var t=e.loaded,n=pe(e,["loaded"]),o=Object(r.useRef)(null);return Object(r.useEffect)((function(){o.current&&(o.current.focus(),o.current.select())}),[t]),i.a.createElement("textarea",de({className:le.a.templateCardEditTitle,ref:o},n))},ye=function(e){var t,n,a,s,d=e.idCard,m=e.createCard,f=e.showLists,h=e.hideEditButton,v=e.editTemplate,g=(s={variables:{cardId:d}},o.c(ie,s)),b=g.data,k=g.loading,j=g.error,x=b&&b.card?b.card:void 0,C=function(e){return o.c(oe,e)}({skip:!x||k,fetchPolicy:"cache-and-network",variables:{boardId:x&&x.idBoard||""}}),O=C.data,E=C.loading,T=C.error,P=l({fetchPolicy:"cache-and-network"}),N=P.data,I=P.loading,A=me(ve(x&&x.name?x.name:"",""),3),D=A[0],B=A[1],R=A[2],L=me(ve(x&&x.idList?x.idList:void 0,void 0),2),M=L[0],F=L[1],V=me(Object(r.useState)(!0),2),z=V[0],U=V[1],H=me(Object(r.useState)(!0),2),W=H[0],q=H[1],G=me(Object(r.useState)(!0),2),$=G[0],K=G[1],J=me(Object(r.useState)(!0),2),Q=J[0],X=J[1],ee=me(Object(r.useState)(!0),2),te=ee[0],ne=ee[1],re=me(Object(r.useState)(!1),2),se=re[0],ce=re[1],de=me(Object(r.useState)(!1),2),pe=de[0],fe=de[1],ye=(O&&O.board&&O.board.lists?O.board.lists:[]).map((function(e){return{label:e.name,value:e.id}})),ke=ye&&ye.find((function(e){return e.value===M}))||ye[0],we=me(Object(Y.c)(Z.a),1)[0],je=Object(r.useCallback)(ue(regeneratorRuntime.mark((function e(){var t,n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(0!==(t=D.trim()).length){e.next=3;break}return e.abrupt("return");case 3:return n=t.replace(/\r/g," ").replace(/\n/g," "),ce(!0),r=[],z&&r.push("checklists"),W&&r.push("attachments"),$&&r.push("stickers"),te&&r.push("members"),Q&&r.push("labels"),e.prev=11,e.next=14,m(n,d,r,M);case 14:e.next=19;break;case 16:e.prev=16,e.t0=e.catch(11),fe(!0);case 19:ce(!1);case 20:case"end":return e.stop()}}),e,null,[[11,16]])}))),[z,W,$,te,Q,m,D,d,M]);if(I||k||f&&E)return i.a.createElement(c.a,{centered:!0});if(j||!x||pe||f&&T)return i.a.createElement("div",{id:"createCardFromTemplateError"},he("something-went-wrong"));var _e=x.idChecklists.length>0,xe=x.attachments.length>0,Ce=x.stickers.length>0,Oe=x.idLabels.length>0,Se=x.idMembers.length>0,Ee=_e||xe||Ce||Oe||Se,Te=y(x,x.members),Pe=Te.cover,Ne=Te.badges,Ie=Te.labels,Ae=Te.members,De=Te.stickers,Be=Pe;"full"===(null===(t=Be)||void 0===t?void 0:t.size)&&(Be.size="normal"),z||(Ne.checklistItems=0),W||(Ne.attachments=0,Ne.attachmentsByType.trello.board=0,Ne.attachmentsByType.trello.card=0,x.cover&&x.cover.idAttachment&&(Be=null));var Re=null==N||null===(n=N.member)||void 0===n||null===(a=n.prefs)||void 0===a?void 0:a.colorBlind;return i.a.createElement("div",null,i.a.createElement("div",{className:le.a.templateCard},i.a.createElement(p.a,{name:x.name,cover:Be,badges:Ne,labels:Q?Ie:[],expandLabels:we.showText,members:te?Ae:[],stickers:$?De:[],colorBlind:Re,replacements:{CardTitle:i.a.createElement("div",{className:le.a.templateCardNameContainer},i.a.createElement(be,{disabled:se,name:"title",placeholder:x.name||he("title"),value:D,loaded:R,onChange:function(e){return B(e.target.value)},onKeyDown:function(e){Object(S.getKey)(e)===S.Key.Enter&&(e.preventDefault(),je())}}))}})),Ee&&i.a.createElement(i.a.Fragment,null,i.a.createElement("label",null,he("keep")),_e&&i.a.createElement(ge,{disabled:se,id:"idKeepChecklists",checked:z,setChecked:U,labelKey:"checklists",count:x.idChecklists.length}),Oe&&i.a.createElement(ge,{disabled:se,id:"idKeepLabels",checked:Q,setChecked:X,labelKey:"labels",count:x.idLabels.length}),Se&&i.a.createElement(ge,{disabled:se,id:"idKeepMembers",checked:te,setChecked:ne,labelKey:"members",count:x.idMembers.length}),xe&&i.a.createElement(ge,{disabled:se,id:"idKeepAttachments",checked:W,setChecked:q,labelKey:"attachments",count:x.attachments.length}),Ce&&i.a.createElement(ge,{disabled:se,id:"idKeepStickers",checked:$,setChecked:K,labelKey:"stickers",count:x.stickers.length})),f&&i.a.createElement("label",null,he("list"),i.a.createElement(ae.a,{options:ye,value:ke,isDisabled:!ye.length,onChange:function(e){var t=e.value;return F(t)}})),i.a.createElement(u.Button,{className:le.a.createCardButton,isLoading:se,isDisabled:se||0===D.trim().length,appearance:"primary",shouldFitContainer:!0,onClick:je},he("create-card")),!h&&i.a.createElement(w.a,{onClick:function(){Object(_.trackUe)({category:_.Noun.CARD_TEMPLATES,verb:_.Verb.OPENS,directObj:_.Noun.CARD_TEMPLATE,indirectObj:_.Noun.CREATE_CARD_FROM_TEMPLATE_MENU,method:"by clicking the edit this template button"}),null==v||v(d)},className:le.a.editTemplateLink,href:"/c/".concat(x.shortLink)},i.a.createElement(u.Button,{className:le.a.editTemplateButton,isDisabled:se,appearance:"default",shouldFitContainer:!0},he("edit-this-template"))))},ke=n("./app/scripts/controller/navigate.js"),we=n("./packages/nachos/popover.ts"),je=n("./app/src/components/PopoverConfirm/index.ts"),_e={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"DeleteCardTemplate"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idCard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deleteCard"},arguments:[{kind:"Argument",name:{kind:"Name",value:"idCard"},value:{kind:"Variable",name:{kind:"Name",value:"idCard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]}]}}]}}]};var xe=n("./app/src/components/CardTemplatesPopover/CardTemplatesButton.less"),Ce=n.n(xe);function Oe(){return(Oe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Se(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Ee(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Se(o,r,i,a,s,"next",e)}function s(e){Se(o,r,i,a,s,"throw",e)}a(void 0)}))}}function Te(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Pe(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Pe(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Pe(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ne,Ie=Object(k.forNamespace)("view title"),Ae=Object(k.forTemplate)("list"),De=Object(k.forNamespace)(["confirm","delete template card"]);!function(e){e[e.CardTemplates=0]="CardTemplates",e[e.CreateCardFromTemplate=1]="CreateCardFromTemplate",e[e.ConfirmDelete=2]="ConfirmDelete"}(Ne||(Ne={}));var Be=function(e){var t,n=e.idList,a=e.idBoard,s=e.createCard,l=Te(Object(r.useState)(!1),2),c=l[0],u=l[1],p=Te(Object(r.useState)(""),2),m=p[0],f=p[1],h=Te(Object(r.useState)(""),2),v=h[0],g=h[1],b=Te(o.b(_e,t),1)[0],y=Object(r.useCallback)((function(){Object(_.trackUe)({category:_.Noun.CARD_TEMPLATES,verb:_.Verb.OPENS,directObj:_.Noun.CARD_TEMPLATES_MENU,context:{entry:_.Noun.LIST}})}),[]),k=Object(r.useCallback)((function(){u(!1)}),[]),w=Object(we.e)({initialScreen:Ne.CardTemplates,onShow:y,onHide:k}),j=w.toggle,x=w.hide,C=w.triggerRef,O=w.popoverProps,S=w.push,E=w.pop,T=function(){var e=Ee(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(v){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,b({variables:{idCard:v}});case 4:Object(_.trackUe)({category:_.Noun.CARD_TEMPLATES,verb:_.Verb.DELETES,directObj:_.Noun.CARD_TEMPLATE,indirectObj:_.Noun.CARD_TEMPLATES_MENU}),E();case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),P=function(){var e=Ee(regeneratorRuntime.mark((function e(t,n,r){var i;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,s(t,n,r);case 3:i=e.sent,Object(_.trackUe)({category:_.Noun.CARD_TEMPLATES,verb:_.Verb.COMPLETES,directObj:_.Noun.CREATE_CARD_FROM_TEMPLATE_MENU,context:{entry:_.Noun.LIST}}),x(),i(),e.next=11;break;case 9:e.prev=9,e.t0=e.catch(0);case 11:case"end":return e.stop()}}),e,null,[[0,9]])})));return function(t,n,r){return e.apply(this,arguments)}}();return i.a.createElement(i.a.Fragment,null,i.a.createElement(d.a,{content:Ae("create-from-template"),delay:100,hideTooltipOnMouseDown:!0},i.a.createElement("a",{className:Ce.a.cardTemplateButton,ref:C,onClick:j,role:"button",href:"#"},i.a.createElement("span",{className:"icon-sm icon-template-card dark-background-hover"}))),i.a.createElement(we.b,Oe({},O,{dangerous_className:Ce.a.popover}),i.a.createElement(we.d,{id:Ne.CardTemplates,title:Ie("card templates")},i.a.createElement(re,{idList:n,idBoard:a,onSelect:function(e){f(e),S(Ne.CreateCardFromTemplate)},onTemplateCreated:function(e){x(),Object(ke.navigate)("/c/".concat(e.shortLink),{trigger:!0})},confirmDelete:function(e){g(e),S(Ne.ConfirmDelete)},isEditing:c,setIsEditing:u,editTemplate:function(){return x()}})),i.a.createElement(we.d,{id:Ne.CreateCardFromTemplate,title:Ie("create card")},i.a.createElement(ye,{idCard:m,createCard:P,editTemplate:function(){x()}})),i.a.createElement(we.d,{id:Ne.ConfirmDelete,title:De("title")},i.a.createElement(je.a,{confirmKey:"delete template card",confirmCallback:T,isDanger:!0}))))}},"./app/src/components/DateRangePicker/LazyDateRangePicker.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"Choice",(function(){return r})),n.d(t,"LazyDateRangePicker",(function(){return l}));var r,i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./packages/use-lazy-component/index.ts"),s=n("./app/src/components/ComponentWrapper/index.ts");!function(e){e[e.StartDate=0]="StartDate",e[e.DueDate=1]="DueDate"}(r||(r={}));var l=function(e){var t=Object(a.useLazyComponent)((function(){return n.e(59).then(n.bind(null,"./app/src/components/DateRangePicker/DateRangePicker.tsx"))}),{namedImport:"DateRangePicker"});return o.a.createElement(s.ComponentWrapper,{key:"date-range-picker"},o.a.createElement(i.Suspense,{fallback:null},o.a.createElement(t,e)))}},"./app/src/components/FreeTrial/FreeTrialBannerActive.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerActive.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/FreeTrial/FreeTrialBannerExpired.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerExpired.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/FreeTrial/FreeTrialPlanSelection.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialPlanSelection.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return H}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/tooltip.ts"),a=n("./node_modules/classnames/index.js"),s=n.n(a),l=n("./app/src/components/FreeTrial/FreeTrialPlanSelection.less"),c=n.n(l),u=n("./app/common/lib/util/i18n/index.ts"),d=n("./packages/product-features/index.ts"),p=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),m=n("./app/scripts/debug/constants.ts"),f=n("./packages/atlassian-analytics/index.ts"),h=n("./packages/test-ids/index.ts"),v=n("./packages/nachos/icons/board.tsx"),g=n("./packages/nachos/icons/power-up.tsx"),b=n("./packages/nachos/icons/image.tsx"),y=n("./packages/nachos/icons/search.tsx"),k=n("./packages/nachos/icons/sticker.tsx"),w=n("./packages/nachos/icons/table.tsx"),j=n("./packages/nachos/icons/calendar.tsx"),_=n("./packages/nachos/icons/heart.tsx"),x=n("./packages/nachos/icons/admin-chevron.tsx"),C=n("./packages/nachos/icons/subscribe.tsx"),O=n("./packages/nachos/icons/template-board.tsx"),S=n("./packages/nachos/icons/checklist.tsx"),E=n("./packages/nachos/icons/location.tsx"),T=n("./packages/nachos/icons/butler-bot.tsx"),P=n("./packages/nachos/icons/star.tsx");function N(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function I(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?N(Object(n),!0).forEach((function(t){A(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):N(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function A(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var D=Object(u.forNamespace)("upgrade-prompt-plan-selection-consolidated"),B=function(e,t){var n=[e,"features",t],r="free-team"===e||"boards"===t||"sta-team"===e&&"pups"===t||"free-team-nusku"===e&&"pups"===t;return{content:D([].concat(n,[e.includes("nusku")||e.includes("bc")?"content-joined":"content"])),tooltip:r?null:D([].concat(n,["tooltip"]))}},R=[I({icon:v.BoardIcon},B("bc-team","boards")),I({icon:g.a},B("bc-team","pups")),I({icon:T.a},B("bc-team","butler")),I({icon:C.a},B("bc-team","admin")),I({icon:_.a},B("bc-team","support")),I({icon:P.a},B("bc-team","more"))],L=[I({icon:g.a},B("bc-team-nusku","pups")),I({icon:T.a},B("bc-team-nusku","butler")),I({icon:w.TableIcon},B("bc-team-nusku","table")),I({icon:j.CalendarIcon},B("bc-team-nusku","calendar")),I({icon:E.LocationIcon},B("bc-team-nusku","map")),I({icon:S.a},B("bc-team-nusku","checklists")),I({icon:O.a},B("bc-team-nusku","templates")),I({icon:C.a},B("bc-team-nusku","observers")),I({icon:x.a},B("bc-team-nusku","admin")),I({icon:_.a},B("bc-team-nusku","support"))],M=[I({icon:v.BoardIcon},B("free-team","boards")),I({icon:g.a},B("free-team","pups")),I({icon:T.a},B("free-team","butler"))],F=[I({icon:v.BoardIcon},B("free-team-nusku","boards")),I({icon:g.a},B("free-team-nusku","pups")),I({icon:T.a},B("free-team-nusku","butler"))],V=[I({icon:v.BoardIcon},B("sta-team","boards")),I({icon:g.a},B("sta-team","pups")),I({icon:T.a},B("sta-team","butler")),I({icon:b.a},B("sta-team","custom-backgrounds")),I({icon:k.a},B("sta-team","custom-stickers")),I({icon:y.a},B("sta-team","saved-searches"))],z=function(e,t){return e?i.a.createElement(o.a,{content:e,component:o.b},t):t},U=D("after-trial",{price:"$".concat(Object(u.asMoney)(d.ProductFeatures.getPrice(d.Products.Organization.BusinessClass.current.yearly)/12)),downgradeOption:i.a.createElement("a",{key:"after-trial-downgrade",target:"_blank",href:"https://help.trello.com/article/836-cancel-trello-business-class"},D("after-trial-downgrade"))}),H=function(e){var t=e.type,o=e.trialLength,a=e.cta,l=e.orgId,u=e.hideSecondaryCta,d=void 0!==u&&u,v=e.isStandardVariationEnabled;return Object(r.useEffect)((function(){f.Analytics.sendScreenEvent({name:"planSelectionModal",containers:{organization:{id:l}}})}),[l]),i.a.createElement(p.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:m.Feature.FreeTrialExistingTeam}},i.a.createElement("div",{"data-test-id":"have-business-class"===t?h.FreeTrialTestIds.HaveBCPlanSelection:h.FreeTrialTestIds.TryBCPlanSelection,className:c.a.heading},i.a.createElement("h1",null,i.a.createElement("img",{src:n("./resources/images/moonshot/bc-sparkle.svg"),alt:"","aria-hidden":"true"}),D([t,"headline"],{dayCount:o})),i.a.createElement("h2",null,D([t,"description"],{dayCount:o}))),i.a.createElement("div",{className:c.a.bodyWrapper},v?i.a.createElement("div",{className:s()(c.a.freePlan,v&&c.a.freePlanNusku)},i.a.createElement("h2",null,D(["free-team-nusku","headline"])),i.a.createElement("ul",null,F.map((function(e,t){var n=e.icon,r=e.content,o=e.tooltip;return i.a.createElement("li",{key:t,className:s()(c.a.featureItem,!!o&&c.a.tooltipTarget)},z(o,i.a.createElement("div",{className:c.a.featureItemWrapper},i.a.createElement(n,{color:"quiet"}),i.a.createElement("div",null,i.a.createElement("span",{className:c.a.featureContent},r)))))})))):i.a.createElement("div",{className:s()(c.a.freePlan,v&&c.a.freePlanNusku)},i.a.createElement("h2",null,D(["free-team","headline"])),i.a.createElement("ul",null,M.map((function(e,t){var n=e.icon,r=e.content;return i.a.createElement("li",{key:t,className:c.a.featureItem},i.a.createElement(n,{color:"quiet"}),i.a.createElement("span",{className:c.a.featureContent},r))})))),v&&i.a.createElement("div",{className:c.a.staPlan},i.a.createElement("h2",null,D(["sta-team","headline"])),i.a.createElement("ul",null,V.map((function(e,t){var n=e.icon,r=e.content,o=e.tooltip;return i.a.createElement("li",{key:t,className:s()(c.a.featureItem,!!o&&c.a.tooltipTarget)},z(o,i.a.createElement("div",{className:c.a.featureItemWrapper},i.a.createElement(n,{color:"quiet"}),i.a.createElement("div",null,i.a.createElement("span",{className:c.a.featureContent},r)))))})))),v?i.a.createElement("div",{className:s()(c.a.bcPlan,c.a.bcPlanNusku)},i.a.createElement("div",{className:c.a.recommendedLabel},D([t,"tag"],{dayCount:o})),i.a.createElement("h2",null,D(["bc-team-nusku","headline"])),i.a.createElement("h3",{className:c.a.subLabel},D(["bc-team-nusku","everything-in-sta"])),i.a.createElement("ul",null,L.map((function(e,t){var n=e.icon,r=e.content,o=e.tooltip;return i.a.createElement("li",{key:t,className:s()(c.a.featureItem,!!o&&c.a.tooltipTarget)},z(o,i.a.createElement("div",{className:c.a.featureItemWrapper},i.a.createElement(n,{color:"quiet"}),i.a.createElement("div",null,i.a.createElement("span",{className:c.a.featureContent},r.replace(/&amp;/g,"&"))))))})))):i.a.createElement("div",{className:c.a.bcPlan},i.a.createElement("div",{className:c.a.recommendedLabel},D([t,"tag"],{dayCount:o})),i.a.createElement("h2",null,D(["bc-team","headline"])),i.a.createElement("ul",null,R.map((function(e,t){var n=e.icon,r=e.content,o=e.tooltip;return i.a.createElement("li",{key:t,className:s()(c.a.featureItem,!!o&&c.a.tooltipTarget)},z(o,i.a.createElement("div",{className:c.a.featureItemWrapper},i.a.createElement(n,{size:"medium",dangerous_className:c.a.featureIcon}),i.a.createElement("div",null,i.a.createElement("span",{className:c.a.featureContent},r)))))}))))),i.a.createElement("div",{className:c.a.actions},a,i.a.createElement("div",{className:c.a.trustedBy},i.a.createElement("span",null,D("trusted-by-teams-at")),i.a.createElement("img",{src:n("./resources/images/upgrade-prompts/pinterest.svg"),alt:"Pinterest",width:"22"}),i.a.createElement("img",{src:n("./resources/images/upgrade-prompts/google.svg"),alt:"Google",width:"64"}),i.a.createElement("img",{src:n("./resources/images/upgrade-prompts/fortnite.svg"),alt:"Fortnite",width:"58"}),i.a.createElement("img",{src:n("./resources/images/upgrade-prompts/peloton.svg"),alt:"Peloton",width:"85"})),i.a.createElement("p",{className:c.a.afterTrial},U),"try-business-class"===t&&!d&&i.a.createElement("a",{onClick:function(){f.Analytics.sendClickedButtonEvent({buttonName:"learnMoreAboutBCButton",source:"planSelectionModal",containers:{organization:{id:l}}})},href:"/business-class",className:c.a.secondaryCta,"data-test-id":h.FreeTrialTestIds.LearnMoreAboutBCButton},D([t,"secondary-cta"]))))}},"./app/src/components/FreeTrial/PlanSelection.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelection.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/FreeTrial/PlanSelection.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return E}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/icons/board.tsx"),a=n("./packages/nachos/icons/power-up.tsx"),s=n("./packages/nachos/icons/butler-bot.tsx"),l=n("./packages/nachos/icons/subscribe.tsx"),c=n("./packages/nachos/icons/heart.tsx"),u=n("./packages/nachos/icons/star.tsx"),d=n("./packages/nachos/icons/business-class.tsx"),p=n("./packages/nachos/tooltip.ts"),m=n("./node_modules/classnames/index.js"),f=n.n(m),h=n("./app/src/components/FreeTrial/PlanSelection.less"),v=n.n(h),g=n("./app/common/lib/util/i18n/index.ts"),b=n("./packages/product-features/index.ts"),y=n("./packages/test-ids/index.ts");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _=Object(g.forNamespace)("upgrade prompt plan selection"),x=function(e,t){var n=[e,"features",t];return{content:_([].concat(n,["bc team"===e?"content-joined":"content"])),tooltip:"free team"===e||"boards"===t?null:_([].concat(n,["tooltip"]))}},C=[w({icon:i.a.createElement(o.BoardIcon,null)},x("bc team","boards")),w({icon:i.a.createElement(a.a,null)},x("bc team","pups")),w({icon:i.a.createElement(s.a,null)},x("bc team","butler")),w({icon:i.a.createElement(l.a,null)},x("bc team","admin")),w({icon:i.a.createElement(c.a,null)},x("bc team","support")),w({icon:i.a.createElement(u.a,null)},x("bc team","more"))],O=[w({icon:i.a.createElement(o.BoardIcon,null)},x("free team","boards")),w({icon:i.a.createElement(a.a,null)},x("free team","pups")),w({icon:i.a.createElement(s.a,null)},x("free team","butler"))],S=_("price per user",{price:"$".concat(Object(g.asMoney)(b.ProductFeatures.getPrice(b.Products.Organization.BusinessClass.current.yearly)/12))}),E=function(e){var t=e.cta;return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:v.a.heading,"data-test-id":y.UpgradePromptTestIds.PlanSelection},i.a.createElement("h1",null,i.a.createElement(d.BusinessClassIcon,{color:"dark",dangerous_className:v.a.headingIcon})," ",_("headline")),i.a.createElement("h2",null,_("description"))),i.a.createElement("div",{className:v.a.bodyWrapper},i.a.createElement("div",{className:v.a.freePlan},i.a.createElement("h2",null,_(["free team","headline"])),i.a.createElement("ul",null,O.map((function(e,t){var n=e.icon,r=e.content;return i.a.createElement("li",{key:t,className:v.a.featureItem},i.a.cloneElement(n,{size:"medium",dangerous_className:v.a.featureIcon}),i.a.createElement("span",{className:v.a.featureContent},r))})))),i.a.createElement("div",{className:v.a.bcPlan},i.a.createElement("div",{className:v.a.recommendedLabel},"Recommended"),i.a.createElement("h2",null,_(["bc team","headline"])),i.a.createElement("ul",null,C.map((function(e,t){var n=e.icon,r=e.content,o=e.tooltip;return i.a.createElement("li",{key:t,className:f()(v.a.featureItem,!!o&&v.a.tooltipTarget)},function(e,t){return e?i.a.createElement(p.a,{content:e,component:p.b},t):t}(o,i.a.createElement("div",{className:v.a.featureItemWrapper},i.a.cloneElement(n,{size:"medium",dangerous_className:v.a.featureIcon}),i.a.createElement("div",null,i.a.createElement("span",{className:v.a.featureContent},r)))))}))))),i.a.createElement("div",{className:v.a.actions},i.a.createElement("p",null,S),t,i.a.createElement("a",{href:"/business-class",className:v.a.learnMore},_("learn bc"))))}},"./app/src/components/FreeTrial/PlanSelectionOverlay.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelectionOverlay.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/FreeTrial/PlanSelectionOverlay.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return N})),n.d(t,"b",(function(){return I}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/common/lib/util/i18n/index.ts"),l=n("./app/src/components/Overlay/index.ts"),c=n("./app/src/components/ComponentWrapper/index.ts"),u=n("./app/src/components/FreeTrial/PlanSelection.tsx"),d=n("./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx"),p=n("./app/src/components/FreeTrial/UpsellOverlay.tsx"),m=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),f=n("./packages/atlassian-analytics/index.ts"),h=n("./packages/nachos/spinner.ts"),v=n("./app/common/components/singlespa/router-link.tsx"),g=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"PlanSelectionOverlay"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"standardVariation"},arguments:[],directives:[]}]}}]}}]};var y=n("./packages/test-ids/index.ts"),k=n("./app/src/components/StandardGenerics/index.ts"),w=n("./packages/nachos/icons/back.tsx"),j=n("./packages/nachos/icons/close.tsx"),_=n("./app/src/components/FreeTrial/PlanSelectionOverlay.less"),x=n.n(_);function C(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function O(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){C(o,r,i,a,s,"next",e)}function s(e){C(o,r,i,a,s,"throw",e)}a(void 0)}))}}function S(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return E(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function E(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var T=Object(s.forNamespace)("upgrade-prompt-plan-selection-consolidated"),P=Object(s.forNamespace)("upgrade prompt plan selection"),N=function(e){var t,n,o,s,c,_=e.onClose,C=e.orgId,E=e.currentPlanSelected,N=e.startFreeTrialOptions,I=(c={variables:{orgId:C},skip:!C},g.c(b,c)),A=I.data,D=I.loading,B=Object(k.useStandard)({orgId:C}).isStandardVariationEnabled,R=null==A||null===(t=A.organization)||void 0===t?void 0:t.name,L=null==A||null===(n=A.member)||void 0===n?void 0:n.id,M=null==A||null===(o=A.organization)||void 0===o||null===(s=o.memberships)||void 0===s?void 0:s.find((function(e){return e.idMember===L&&"admin"===e.memberType})),F=Object(m.a)(C),V=F.isEligible,z=F.isTrialActive,U=F.startFreeTrial,H=F.loading,W=S(Object(r.useState)(!1),2),q=W[0],G=W[1],$=S(Object(r.useState)(!1),2),K=$[0],Y=$[1];Object(r.useEffect)((function(){z&&K&&(_(),Y(!1))}),[_,z,K]);var Z=function(){var e=O(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!K){e.next=2;break}return e.abrupt("return");case 2:return Y(!0),f.Analytics.sendTrackEvent({action:"accepted",actionSubject:"freeTrial",source:"freeTrialModal",containers:{organization:{id:C}},attributes:{currentPlanSelected:E}}),e.next=6,U(N);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),J=function(){var e=O(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.Analytics.sendClickedButtonEvent({buttonName:"backButton",source:"planSelectionModal",containers:{organization:{id:C}},attributes:{currentPlanSelected:E}}),G(!1);case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),Q=function(){var e=O(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:f.Analytics.sendClosedComponentEvent({componentType:"modal",componentName:"freeTrialModal",source:"planSelectionModal",containers:{organization:{id:C}},attributes:{currentPlanSelected:E}}),_();case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();if(D||H)return null;var X=i.a.createElement(u.a,{cta:M?i.a.createElement(v.a,{onClick:function(){return _()},href:"/".concat(R,"/billing"),className:x.a.planSelectionCtaButton},P("start bc")):i.a.createElement("a",{className:x.a.planSelectionCtaButton,href:"/business-class"},P("start bc"))});return V||K?X=q?i.a.createElement(d.a,{type:"try-business-class",orgId:C,cta:i.a.createElement("button",{"data-test-id":y.FreeTrialTestIds.StartFreeTrialButton,className:x.a.freeTrialPlanSelectionCtaButton,onClick:Z},K?i.a.createElement(h.a,{centered:!0,small:!0,wrapperClassName:x.a.spinner}):T(["try-business-class","cta"],{dayCount:14})),trialLength:14,isStandardVariationEnabled:B}):i.a.createElement(p.a,{onCtaClick:Z,isLoading:K,orgId:C,onLearnMore:function(){return G(!0)}}):z&&(X=i.a.createElement(d.a,{type:"have-business-class",cta:i.a.createElement("a",{className:x.a.freeTrialPlanSelectionCtaButton,href:"/business-class"},P("learn bc")),orgId:C,trialLength:14,isStandardVariationEnabled:B})),i.a.createElement(l.a,{onClose:_,background:l.c.DARK},i.a.createElement("div",{className:a()(x.a.animation,x.a.overlay,x.a.overlayExistingTeams,(z||q)&&x.a.overlayViewingPlan,B&&x.a.overlayExpanded),tabIndex:-1,ref:function(e){e&&e.focus()}},q&&i.a.createElement("button",{className:x.a.back,title:"Todo","aria-label":"Todo",onClick:function(){return J()}},i.a.createElement(w.a,{size:"large",block:!0})),i.a.createElement("button",{className:x.a.close,title:P("close"),"aria-label":P("close"),onClick:function(){return Q()}},i.a.createElement(j.a,{size:"large",block:!0})),X))},I=function(e){return i.a.createElement(c.ComponentWrapper,null,i.a.createElement(N,e))}},"./app/src/components/FreeTrial/UpsellOverlay.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/UpsellOverlay.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/FreeTrial/UpsellOverlay.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return v}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/common/lib/util/i18n/index.ts"),a=n("./packages/nachos/button.ts"),s=n("./packages/nachos/spinner.ts"),l=n("./packages/nachos/icons/forward.tsx"),c=n("./packages/atlassian-analytics/index.ts"),u=n("./app/src/components/FreeTrial/UpsellOverlay.less"),d=n.n(u),p=n("./packages/test-ids/index.ts"),m=Object(o.forNamespace)(""),f=Object(o.forNamespace)(["free trial existing","upsell"]),h=[f("things-to-know-point-1"),f("things-to-know-point-2"),f("things-to-know-point-3",{priority:i.a.createElement("a",{href:"https://help.trello.com",style:{marginRight:4},key:"things-to-know-point-3-priority-support"},f("things-to-know-point-3-priority-support"))}),f("things-to-know-point-4")],v=function(e){var t=e.onLearnMore,o=e.orgId,u=e.onCtaClick,v=e.isLoading;return Object(r.useEffect)((function(){c.Analytics.sendScreenEvent({name:"freeTrialModal",containers:{organization:{id:o}}})}),[o]),i.a.createElement("div",{className:d.a.upsellOverlay},i.a.createElement("div",{className:d.a.upsellOverlayHeader},i.a.createElement("img",{src:n("./resources/images/free-trial/light.svg"),alt:"free-trial-light",role:"presentation",width:"101",height:"90"}),i.a.createElement("div",{className:d.a.upsellOverlayTag},f(["upsell","tag"])),i.a.createElement("h3",null,f(["upsell","headline"])),i.a.createElement("p",null,f(["upsell","content"])),i.a.createElement(a.Button,{className:d.a.button,appearance:"primary","data-test-id":p.FreeTrialTestIds.StartFreeTrialButton,onClick:u,size:"fullwidth"},v?i.a.createElement(s.a,{centered:!0,small:!0,wrapperClassName:d.a.spinner}):f(["upsell","maincta"]))),i.a.createElement("div",{className:d.a.upsellOverlayBody},i.a.createElement("div",{className:d.a.upsellOverlayBodyHeader},i.a.createElement("h3",null,f(["upsell","things-to-know-header"])),i.a.createElement("img",{src:n("./resources/images/free-trial/thumbs-up.svg"),alt:"free-trial-thumbs-up",role:"presentation",width:"94",height:"93"})),i.a.createElement("div",{className:d.a.upsellOverlayThings},h.map((function(e,t){return i.a.createElement("div",{key:t.toString(),className:d.a.upsellOverlayThing},i.a.createElement("div",{className:d.a.upsellOverlayThingBullet,"aria-hidden":"true",role:"presentation"})," ",e)}))),i.a.createElement(a.Button,{className:d.a.learnMoreStep,onClick:function(){t(),c.Analytics.sendClickedButtonEvent({buttonName:"learnMoreButton",source:"freeTrialModal",containers:{organization:{id:o}}})},size:"fullwidth","data-test-id":p.FreeTrialTestIds.LearnMoreAboutBCButton,iconAfter:i.a.createElement(l.a,{size:"small"})},m(["learn more button"]))))}},"./app/src/components/FreeTrial/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"UpsellOverlay",(function(){return r.a})),n.d(t,"FreeTrialBanner",(function(){return $})),n.d(t,"PlanSelection",(function(){return K.a})),n.d(t,"FreeTrialPlanSelection",(function(){return Y.a})),n.d(t,"PlanSelectionOverlay",(function(){return h.a})),n.d(t,"PlanSelectionOverlayConnected",(function(){return h.b})),n.d(t,"useFreeTrialEligibilityRules",(function(){return z.a}));var r=n("./app/src/components/FreeTrial/UpsellOverlay.tsx"),i=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),o={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"FreeTrialDismissBannerAndConfetti"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]}]}}]}}]};function a(e){return i.b(o,e)}var s=n("./node_modules/react/index.js"),l=n.n(s),c=n("./node_modules/classnames/index.js"),u=n.n(c),d=n("./packages/nachos/button.ts"),p=n("./app/common/lib/util/i18n/index.ts"),m=n("./app/src/components/FreeTrial/FreeTrialBannerActive.less"),f=n.n(m),h=n("./app/src/components/FreeTrial/PlanSelectionOverlay.tsx"),v=n("./packages/atlassian-analytics/index.ts"),g=n("./node_modules/canvas-confetti/dist/confetti.module.mjs"),b=n("./node_modules/underscore/underscore.js"),y=n.n(b),k=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),w=n("./app/scripts/debug/constants.ts"),j=n("./packages/test-ids/index.ts"),_=n("./app/common/components/singlespa/router-link.tsx"),x=n("./packages/nachos/icons/close.tsx");function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var S=Object(p.forNamespace)("free trial existing"),E=function(e){var t,n,r,i,o,c,m=e.orgId,b=e.dismissBanner,O=e.data,E=e.freeTrialRules,T=C(Object(s.useState)(!1),2),P=T[0],N=T[1],I=function(){return N(!0)},A="free-trial-banner-confetti-".concat(m),D=C(a(),1)[0],B=E.daysLeft,R=E.isAdmin,L=(null==O||null===(t=O.member)||void 0===t?void 0:t.oneTimeMessagesDismissed)?null==O||null===(n=O.member)||void 0===n?void 0:n.oneTimeMessagesDismissed:[],M=C(Object(s.useState)(0),2),F=M[0],V=M[1],z=C(Object(s.useState)(0),2),U=z[0],H=z[1],W=Object(s.useCallback)((function(){D({variables:{memberId:"me",messageId:A},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:L.concat([A]),__typename:"Member"}}})}),[L,D,A]),q=L.includes(A);Object(s.useEffect)((function(){var e=null,t=null;return F&&U&&!q&&(e=setTimeout((function(){Object(g.default)({angle:y.a.random(0,45),spread:y.a.random(150,180),particleCount:150,origin:{x:0,y:U/window.innerHeight}}),e=null,t=setTimeout((function(){W(),t=null}),3500)}),1500)),function(){!q&&t&&W(),t&&clearTimeout(t),e&&clearTimeout(e)}}),[F,U,q,W]);var G=Object(s.useCallback)((function(e){if(null!==e){var t=e.getBoundingClientRect();V(t.x+t.width/2),H(t.y+t.height/2)}q&&g.default.reset()}),[q]),$=null==O||null===(r=O.organization)||void 0===r?void 0:r.displayName,K=null==O||null===(i=O.organization)||void 0===i?void 0:i.name,Y=K?"/".concat(K,"/billing"):"",Z=!!(null==O||null===(o=O.organization)||void 0===o||null===(c=o.paidAccount)||void 0===c?void 0:c.cardType);return l.a.createElement(k.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:w.Feature.FreeTrialExistingTeam}},l.a.createElement("div",{className:u()(f.a.container,f.a.bannerBg),"data-test-id":j.FreeTrialTestIds.ActiveFreeTrialBanner,role:"banner"},l.a.createElement("div",{className:f.a.bcContainer},l.a.createElement("span",{role:"img","aria-label":"confetti",className:f.a.emoji},"🎉"),Object(p.localizeCount)("free-trial-banner-tagline-by-days",B,{teamName:l.a.createElement(l.a.Fragment,{key:$},$),days:l.a.createElement("div",{ref:G,key:"".concat($,"-").concat(B),className:f.a.daysContainer},B)})),l.a.createElement("div",{className:f.a.ctaContainer},R&&!Z?l.a.createElement(l.a.Fragment,null,l.a.createElement("a",{role:"button",className:f.a.linkCta,"data-test-id":j.FreeTrialTestIds.LearnMoreBannerLink,onClick:function(){v.Analytics.sendClickedLinkEvent({linkName:"learnMoreLink",source:"freeTrialBanner",containers:{organization:{id:m}}}),I()}},Object(p.forNamespace)("learn more button")("")),l.a.createElement(_.a,{className:f.a.linkButton,href:Y,onClick:function(){var e=R?"addPaymentButton":"upgradeButton";v.Analytics.sendClickedButtonEvent({buttonName:e,source:"freeTrialBanner",containers:{organization:{id:m}}})},testId:j.FreeTrialTestIds.BannerAddPaymentButton},S(["banner","add-payment-method"]))):l.a.createElement(l.a.Fragment,null,l.a.createElement(d.Button,{className:f.a.linkButton,appearance:"primary",onClick:function(){v.Analytics.sendClickedButtonEvent({buttonName:"learnMoreButton",source:"freeTrialBanner",containers:{organization:{id:m}}}),I()}},Object(p.forNamespace)("learn more button")("")),l.a.createElement("button",{className:f.a.closeButton,onClick:b},l.a.createElement(x.a,{size:"medium",block:!0,dangerous_className:f.a.closeIcon}))))),P&&l.a.createElement(h.a,{orgId:m,onClose:function(){return N(!1)}}))},T=n("./packages/product-features/index.ts"),P=n("./node_modules/moment/moment.js"),N=n.n(P),I=n("./app/src/components/FreeTrial/FreeTrialBannerExpired.less"),A=n.n(I),D=n("./packages/paid-account/index.ts"),B=Object(p.forNamespace)("free trial existing"),R=function(e){var t,n,r,i,o,a,s,c,d,p=e.orgId,m=e.dismissBanner,f=e.data,h=null==f||null===(t=f.organization)||void 0===t?void 0:t.displayName,g=null==f||null===(n=f.organization)||void 0===n?void 0:n.name,b=g?"/".concat(g,"/billing"):"",y=T.ProductFeatures.hasProduct(null!==(r=null==f||null===(i=f.member)||void 0===i||null===(o=i.paidAccount)||void 0===o||null===(a=o.products)||void 0===a?void 0:a[0])&&void 0!==r?r:0),C=N()(null!==(s=Object(D.getExpirationDate)(null==f||null===(c=f.member)||void 0===c?void 0:c.paidAccount))&&void 0!==s?s:"").format("MM/DD");return d=y?B(["banner","expired tagline gold"],{date:l.a.createElement(l.a.Fragment,{key:"date-expired"},C)}):B(["banner","expired tagline"],{teamName:l.a.createElement(l.a.Fragment,{key:h},h)}),l.a.createElement(k.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:w.Feature.FreeTrialExistingTeam}},l.a.createElement("div",{className:u()(A.a.container,A.a.expiredBg),"data-test-id":j.FreeTrialTestIds.ExpiredFreeTrialBanner,role:"banner"},l.a.createElement("div",{className:A.a.bcContainer},l.a.createElement("span",{role:"img","aria-label":"wave",className:A.a.emoji},"👋"),d),l.a.createElement("div",{className:A.a.ctaContainer},y&&l.a.createElement(_.a,{role:"button",className:A.a.linkCta,onClick:function(){v.Analytics.sendClickedLinkEvent({linkName:"goldLink",source:"freeTrialBanner",containers:{organization:{id:p}}})},href:"/me/billing"},B(["banner","renew-gold"])),l.a.createElement(_.a,{className:A.a.linkButton,href:b,onClick:function(){m(),v.Analytics.sendClickedButtonEvent({buttonName:"upgradeButton",source:"freeTrialBanner",containers:{organization:{id:p}}})}},B(["banner","add-payment-method"])),l.a.createElement("button",{className:A.a.closeButton,onClick:m},l.a.createElement(x.a,{size:"medium",block:!0,dangerous_className:A.a.closeIcon})))))},L=n("./packages/browser/index.ts"),M=n("./node_modules/js-cookie/src/js.cookie.js"),F=n.n(M),V={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeTrialBanner"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paidAccount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"expirationDates"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idEnterprise"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paidAccount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"cardType"},arguments:[],directives:[]}]}}]}}]}}]};var z=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),U=n("./packages/organizations/index.ts");function H(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function W(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){H(o,r,i,a,s,"next",e)}function s(e){H(o,r,i,a,s,"throw",e)}a(void 0)}))}}function q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return G(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return G(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function G(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var $=function(e){var t,n,r,o,s=e.orgId,c="free-trial-banner-".concat(s),u=q(a(),1)[0],d=Object(z.a)(s),p=d.hasCredit,m=d.isTrialActive,f=d.trialSource,h=d.isAdmin,g=(o={variables:{orgId:s}},i.c(V,o)),b=g.data,y=g.loading,j=(null==b||null===(t=b.member)||void 0===t?void 0:t.oneTimeMessagesDismissed)?null==b||null===(n=b.member)||void 0===n?void 0:n.oneTimeMessagesDismissed:[];if(!p||j.includes(c)||y||!b||(null==b||null===(r=b.organization)||void 0===r?void 0:r.idEnterprise)||Object(L.dontUpsell)())return null;var _=F.a.get("simulateExpiredTrial"),x=m&&!_,C=f===U.TrialSource.Moonshot,O=function(){var e=W(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:t=h&&x?"admin":x?"normal":"expired",v.Analytics.sendViewedBannerEvent({bannerName:"freeTrialBanner",source:Object(v.getScreenFromUrl)(),containers:{organization:{id:s}},attributes:{type:t}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),S=function(){var e=W(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:v.Analytics.sendDismissedComponentEvent({componentType:"banner",componentName:"freeTrialBanner",source:Object(v.getScreenFromUrl)(),containers:{organization:{id:s}}}),u({variables:{memberId:"me",messageId:c},optimisticResponse:{__typename:"Mutation",addOneTimeMessagesDismissed:{id:"me",oneTimeMessagesDismissed:j.concat([c]),__typename:"Member"}}});case 2:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return!h&&!x||h&&C?null:(O(),l.a.createElement(k.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:w.Feature.FreeTrialExistingTeam}},x?l.a.createElement(E,{orgId:s,dismissBanner:S,data:b,freeTrialRules:d}):l.a.createElement(R,{orgId:s,dismissBanner:S,data:b})))},K=n("./app/src/components/FreeTrial/PlanSelection.tsx"),Y=n("./app/src/components/FreeTrial/FreeTrialPlanSelection.tsx")},"./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"FreeTrialEligibilityRules"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idEnterprise"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"paidAccount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"standing"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"credits"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"count"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"type"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}}]}}]}}]};function o(e){return r.c(i,e)}var a={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"AddFreeTrialCredit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addFreeTrial"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"paidAccount"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"standing"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"dateFirstSubscription"},arguments:[],directives:[]}]}}]}}]}}]};function s(e){return r.b(a,e)}var l=n("./app/src/components/BillingDetails/BillingHistory/TeamBillingStatementsQuery.graphql"),c=n.n(l),u=n("./packages/organizations/index.ts"),d=n("./packages/paid-account/index.ts"),p=n("./app/scripts/controller/navigate.js"),m=n("./packages/atlassian-analytics/index.ts"),f=n("./packages/graphql-error-handling/index.ts"),h=n("./app/scripts/views/lib/alerts.js"),v=n.n(h);function g(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function b(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){g(o,r,i,a,s,"next",e)}function s(e){g(o,r,i,a,s,"throw",e)}a(void 0)}))}}function y(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return k(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return k(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function k(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var w=function(e){var t,n,r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{skip:!1},i=o({variables:{orgId:e||""},skip:!e||r.skip}),a=i.data,l=i.loading,h=s(),g=y(h,2),k=g[0],w=g[1].loading,j=null==a?void 0:a.member,_=null==a?void 0:a.organization,x=(null==j?void 0:j.id)||"",C=null==j?void 0:j.idEnterprise,O=null==j?void 0:j.confirmed,S=null==_?void 0:_.name,E=(null==_?void 0:_.credits)||[],T=(null==_?void 0:_.products)||[],P=Object(d.needsCC)(null==_||null===(t=_.paidAccount)||void 0===t?void 0:t.standing),N=Object(u.getFreeTrialProperties)(E,T),I=!!(null==N?void 0:N.credit),A=!!(null==_?void 0:_.memberships.find((function(e){return e.idMember===x&&"admin"===e.memberType}))),D=function(){var t=b(regeneratorRuntime.mark((function t(){var n,r,i,o,a,s=arguments;return regeneratorRuntime.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=s.length>0&&void 0!==s[0]?s[0]:{redirect:!0},r=n.redirect,i=s.length>1?s[1]:void 0,e&&!l&&!I&&!w){t.next=4;break}return t.abrupt("return");case 4:return t.prev=4,t.next=7,k({variables:{orgId:e},refetchQueries:[{query:c.a,variables:{orgId:e}}]});case 7:i&&m.Analytics.sendTrackEvent({action:"accepted",actionSubject:"freeTrial",source:i,containers:{organization:{id:e}}}),t.next=15;break;case 10:t.prev=10,t.t0=t.catch(4),v.a.showLiteralText(t.t0,"error","alert",5e3),a=Object(f.b)(t.t0),i&&m.Analytics.sendOperationalEvent({action:"errored",actionSubject:"freeTrial",source:i,attributes:{errorMessage:null!==(o=null==a?void 0:a.message)&&void 0!==o?o:null===t.t0||void 0===t.t0?void 0:t.t0.message,errorCode:null==a?void 0:a.code}});case 15:r&&Object(p.navigate)("/".concat(S,"/getting-started"),{trigger:!0,replace:!0});case 16:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(){return t.apply(this,arguments)}}();return{startFreeTrial:D,isAdmin:A,hasCredit:I,isTrialActive:null==N?void 0:N.isActive,isExpired:null==N?void 0:N.isExpired,isEligible:A&&!(null==N?void 0:N.credit)&&!P&&O&&!C,loading:l,daysLeft:(null==N?void 0:N.daysLeft)||0,trialSource:null==N?void 0:N.trialSource,startDate:null==N?void 0:N.startDate,days:null==N?void 0:N.days,endDate:null!==(n=null==N?void 0:N.expiresAt)&&void 0!==n?n:null}}},"./app/src/components/InfiniteList/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"InfiniteList",(function(){return h}));var r=n("./node_modules/@researchgate/react-intersection-list/lib/es/index.js"),i=n("./packages/nachos/spinner.ts"),o=n("./node_modules/react/index.js"),a=n.n(o);function s(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function l(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function c(e,t){return(c=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function u(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?d(e):t}function d(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function p(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function m(e){return(m=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){!function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&c(e,t)}(g,e);var t,n,o,h,v=(t=g,function(){var e,n=m(t);if(p()){var r=m(this).constructor;e=Reflect.construct(n,arguments,r)}else e=n.apply(this,arguments);return u(this,e)});function g(){var e;s(this,g);for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return f(d(e=v.call.apply(v,[this].concat(n))),"loadMoreItems",(function(t,n){var r=e.props,i=r.itemCount,o=r.loadMore;o&&t>=i&&o(t,n)})),e}return n=g,(o=[{key:"render",value:function(){var e=this.props,t=e.axis,n=e.renderEmpty,o=e.renderItem,s=e.itemCount,l=e.itemsRenderer,c=e.isLoading,u=void 0!==c&&c,d=e.awaitMore,p=e.pageSize,m=e.spinnerClassName,f=e.threshold;return a.a.createElement(a.a.Fragment,null,n&&n(0===s),a.a.createElement(r.a,{renderItem:o,itemCount:s,awaitMore:d,onIntersection:this.loadMoreItems,itemsRenderer:l,pageSize:p,threshold:f,axis:t}),u&&a.a.createElement(i.a,{centered:!0,wrapperClassName:m}))}}])&&l(n.prototype,o),h&&l(n,h),g}(a.a.Component)},"./app/src/components/Label/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r}));var r=new(n("./packages/shared-state/index.ts").a)({showText:!1},"labelState")},"./app/src/components/MemberAvatar/MemberAvatar.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MemberAvatar/MemberAvatar.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/MemberAvatar/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return y})),n.d(t,"b",(function(){return b}));var r=n("./node_modules/classnames/index.js"),i=n.n(r),o=n("./packages/trello-canonical-components/index.ts"),a=n("./app/common/lib/util/i18n/index.ts"),s=n("./packages/members/index.ts"),l=n("./node_modules/react/index.js"),c=n.n(l),u=n("./app/src/components/MemberAvatar/MemberAvatar.less"),d=n.n(u),p=n("./packages/product-features/index.ts"),m=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MemberAvatar"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"username"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarSource"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonPublic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"initials"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"avatarUrl"},arguments:[],directives:[]}]}}]}}]}}]};var h=n("./packages/nachos/icons/member.tsx"),v=Object(a.forTemplate)("member"),g=[30,50,170],b=function(e){var t=e.avatarSource,n=e.className,r=e.avatarClassName,a=e.fullName,s=e.username,l=e.avatars,u=e.initials,p=e.size,m=void 0===p?30:p,f=e.onClick,b=e.gold,y=e.hoverable,k=e.deactivated,w=y||!!f,j=g.find((function(e){return e>=m})),_=g.find((function(e){return e>=2*m}))||j;if(void 0===j||void 0===_)throw new Error("Invalid member avatar size");var x=!(u||l);return c.a.createElement("div",{className:i()(n,d.a.memberAvatar,u&&u.length>2&&d.a.longInitials),title:s?"".concat(a," (").concat(s,")"):a,onClick:f,role:f&&"button"},c.a.createElement(o.CanonicalAvatar,{avatarSource:t,className:i()(w&&d.a.hoverable,l?d.a.withImage:null,r),img:l&&l[j],img2x:l&&l[_],initials:u,size:m,deactivated:k},x&&c.a.createElement(h.MemberIcon,{size:m>20?"large":void 0,color:"quiet"})),b&&c.a.createElement("span",{className:d.a.gold,title:v("this-member-has-trello-gold")}))},y=function(e){var t,n=e.avatarSource,r=e.className,i=void 0===r?"":r,o=e.size,a=void 0===o?30:o,l=e.avatarClassName,u=e.idMember,d=e.onClick,h=e.hoverable,v=e.memberData,g=(t={variables:{memberId:u},skip:!u||!!v},m.c(f,t)).data,y=v||g&&g.member,k=y&&y.username||void 0,w=y&&y.nonPublic&&y.nonPublic.fullName||y&&y.fullName||void 0,j=y&&y.nonPublic&&y.nonPublic.avatarUrl||y&&y.avatarUrl||void 0,_=y&&y.nonPublic&&y.nonPublic.initials||y&&y.initials||void 0,x=j&&Object(s.avatarsFromAvatarUrl)(j)||void 0,C=!(!y||!y.products)&&p.ProductFeatures.isFeatureEnabled("crown",y.products[0]);return c.a.createElement(b,{className:i,avatarSource:n,avatarClassName:l,onClick:d,hoverable:h,username:k,fullName:w,initials:_,avatars:x,gold:C,size:a})}},"./app/src/components/MoveCardPopover/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"MoveCardPopover",(function(){return j}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./packages/nachos/select.ts"),l=n("./packages/colors/index.ts"),c=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),u={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"MoveCardPopover"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"lists"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"open"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cards"},arguments:[{kind:"Argument",name:{kind:"Name",value:"filter"},value:{kind:"EnumValue",value:"visible"}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idList"},arguments:[],directives:[]}]}}]}}]}}]};var d=n("./app/common/lib/util/i18n/index.ts"),p=n("./app/scripts/lib/localize.js"),m=n.n(p),f=n("./app/scripts/lib/util/index.js"),h=n("./packages/test-ids/index.ts");function v(e){return function(e){if(Array.isArray(e))return y(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||b(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function g(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||b(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(e,t){if(e){if("string"==typeof e)return y(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?y(e,t):void 0}}function y(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var k=Object(d.forTemplate)("popover_move_card"),w=Object(d.forTemplate)("move_card_controls"),j=function(e){var t,n=e.hasEnterprise,o=void 0!==n&&n,d=e.hideBoardSelect,p=void 0!==d&&d,b=e.isMove,y=void 0===b||b,j=e.isCopy,_=void 0!==j&&j,x=e.currentIndex,C=e.defaultBoardId,O=e.defaultBoardName,S=e.defaultListId,E=e.defaultListName,T=e.enterpriseName,P=void 0===T?"":T,N=e.cardList,I=e.organizations,A=e.onSubmit,D=e.restrictToCurrentBoard,B=void 0!==D&&D,R=e.suggestions,L=void 0===R?[]:R,M=g(Object(r.useState)(C),2),F=M[0],V=M[1],z=g(Object(r.useState)(S),2),U=z[0],H=z[1],W=g(Object(r.useState)("bottom"),2),q=W[0],G=W[1],$=g(Object(r.useState)(x),2),K=$[0],Y=$[1],Z=(t={fetchPolicy:"network-only",variables:{boardId:F}},c.c(u,t)),J=Z.data,Q=Z.loading,X=U===S,ee=I.map((function(e){return{label:e.displayName,options:e.boards.map((function(e){return{label:e.name,value:e.id}}))}})),te=J&&J.board?J.board.lists.map((function(e){return{label:e.name,value:e.id}})):[{label:E,value:S}],ne=te&&te.find((function(e){return e.value===U}))||te[0],re=J&&J.board&&J.board.cards?J.board.cards.filter((function(e){return e.idList===U})).length:0,ie=re||N.length;N.length>re&&X&&(ie=N.length),ne&&!X&&(ie=re+1);var oe=J&&J.board?v(Array(ie).keys()).map((function(e){return{label:e+1,value:e}})):[{label:x+1,value:x}],ae=oe[K]||oe[oe.length-1];te.length||(ne={label:m()("no lists"),value:""},ae={label:m()("n/a"),value:-1}),Object(r.useEffect)((function(){!Q&&H(ne.value),!Q&&!X&&Y(ie)}),[ne.value,Q,ie,X]),Object(r.useEffect)((function(){!Q&&Y(ae.value)}),[ae.value,Q]),Object(r.useEffect)((function(){G((function(){return 0===K?"top":K===re?"bottom":Object(f.calcPos)(K,N)}))}),[K,N,re]);var se=Object(r.useCallback)((function(e){A(e,F,U,q,K)}),[A,F,K,U,q]);return i.a.createElement(i.a.Fragment,null,L.length>0&&i.a.createElement("div",{className:"pop-over-section"},i.a.createElement("h4",null,i.a.createElement("span",{className:"icon-sm icon-sparkle"}),k("suggested")),L.map((function(e){return i.a.createElement("a",{className:a()({"button-link":!0,"js-suggested-move":!0,"flip-icon":"left"===e.direction}),key:e.id,href:"#","data-id":e.id,"data-position":e.position},i.a.createElement("span",{className:"icon-sm icon-move"}),e.name)}))),i.a.createElement("div",{className:"pop-over-section"},i.a.createElement("h4",null,k("select-destination")),i.a.createElement("div",{className:"form-grid"},!p&&i.a.createElement("div",{className:"form-grid-child form-grid-child-full"},B?i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{style:{color:l.N800,fontSize:"14px",marginBottom:"2px",lineHeight:"20px"}},w("board")),i.a.createElement("p",null,I[0].boards[0].name)):i.a.createElement(s.a,{label:w("board"),options:ee,defaultValue:{label:O,value:C},onChange:function(e){var t=e.value;return V(t)},isSearchable:!0,testId:h.SelectTestIds.MoveBoardSelect}),o&&P&&y&&i.a.createElement("p",{className:"quiet",style:{marginTop:"8px"}},w("card-can-only-be-moved-to-teams-within-org",{enterpriseName:P})),o&&P&&_&&i.a.createElement("p",{className:"quiet",style:{marginTop:"8px"}},w("card-can-only-be-copied-to-teams-within-org",{enterpriseName:P}))),i.a.createElement("div",{className:"form-grid-child form-grid-child-threequarters",style:{maxWidth:"100%"}},i.a.createElement(s.a,{label:w("list"),options:te,value:ne,onChange:function(e){var t=e.value;return H(t)},isSearchable:!0,isDisabled:!te.length})),i.a.createElement("div",{className:"form-grid-child"},i.a.createElement(s.a,{label:w("position"),options:oe,value:ae,onChange:function(e){var t=e.value;return Y(t)},isSearchable:!0,isDisabled:!te.length})))),i.a.createElement("input",{className:"nch-button nch-button--primary wide",type:"submit",disabled:!te.length,onClick:function(e){return se(e)},value:k("move")}))}},"./app/src/components/Navigation/SearchUtils.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"d",(function(){return a})),n.d(t,"c",(function(){return s})),n.d(t,"b",(function(){return l}));var r=n("./node_modules/flexsearch/dist/flexsearch.min.js"),i=n.n(r),o=function(e){return e.trim().toLocaleLowerCase().replace(/[àáâãäå]/g,"a").replace(/[èéêë]/g,"e").replace(/[ìíîï]/g,"i").replace(/[òóôõöő]/g,"o").replace(/[ùúûüű]/g,"u").replace(/[ýŷÿ]/g,"y").replace(/ñ/g,"n").replace(/[çc]/g,"k").replace(/ß/g,"s").replace(/ & /g," and ").replace(/[-_/\\]/g," ").replace(/[,.?#!@~$%^*()+='"<>[\]{}:;]/g,"").replace(/\s+/g," ")},a={izer:"ize",ance:"",ence:"",ness:"",able:"",ible:"",ment:"",ful:"",ent:"",ism:"",ed:"",s:""},s=i.a.create({encode:o,split:/\s+/,stemmer:a,tokenize:"full"}),l=i.a.create({encode:o,split:/\s+/,stemmer:a,tokenize:"full"})},"./app/src/components/PopoverConfirm/PopoverConfirm.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverConfirm/PopoverConfirm.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/PopoverConfirm/index.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var r=n("./packages/nachos/button.ts"),i=n("./app/common/lib/util/i18n/index.ts"),o=n("./node_modules/react/index.js"),a=n.n(o),s=n("./app/src/components/PopoverConfirm/PopoverConfirm.less"),l=n.n(s),c=function(e){var t=e.confirmKey,n=e.confirmCallback,o=e.confirmSubstitutions,s=e.isDanger,c=Object(i.forNamespace)(["confirm",t]);return a.a.createElement("div",{className:l.a.confirmContainer},a.a.createElement("p",null,c("text",o)),a.a.createElement(r.Button,{appearance:s?"danger":"primary",autoFocus:!0,onClick:n,size:"fullwidth"},c("confirm",o)))}},"./app/src/components/PowerUp/LoadingSkeleton.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"LoadingSkeleton",(function(){return m}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/src/components/PowerUp/PowerUp.less"),l=n.n(s),c=n("./app/src/components/PowerUp/types.ts"),u=function(e){var t=e.className;return i.a.createElement("div",{className:a()(l.a.flexRowSpaceBetween,t)},i.a.createElement("div",{className:l.a.flexRow},i.a.createElement("div",{className:l.a.relative},i.a.createElement("span",{className:a()(l.a.icon,l.a.loadingSkeleton)})),i.a.createElement("div",{className:l.a.nameContainer},i.a.createElement("span",{className:a()(l.a.name,l.a.loadingSkeleton)}))),i.a.createElement("span",{className:a()(l.a.loadingSkeletonButton,l.a.loadingSkeleton)}))},d=function(e){var t=e.className;return i.a.createElement("div",{className:a()(l.a.flexColumn,l.a.descriptionAtom,t)},i.a.createElement(u,null),i.a.createElement("span",{className:a()(l.a.description,l.a.loadingSkeleton)}))},p=function(e){var t=e.className;return i.a.createElement("div",{className:a()(l.a.featuredAtomContainer,t)},i.a.createElement("div",{className:a()(l.a.heroImage,l.a.loadingSkeleton)}),i.a.createElement("div",{className:a()(l.a.flexColumn,l.a.featuredAtom)},i.a.createElement(u,null),i.a.createElement("span",{className:a()(l.a.description,l.a.loadingSkeleton)})))},m=function(e){return e.type===c.a.Featured?i.a.createElement(p,e):e.type===c.a.Description?i.a.createElement(d,e):i.a.createElement(u,e)}},"./app/src/components/PowerUp/PowerUp.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUp/PowerUp.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/PowerUp/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"PowerUpItemType",(function(){return r.a})),n.d(t,"PowerUp",(function(){return S}));var r=n("./app/src/components/PowerUp/types.ts"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/classnames/index.js"),s=n.n(a),l=n("./app/src/components/PowerUp/PowerUp.less"),c=n.n(l),u=function(e){var t=e.name,n=e.subtitle,r=e.icon;return o.a.createElement("div",{className:c.a.flexRow},o.a.createElement("div",{className:c.a.relative},o.a.createElement("span",{className:c.a.icon,style:{backgroundImage:"url(".concat(r.url,")")}})),o.a.createElement("div",{className:c.a.nameContainer},o.a.createElement("span",{className:c.a.name},t),n&&o.a.createElement("span",{className:c.a.subtitle},n)))},d=function(e){return o.a.createElement("div",{className:s()(c.a.twoColumnGrid,e.className)},o.a.createElement(u,e),e.button)},p=n("./app/common/lib/util/i18n/index.ts"),m=n("./packages/nachos/icons/board.tsx"),f=Object(p.forTemplate)("directory_power_up_item"),h=function(e){var t=e.button,n=e.usage,r=e.promotional,i=e.staffPick;return o.a.createElement("div",{className:c.a.badges},t,"number"==typeof n&&n>0&&o.a.createElement("div",{className:c.a.pupBadge,title:f("usage-explanation",{count:n.toLocaleString()})},o.a.createElement(m.BoardIcon,{dangerous_className:c.a.usageBadgeIcon}),o.a.createElement("span",null,n.toLocaleString(),"+")),r&&o.a.createElement("div",{className:s()(c.a.pupBadge,c.a.bonusBadge),title:f("bonus-explanation")},o.a.createElement("span",null,f("bonus"))),i&&o.a.createElement("div",{className:s()(c.a.pupBadge,c.a.bonusBadge),title:f("staff-pick-explanation")},o.a.createElement("span",null,f("staff-pick"))))};function v(){return(v=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function g(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var b=function(e){var t=e.className,n=e.overview,r=e.icon,i=e.name,a=e.promotional,l=e.staffPick,u=e.usage,d=g(e,["className","overview","icon","name","promotional","staffPick","usage"]);return o.a.createElement("div",{className:s()(c.a.descriptionAtomGrid,t)},o.a.createElement("div",{className:c.a.logoNameGrid},o.a.createElement("span",{className:c.a.icon,style:{backgroundImage:"url(".concat(r.url,")")}}),o.a.createElement("span",{className:c.a.name,title:i},i)),d.button,o.a.createElement("span",{className:c.a.description},n),o.a.createElement(h,{promotional:a,usage:u,staffPick:l}))},y=function(e){var t=e.className,n=g(e,["className"]);return o.a.createElement(b,v({className:s()(c.a.descriptionAtom,t)},n))};function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function w(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var j=function(e){var t=e.className,n=e.heroImageUrl,r=w(e,["className","heroImageUrl"]),i="",a=[];return n&&(n["@1x"]&&(i=n["@1x"],a.push(n["@1x"])),n["@2x"]&&a.push("".concat(n["@2x"]," 2x"))),o.a.createElement("div",{className:s()(c.a.featuredAtomContainer,t)},o.a.createElement("img",{alt:"",className:c.a.heroImage,role:"presentation",src:i,srcSet:a.join(", ")}),o.a.createElement(b,k({className:c.a.featuredAtom},r)))};function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function x(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var C=function(e){var t=e.className,n=e.icon,r=e.name,i=e.subtitle,a=e.promotional,l=e.staffPick,u=e.usage,d=x(e,["className","icon","name","subtitle","promotional","staffPick","usage"]);return o.a.createElement("div",{className:s()(c.a.listingAtomGrid,t)},o.a.createElement("div",{className:c.a.logoNameGrid},o.a.createElement("span",{className:c.a.icon,style:{backgroundImage:"url(".concat(n.url,")")}}),o.a.createElement("div",{className:c.a.nameContainer},o.a.createElement("span",{className:c.a.listingName,title:r},r),i&&o.a.createElement("span",{className:c.a.subtitle},i))),o.a.createElement(h,{button:d.button,usage:u,promotional:a,staffPick:l}))},O=function(e){var t=e.className,n=x(e,["className"]);return o.a.createElement(C,_({className:t},n))},S=function(e){var t=e.type,n=e.atomProps;return t===r.a.Featured?o.a.createElement(j,n):t===r.a.Description?o.a.createElement(y,n):t===r.a.Listing?o.a.createElement(O,n):o.a.createElement(d,n)}},"./app/src/components/PowerUp/types.ts":function(e,t,n){"use strict";var r;n.d(t,"a",(function(){return r})),function(e){e[e.Basic=0]="Basic",e[e.Description=1]="Description",e[e.Featured=2]="Featured",e[e.Listing=3]="Listing"}(r||(r={}))},"./app/src/components/PowerUpDirectory/Banner.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/Banner.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/PowerUpDirectory/Banner.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/common/lib/util/i18n/index.ts"),l=n("./app/src/components/PowerUpDirectory/Banner.less"),c=n.n(l),u=n("./app/src/components/WorkspaceNavigation/index.ts");function d(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return p(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return p(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function p(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var m=Object(s.forTemplate)("directory"),f=function(e){var t=e.heading,n=e.paragraph,r=d(Object(u.useWorkspaceNavigation)(),1)[0],o=r.expanded,s=r.enabled&&o;return i.a.createElement("div",{className:a()(c.a.directoryBannerContainer,{[c.a.workspaceNavigationExpanded]:s})},i.a.createElement("div",{className:a()(c.a.directoryBanner,{[c.a.workspaceNavigationExpanded]:s})},i.a.createElement("div",null,i.a.createElement("h1",{className:c.a.bannerHeading},m(t)),i.a.createElement("p",{className:c.a.bannerParagraph},m(n)),i.a.createElement("div",null))))}},"./app/src/components/PowerUpDirectory/HomePage.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"getPluginsByTag",(function(){return m})),n.d(t,"sortFeaturedPowerUps",(function(){return f})),n.d(t,"HomePage",(function(){return h}));var r=n("./node_modules/underscore/underscore.js"),i=n.n(r),o=n("./node_modules/react/index.js"),a=n.n(o),s=n("./packages/atlassian-analytics/index.ts"),l=n("./app/src/components/PowerUp/index.ts"),c=n("./app/src/components/PowerUpDirectory/PowerUpsList.tsx"),u=n("./app/common/lib/util/i18n/index.ts"),d=n("./app/src/components/PowerUpDirectory/Banner.tsx"),p=Object(u.forTemplate)("directory_home");function m(e,t){return e?e.filter((function(e){return e.tags.includes(t)})):[]}var f=function(e){return i.a.sortBy(e,(function(e){var t=e.tags.find((function(e){return/^pos-\d+$/.test(e)}));if(!t)return 100;var n=/^pos-(\d+)$/.exec(t);return n?parseInt(n[1],10):100}))},h=function(e){var t=e.plugins,n=m(t,"essential"),r=f(m(t,"featured"));return s.Analytics.sendScreenEvent({name:"publicDirectoryHomeScreen",attributes:{totalListed:r.length+n.length}}),a.a.createElement(a.a.Fragment,null,a.a.createElement(d.a,{heading:"power-ups-for-trello",paragraph:"calendars-custom-fields-repeating-cards-and-so-much-more-with-integrations-like-jira-slack-google-drive-invision-get-your-trello-superpowers-now"}),a.a.createElement(c.a,{title:p("featured-power-ups"),plugins:r,type:l.PowerUpItemType.Featured}),a.a.createElement(c.a,{title:p("essential-power-ups"),plugins:n,type:l.PowerUpItemType.Featured}))}},"./app/src/components/PowerUpDirectory/PowerUpItem.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/PowerUpItem.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/PowerUpDirectory/PowerUpsList.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/PowerUpsList.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/PowerUpDirectory/PowerUpsList.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n("./node_modules/classnames/index.js"),i=n.n(r),o=n("./node_modules/react/index.js"),a=n.n(o),s=n("./app/src/components/PowerUp/index.ts"),l=n("./packages/test-ids/index.ts"),c=n("./node_modules/@atlassian/trello-markdown/lib/index.js"),u=n.n(c),d=n("./packages/atlassian-analytics/index.ts"),p=n("./packages/nachos/button.ts"),m=n("./app/gamma/src/util/url.ts"),f=n("./app/src/components/PowerUpDirectory/PowerUpItem.less"),h=n.n(f),v=n("./packages/analytics/index.ts"),g=n("./app/common/lib/util/i18n/index.ts"),b=n("./app/common/router/index.ts"),y=n("./app/common/components/singlespa/router-link.tsx"),k=Object(g.forTemplate)("directory_power_up_item"),w=new u.a,j=function(e){var t=e.listing,n=t?t.overview:"",r=t?t.description:"";return w.text(n||r||"").output},_=function(e){var t=e.listing?e.listing.name:"";return e.public?t:void 0},x=function(e){var t=e.plugin;return a.a.createElement(y.a,{onClick:function(e){d.Analytics.sendClickedButtonEvent({buttonName:"powerUpAddButton",source:"powerUpCard",attributes:{powerUpId:t.id,powerUpName:_(t),isPowerUpPublic:t.public,idOrganizationOwner:t.idOrganizationOwner,tags:t.tags}})},href:"/power-ups/".concat(t.id,"/enable"),className:h.a.buttonAnchor},a.a.createElement(p.Button,{appearance:"primary",className:h.a.addButton,"data-test-id":l.PowerUpTestIds.AddPowerUpButton},k("add")))},C=function(e){var t=e.plugin,n=e.type,r=t.icon,o=t.listing,l=t.heroImageUrl;t.heroImageUrl&&"string"==typeof t.heroImageUrl&&(l=JSON.parse(t.heroImageUrl));var c=i()(h.a.powerUpItem,{[h.a.listingPowerUpItem]:n===s.PowerUpItemType.Basic});return a.a.createElement("div",{className:c,onClick:function(t){return function(e,t){if("BUTTON"!==e.target.tagName){var n=t.plugin,r=t.type,i=n.listing?n.listing.name:"";r!==s.PowerUpItemType.Basic&&(Object(v.trackUe)({category:v.Noun.POWER_UPS_DIRECTORY,verb:v.Verb.OPENS,directObj:v.Noun.POWER_UPS_LISTING,context:{pluginId:n.id}}),d.Analytics.sendUIEvent({action:"clicked",actionSubject:"card",actionSubjectId:"powerUpCard",objectType:"powerUp",objectId:n.id,source:"publicDirectoryScreen",attributes:{powerUpName:n.public?i:void 0,tags:n.tags}}),b.defaultRouter.setRoute("/power-ups/".concat(n.id,"/").concat(Object(m.i)(i))))}}(t,e)},role:"presentation"},a.a.createElement(s.PowerUp,{type:n,atomProps:{overview:j(t),icon:r,heroImageUrl:l,name:o?o.name:"",promotional:(t.tags||[]).includes("promotional"),staffPick:(t.tags||[]).includes("staff-pick"),usage:(t.usageBrackets||{}).boards||0,button:a.a.createElement(x,e)}}))},O=n("./app/src/components/PowerUpDirectory/PowerUpsList.less"),S=n.n(O),E=n("./app/src/components/WorkspaceNavigation/index.ts");function T(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var N=function(e){var t=e.title,n=e.plugins,r=e.type,o=void 0===r?s.PowerUpItemType.Description:r,c=T(Object(E.useWorkspaceNavigation)(),1)[0],u=c.expanded,d=c.enabled&&u,p=n.map((function(e){return a.a.createElement(C,{key:e.id,type:o,plugin:e})}));return a.a.createElement("div",{className:S.a.directoryPowerUpsList},a.a.createElement("div",{className:i()(S.a.directoryPowerUpsListHeader,{[S.a.workspaceNavigationExpanded]:d})},t&&a.a.createElement("h2",{dangerouslySetInnerHTML:{__html:t}})),a.a.createElement("div",{className:i()(S.a.flexRowWrap,S.a.powerUpsList,{[S.a.workspaceNavigationExpanded]:d}),"data-test-id":l.PowerUpTestIds.PowerUpsList},p))}},"./app/src/components/PowerUpDirectory/SearchHelper.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"createSearchIndex",(function(){return l})),n.d(t,"SearchHelper",(function(){return c}));var r=n("./node_modules/underscore/underscore.js"),i=n.n(r),o=n("./node_modules/@atlassian/trello-markdown/lib/index.js"),a=n.n(o),s=n("./app/src/components/Navigation/SearchUtils.ts"),l=function(e){var t=new a.a;return s.b.init({encode:s.a,split:/\s+/,stemmer:s.d,tokenize:"full"}),s.c.init({encode:s.a,split:/\s+/,stemmer:s.d,tokenize:"full"}),e.forEach((function(e){if(e.listing&&(e.listing.name&&s.c.add(e.id,e.listing.name),e.listing.description||e.listing.overview)){var n=[t.text(e.listing.overview||"").output,t.text(e.listing.description||"").output].join(" ");s.b.add(e.id,n)}})),{search(t){var n=s.c.search(t,5),r=s.b.search(t,25);return i.a.uniq(n.concat(r)).map((function(t){return e.find((function(e){return e.id===t}))})).filter((function(e){return Boolean(e)}))}}},c={createSearchIndex:l}},"./app/src/components/QuickCardEditor/QuickCardEditorButton.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QuickCardEditor/QuickCardEditorButton.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/QuickCardEditor/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"ConvertCardRoleButton",(function(){return C}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M3 5a2 2 0 012-2h14a2 2 0 012 2v14a2 2 0 01-2 2H5a2 2 0 01-2-2v-5h2v5h14V5H5v5H3V5z",fill:"currentColor"}),i.a.createElement("path",{d:"M11.304 8.305a1.05 1.05 0 000 1.478L12.51 11H2.976A.99.99 0 002 12c0 .552.437 1 .976 1h9.533l-1.205 1.217a1.05 1.05 0 000 1.477c.404.408 1.06.408 1.464 0l2.93-2.955a1.054 1.054 0 000-1.478l-2.93-2.956a1.031 1.031 0 00-1.464 0z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"LeaveBoardIcon",glyph:a})},l=n("./app/common/lib/util/i18n/index.ts"),c=n("./app/src/components/QuickCardEditor/QuickCardEditorButton.less"),u=n.n(c),d=function(e){var t=e.icon,n=e.children,r=e.onClick;return i.a.createElement("button",{className:u.a.button,onClick:r},t,i.a.createElement("span",{className:u.a.buttonLabel},n))},p=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),m={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"ChangeCardRole"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idCard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"cardRole"}},type:{kind:"NamedType",name:{kind:"Name",value:"CardRole"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateCardRole"},arguments:[{kind:"Argument",name:{kind:"Name",value:"idCard"},value:{kind:"Variable",name:{kind:"Name",value:"idCard"}}},{kind:"Argument",name:{kind:"Name",value:"cardRole"},value:{kind:"Variable",name:{kind:"Name",value:"cardRole"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cardRole"},arguments:[],directives:[]}]}}]}}]};var f=n("./packages/graphql/generated.tsx"),h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"ConvertCardRoleButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"idCard"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"card"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"idCard"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"cardRole"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"desc"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"due"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"start"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"attachments"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"badges"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"checkItems"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"cover"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"color"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idAttachment"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idUploadedBackground"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"customFieldItems"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"value"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"labels"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]};function v(e){return p.c(h,e)}var g=n("./packages/card-roles/index.ts"),b=n("./app/scripts/network/rpc/index.js"),y=n.n(b);var k=n("./packages/feature-flag-client/index.ts"),w=n("./packages/atlassian-analytics/index.ts");function j(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return _(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return _(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var x=Object(l.forTemplate)("quick_card_editor"),C=function(e){var t,n,o,a,l,c,u,h,b,_,C,O,S,E=e.idCard,T=e.onLoad,P=e.analyticsContainers,N=j(p.b(m,S),1)[0],I=v({variables:{idCard:E}}),A=I.data,D=I.loading;Object(r.useEffect)(T,[T,A]),function(e){var t=v({variables:{idCard:e}}).refetch;Object(r.useEffect)((function(){var n=function(n){"Card"===n.typeName&&n.deltas.find((function(t){return t.id===e}))&&t()};return y.a.on("updateModels",n),function(){return y.a.off("updateModels",n)}}))}(E);var B=null==A||null===(t=A.card)||void 0===t?void 0:t.cardRole,R=Object(g.determinePossibleCardRole)({name:(null==A||null===(n=A.card)||void 0===n?void 0:n.name)||"",description:(null==A||null===(o=A.card)||void 0===o?void 0:o.desc)||"",numAttachments:(null==A||null===(a=A.card)||void 0===a?void 0:a.attachments.length)||0,numLabels:(null==A||null===(l=A.card)||void 0===l?void 0:l.labels.length)||0,numMembers:(null==A||null===(c=A.card)||void 0===c?void 0:c.members.length)||0,numChecklistItems:(null==A||null===(u=A.card)||void 0===u||null===(h=u.badges)||void 0===h?void 0:h.checkItems)||0,numCustomFieldItems:(null==A||null===(b=A.card)||void 0===b?void 0:b.customFieldItems.length)||0,startDate:null==A||null===(_=A.card)||void 0===_?void 0:_.start,dueDate:null==A||null===(C=A.card)||void 0===C?void 0:C.due,cover:null==A||null===(O=A.card)||void 0===O?void 0:O.cover}),L="separator"===R;!k.featureFlagClient.get("wildcard.card-types-separator",!1)&&L&&(R=null,B=null);var M="board"===R;!k.featureFlagClient.get("wildcard.board-cards",!1)&&M&&(R=null,B=null);var F="link"===R;!k.featureFlagClient.get("wildcard.link-cards",!1)&&F&&(R=null,B=null);var V="mirror"===R;!k.featureFlagClient.get("wildcard.mirror-cards",!1)&&V&&(R=null,B=null);var z=Object(r.useCallback)((function(){w.Analytics.sendClickedButtonEvent({buttonName:"convertCardButton",source:"quickCardEditorInlineDialog",attributes:{fromCardRole:B,toCardRole:B?null:R},containers:P})}),[P,B,R]),U=Object(r.useCallback)((function(e,t){w.Analytics.sendTrackEvent({action:"converted",actionSubject:"card",source:"quickCardEditorInlineDialog",attributes:{fromCardRole:e,toCardRole:t},containers:P})}),[P]),H=Object(r.useCallback)((function(){z(),B?N({variables:{idCard:E,cardRole:null}}).then((function(){return U(B,null)})):M?N({variables:{idCard:E,cardRole:f.c.Board}}).then((function(){return U(null,f.c.Board)})):V?N({variables:{idCard:E,cardRole:f.c.Mirror}}).then((function(){return U(null,f.c.Mirror)})):L?N({variables:{idCard:E,cardRole:f.c.Separator}}).then((function(){return U(null,f.c.Separator)})):F&&N({variables:{idCard:E,cardRole:f.c.Link}}).then((function(){return U(null,f.c.Link)}))}),[z,B,M,V,L,F,N,E,U]);return D||!B&&!R?null:i.a.createElement(d,{icon:i.a.createElement(s,{color:"light",size:"small"}),onClick:H},!!B&&x("convert-to-regular-card"),!B&&M&&x("convert-to-board-card"),!B&&V&&x("convert-to-mirror-card"),!B&&L&&x("convert-to-separator-card"),!B&&F&&x("convert-to-link-card"))}},"./app/src/components/StandardGenerics/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"getStandardVariation",(function(){return c})),n.d(t,"getStandardVariationEnabled",(function(){return u})),n.d(t,"useStandard",(function(){return d}));var r=n("./node_modules/js-cookie/src/js.cookie.js"),i=n.n(r),o=n("./packages/feature-flag-client/index.ts"),a=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"StandardVariation"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"standardVariation"},arguments:[],directives:[]}]}}]}}]};var l="nusku.phase-3",c=function(e){return i.a.get("force_standardVariation")||e||"control"},u=function(e){return o.featureFlagClient.get(l,!1)&&"control"!==c(e)},d=function(e){var t,n,r=e.standardVariation,i=e.orgId,u=void 0===i?"":i,d=(n={variables:{orgId:u},skip:!u},a.c(s,n)).data,p=c(r||(null==d||null===(t=d.organization)||void 0===t?void 0:t.standardVariation)),m=Object(o.useFeatureFlag)(l,!1);return{isStandardFlagEnabled:m,isStandardVariationEnabled:m&&"control"!==p,standardVariation:p}}},"./app/src/components/TeamTypeSelect/TeamTypeSelect.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamTypeSelect/TeamTypeSelect.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/TeamTypeSelect/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"TeamTypeSelect",(function(){return v}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/common/lib/util/i18n/index.ts"),a=n("./packages/organizations/index.ts"),s=n("./packages/nachos/select.ts"),l=n("./node_modules/underscore/underscore.js"),c=n("./app/src/components/TeamTypeSelect/TeamTypeSelect.less"),u=n.n(c);function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var m=Object(o.forNamespace)("team type dropdown"),f=Object(o.forNamespace)("team vertical selection"),h=Object(l.chain)(Object.values(a.TeamTypes)).without(a.TeamTypes.Other).shuffle().value().concat(a.TeamTypes.Other).map((function(e){return{label:f(e),value:e}})),v=function(e){var t=e.isDisabled,n=e.onChange,r=e.initialValue,o=e.testId,a=e.required,l=e.label,c=e.placeholder,v=r?{label:f(r),value:r}:{label:m("default option"),value:""};h.some((function(e){return e.value===r}))||(v={label:c||m("default option"),value:""});var g=h;return o&&(g=g.map((function(e){return function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){p(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},e,{testId:"".concat(o,"-").concat(e.value)})}))),i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:"teamTypeSelect"},l||m("input label"),a&&i.a.createElement("span",{className:u.a.createTeamLabelstar},"*")),i.a.createElement(s.a,{inputId:"teamTypeSelect",defaultValue:v,isDisabled:t,options:g,onChange:function(e){n(e.value)},testId:o}))}},"./app/src/components/TimelineViewWrapper/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"TimelineViewWrapper",(function(){return c}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/use-lazy-component/index.ts"),a=n("./app/src/components/ErrorBoundary/index.ts"),s=n("./app/scripts/debug/constants.ts"),l=n("./app/src/components/BoardDashboardView/PermissionsContext.tsx"),c=function(e){var t=e.idBoard,c=e.navigateToCard,u=e.closeView,d=Object(o.useLazyComponent)((function(){return n.e(153).then(n.bind(null,"./app/src/components/TimelineViewWrapper/TimelineView.tsx"))}),{namedImport:"TimelineView"});return i.a.createElement(a.ErrorBoundary,{tags:{ownershipArea:"trello-ecosystem",feature:s.Feature.TimelineView}},i.a.createElement(r.Suspense,{fallback:null},i.a.createElement(l.b,{idBoard:t},i.a.createElement(d,{idBoard:t,navigateToCard:c,closeView:u}))))}},"./app/src/components/UpgradePathAudit/BoardHeaderOrgMenuPopoverButton.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/BoardHeaderOrgMenuPopoverButton.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.less"),a=n.n(o),s=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),l=n("./app/src/components/UpgradePrompts/useUpgradePromptRules.ts"),c=n("./app/common/lib/util/i18n/index.ts"),u=n("./packages/atlassian-analytics/index.ts"),d=n("./packages/analytics/index.ts"),p=Object(c.forNamespace)(["upgrade-path-audit"]),m=function(e){var t=e.orgId,n=e.teamName,r=Object(l.a)(t,"closed-board-upsell-".concat(t)).openPlanSelection,o=Object(s.a)(t,{skip:!t}).isEligible;return i.a.createElement("span",{className:a.a.messaging},p("cannot-reopen-board-limit-reached",{upgrade:i.a.createElement("a",{key:"cannot-reopen-board-limit-reached",className:a.a.ctaLink,role:"button",onClick:function(){r(),u.Analytics.sendClickedLinkEvent({linkName:"bcUpgradePrompt",source:"closeBoardScreen",containers:{organization:{id:t}},attributes:{isFreeTrial:!!o,promptId:"closeBoardUpgradeLink"}}),Object(d.trackUe)({category:d.Noun.CLOSED_BOARDS,verb:d.Verb.OPENS,directObj:d.Noun.BC_MODAL,method:"by clicking upgrade link in closed board screen",context:{organizationId:t,isFreeTrial:!!o}})}},p("upgrade-team-to-business-class",{teamName:i.a.createElement("span",{key:"team-name"},n)}))}))}},"./app/src/components/UpgradePathAudit/CopyBoardFromTemplatePopoverButton.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/CopyBoardFromTemplatePopoverButton.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/UpgradePathAudit/FacePileLinkButton.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/FacePileLinkButton.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/UpgradePathAudit/FacePileLinkButton.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"FacePileLinkButton",(function(){return m}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/src/components/UpgradePrompts/index.ts"),a=n("./app/src/components/FreeTrial/index.ts"),s=n("./app/common/lib/util/i18n/index.ts"),l=n("./app/src/components/UpgradePathAudit/FacePileLinkButton.less"),c=n.n(l),u=n("./packages/atlassian-analytics/index.ts"),d=n("./packages/analytics/index.ts"),p=Object(s.forNamespace)(["upgrade-path-audit"]),m=function(e){var t=e.orgId,n=Object(o.useUpgradePromptRules)(t,"face-file-upsell-link-button").openPlanSelection,s=Object(a.useFreeTrialEligibilityRules)(t).isEligible,l=Object(r.useRef)(null);return Object(r.useEffect)((function(){var e,r=function(e){e.stopPropagation(),e.preventDefault(),n(),u.Analytics.sendClickedLinkEvent({linkName:"bcUpgradePrompt",source:"allBoardMembersInlineDialog",containers:{organization:{id:t}},attributes:{isFreeTrial:s,promptId:"boardMemberDialogInline"}}),Object(d.trackUe)({category:d.Noun.BOARD_MENU,verb:d.Verb.OPENS,directObj:d.Noun.BC_MODAL,method:"by clicking upgrade link in board members dialog",context:{organizationId:t,isFreeTrial:!!s}})};return null==l||null===(e=l.current)||void 0===e||e.addEventListener("click",r),function(){var e;return null==l||null===(e=l.current)||void 0===e?void 0:e.removeEventListener("click",r)}})),i.a.createElement("div",{className:c.a.container},p("for-more-user-roles",{upgrade:i.a.createElement("button",{key:"face-pile-upsell-link-button",ref:l,className:c.a.upgradeButton},p("explore-bc-1"))}))}},"./app/src/components/UpgradePathAudit/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CopyBoardFromTemplatePopoverButton",(function(){return m})),n.d(t,"FacePileLinkButton",(function(){return f.FacePileLinkButton})),n.d(t,"ClosedBoardUpsellMessaging",(function(){return h.a})),n.d(t,"BoardHeaderOrgMenuPopoverButton",(function(){return k}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),a=n("./app/src/components/UpgradePrompts/useUpgradePromptRules.ts"),s=n("./app/src/components/UpgradePathAudit/CopyBoardFromTemplatePopoverButton.less"),l=n.n(s),c=n("./packages/atlassian-analytics/index.ts"),u=n("./packages/analytics/index.ts"),d=n("./app/common/lib/util/i18n/index.ts"),p=Object(d.forNamespace)(["upgrade-path-audit"]),m=function(e){var t=e.orgId,n=e.teamName,r=Object(o.a)(t,{skip:!t}).isEligible,s=Object(a.a)(t,"copy-board-from-template-popover-button-".concat(t)).openPlanSelection;return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,p("cannot-copy-board-limit-reached",{teamName:i.a.createElement("span",{key:"team-name"},n)})),i.a.createElement("a",{href:"#",onClick:function(){s(),c.Analytics.sendClickedLinkEvent({linkName:"bcUpgradePrompt",source:"createFromTemplateInlineDialog",containers:{organization:{id:t}},attributes:{isFreeTrial:r,promptId:"creatBoardFromTemplatePrompt"}}),Object(u.trackUe)({category:u.Noun.TEMPLATE_DIALOG,verb:u.Verb.OPENS,directObj:u.Noun.BC_MODAL,method:"by clicking upgrade link in create board from template dialog",context:{organizationId:t,isFreeTrial:!!r}})},className:l.a.ctaButton},p("upgrade-team-to-business-class",{teamName:i.a.createElement("span",{key:"team-name"},n)})))},f=n("./app/src/components/UpgradePathAudit/FacePileLinkButton.tsx"),h=n("./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.tsx"),v=n("./app/src/components/UpgradePathAudit/BoardHeaderOrgMenuPopoverButton.less"),g=n.n(v),b=n("./packages/nachos/spinner.ts"),y=Object(d.forNamespace)(["upgrade-path-audit"]),k=function(e){var t=e.orgId,n=Object(o.a)(t,{skip:!t}),r=n.isEligible,s=n.loading,l=Object(a.a)(t,"board-header-org-menu-button-".concat(t)),d=l.openPlanSelection,p=l.loading;if(s||p)return i.a.createElement(b.a,{centered:!0});return i.a.createElement("a",{role:"button",className:g.a.ctaButton,onClick:function(){d(),c.Analytics.sendClickedLinkEvent({linkName:"bcUpgradePrompt",source:"boardOrganizationInlineDialog",containers:{organization:{id:t}},attributes:{isFreeTrial:!!r,promptId:"newTeamInlinePrompt"}}),Object(u.trackUe)({category:u.Noun.BOARD_MENU,verb:u.Verb.OPENS,directObj:u.Noun.BC_MODAL,method:"by clicking upgrade link in board organization dialog",context:{isFreeTrial:!!r,organizationId:t}})}},y(r?"try-free-trial-bc":"upgrade-to-bc"))}},"./app/src/components/UpgradePrompts/UpgradePromptBanner.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptBanner.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptButton.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButton.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptButton.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptButton",(function(){return m})),n.d(t,"UpgradePromptButtonConnected",(function(){return f}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/src/components/UpgradePrompts/UpgradePromptButton.less"),l=n.n(s),c=n("./app/src/components/ComponentWrapper/index.ts"),u=n("./app/common/components/singlespa/router-link.tsx"),d=n("./packages/browser/index.ts");function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var m=function(e){var t=e.cta,n=e.ctaLink,r=e.ctaOnClick,o=e.icon,s=e.isDarkTheme,c=e.shouldFitContainer,m=e.openInNewTab,f=e.allowUpsell,h=e.testId;if(Object(d.dontUpsell)()&&!f)return null;var v=a()(l.a.upgradePromptButton,s?l.a.upgradePromptButtonDarkTheme:l.a.upgradePromptButtonLightTheme,c&&l.a.upgradePromptFitContainer),g="/business-class"===n?"a":u.a;return n||(g="button"),i.a.createElement(g,p({"data-test-id":h,href:n,className:v,onClick:function(){r&&r()}},m?{target:"_blank"}:{}),void 0!==o&&i.a.createElement("div",{className:l.a.upgradePromptButtonIconBackground},i.a.cloneElement(o,{dangerous_className:l.a.upgradePromptButtonIcon,size:"small"})),i.a.createElement("div",{className:l.a.upgradePromptButtonCTA},t))},f=function(e){return i.a.createElement(c.ComponentWrapper,null,i.a.createElement(m,e))}},"./app/src/components/UpgradePrompts/UpgradePromptButtonBase.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButtonBase.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptDismissMessageMutation.generated.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),i={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"UpgradePromptDismissMessage"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]}]}}]}}]};function o(e){return r.b(i,e)}},"./app/src/components/UpgradePrompts/UpgradePromptFull.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFull.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptFull.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptFull",(function(){return _})),n.d(t,"UpgradePromptFullConnected",(function(){return x}));var r=n("./packages/atlassian-analytics/index.ts"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/classnames/index.js"),s=n.n(a),l=n("./packages/nachos/icons/close.tsx"),c=n("./app/src/components/ComponentWrapper/index.ts"),u=n("./packages/nachos/button.ts"),d=n("./app/src/components/FreeTrial/index.ts"),p=n("./app/common/components/singlespa/router-link.tsx"),m=n("./app/src/components/UpgradePrompts/UpgradePromptFull.less"),f=n.n(m),h=n("./packages/browser/index.ts"),v=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),g=n("./app/common/lib/util/i18n/index.ts"),b=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),y=n("./app/scripts/debug/constants.ts");function k(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return w(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return w(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var j=Object(g.forNamespace)(["free trial existing","upgrade prompt"]),_=function(e){var t=e.allowUpsell,n=e.className,a=e.content,c=e.cta,m=e.ctaLink,g=e.ctaOnClick,w=e.headline,_=e.hidePlanOverlay,x=e.icon,C=e.isDarkTheme,O=e.isDismissable,S=e.onDismiss,E=e.orgId,T=e.source,P=e.testId,N=Object(v.a)(E).isEligible,I=k(Object(i.useState)(!1),2),A=I[0],D=I[1],B=function(){_||D(!0),r.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:T,containers:{organization:{id:E}},attributes:{feature:N?"freeTrial":void 0}}),g&&g()},R=s()(f.a.upgradePromptFull,C?f.a.upgradePromptFullDarkTheme:f.a.upgradePromptFullLightTheme,n),L=a&&o.a.createElement("div",{className:f.a.upgradePromptFullContent},a),M=O&&o.a.createElement("button",{className:f.a.upgradePromptFullCloseButtonWrapper,onClick:S},o.a.createElement(l.a,{dangerous_className:f.a.upgradePromptFullCloseButton,size:"small"})),F="/business-class"===m?"a":p.a;if(Object(h.dontUpsell)()&&!t)return null;var V=N?j("cta"):c;return o.a.createElement(b.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:y.Feature.UpgradePrompt}},o.a.createElement("div",{className:R},o.a.createElement("div",{className:f.a.upgradePromptFullHeadline},w),L,_?o.a.createElement(F,{href:m,className:f.a.upgradePromptFullCTA,onClick:B,"data-test-id":P,target:Object(h.isDesktop)()&&"/business-class"===m?"_blank":void 0},V):o.a.createElement(u.Button,{appearance:"link",onClick:B,"data-test-id":P,className:f.a.upgradePromptFullCTA},V),!_&&A&&E&&o.a.createElement(d.PlanSelectionOverlay,{onClose:function(){return D(!1)},orgId:E}),o.a.createElement("div",{className:f.a.upgradePromptFullIconBackground},o.a.cloneElement(x,{dangerous_className:f.a.upgradePromptFullIcon,size:"medium"})),o.a.createElement("div",{className:f.a.upgradePromptFullIconClippedBackground}),M))},x=function(e){return o.a.createElement(c.ComponentWrapper,null,o.a.createElement(_,e))}},"./app/src/components/UpgradePrompts/UpgradePromptFullBase.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFullBase.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptPill.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPill.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptPill.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptPill",(function(){return p})),n.d(t,"UpgradePromptPillConnected",(function(){return m}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/src/components/UpgradePrompts/UpgradePromptPill.less"),l=n.n(s),c=n("./app/src/components/ComponentWrapper/index.ts"),u=n("./app/common/components/singlespa/router-link.tsx"),d=n("./packages/browser/index.ts"),p=function(e){var t=e.isDarkTheme,n=e.cta,r=e.ctaLink,o=e.ctaOnClick,s=e.icon,c=e.allowUpsell,p=e.testId;if(Object(d.dontUpsell)()&&!c)return null;var m=function(){o&&o()},f=a()(l.a.upgradePromptPill,t?l.a.upgradeDarkTheme:l.a.upgradeLightTheme),h="/business-class"===r?"a":u.a,v=i.a.createElement(i.a.Fragment,null,i.a.cloneElement(s,{dangerous_className:l.a.upgradePromptPillIcon,size:"small"}),i.a.createElement("div",{className:l.a.upgradePromptPillCTA},n));return r?i.a.createElement(h,{href:r,className:f,onClick:m,"data-test-id":p},v):i.a.createElement("button",{className:f,onClick:m,"data-test-id":p},v)},m=function(e){return i.a.createElement(c.ComponentWrapper,null,i.a.createElement(p,e))}},"./app/src/components/UpgradePrompts/UpgradePromptPillBase.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPillBase.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/UpgradePrompts/UpgradeSmartComponent.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradeSmartComponent.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradeSmartComponentNoBoundary",(function(){return H})),n.d(t,"UpgradeSmartComponent",(function(){return W})),n.d(t,"UpgradeSmartComponentConnected",(function(){return q}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./packages/feature-flag-client/index.ts"),l=n("./packages/nachos/popover.ts"),c=n("./packages/test-ids/index.ts"),u=n("./app/src/components/ComponentWrapper/index.ts"),d=n("./app/src/components/UpgradePrompts/UpgradePromptFullBase.less"),p=n.n(d),m=n("./packages/nachos/icons/close.tsx"),f=function(e){var t=e.loading,n=e.className,r=e.content,o=e.cta,s=e.headline,l=e.icon,c=e.isDarkTheme,u=e.onDismiss,d=(e.allowUpsell,a()(p.a.upgradePromptFull,c?p.a.upgradePromptFullDarkTheme:p.a.upgradePromptFullLightTheme,n));return t?i.a.createElement("div",{className:p.a.animation}):i.a.createElement("div",{className:d},i.a.createElement("div",{className:p.a.upgradePromptFullHeadline},s),i.a.createElement("div",{className:p.a.upgradePromptFullContent},r),o,i.a.createElement("div",{className:p.a.upgradePromptFullIconBackground},i.a.cloneElement(l,{dangerous_className:p.a.upgradePromptFullIcon})),i.a.createElement("div",{className:p.a.upgradePromptFullIconClippedBackground}),u&&i.a.createElement("button",{className:p.a.upgradePromptFullCloseButtonWrapper,onClick:u},i.a.createElement(m.a,{size:"small",dangerous_className:p.a.upgradePromptFullCloseButton})))},h=n("./app/src/components/UpgradePrompts/UpgradePromptPillBase.less"),v=n.n(h),g=n("./app/common/components/singlespa/router-link.tsx"),b=function(e){var t=e.isDarkTheme,n=e.cta,r=e.ctaLink,o=e.ctaOnClick,s=e.icon,l=(e.allowUpsell,e.testId),c=function(){o&&o()},u=a()(v.a.upgradePromptPill,t?v.a.upgradeDarkTheme:v.a.upgradeLightTheme),d=i.a.createElement(i.a.Fragment,null,i.a.cloneElement(s,{dangerous_className:v.a.upgradePromptPillIcon,size:"small"}),i.a.createElement("div",{className:v.a.upgradePromptPillCTA},n));return r?i.a.createElement(g.a,{href:r,className:u,onClick:c,testId:l},d):i.a.createElement("button",{className:u,onClick:c,"data-test-id":l},d)},y=n("./app/src/components/UpgradePrompts/UpgradePromptButtonBase.less"),k=n.n(y),w=n("./packages/nachos/icons/business-class.tsx"),j=function(e){var t=e.cta,n=(e.ctaLink,e.ctaOnClick),r=e.isDarkTheme,o=e.shouldFitContainer,s=(e.openInNewTab,e.testId),l=a()(k.a.upgradePromptButton,{[k.a.upgradePromptButtonDarkTheme]:r,[k.a.upgradePromptButtonLightTheme]:!r,[k.a.upgradePromptFitContainer]:o});return i.a.createElement("button",{"data-test-id":s,className:l,onClick:function(e){e.preventDefault(),n&&n()}},i.a.createElement("div",{className:k.a.upgradePromptButtonIconBackground},i.a.createElement(w.BusinessClassIcon,{size:"small",dangerous_className:k.a.upgradePromptButtonIcon})),i.a.createElement("div",{className:k.a.upgradePromptButtonCTA},t))},_=n("./app/src/components/UpgradePrompts/useUpgradePromptRules.ts"),x=n("./app/src/components/FreeTrial/index.ts"),C=n("./app/src/components/ErrorBoundary/ErrorBoundary.tsx"),O=n("./packages/nachos/button.ts"),S=n("./app/common/lib/util/i18n/index.ts"),E=n("./packages/analytics/index.ts"),T=n("./packages/atlassian-analytics/index.ts"),P=n("./app/scripts/debug/constants.ts"),N=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.less"),I=n.n(N),A=n("./packages/browser/index.ts"),D=n("./packages/nachos/icons/collection.tsx"),B=n("./packages/nachos/icons/power-up.tsx"),R=n("./packages/nachos/icons/butler-bot.tsx"),L=n("./packages/nachos/icons/board.tsx"),M=n("./packages/nachos/icons/download.tsx"),F=n("./packages/nachos/icons/member.tsx");function V(){return(V=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var z=Object(S.forNamespace)("upgrade prompt"),U=Object(S.forNamespace)("free trial existing"),H=function(e){var t=e.orgId,n=e.promptId,r=e.additionalProps,o=e.allowUpsell,u="".concat(t,"-").concat(n),d=Object(x.useFreeTrialEligibilityRules)(t),p=d.isEligible,m=d.loading,h=Object(_.a)(t,u,{allowUpsell:o}),v=h.boardLimit,y=h.org,k=h.dismissMessage,C=h.openPlanSelection,P=h.shouldDisplayUpgradePrompt,N=h.loading,H="/".concat(null==y?void 0:y.name,"/billing"),W="/".concat(null==y?void 0:y.name,"/free-trial"),q=Object(s.useFeatureFlag)("dataeng.gasv3-event-tracking",!1),G=m||N;if(G||!P)return null;var $={approachingBoardLimitTemplateUpgradePromptPill:i.a.createElement(j,{cta:Object(S.forTemplate)("create_board")("upgrade team"),ctaOnClick:function(){T.Analytics.sendClickedButtonEvent({source:"createFromTemplateInlineDialog",buttonName:"bcUpgradePrompt",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"approachingBoardLimitTemplateUpgradePromptPill"}}),C()}}),atBoardLimitTemplateUpgradePromptPill:i.a.createElement(j,{cta:Object(S.forTemplate)("create_board")("upgrade team"),ctaOnClick:function(){T.Analytics.sendClickedButtonEvent({source:"createFromTemplateInlineDialog",buttonName:"bcUpgradePrompt",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"atBoardLimitTemplateUpgradePromptPill"}}),Object(E.trackUe)({category:E.Noun.TEMPLATE_DIALOG,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking button upgrade prompt in create from template dialog",context:{organizationId:t,isFreeTrial:!!p}}),C()}}),boardMenuMoreCollectionsPromptFull:i.a.createElement("div",{className:I.a.margin},i.a.createElement(f,{onDismiss:k,loading:G,icon:i.a.createElement(D.CollectionIcon,null),headline:z(["board menu","collections","headline-2"]),content:z(["board menu","collections","content-2"]),cta:i.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.CollectionsUpgradePrompt,className:a()(I.a.cta,I.a.lightModeCta),onClick:function(){Object(E.trackUe)({category:E.Noun.BOARD_MENU,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in board menu more section",context:{isFreeTrial:!!p,organizationId:t}}),q&&T.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawerMoreScreen",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"boardMenuMoreCollectionsPromptFull"}}),C()}},p?U(["upgrade prompt","cta"]):z("learn more"))})),boardMenuMoreCollectionsPromptPill:i.a.createElement(b,{testId:c.UpgradePromptTestIds.CollectionsUpgradePill,icon:i.a.createElement(w.BusinessClassIcon,null),cta:z(["upgrade"]),ctaOnClick:function(){Object(E.trackUe)({category:E.Noun.BOARD_MENU,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking collections upgrade pill in board menu more section",context:{isFreeTrial:!!p,organizationId:t}}),q&&T.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawerMoreScreen",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"boardMenuMoreCollectionsPromptPill"}}),C()}}),boardMenuMoreTemplatesPromptPill:i.a.createElement(b,{ctaOnClick:function(){Object(E.trackUe)({category:E.Noun.BOARD_MENU,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking template upgrade pill in board menu more section",context:{isFreeTrial:!!p,organizationId:t}}),q&&T.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawerMoreScreen",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"boardMenuMoreTemplatesPromptPill"}}),C()},cta:z(["upgrade"]),icon:i.a.createElement(w.BusinessClassIcon,null),testId:c.UpgradePromptTestIds.TemplatesUpgradePill}),boardMenuDrawerPromptFull:i.a.createElement(f,{loading:G,icon:i.a.createElement(B.a,null),headline:z(["board menu","power ups","headline"]),content:z(["board menu","power ups","content"]),cta:i.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.PuPsUpgradePrompt,className:a()(I.a.cta,I.a.lightModeCta),onClick:function(){Object(E.trackUe)({category:E.Noun.BOARD_MENU,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in board menu pup section",context:{isFreeTrial:!!p,organizationId:t}}),q&&T.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"boardMenuDrawer",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"boardMenuDrawerPromptFull"}}),C()}},p?U(["upgrade prompt","cta"]):z("learn more"))}),butlerUpsellPopoverPromptFull:(null==r?void 0:r.upsellReason)?i.a.createElement(l.b,V({},r.popoverProps,{title:z(["butler upsell popover","".concat(r.upsellReason,"-title")])}),i.a.createElement("div",{className:I.a.butlerUpsellPopoverPromptFullWrapper},i.a.createElement(f,{loading:G,content:z(["butler upsell popover","".concat(r.upsellReason,"-content")]),headline:z(["butler upsell popover","".concat(r.upsellReason,"-headline")]),icon:i.a.createElement(R.a,null),cta:i.a.createElement("button",{className:a()(I.a.cta,I.a.lightModeCta),onClick:function(){var e;T.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"butlerUpsellInlineDialog",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"butlerUpsellPopoverPromptFull",upsellReason:r.upsellReason}}),null===(e=r.ctaOnClick)||void 0===e||e.call(r),p&&!Object(A.dontUpsell)()?C():window.open("/business-class")}},p&&!Object(A.dontUpsell)()?U(["upgrade prompt","cta"]):z("learn more"))})),i.a.createElement(O.Button,{size:"fullwidth",onClick:r.goToButler},z(["butler upsell popover","go to butler"]))):null,createBoardModalPromptFull:i.a.createElement("div",{className:I.a.createBoardModalWrapper},i.a.createElement(f,{loading:G,icon:i.a.createElement(L.BoardIcon,null),headline:z(["create board popover","headline"],{boardCount:v}),content:z(["create board popover","content-2"]),cta:i.a.createElement(g.a,{testId:c.UpgradePromptTestIds.CreateBoardUpgradePrompt,className:a()(I.a.cta,I.a.darkModeCta),href:"/".concat(null==y?void 0:y.name,p?"/free-trial":"/billing"),onClick:function(){Object(E.trackUe)({category:E.Noun.CREATE_BOARD_POPOVER,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in create board popover",context:{organizationId:t}}),T.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"createBoardModal",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"createBoardModalPromptFull"}})}},p?U(["upgrade prompt","cta"]):z("learn more")),isDarkTheme:!0})),inviteUpgradePromptFull:i.a.createElement(f,{loading:G,icon:i.a.createElement(w.BusinessClassIcon,null),headline:Object(A.dontUpsell)()?z(["team page","invite-popover","headline-auaa-desktop"]):z(["team page","invite-popover","headline-auaa-2"]),content:Object(A.dontUpsell)()?z(["team page","invite-popover","content-auaa-desktop"]):z(["team page","invite-popover","content-auaa-2"]),cta:i.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.InviteUpgradePrompt,className:a()(I.a.cta,I.a.lightModeCta),onClick:function(){Object(E.trackUe)({category:E.Noun.TEAM_PAGE,verb:E.Verb.OPENS,directObj:E.Noun.TEAM_PAGE_BC_TAB,method:"by clicking full upgrade prompt in team page invite members popover",context:{organizationId:t,isFreeTrial:!!p}}),q&&T.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"inviteToTeamInlineDialog",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"teamInvitePromptFull"}}),p&&!Object(A.dontUpsell)()?C():window.open("/business-class")}},p&&!Object(A.dontUpsell)()?U(["upgrade prompt","cta"]):z("learn more"))}),memberHomeScreenPromptFull:i.a.createElement(f,{loading:G,icon:i.a.createElement(w.BusinessClassIcon,null),onDismiss:k,headline:p?U(["upgrade prompt","headline"]):z(["home","team tab","headline-2"]),content:p?U(["upgrade prompt","content"]):z(["home","team tab","content-2"]),isDarkTheme:!1,cta:i.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.TeamHomeSidebarUpgradePrompt,className:a()(I.a.cta,I.a.lightModeCta),onClick:function(){Object(E.trackUe)({category:E.Noun.HOME_TEAM_ACCORDION,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in home page team accordion",context:{organizationId:t,isFreeTrial:!!p}}),q&&T.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"organizationBoardsHomeScreen",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"memberHomeScreenPromptFull"}}),C()}}," ",p?U(["upgrade prompt","cta"]):z("learn more"))}),moreMenuShareInlineDialogPromptFull:i.a.createElement(f,{onDismiss:k,loading:G,icon:i.a.createElement(M.DownloadIcon,null),headline:z(["board menu","print and export","headline-2"]),content:z(["board menu","print and export","content-2"]),cta:i.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.PrintAndExportUpgradePrompt,className:a()(I.a.cta,I.a.lightModeCta),onClick:function(){Object(E.trackUe)({category:E.Noun.BOARD_MENU,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in the board menu export page",context:{isFreeTrial:!!p,organizationId:t}}),q&&T.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"printAndExportBoardInlineDialog",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"moreMenuShareInlineDialogPromptFull"}}),C()}},p?U(["upgrade prompt","cta"]):z("learn more"))}),orgMemberRestrictedPromptFull:i.a.createElement(f,{loading:G,icon:i.a.createElement(F.MemberIcon,null),headline:Object(A.dontUpsell)()?z(["team page","members","headline-membership-tooltip-auaa-desktop"]):z(["team page","members","headline-membership-tooltip-auaa-2"]),content:Object(A.dontUpsell)()?z(["team page","members","content-membership-tooltip-auaa-desktop"]):z(["team page","members","content-membership-tooltip-auaa-2"]),cta:i.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.OrgMemberRestrictedPermission,className:a()(I.a.cta,I.a.lightModeCta),onClick:function(){Object(E.trackUe)({category:E.Noun.TEAM_PAGE,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in team page membership type",context:{organizationId:t,isFreeTrial:!!p}}),q&&T.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"auaaUpgradeInlineDialog",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"auaaPromptFull"}}),p&&!Object(A.dontUpsell)()?C():window.open("/business-class")}},p&&!Object(A.dontUpsell)()?U(["upgrade prompt","cta"]):z("learn more"))}),pupLimitPopUpPromptFull:i.a.createElement(f,{loading:G,icon:i.a.createElement(L.BoardIcon,null),headline:Object(S.forTemplate)("business_class_upsell")("get-unlimited-power-ups"),content:Object(S.forTemplate)("business_class_upsell")("need-more-than-one-power-up-per-board-go-unlimited-with-business-class"),onDismiss:null==r?void 0:r.onClose,cta:i.a.createElement("button",{className:a()(I.a.cta),onClick:function(){q&&T.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"pupLimitBCUpsellInlineDialog",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"pupLimitPopUpPromptFull"}}),C()}},p?U(["upgrade prompt","cta"]):z("learn more"))}),pupUpgradeBannerButton:i.a.createElement(j,{cta:z("upgrade"),ctaOnClick:function(){Object(E.trackUe)({category:E.Noun.POWER_UPS_DIRECTORY,verb:E.Verb.CLICKS,directObj:E.Noun.UPGRADE_BUTTON,context:{isFreeTrial:!!p,organizationId:t}}),q&&T.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"powerUpDirectoryUpgradeBanner",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"pupUpgradeBannerButton"}}),C()},shouldFitContainer:!0}),pupUpgradePromptPill:i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{className:"card-back-pup-upgrade-prompt-section"},i.a.createElement("div",{className:"card-back-pup-upgrade-prompt-opener"},Object(S.forTemplate)("card_detail")("upgrade-to-get-unlimited-power-ups-2")),i.a.createElement("div",{className:"card-back-pup-upgrade-prompt"},i.a.createElement(b,{testId:c.UpgradePromptTestIds.PuPsUpgradePill,icon:i.a.createElement(w.BusinessClassIcon,null),cta:Object(S.forNamespace)("upgrade prompt")("upgrade team"),ctaLink:p?W:H,ctaOnClick:function(){Object(E.trackUe)({category:E.Noun.CARD_BACK,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking pill upgrade prompt in card back pup section",context:{isFreeTrial:!!p,organizationId:t}}),T.Analytics.sendUIEvent({action:"clicked",actionSubject:"pill",actionSubjectId:"bcUpgradePrompt",source:"pupCardBackSectionInlineDialog",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"pupUpgradePromptPill"}})}})))),teamBoardsHeaderUpgradePromptButton:i.a.createElement(j,{testId:c.UpgradePromptTestIds.TeamBoardsHeaderUpgradeButton,cta:z("upgrade"),ctaOnClick:function(){Object(E.trackUe)({category:E.Noun.HOME,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking button upgrade prompt in home page boards tab",context:{isFreeTrial:!!p,organizationId:t}}),q&&T.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"memberBoardsHomeScreen",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"teamBoardsHeaderUpgradePromptButton"}}),C()},shouldFitContainer:!0}),teamMembersScreenPromptFull:i.a.createElement(f,{loading:G,icon:i.a.createElement(L.BoardIcon,null),isDarkTheme:!0,headline:z(["team page","members","headline-sidebar-auaa-2"]),content:z(["team page","members","content-sidebar-auaa-2"]),cta:i.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.TeamMembersPageUpgradePrompt,className:a()(I.a.cta,I.a.darkModeCta),onClick:function(){Object(E.trackUe)({category:E.Noun.TEAM_PAGE,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in team page members tab",context:{isFreeTrial:!!p,organizationId:t}}),q&&T.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"organizationMembersScreen",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"teamMembersScreenPromptFull"}}),C()}},p?U(["upgrade prompt","cta"]):z("learn more"))}),teamBoardsScreenPromptFull:i.a.createElement(f,{loading:G,icon:i.a.createElement(L.BoardIcon,null),isDarkTheme:!0,headline:z(["team page","members","headline-sidebar-auaa-2"]),content:z(["team page","members","content-sidebar-auaa-2"]),cta:i.a.createElement("button",{"data-test-id":c.UpgradePromptTestIds.TeamMembersPageUpgradePrompt,className:a()(I.a.cta,I.a.darkModeCta),onClick:function(){Object(E.trackUe)({category:E.Noun.TEAM_PAGE,verb:E.Verb.OPENS,directObj:E.Noun.BC_MODAL,method:"by clicking full upgrade prompt in team page members tab",context:{isFreeTrial:!!p,organizationId:t}}),q&&T.Analytics.sendUIEvent({action:"clicked",actionSubject:"prompt",actionSubjectId:"bcUpgradePrompt",source:"organizationMembersScreen",containers:{organization:{id:t}},attributes:{isFreeTrial:!!p,promptId:"teamBoardsScreenPromptFull"}}),C()}},p?U(["upgrade prompt","cta"]):z("learn more"))})};if(void 0===$[n])throw new Error("UpgradeSmartComponent: promptId ".concat(n,' not found"'));return $[n]},W=function(e){return i.a.createElement(C.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:P.Feature.UpgradePrompt}},i.a.createElement(H,e))},q=function(e){return i.a.createElement(u.ComponentWrapper,null,i.a.createElement(W,e))}},"./app/src/components/UpgradePrompts/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"UpgradePromptFull",(function(){return i.UpgradePromptFull})),n.d(t,"UpgradePromptButton",(function(){return o.UpgradePromptButton})),n.d(t,"UpgradePromptPill",(function(){return a.UpgradePromptPill})),n.d(t,"UpgradePromptSettingsTab",(function(){return _})),n.d(t,"UpgradePromptSettingsTabConnected",(function(){return x})),n.d(t,"UpgradePromptBanner",(function(){return A})),n.d(t,"UpgradePromptBannerType",(function(){return r})),n.d(t,"UpgradeSmartComponent",(function(){return D.UpgradeSmartComponent})),n.d(t,"UpgradeSmartComponentConnected",(function(){return D.UpgradeSmartComponentConnected})),n.d(t,"useUpgradePromptRules",(function(){return h.a}));var r,i=n("./app/src/components/UpgradePrompts/UpgradePromptFull.tsx"),o=n("./app/src/components/UpgradePrompts/UpgradePromptButton.tsx"),a=n("./app/src/components/UpgradePrompts/UpgradePromptPill.tsx"),s=n("./node_modules/react/index.js"),l=n.n(s),c=n("./app/common/lib/util/i18n/index.ts"),u=n("./node_modules/classnames/index.js"),d=n.n(u),p=n("./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less"),m=n.n(p),f=n("./packages/analytics/index.ts"),h=n("./app/src/components/UpgradePrompts/useUpgradePromptRules.ts"),v=n("./packages/feature-flag-client/index.ts"),g=n("./app/src/components/ComponentWrapper/index.ts"),b=n("./packages/nachos/button.ts"),y=n("./packages/atlassian-analytics/index.ts"),k=n("./app/src/components/FreeTrial/useFreeTrialEligibilityRules.ts"),w=Object(c.forTemplate)("org_account"),j=n("./resources/images/stars.svg"),_=function(e){var t=e.buttonUrl,n=e.buttonText,r=e.orgId,i=Object(v.useFeatureFlag)("btg.upgrade-prompt-audit",!1),o=Object(h.a)(r,"upgrade-prompt-settings-tab-".concat(r)).openPlanSelection,a=Object(k.a)(r,{skip:!i}).isEligible;return l.a.createElement("div",{className:d()("window-module","u-clearfix",m.a.bcPromptHeader)},l.a.createElement("div",{className:d()("setting-item",m.a.settingItem)},l.a.createElement("div",{className:m.a.bcPromptSparkle},l.a.createElement("img",{alt:"sparkle",src:j})),l.a.createElement("div",{className:"setting-item-detail"},w("more-settings",{boldTextUpgradeToBc:l.a.createElement("strong",{key:"bold-text-upgrade-to-bc"},w("bold-text-upgrade-to-bc"))})),l.a.createElement("div",{className:"setting-item-action"},i?l.a.createElement(b.Button,{appearance:"primary",onClick:function(){o(),y.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"teamSettingsScreen",containers:{organization:{id:r}},attributes:{isFreeTrial:!!a,promptId:"teamSettingsButton"}}),Object(f.trackUe)({category:f.Noun.TEAM_PAGE,verb:f.Verb.OPENS,directObj:f.Noun.BC_MODAL,method:"by clicking upgrade button in team page settings tab",context:{isFreeTrial:!!a,organizationId:r}})},shouldFitContainer:!0},w(n)):l.a.createElement("a",{className:d()("primary","button-link","u-text-align-center",m.a.bcPromptUpgrade),href:t,onClick:function(){return Object(f.trackUe)({category:f.Noun.TEAM_PAGE,verb:f.Verb.OPENS,directObj:f.Noun.TEAM_PAGE_BC_TAB,method:"by clicking upgrade button in team page settings tab"})}},w(n)))))},x=function(e){return l.a.createElement(g.ComponentWrapper,null,l.a.createElement(_,e))},C=function(e,t){return Array(t-e+1).fill(0).map((function(t,n){return e+n}))},O=n("./app/src/components/UpgradePrompts/UpgradePromptBanner.less"),S=n.n(O),E=n("./packages/browser/index.ts"),T=n("./app/src/components/FreeTrial/index.ts"),P=Object(c.forTemplate)("paid_product_info");!function(e){e.BusinessClass="business-class",e.BusinessClassUpgrade="business-class-upgrade",e.Gold="gold"}(r||(r={}));var N={"business-class":[n("./resources/images/business-class/feature-boards.svg"),n("./resources/images/business-class/feature-powerups.svg"),n("./resources/images/business-class/feature-butler.svg"),n("./resources/images/business-class/feature-control.svg")],"business-class-upgrade":[n("./resources/images/business-class-feature-boards.png"),n("./resources/images/business-class-feature-integration.png"),n("./resources/images/business-class-feature-roadmap.png")],gold:[n("./resources/images/business-class-feature-boards.png"),n("./resources/images/business-class-feature-integration.png"),n("./resources/images/business-class-feature-roadmap.png")]},I=function(e){var t=e.type,n=e.orgId,r=e.infoUrl,i=e.subtitleCount,o=void 0===i?0:i,a=e.epilogueCount,s=void 0===a?0:a,c=e.allowUpsell,u=Object(v.useFeatureFlag)("btg.upgrade-prompt-audit",!1),d=Object(h.a)(n,"",{skip:"business-class"!==t}).openPlanSelection,p=Object(T.useFreeTrialEligibilityRules)(n,{skip:"business-class"!==t}),m=p.hasCredit,g=p.isEligible;if(Object(E.dontUpsell)()&&!c)return null;var k="business-class"===t?4:3;if("business-class-upgrade"!==t&&s>1)throw new Error("Only use epilogueCount with the type business-class-upgrade");var w=!1,j=function(){};return u&&n&&g&&!m&&(w=!0,j=function(){Object(f.trackUe)({category:f.Noun.BILLING_PAGE,verb:f.Verb.OPENS,directObj:f.Noun.BC_MODAL,method:"by clicking upgrade button in create from the biling page",context:{organizationId:n,isFreeTrial:g}}),y.Analytics.sendClickedButtonEvent({buttonName:"bcUpgradePrompt",source:"orgBillingScreen",containers:{organization:{id:n}},attributes:{isFreeTrial:g,promptId:"billingPageFreeTrialBannerButton"}}),d()}),l.a.createElement("div",{className:S.a.upgradePromptBanner},l.a.createElement("header",null,l.a.createElement("h2",null,P([t,"title"])),o>0&&C(0,o-1).map((function(e){return l.a.createElement("p",{key:"subtitles-".concat(e)},P([t,"subtitles",e.toString()]))}))),l.a.createElement("div",{className:S.a.features},C(0,k-1).map((function(e){return l.a.createElement("div",{className:S.a.feature,key:"features-".concat(e)},l.a.createElement("img",{src:N[t][e],alt:P([t,"featureHeaders",e.toString()])}),l.a.createElement("h3",null,P([t,"featureHeaders",e.toString()])),l.a.createElement("p",null,P([t,"featureBodies",e.toString()])))}))),s>0&&l.a.createElement("div",{className:S.a.epilogue},C(0,s-1).map((function(e){return l.a.createElement("p",{key:"epilogue-".concat(e)},P([t,"epilogue recent",e.toString()],1===e?{smartBilling:l.a.createElement("strong",{key:"smartBilling"},P("smartBilling"))}:{}))}))),w&&l.a.createElement(b.Button,{className:S.a.freeTrialButton,appearance:"primary",onClick:j},P([t,"startFreeTrial"])),l.a.createElement("div",null,l.a.createElement("a",{href:r,target:"_blank",onClick:function(){y.Analytics.sendClickedLinkEvent({linkName:"seeAllBenefitsLink",source:"gold"===t?"memberBillingScreen":"orgBillingScreen",containers:{organization:{id:n}}}),Object(f.track)("Billing Page","See All Benefits Link Click")}},P([t,"link"]))))},A=function(e){return l.a.createElement(g.ComponentWrapper,null,l.a.createElement(I,e))},D=n("./app/src/components/UpgradePrompts/UpgradeSmartComponent.tsx")},"./app/src/components/UpgradePrompts/useUpgradePromptRules.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return h}));var r=n("./node_modules/react/index.js"),i=n("./node_modules/react-redux/es/index.js"),o=n("./app/gamma/src/modules/state/ui/overlay.ts"),a=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"UpgradePromptRules"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"memberId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"memberId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idEnterprise"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"idEnterprise"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"products"},arguments:[],directives:[]}]}}]}}]};var l=n("./app/src/components/UpgradePrompts/UpgradePromptDismissMessageMutation.generated.tsx"),c=n("./packages/browser/index.ts"),u=n("./app/scripts/init/useSocketSubscription.ts"),d=n("./app/scripts/db/model-cache.js"),p=n.n(d);function m(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return f(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return f(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function f(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var h=function(e,t,n){var d,f,h,v,g,b,y=Object(i.d)();Object(u.a)("Organization",e,Boolean(!e));var k,w=(k=e&&!(null==n?void 0:n.skip)?{variables:{memberId:"me",orgId:e||""}}:{skip:!0},a.c(s,k)),j=w.data,_=w.loading,x=m(Object(l.a)(),1)[0],C=null==j?void 0:j.member,O=null==j?void 0:j.organization,S=(null==C?void 0:C.id)||"",E=0===(null==O||null===(d=O.products)||void 0===d?void 0:d.length),T=Boolean(null==O?void 0:O.memberships.find((function(e){return e.idMember===S}))),P=null==C?void 0:C.idEnterprise,N=null==O?void 0:O.idEnterprise,I=Boolean(null==C||null===(f=C.oneTimeMessagesDismissed)||void 0===f?void 0:f.find((function(e){return e===t}))),A=null==C?void 0:C.confirmed,D=null===(h=p.a.get("Organization",e))||void 0===h||null===(v=h.get("limits"))||void 0===v||null===(g=v.orgs)||void 0===g||null===(b=g.freeBoardsPerOrg)||void 0===b?void 0:b.count,B=m(Object(r.useState)(!1),2),R=B[0],L=B[1],M=Boolean((!Object(c.dontUpsell)()||(null==n?void 0:n.allowUpsell))&&!R&&E&&!I&&!P&&!N&&T&&A);return{boardLimit:D,org:null==j?void 0:j.organization,openPlanSelection:function(){e&&y(Object(o.setOverlay)({overlayType:o.OverlayType.PlanSelection,context:{orgId:e}}))},dismissMessage:function(){L(!0),x({variables:{memberId:"me",messageId:t||""}})},shouldDisplayUpgradePrompt:M,loading:_}}},"./app/src/components/WorkspacesAutoNameAlert/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"WorkspacesAutoNameAlert",(function(){return g}));var r=n("./node_modules/react/index.js"),i=n("./app/scripts/views/lib/alerts.js"),o=n.n(i),a=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),s={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesAutoNameAlert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"creationMethod"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idMemberCreator"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"url"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]}]}}]}}]};var l={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesAutoNameAlertDismiss"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]}]}}]}}]};var c=n("./app/common/lib/util/i18n/index.ts"),u=n("./packages/feature-flag-client/index.ts"),d=n("./packages/nachos/experimental.ts"),p=n("./packages/atlassian-analytics/index.ts"),m=n("./packages/analytics/index.ts");function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return h(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return h(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var v=Object(c.forNamespace)("alerts",{shouldEscapeStrings:!1}),g=function(e){var t,n,i,c,h,g,b,y,k=e.boardId,w=e.orgId,j=f(Object(r.useState)(!1),2),_=j[0],x=j[1],C=(y={variables:{orgId:w},skip:!w||_},a.c(s,y)).data,O=f(function(e){return a.b(l,e)}(),1)[0],S=Object(u.useFeatureFlag)("btg.auto-name-web",!1),E=Object(u.useFeatureFlag)("workflowers.ak-flag",!1),T="WorkspacesAutoNameAlert-".concat(w),P=null==C||null===(t=C.organization)||void 0===t?void 0:t.displayName,N=null==C||null===(n=C.organization)||void 0===n?void 0:n.url,I=!_&&S&&"board-creation"===(null==C||null===(i=C.organization)||void 0===i?void 0:i.creationMethod)&&(null==C||null===(c=C.organization)||void 0===c?void 0:c.idMemberCreator)===(null==C||null===(h=C.member)||void 0===h?void 0:h.id)&&!(null==C||null===(g=C.member)||void 0===g||null===(b=g.oneTimeMessagesDismissed)||void 0===b?void 0:b.includes(T));return Object(r.useEffect)((function(){if(I){var e=v(["workspaces-auto-name-alert"],{workspaceName:P}),t=v(["workspaces-auto-name-alert-link"]);E?Object(d.showFlag)({id:"board",title:e,appearance:"info",isAutoDismiss:!0,msTimeout:8e3,actions:[{content:t,href:N,type:"link"}]}):o.a.showHtml("\n            <span>".concat(e,'</span>\n            <br />\n            <a\n              class="app-alert-item-button"\n              href="').concat(N,'"\n              target="_blank"\n            >\n              ').concat(t,"\n            </a>\n          "),"info","board",8e3),x(!0),O({variables:{messageId:T}}),p.Analytics.sendViewedComponentEvent({componentName:"workspacesAutoNameAlert",componentType:"flag",source:"boardScreen",containers:{board:{id:k},organization:{id:w}}}),Object(m.trackUe)({category:m.Noun.BOARD_VIEW,verb:m.Verb.VIEWS,directObj:m.Noun.WORKSPACES_AUTO_NAME_ALERT,context:{boardId:k,orgId:w}})}}),[k,T,O,E,w,I,P,N]),null}},"./app/src/components/WorkspacesPreamble/BoardMemberRestrictionAlert.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardMemberRestrictionAlert.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/WorkspacesPreamble/BoardVisibilityRestrictionAlert.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardVisibilityRestrictionAlert.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/WorkspacesPreamble/NewBillableGuestsAlert.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/NewBillableGuestsAlert.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardHeaderButton.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardHeaderButton.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardInviteButton.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardInviteButton.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardMemberList.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardMemberList.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleChangeTeamButton.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleChangeTeamButton.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleCreateTeam.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleCreateTeam.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/WorkspacesPreamble/WorkspacesPreambleSelectTeam.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleSelectTeam.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./app/src/components/WorkspacesPreamble/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"WorkspacesPreambleBoardHeaderButton",(function(){return pt})),n.d(t,"WorkspacesPreambleBoardInviteButton",(function(){return kt})),n.d(t,"WorkspacesPreambleChangeTeamButton",(function(){return Tt}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./app/scripts/views/lib/alerts.js"),l=n.n(s),c=n("./packages/nachos/button.ts"),u=n("./packages/nachos/popover.ts"),d=n("./app/src/components/ErrorBoundary/index.ts"),p=n("./app/scripts/debug/constants.ts"),m=n("./node_modules/@apollo/react-hooks/lib/react-hooks.esm.js"),f={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleBoardHeaderButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idOrganizations"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]}]}}]}}]};var h={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleDismissPrompt"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"messageId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addOneTimeMessagesDismissed"},arguments:[{kind:"Argument",name:{kind:"Name",value:"memberId"},value:{kind:"StringValue",value:"me",block:!1}},{kind:"Argument",name:{kind:"Name",value:"messageId"},value:{kind:"Variable",name:{kind:"Name",value:"messageId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"oneTimeMessagesDismissed"},arguments:[],directives:[]}]}}]}}]};var v=n("./packages/session-cookie/index.ts"),g={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreamblePrompt"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idOrganizations"},arguments:[],directives:[]}]}}]}}]};var b={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleAddBoardToTeam"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"keepBillableGuests"},value:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]};function y(e){return m.b(b,e)}var k={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleBoardVisibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"visibility"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"Board_Prefs_PermissionLevel"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NamedType",name:{kind:"Name",value:"ID"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}},type:{kind:"NamedType",name:{kind:"Name",value:"Boolean"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"updateBoardVisibility"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}},{kind:"Argument",name:{kind:"Name",value:"visibility"},value:{kind:"Variable",name:{kind:"Name",value:"visibility"}}},{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"keepBillableGuests"},value:{kind:"Variable",name:{kind:"Name",value:"keepBillableGuests"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]};var w={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleNewBillableGuests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"newBillableGuests"},arguments:[{kind:"Argument",name:{kind:"Name",value:"boardId"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}}]}}]}}]};var j={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RestrictedBoardVisibility"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"permissionLevel"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardVisibilityRestrict"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"private"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"public"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"org"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterprise"},arguments:[],directives:[]}]}}]}}]}}]}}]};var _=function(e){var t,n,r,i,o,a,s,l=e.orgId,c=e.boardId,u=e.skip,d=(s={variables:{orgId:l,boardId:c},skip:!l||!c||u,fetchPolicy:"network-only"},m.c(j,s)),p=d.data,f=d.loading,h=null==p||null===(t=p.board)||void 0===t||null===(n=t.prefs)||void 0===n?void 0:n.permissionLevel,g=null==p||null===(r=p.organization)||void 0===r||null===(i=r.prefs)||void 0===i?void 0:i.boardVisibilityRestrict,b=(null==p||null===(o=p.organization)||void 0===o||null===(a=o.memberships)||void 0===a?void 0:a.some((function(e){return e.idMember===v.memberId&&"admin"===e.memberType})))||!1,y=g&&h&&("none"===g[h]||"admin"===g[h]&&!b),k=g&&("org"===g.private||"admin"===g.private&&b),w=g&&("org"===g.public||"admin"===g.public&&b),_=g&&("org"===g.org||"admin"===g.org&&b);return{boardVisibility:h,loading:f,teamAllowsPrivateBoards:k,teamAllowsPublicBoards:w,teamAllowsTeamVisibleBoards:_,teamRestrictsAllBoardVisibilities:!k&&!w&&!_,teamRestrictsCurrentBoardVisibility:y}},x={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"RestrictedGuests"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"boardInviteRestrict"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]}]}}]}}]}}]};var C=function(e){var t,n,r,i,o,a,s=e.orgId,l=e.boardId,c=e.skip,u=(a={variables:{orgId:s,boardId:l},skip:!s||!l||c,fetchPolicy:"network-only"},m.c(x,a)),d=u.data,p=u.loading,f="org"===(null==d||null===(t=d.organization)||void 0===t||null===(n=t.prefs)||void 0===n?void 0:n.boardInviteRestrict),h=(null==d||null===(r=d.organization)||void 0===r||null===(i=r.members)||void 0===i?void 0:i.map((function(e){return e.id})))||[];return{hasBoardMemberRestrictions:f,boardMembersNotInTeam:((null==d||null===(o=d.board)||void 0===o?void 0:o.members)||[]).reduce((function(e,t){return h.includes(t.id)||e.push(t),e}),[]),loading:p}},O=n("./app/common/lib/util/i18n/index.ts"),S=n("./app/src/components/WorkspacesPreamble/BoardMemberRestrictionAlert.less"),E=n.n(S),T={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardMemberRestrictionAlert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]};var P=n("./packages/nachos/spinner.ts");function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return I(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return I(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function I(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var A=Object(O.forNamespace)("workspaces preamble"),D=function(e){var t,n,o=e.boardId,a=e.onCancel,s=e.onSubmit,l=e.orgId,u=N(Object(r.useState)(!1),2),d=u[0],p=u[1],f=(n={variables:{orgId:l}},m.c(T,n)),h=f.data,v=f.loading,g=C({orgId:l,boardId:o}),b=g.boardMembersNotInTeam,y=g.loading;return v||y?i.a.createElement(P.a,{centered:!0}):i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:E.a.boardMemberRestrictionAlertMessaging},A(["workspaces preamble","board-member-restriction-messaging"],{orgName:i.a.createElement("strong",{key:"orgName"},null==h||null===(t=h.organization)||void 0===t?void 0:t.displayName)})),i.a.createElement("p",{className:E.a.boardMemberRestrictionAlertMembers},i.a.createElement("strong",null,b.map((function(e){return e.fullName})).join(", "))),i.a.createElement(c.Button,{appearance:"danger",className:E.a.boardMemberRestrictionAlertConfirmButton,isDisabled:d,onClick:function(){p(!0),s()},shouldFitContainer:!0},d?i.a.createElement(P.a,{centered:!0}):A(["workspaces preamble","board-member-restriction-submit"])),i.a.createElement(c.Button,{appearance:"default",className:E.a.boardMemberRestrictionAlertCancelButton,isDisabled:d,onClick:a,shouldFitContainer:!0},A(["workspaces preamble","board-member-restriction-cancel"])))},B=n("./app/src/components/WorkspacesPreamble/BoardVisibilityRestrictionAlert.less"),R=n.n(B),L=n("./packages/graphql/generated.tsx"),M={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"BoardVisibilityRestrictionAlert"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"deactivated"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"unconfirmed"},arguments:[],directives:[]}]}}]}}]}}]};var F=n("./packages/nachos/icons/check.tsx"),V=n("./packages/nachos/icons/public.tsx"),z=n("./packages/nachos/icons/private.tsx"),U=n("./packages/nachos/icons/organization.tsx"),H=n("./app/common/components/singlespa/router-link.tsx");function W(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return q(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return q(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function q(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var G=function(){},$=Object(O.forNamespace)("workspaces preamble"),K=Object(O.forNamespace)("board perms"),Y=function(e){var t,n,o=e.boardId,s=e.onSubmit,l=e.orgId,c=W(Object(r.useState)(!1),2),u=c[0],d=c[1],p=(n={variables:{orgId:l}},m.c(M,n)),f=p.data,h=p.loading,g=_({orgId:l,boardId:o}),b=g.boardVisibility,y=g.loading,k=g.teamAllowsPrivateBoards,w=g.teamAllowsPublicBoards,j=g.teamAllowsTeamVisibleBoards,x=g.teamRestrictsAllBoardVisibilities;if(h||y)return i.a.createElement(P.a,{centered:!0});if(x){var C,O,S,E,T=!!(null==f||null===(C=f.organization)||void 0===C||null===(O=C.memberships)||void 0===O?void 0:O.find((function(e){return e.idMember===v.memberId&&"admin"===e.memberType&&!e.deactivated&&!e.unconfirmed}))),N=i.a.createElement("strong",{key:"orgName"},null==f||null===(S=f.organization)||void 0===S?void 0:S.displayName),I=T?$("board-visibility-all-restricted",{orgName:N,teamSettingsPageLink:i.a.createElement(H.a,{key:"settingsLink",href:"/".concat(null==f||null===(E=f.organization)||void 0===E?void 0:E.name,"/account")},$("board-visibility-settings-link"))}):$("board-visibility-all-restricted-not-admin",{orgName:N});return i.a.createElement("p",{id:"allVisibilitiesAreRestrictedMessaging"},I)}var A=function(e){d(!0),s(e)};return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",null,$("board-visibility-messaging",{orgName:i.a.createElement("strong",{key:"orgName"},null==f||null===(t=f.organization)||void 0===t?void 0:t.displayName)})),i.a.createElement("div",{id:"privateVisibilityOption",role:"button",onClick:k&&!u?function(){return A(L.b.Private)}:G,className:a()(R.a.boardVisibilityOption,{[R.a.boardVisibilityOptionDisabled]:!k||u})},i.a.createElement("div",{className:R.a.boardVisibilityOptionTitle},i.a.createElement(z.a,{dangerous_className:R.a.boardVisibilityIcon,color:"red",size:"small"}),K(["private","name"]),"private"===b&&i.a.createElement(F.a,{dangerous_className:R.a.boardVisibilityIcon,size:"small"})),i.a.createElement("p",{className:R.a.boardVisibilityOptionDescription},K(["private","short summary"])," ",!k&&i.a.createElement("span",{className:R.a.boardVisibilityDisabledMessaging},$("board-visibility-option-disabled")))),i.a.createElement("div",{id:"teamVisibleVisibilityOption",role:"button",onClick:j&&!u?function(){return A(L.b.Org)}:G,className:a()(R.a.boardVisibilityOption,{[R.a.boardVisibilityOptionDisabled]:!j||u})},i.a.createElement("div",{className:R.a.boardVisibilityOptionTitle},i.a.createElement(U.a,{dangerous_className:R.a.boardVisibilityIcon,size:"small"}),K(["org","name"]),"org"===b&&i.a.createElement(F.a,{dangerous_className:R.a.boardVisibilityIcon,size:"small"})),i.a.createElement("p",{className:R.a.boardVisibilityOptionDescription},K(["org","short summary"])," ",!j&&i.a.createElement("span",{className:R.a.boardVisibilityDisabledMessaging},$("board-visibility-option-disabled")))),i.a.createElement("div",{id:"publicVisibilityOption",role:"button",onClick:w&&!u?function(){return A(L.b.Public)}:G,className:a()(R.a.boardVisibilityOption,{[R.a.boardVisibilityOptionDisabled]:!w||u})},i.a.createElement("div",{className:R.a.boardVisibilityOptionTitle},i.a.createElement(V.a,{dangerous_className:R.a.boardVisibilityIcon,color:"green",size:"small"}),K(["public","name"]),"public"===b&&i.a.createElement(F.a,{dangerous_className:R.a.boardVisibilityIcon,size:"small"})),i.a.createElement("p",{className:R.a.boardVisibilityOptionDescription},K(["public","short summary"])," ",!w&&i.a.createElement("span",{className:R.a.boardVisibilityDisabledMessaging},$("board-visibility-option-disabled")))))},Z=n("./app/src/components/WorkspacesPreamble/NewBillableGuestsAlert.less"),J=n.n(Z);function Q(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return X(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return X(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function X(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ee=function(){},te=Object(O.forNamespace)("workspaces preamble"),ne=function(e){var t=e.onSubmit,n=Q(Object(r.useState)(!1),2),o=n[0],a=n[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("p",{className:J.a.newBillableGuestsAlertHeadline},i.a.createElement("strong",null,te(["workspaces preamble","new-billable-guests-headline"]))),i.a.createElement("p",{className:J.a.newBillableGuestsAlertMessaging},te(["workspaces preamble","new-billable-guests-messaging"],{learnMoreLink:i.a.createElement(H.a,{key:"newBillableGuestsLink",href:"https://help.trello.com/article/1123-multi-board-guests",target:"_blank"},te("new-billable-guests-link"))})),i.a.createElement(c.Button,{appearance:"primary",className:J.a.newBillableGuestsAlertSubmitButton,isDisabled:o,onClick:o?ee:function(){a(!0),t()},shouldFitContainer:!0},o?i.a.createElement(P.a,{centered:!0}):te(["workspaces preamble","popover-title-add-to-team"])))},re=n("./app/src/components/WorkspacesPreamble/WorkspacesPreambleCreateTeam.less"),ie=n.n(re),oe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleCreateTeam"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"prefs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"isTemplate"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"permissionLevel"},arguments:[],directives:[]}]}}]}}]}}]};var ae={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleAddTeamMembers"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"orgId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"users"}},type:{kind:"NonNullType",type:{kind:"ListType",type:{kind:"NamedType",name:{kind:"Name",value:"MemberOrEmail"}}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"addMembersToOrg"},arguments:[{kind:"Argument",name:{kind:"Name",value:"orgId"},value:{kind:"Variable",name:{kind:"Name",value:"orgId"}}},{kind:"Argument",name:{kind:"Name",value:"users"},value:{kind:"Variable",name:{kind:"Name",value:"users"}}},{kind:"Argument",name:{kind:"Name",value:"invitationMessage"},value:{kind:"StringValue",value:"",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"success"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"error"},arguments:[],directives:[]}]}}]}}]};var se={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"mutation",name:{kind:"Name",value:"WorkspacesPreambleCreateTeamSubmit"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"displayName"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"type"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"String"}}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"teamType"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"desc"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]},{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"enterprise"}},type:{kind:"NamedType",name:{kind:"Name",value:"String"}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"createOrganization"},arguments:[{kind:"Argument",name:{kind:"Name",value:"displayName"},value:{kind:"Variable",name:{kind:"Name",value:"displayName"}}},{kind:"Argument",name:{kind:"Name",value:"type"},value:{kind:"Variable",name:{kind:"Name",value:"type"}}},{kind:"Argument",name:{kind:"Name",value:"teamType"},value:{kind:"Variable",name:{kind:"Name",value:"teamType"}}},{kind:"Argument",name:{kind:"Name",value:"desc"},value:{kind:"Variable",name:{kind:"Name",value:"desc"}}},{kind:"Argument",name:{kind:"Name",value:"enterprise"},value:{kind:"Variable",name:{kind:"Name",value:"enterprise"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"name"},arguments:[],directives:[]}]}}]}}]};var le=n("./app/src/components/TeamTypeSelect/index.ts"),ce={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleBoardMemberList"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"nonPublic"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"fullName"},arguments:[],directives:[]}]}}]}}]}}]}}]};var ue=n("./packages/nachos/checkbox.ts"),de=n("./app/src/components/MemberAvatar/index.ts"),pe=n("./node_modules/react-animate-height/lib/AnimateHeight.js"),me=n.n(pe),fe=n("./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardMemberList.less"),he=n.n(fe);function ve(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||be(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function ge(e){return function(e){if(Array.isArray(e))return ye(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||be(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function be(e,t){if(e){if("string"==typeof e)return ye(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?ye(e,t):void 0}}function ye(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ke=Object(O.forNamespace)("workspaces preamble"),we=function(e,t){switch(t.type){case"add":return[].concat(ge(e),[t.idMember]);case"remove":return e.filter((function(e){return e!==t.idMember}));case"clear":return[];case"all":return t.idMembers;default:return e}},je=function(e){var t,n,o=e.boardId,a=e.onSelectMember,s=ve(Object(r.useState)(!1),2),l=s[0],c=s[1],u=ve(Object(r.useReducer)(we,[]),2),d=u[0],p=u[1];Object(r.useEffect)((function(){return a(d)}),[a,d]);var f,h=(f={variables:{boardId:o}},m.c(ce,f)).data,g=((null==h||null===(t=h.board)||void 0===t||null===(n=t.members)||void 0===n?void 0:n.length)||0)>1,b=Object(r.useMemo)((function(){var e,t;return(null==h||null===(e=h.board)||void 0===e||null===(t=e.members)||void 0===t?void 0:t.filter((function(e){return v.memberId!==e.id&&e.confirmed})))||[]}),[h]);return Object(r.useEffect)((function(){p({type:"all",idMembers:b.map((function(e){return e.id}))})}),[b]),g?i.a.createElement("div",{className:he.a.inviteMembers},i.a.createElement(ue.a,{className:he.a.checkbox,label:i.a.createElement(i.a.Fragment,null,ke(["add-members-to-team"],{membersCount:d.length})),onChange:function(e){e.target.checked?p({type:"all",idMembers:b.map((function(e){return e.id}))}):p({type:"clear"})},isChecked:d.length>0,isIndeterminate:d.length!==b.length&&d.length>0}),i.a.createElement(me.a,{className:he.a.members,contentClassName:he.a.membersScroller,height:l?37*Math.min(5,b.length):0,animateOpacity:!0},b.map((function(e){var t=d.includes(e.id);return i.a.createElement(_e,{key:"member".concat(e.id),member:e,selected:t,updateMembers:p})}))),i.a.createElement("button",{onClick:function(){return c(!l)}},ke(l?["hide-members-button"]:["show-members-button"]))):null},_e=function(e){var t=e.member,n=e.selected,o=e.updateMembers,s=ve(Object(r.useState)(!1),2),l=s[0],c=s[1];return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{onMouseEnter:function(){return c(!0)},onMouseLeave:function(){return c(!1)},className:a()(he.a.member,{[he.a.memberHover]:l}),onClick:function(e){o({type:n?"remove":"add",idMember:t.id}),e.preventDefault()},role:"checkbox","aria-checked":n},i.a.createElement("div",{className:he.a.nameAndAvatar},i.a.createElement(de.a,{idMember:t.id,size:20,className:he.a.avatar})," ",i.a.createElement("div",{className:he.a.name},t.nonPublic&&t.nonPublic.fullName?t.nonPublic.fullName:t.fullName)),i.a.createElement(ue.a,{isChecked:n,className:he.a.memberCheckbox})))},xe=n("./packages/error-reporting/index.ts"),Ce=n("./packages/analytics/index.ts"),Oe=n("./packages/atlassian-analytics/index.ts"),Se=n("./packages/test-ids/index.ts"),Ee=n("./packages/graphql-error-handling/index.ts");function Te(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function Pe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ne(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ne(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ne(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ie=Object(O.forNamespace)("workspaces preamble"),Ae=function(){},De=function(e){var t,n=e.analyticsDirectObj,o=e.analyticsSource,a=e.boardId,s=e.onSuccess,u=Pe(Object(r.useState)(!1),2),d=u[0],f=u[1],h=Pe(Object(r.useState)(""),2),g=h[0],b=h[1],k=Pe(Object(r.useState)(),2),w=k[0],j=k[1],_=Pe(Object(r.useState)(!1),2),x=_[0],C=_[1],S=Pe(Object(r.useState)([]),2),E=S[0],T=S[1],N=(t={variables:{boardId:a}},m.c(oe,t)).data,I=Pe(function(e){return m.b(se,e)}(),1)[0],A=Pe(function(e){return m.b(ae,e)}(),1)[0],D=Pe(y(),1)[0],B=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var r,i,c,u,d,m,h,b,y,k,j,_;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),f(!0),e.prev=2,e.next=5,I({variables:{type:"default",displayName:g.trim(),teamType:w}});case 5:if(d=e.sent,m=null===(r=d.data)||void 0===r||null===(i=r.createOrganization)||void 0===i?void 0:i.name,!(h=null===(c=d.data)||void 0===c||null===(u=c.createOrganization)||void 0===u?void 0:u.id)||!m){e.next=20;break}return e.next=11,D({variables:{boardId:a,orgId:h}});case 11:if(y=E.map((function(e){return{id:e}})),!(k=y.length)){e.next=16;break}return e.next=16,A({variables:{orgId:h,users:y}});case 16:j=((null==N||null===(b=N.board)||void 0===b?void 0:b.members)||[]).filter((function(e){return v.memberId!==e.id&&e.confirmed})).length,o&&Oe.Analytics.sendTrackEvent({action:"updated",actionSubject:"organization",source:o,containers:{board:{id:a},organization:{id:h}},attributes:{availableMembersCount:j,membersAddedCount:k,newOrg:!0,updatedOn:"board"}}),n&&Object(Ce.trackUe)({category:Ce.Noun.BOARD_VIEW,verb:Ce.Verb.SUBMITS,directObj:n,context:{availableMembersCount:j,boardId:a,membersAddedCount:k,newOrg:!0,orgId:h}}),s(m);case 20:e.next=32;break;case 22:e.prev=22,e.t0=e.catch(2),f(!1),_=Object(Ee.b)(e.t0),e.t1=null==_?void 0:_.code,e.next=29;break;case 29:return l.a.showLiteralText(Object(O.localizeErrorCode)("organization","UNKNOWN_ERROR"),"error","alert",5e3),Object(xe.sendErrorEvent)(e.t0,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble},extraData:{component:"WorkspacesPreambleCreateTeam"},networkError:_}),e.abrupt("return");case 32:case"end":return e.stop()}}),e,null,[[2,22]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Te(o,r,i,a,s,"next",e)}function s(e){Te(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}(),R=x&&!!w&&!d;return i.a.createElement("div",{className:ie.a.createTeam},i.a.createElement("label",{className:ie.a.createTeamInputLabel,htmlFor:"workspacesPreambleCreateTeamInput"},Ie(["new-team-input-label"])),i.a.createElement("input",{id:"workspacesPreambleCreateTeamInput",className:ie.a.createTeamInput,type:"text",autoComplete:"off",spellCheck:!1,onChange:function(e){var t,n=null==e||null===(t=e.target)||void 0===t?void 0:t.value;void 0!==n&&(b(n),C(n.trim().length>0))},autoFocus:!0,placeholder:Ie(["new-team-input-placeholder"]),value:g,maxLength:100,disabled:d}),i.a.createElement(le.TeamTypeSelect,{onChange:function(e){return j(e)},isDisabled:d,testId:Se.WorkSpacesPreambleTestIds.WorkspacesPreambleSelectTeamType}),i.a.createElement(je,{boardId:a,onSelectMember:function(e){return T(e)}}),i.a.createElement(c.Button,{isDisabled:!R,appearance:"primary",className:ie.a.createTeamButton,onClick:R?B:Ae,size:"fullwidth",testId:Se.WorkSpacesPreambleTestIds.WorkspacesPreambleCreateTeamSubmit},d?i.a.createElement(P.a,{centered:!0,testId:Se.WorkSpacesPreambleTestIds.WorkspacesPreambleSpinner}):Ie(["submit-button-create-team"])))},Be={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleSelectTeam"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"organizations"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"limits"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"orgs"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"freeBoardsPerOrg"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"status"},arguments:[],directives:[]}]}}]}}]}}]}}]}}]}}]};var Re=n("./app/src/components/WorkspacesPreamble/WorkspacesPreambleSelectTeam.less"),Le=n.n(Re),Me=n("./packages/nachos/select.ts");function Fe(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ve(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ve(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ve(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var ze=function(){},Ue=Object(O.forNamespace)("workspaces preamble"),He="CREATE_NEW_TEAM",We=function(e){e.boardId;var t,n,o=e.isLoadingSelectedTeam,a=e.onSelectCreateTeam,s=e.onSelectTeam,l=e.onSubmit,u=e.selectedTeamId,d=Fe(Object(r.useState)(!1),2),p=d[0],f=d[1],h=m.c(Be,n),v=h.data,g=h.loading,b=((null==v||null===(t=v.member)||void 0===t?void 0:t.organizations)||[]).map((function(e){var t,n,r,i=null==e||null===(t=e.limits)||void 0===t||null===(n=t.orgs)||void 0===n||null===(r=n.freeBoardsPerOrg)||void 0===r?void 0:r.status,o="disabled"===i||"maxExceeded"===i;return{label:e.displayName,value:e.id,isDisabled:o,meta:o?Ue("upgrade-prompt-headline"):void 0}}));b.push({label:Ue("team-select-create-team-option"),value:He});var y=p||g||o,k=u&&!y;return i.a.createElement(i.a.Fragment,null,i.a.createElement("label",{htmlFor:"workspacesPreambleTeamSelect"},Ue("team-select-label")),i.a.createElement(Me.a,{id:"workspacesPreambleTeamSelect",defaultValue:{label:Ue("team-select-default-option"),value:""},isLoading:g,isDisabled:p||g,options:b,onChange:function(e){e.value===He?a():e.value&&s(e.value)}}),i.a.createElement(c.Button,{className:Le.a.selectTeamSubmitButton,onClick:k?function(e){e.preventDefault(),f(!0),l()}:ze,size:"fullwidth",isDisabled:!k,appearance:"primary"},y?i.a.createElement(P.a,{centered:!0}):Ue("prompt-continue-button-add-to-team")))};function qe(){return(qe=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ge(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function $e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return Ke(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Ke(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ke(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var Ye,Ze=Object(O.forNamespace)("workspaces preamble"),Je=function(){};!function(e){e[e.Intro=0]="Intro",e[e.SelectTeam=1]="SelectTeam",e[e.CreateTeam=2]="CreateTeam",e[e.BoardMemberRestriction=3]="BoardMemberRestriction",e[e.BoardVisibilityRestriction=4]="BoardVisibilityRestriction",e[e.NewBillableGuests=5]="NewBillableGuests"}(Ye||(Ye={}));var Qe=function(e){var t,n,o,a,s=e.boardId,c=e.IntroScreen,d=e.isBoardTeamless,f=e.onCreateTeamSuccess,h=e.onHide,b=void 0===h?Je:h,j=e.onSelectTeamSuccess,x=void 0===j?Je:j,S=e.onShow,E=void 0===S?Je:S,T=e.autoShow,P=e.successAnalyticDirectObj,N=e.successAnalyticSource,I=e.TriggerButton,A=$e(Object(r.useState)(""),2),B=A[0],R=A[1],L=$e(Object(r.useState)(!1),2),M=L[0],F=L[1],V=$e(Object(r.useState)(""),2),z=V[0],U=V[1],H=$e(Object(r.useState)(!1),2),W=H[0],q=H[1],G=(a={variables:{boardId:s}},m.c(g,a)).data,$=function(e){return m.c(w,e)}({variables:{boardId:s,orgId:B},skip:""===B}).data,K=C({orgId:B,boardId:s,skip:1===(null==G||null===(t=G.board)||void 0===t?void 0:t.members.length)}),Z=K.hasBoardMemberRestrictions,J=K.boardMembersNotInTeam,Q=K.loading,X=_({orgId:B,boardId:s}),ee=X.loading,te=X.teamRestrictsCurrentBoardVisibility,re=$e(y(),1)[0],ie=$e(function(e){return m.b(k,e)}(),1)[0],oe=Object(u.e)({initialScreen:Ye.Intro,onHide:b,onShow:E}),ae=oe.popoverProps,se=oe.push,le=oe.show,ce=oe.toggle,ue=oe.triggerRef,de=oe.hide;Object(r.useEffect)((function(){F(!1),U("")}),[ae.isVisible,B,F,U]);var pe=function(){var e,t=(e=regeneratorRuntime.mark((function e(t){var n,r,i,o,a,c,u;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Z||!J.length||(null==t?void 0:t.boardMemberRestrictionResolved)||M){e.next=3;break}return se(Ye.BoardMemberRestriction),e.abrupt("return");case 3:if(!(null==$||null===(n=$.organization)||void 0===n||null===(r=n.newBillableGuests)||void 0===r?void 0:r.length)||(null==t?void 0:t.newBillableGuestsResolved)||W){e.next=6;break}return se(Ye.NewBillableGuests),e.abrupt("return");case 6:if(!te||(null==t?void 0:t.boardVisibilityRestrictionResolution)||z){e.next=9;break}return se(Ye.BoardVisibilityRestriction),e.abrupt("return");case 9:if(e.prev=9,a=!!(null==$||null===(i=$.organization)||void 0===i||null===(o=i.memberships)||void 0===o?void 0:o.find((function(e){return e.idMember===v.memberId&&"admin"===e.memberType}))),!(null==t?void 0:t.boardVisibilityRestrictionResolution)&&!z){e.next=17;break}return c=(null==t?void 0:t.boardVisibilityRestrictionResolution)||z,e.next=15,ie({variables:{boardId:s,visibility:c,orgId:B,keepBillableGuests:a}});case 15:e.next=19;break;case 17:return e.next=19,re({variables:{boardId:s,orgId:B,keepBillableGuests:a}});case 19:N&&Oe.Analytics.sendTrackEvent({action:"updated",actionSubject:"organization",source:N,containers:{board:{id:s},organization:{id:B}},attributes:{newOrg:!1,updatedOn:"board"}}),P&&Object(Ce.trackUe)({category:Ce.Noun.BOARD_VIEW,verb:Ce.Verb.SUBMITS,directObj:P,context:{boardId:s,newOrg:!1,orgId:B}}),x(),e.next=33;break;case 24:e.prev=24,e.t0=e.catch(9),u=Object(Ee.b)(e.t0),e.t1=null==u?void 0:u.code,e.next=30;break;case 30:return l.a.showLiteralText(Object(O.localizeErrorCode)("organization","UNKNOWN_ERROR"),"error","alert",5e3),Object(xe.sendErrorEvent)(e.t0,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble},extraData:{component:"WorkspacesPreamblePrompt"},networkError:u}),e.abrupt("return");case 33:case"end":return e.stop()}}),e,null,[[9,24]])})),function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){Ge(o,r,i,a,s,"next",e)}function s(e){Ge(o,r,i,a,s,"throw",e)}a(void 0)}))});return function(e){return t.apply(this,arguments)}}();Object(r.useEffect)((function(){T&&le()}),[T,le]),Object(r.useEffect)((function(){!1===d&&de()}),[d,de]);var me=!!(null==G||null===(n=G.member)||void 0===n||null===(o=n.idOrganizations)||void 0===o?void 0:o.length)||!1,fe=me?Ye.SelectTeam:Ye.CreateTeam;return i.a.createElement(i.a.Fragment,null,i.a.createElement(I,{boardId:s,onClick:ce,ref:ue}),i.a.createElement(u.b,qe({},ae,{title:Ze(me?"popover-title-add-to-team":"popover-title-create-team")}),i.a.createElement(u.d,{id:Ye.Intro},i.a.createElement(c,{onButtonClick:function(){return se(fe)},buttonCopy:Ze(me?"prompt-continue-button-add-to-team":"prompt-continue-button-create-team")})),i.a.createElement(u.d,{id:Ye.SelectTeam},i.a.createElement(We,{boardId:s,isLoadingSelectedTeam:Q||ee,onSelectTeam:R,onSelectCreateTeam:function(){return se(Ye.CreateTeam)},onSubmit:pe,selectedTeamId:B})),i.a.createElement(u.d,{id:Ye.CreateTeam},i.a.createElement(De,{analyticsDirectObj:P,analyticsSource:N,boardId:s,onSuccess:f})),i.a.createElement(u.d,{id:Ye.BoardMemberRestriction},i.a.createElement(D,{boardId:s,onCancel:function(){return se(Ye.SelectTeam)},onSubmit:function(){F(!0),pe({boardMemberRestrictionResolved:!0})},orgId:B})),i.a.createElement(u.d,{id:Ye.BoardVisibilityRestriction},i.a.createElement(Y,{boardId:s,onSubmit:function(e){U(e),pe({boardVisibilityRestrictionResolution:e})},orgId:B})),i.a.createElement(u.d,{id:Ye.NewBillableGuests},i.a.createElement(ne,{onSubmit:function(){q(!0),pe({newBillableGuestsResolved:!0})}}))))},Xe={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"IsEnterpriseOwnedMember"},variableDefinitions:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idEnterprise"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterprises"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"isRealEnterprise"},arguments:[],directives:[]}]}}]}}]}}]};var et=function(){var e,t,n,r,i=(r={skip:!v.memberId},m.c(Xe,r)).data;return!!(null==i||null===(e=i.member)||void 0===e||null===(t=e.enterprises)||void 0===t||null===(n=t.find((function(e){var t;return e.id===(null==i||null===(t=i.member)||void 0===t?void 0:t.idEnterprise)})))||void 0===n?void 0:n.isRealEnterprise)},tt=n("./app/gamma/src/util/url.ts"),nt=n("./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardHeaderButton.less"),rt=n.n(nt),it=n("./packages/feature-flag-client/index.ts");function ot(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return at(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return at(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function at(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var st=Object(O.forNamespace)(),lt=Object(O.forNamespace)("workspaces preamble");var ct=Object(r.forwardRef)((function(e,t){var n=e.onClick;return i.a.createElement("a",{className:"board-header-btn board-header-btn-without-icon",onClick:n,ref:t,role:"button"},i.a.createElement("span",{className:"board-header-btn-text"},st("personal")))})),ut=Object(r.forwardRef)((function(e,t){var n=e.boardId,r=e.onClick;return i.a.createElement("a",{className:"board-header-btn board-header-btn-without-icon",onClick:function(){Oe.Analytics.sendClickedButtonEvent({buttonName:"workspacesPreambleAddToTeamButton",source:"boardScreen",containers:{board:{id:n}}}),Object(Ce.trackUe)({category:Ce.Noun.BOARD_VIEW,verb:Ce.Verb.CLICKS,directObj:Ce.Noun.WORKSPACES_PREAMBLE_ADD_TO_TEAM_BUTTON,context:{boardId:n}}),r()},ref:t,role:"button"},i.a.createElement("span",{className:"board-header-btn-text"},lt("board-header-button")))})),dt=function(e){var t=e.buttonCopy,r=e.onButtonClick;return i.a.createElement("div",{className:rt.a.workspacesPreambleBoardHeaderButtonIntro},i.a.createElement("img",{src:n("./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-image.png"),alt:"",role:"presentation"}),i.a.createElement("h2",{className:rt.a.workspacesPreambleBoardHeaderButtonIntroTitle},lt("prompt-heading")),i.a.createElement("p",null,lt("prompt-paragraph")),i.a.createElement(c.Button,{appearance:"primary",className:rt.a.workspacesPreambleBoardHeaderButtonContinueButton,onClick:r,shouldFitContainer:!0},t))},pt=function(e){var t,n,o,s,c,g,b,y,k,w,j,_,x=e.boardId,C=e.canAutoShow,O=e.onCreateTeamSuccess,S=e.windowUrl,E=ot(Object(r.useState)(!1),2),T=E[0],P=E[1],N=ot(Object(r.useState)(!1),2),I=N[0],A=N[1],D=(w={variables:{boardId:x},skip:!v.memberId},m.c(f,w)),B=D.data,R=D.error,L=D.loading,M=ot(function(e){return m.b(h,e)}(),1)[0],F="WorkspacesPreamblePrompt-".concat(x),V=et(),z=null==B||null===(t=B.member)||void 0===t?void 0:t.id,U=null==B||null===(n=B.board)||void 0===n||null===(o=n.memberships)||void 0===o?void 0:o.find((function(e){return e.idMember===z})),H="admin"===(null==U?void 0:U.memberType),W=!(null==B||null===(s=B.board)||void 0===s?void 0:s.idOrganization),q=null==B||null===(c=B.board)||void 0===c?void 0:c.enterpriseOwned,G=((null==B||null===(g=B.board)||void 0===g||null===(b=g.members)||void 0===b?void 0:b.reduce((function(e,t){return t.confirmed?e+1:e}),0))||0)>=2,$=Boolean(!L&&!R&&W&&!q&&H&&!V),K=Boolean($&&G&&(null==B||null===(y=B.member)||void 0===y?void 0:y.confirmed)),Y=Boolean($&&!K&&!G&&it.featureFlagClient.get("btg.block-teamless-boards",!1)),Z=Object(tt.d)(new URL(S||window.location.href).pathname),J=(null==B||null===(k=B.member)||void 0===k?void 0:k.oneTimeMessagesDismissed)||[F],Q=!(!(K&&C&&Z)||J.includes(F)),X=(j=W,_=Object(r.useRef)(),Object(r.useEffect)((function(){_.current=j}),[j]),_.current);Object(r.useEffect)((function(){X&&!W&&T&&!I&&l.a.show("teamless-board-added-to-team","info","board",5e3)}),[W,T,X,I]);var ee=K||T;return i.a.createElement(d.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble}},ee&&i.a.createElement(Qe,{autoShow:Q,boardId:x,IntroScreen:dt,isBoardTeamless:W,onCreateTeamSuccess:O,onSelectTeamSuccess:function(){return A(!0)},onHide:function(e){P(!1),e===u.a.CLICK_CLOSE_BUTTON&&M({variables:{messageId:"WorkspacesPreamblePrompt-".concat(x)}})},onShow:function(){P(!0),Oe.Analytics.sendScreenEvent({name:"workspacesPreambleAddToTeamInlineDialog",containers:{board:{id:x}}}),Object(Ce.trackUe)({category:Ce.Noun.BOARD_VIEW,verb:Ce.Verb.VIEWS,directObj:Ce.Noun.WORKSPACES_PREAMBLE_ADD_TO_TEAM_PROMPT,context:{boardId:x}})},successAnalyticDirectObj:Ce.Noun.WORKSPACES_PREAMBLE_ADD_TO_TEAM_PROMPT,successAnalyticSource:"workspacesPreambleAddToTeamInlineDialog",TriggerButton:ut}),Y&&i.a.createElement(Qe,{boardId:x,IntroScreen:dt,isBoardTeamless:W,onCreateTeamSuccess:O,TriggerButton:ct}),!ee&&!Y&&i.a.createElement("a",{className:a()("board-header-btn board-header-btn-without-icon js-add-board-to-team",{"no-edit":!H})},i.a.createElement("span",{className:"board-header-btn-text"},st("personal"))))},mt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleBoardInviteButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterpriseOwned"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"members"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}}]}},{kind:"Field",name:{kind:"Name",value:"member"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"StringValue",value:"me",block:!1}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"confirmed"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"enterprises"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]}]}}]}}]}}]};var ft=n("./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardInviteButton.less"),ht=n.n(ft),vt=Object(O.forTemplate)("board_header"),gt=Object(O.forNamespace)("workspaces preamble"),bt=Object(r.forwardRef)((function(e,t){var n=e.boardId,r=e.onClick;return i.a.createElement("a",{className:"board-header-btn board-header-btn-invite board-header-btn-without-icon",title:vt("invite-to-board"),onClick:function(){Oe.Analytics.sendClickedButtonEvent({buttonName:"workspacesPreambleBoardInviteButton",source:"boardScreen",containers:{board:{id:n}}}),Object(Ce.trackUe)({category:Ce.Noun.BOARD_VIEW,verb:Ce.Verb.CLICKS,directObj:Ce.Noun.WORKSPACES_PREAMBLE_BOARD_INVITE_BUTTON,context:{boardId:n}}),r()},ref:t,role:"button"},i.a.createElement("span",{className:"board-header-btn-text"},vt("invite")))})),yt=function(e){var t=e.buttonCopy,r=e.onButtonClick;return i.a.createElement("div",{className:ht.a.workspacesPreamblePromptInviteIntro},i.a.createElement("img",{src:n("./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-invite-image.png"),alt:"",role:"presentation"}),i.a.createElement("h2",{className:ht.a.workspacesPreamblePromptInviteIntroTitle},gt("prompt-heading-invite")),i.a.createElement("p",null,gt("prompt-paragraph-invite")),i.a.createElement(c.Button,{appearance:"primary",className:ht.a.workspacesPreamblePromptInviteIntroContinueButton,"data-test-id":Se.WorkSpacesPreambleTestIds.WorkspacesPreambleCreateTeamButton,onClick:r,shouldFitContainer:!0},t))},kt=function(e){var t,n,r,o,a,s,l,c,u,f,h,v=e.boardId,g=e.onSuccess,b=(h={variables:{boardId:v}},m.c(mt,h)).data,y=null==b||null===(t=b.member)||void 0===t?void 0:t.id,k=null==b||null===(n=b.board)||void 0===n||null===(r=n.memberships)||void 0===r?void 0:r.find((function(e){return e.idMember===y})),w=null==b||null===(o=b.board)||void 0===o?void 0:o.enterpriseOwned,j="admin"===(null==k?void 0:k.memberType),_=!!(null==b||null===(a=b.member)||void 0===a||null===(s=a.enterprises)||void 0===s?void 0:s.length),x=!(null==b||null===(l=b.board)||void 0===l?void 0:l.idOrganization),C=1===(null==b||null===(c=b.board)||void 0===c||null===(u=c.members)||void 0===u?void 0:u.length),O=!(!(j&&x&&C)||w||_||!(null==b||null===(f=b.member)||void 0===f?void 0:f.confirmed));return i.a.createElement(d.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble}},O?i.a.createElement(Qe,{boardId:v,IntroScreen:yt,onCreateTeamSuccess:g,onSelectTeamSuccess:g,onShow:function(){Oe.Analytics.sendScreenEvent({name:"workspacesPreambleBoardInviteInlineDialog",containers:{board:{id:v}}}),Object(Ce.trackUe)({category:Ce.Noun.BOARD_VIEW,verb:Ce.Verb.VIEWS,directObj:Ce.Noun.WORKSPACES_PREAMBLE_BOARD_INVITE_PROMPT,context:{boardId:v}})},successAnalyticDirectObj:Ce.Noun.WORKSPACES_PREAMBLE_BOARD_INVITE_PROMPT,successAnalyticSource:"workspacesPreambleBoardInviteInlineDialog",TriggerButton:bt}):i.a.createElement("a",{className:"board-header-btn board-header-btn-invite board-header-btn-without-icon js-open-manage-board-members",title:vt("invite-to-board")},i.a.createElement("span",{className:"board-header-btn-text"},vt("invite"))))},wt={kind:"Document",definitions:[{kind:"OperationDefinition",operation:"query",name:{kind:"Name",value:"WorkspacesPreambleChangeTeamButton"},variableDefinitions:[{kind:"VariableDefinition",variable:{kind:"Variable",name:{kind:"Name",value:"boardId"}},type:{kind:"NonNullType",type:{kind:"NamedType",name:{kind:"Name",value:"ID"}}},directives:[]}],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"board"},arguments:[{kind:"Argument",name:{kind:"Name",value:"id"},value:{kind:"Variable",name:{kind:"Name",value:"boardId"}}}],directives:[{kind:"Directive",name:{kind:"Name",value:"client"},arguments:[]}],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"id"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"idOrganization"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberships"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"idMember"},arguments:[],directives:[]},{kind:"Field",name:{kind:"Name",value:"memberType"},arguments:[],directives:[]}]}},{kind:"Field",name:{kind:"Name",value:"organization"},arguments:[],directives:[],selectionSet:{kind:"SelectionSet",selections:[{kind:"Field",name:{kind:"Name",value:"displayName"},arguments:[],directives:[]}]}}]}}]}}]};var jt=n("./app/src/components/WorkspacesPreamble/WorkspacesPreambleChangeTeamButton.less"),_t=n.n(jt),xt=Object(O.forTemplate)("board_menu_settings"),Ct=Object(O.forNamespace)("workspaces preamble"),Ot=function(){},St=Object(r.forwardRef)((function(e,t){var n=e.onClick;return i.a.createElement("a",{className:_t.a.workspacesPreambleChangeTeamButton,onClick:n,ref:t,role:"button"},Ct("board-settings-change-team-button"))})),Et=function(e){var t=e.buttonCopy,r=e.onButtonClick;return i.a.createElement("div",{className:_t.a.workspacesPreambleChangeTeamButtonIntro},i.a.createElement("img",{src:n("./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-image.png"),alt:"",role:"presentation"}),i.a.createElement("h2",{className:_t.a.workspacesPreambleChangeTeamButtonIntroTitle},Ct("prompt-heading")),i.a.createElement("p",null,Ct("prompt-paragraph")),i.a.createElement(c.Button,{appearance:"primary",className:_t.a.workspacesPreambleChangeTeamButtonContinueButton,onClick:r,shouldFitContainer:!0},t))},Tt=function(e){var t,n,r,o,s,l,c=e.boardId,u=(l={variables:{boardId:c},skip:!v.memberId},m.c(wt,l)).data,f=et(),h=null==u||null===(t=u.board)||void 0===t||null===(n=t.memberships)||void 0===n?void 0:n.find((function(e){return e.idMember===v.memberId})),g="admin"===(null==h?void 0:h.memberType),b=!(null==u||null===(r=u.board)||void 0===r?void 0:r.idOrganization),y=null==u||null===(o=u.board)||void 0===o||null===(s=o.organization)||void 0===s?void 0:s.displayName,k=Boolean(g&&b&&!f);return i.a.createElement(d.ErrorBoundary,{tags:{ownershipArea:"trello-bizteam",feature:p.Feature.WorkspacesPreamble}},k?i.a.createElement(Qe,{boardId:c,IntroScreen:Et,TriggerButton:St,onCreateTeamSuccess:Ot}):i.a.createElement("a",{className:a()("js-change-org",{disabled:!g,[_t.a.workspacesPreambleChangeTeamButtonDisabled]:!g},_t.a.workspacesPreambleChangeTeamButton)},xt("change-organization-ellipsis"),y&&i.a.createElement("span",{className:_t.a.workspacesPreambleChangeTeamButtonTeamName},y)))}},"./node_modules/@atlaskit/analytics-next-stable-react-context/dist/esm/index.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=Object(r.createContext)({getAtlaskitAnalyticsContext:function(){return[]},getAtlaskitAnalyticsEventHandlers:function(){return[]}});t.a=i},"./node_modules/@atlaskit/analytics-next/dist/esm/AnalyticsContext.js":function(e,t,n){"use strict";var r=n("./node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/prop-types/index.js"),s=n.n(a),l=n("./node_modules/@atlaskit/analytics-next-stable-react-context/dist/esm/index.js"),c={getAtlaskitAnalyticsContext:s.a.func,getAtlaskitAnalyticsEventHandlers:s.a.func},u=function(e){function t(t){var n=e.call(this,t)||this;return n.getChildContext=function(){return{getAtlaskitAnalyticsContext:n.getAnalyticsContext}},n.getAnalyticsContext=function(){var e=n.props.data,t=n.context.getAtlaskitAnalyticsContext,i="function"==typeof t&&t()||[];return Object(r.d)(i,[e])},n.getAnalyticsEventHandlers=function(){var e=n.context.getAtlaskitAnalyticsEventHandlers;return"function"==typeof e&&e()||[]},n.state={getAtlaskitAnalyticsContext:n.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:n.getAnalyticsEventHandlers},n}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.props.children;return o.a.createElement(l.a.Provider,{value:this.state},i.Children.only(e))},t.contextTypes=c,t.childContextTypes=c,t}(i.Component);t.a=u},"./node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js":function(e,t,n){"use strict";t.a=function(e){return function(t){return function(n){var r=n(t),i=r.clone();return i&&i.fire(e),r}}}},"./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js":function(e,t,n){"use strict";var r=n("./node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/@atlaskit/analytics-next/dist/esm/AnalyticsContext.js");t.a=function(e){return function(t){var n=o.a.forwardRef((function(n,i){var s=n.analyticsContext,l=void 0===s?{}:s,c=Object(r.c)(n,["analyticsContext"]),u=Object(r.a)(Object(r.a)({},e),l);return o.a.createElement(a.a,{data:u},o.a.createElement(t,Object(r.a)({},c,{ref:i})))}));return n.displayName="WithAnalyticsContext("+(t.displayName||t.name)+")",n}}},"./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js":function(e,t,n){"use strict";var r=n("./node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/prop-types/index.js"),s=n.n(a),l=function(e){function t(n){var i=e.call(this,n)||this;return i.clone=function(){return i.hasFired?(console.warn("Cannot clone an event after it's been fired."),null):new t({context:Object(r.d)(i.context),handlers:Object(r.d)(i.handlers),payload:JSON.parse(JSON.stringify(i.payload))})},i.fire=function(e){i.hasFired?console.warn("Cannot fire an event twice."):(i.handlers.forEach((function(t){return t(i,e)})),i.hasFired=!0)},i.context=n.context||[],i.handlers=n.handlers||[],i.hasFired=!1,i}return Object(r.b)(t,e),t.prototype.update=function(t){return this.hasFired?(console.warn("Cannot update an event after it's been fired."),this):e.prototype.update.call(this,t)},t}(function(){function e(t){var n=this;this.clone=function(){return new e({payload:JSON.parse(JSON.stringify(n.payload))})},this.payload=t.payload}return e.prototype.update=function(e){return"function"==typeof e&&(this.payload=e(this.payload)),"object"==typeof e&&(this.payload=Object(r.a)(Object(r.a)({},this.payload),e)),this},e}()),c=function(e){function t(t){var n=e.call(this,t)||this;return n.originalEventProps={},n.patchedEventProps={},n.updatePatchedEventProps=function(e){var t=Object.keys(n.props.createEventMap).filter((function(t){return n.originalEventProps[t]!==e[t]}));return t.length>0&&(n.patchedEventProps=Object(r.a)(Object(r.a)({},n.patchedEventProps),n.mapCreateEventsToProps(t,e)),t.forEach((function(t){n.originalEventProps[t]=e[t]}))),n.patchedEventProps},n.mapCreateEventsToProps=function(e,t){return e.reduce((function(e,i){var o,a=n.props.createEventMap[i],s=t[i];if(!["object","function"].includes(typeof a))return e;return Object(r.a)(Object(r.a)({},e),((o={})[i]=function(){for(var e=[],i=0;i<arguments.length;i++)e[i]=arguments[i];var o="function"==typeof a?a(n.createAnalyticsEvent,t):n.createAnalyticsEvent(a);s&&s.apply(void 0,Object(r.d)(e,[o]))},o))}),{})},n.createAnalyticsEvent=function(e){var t=n.context,r=t.getAtlaskitAnalyticsEventHandlers,i=t.getAtlaskitAnalyticsContext;return new l({context:"function"==typeof i&&i()||[],handlers:"function"==typeof r&&r()||[],payload:e})},Object.keys(n.props.createEventMap).forEach((function(e){n.originalEventProps[e]=t.wrappedComponentProps[e]})),n.patchedEventProps=n.mapCreateEventsToProps(Object.keys(n.props.createEventMap),t.wrappedComponentProps),n}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.updatePatchedEventProps(this.props.wrappedComponentProps);return this.props.children({createAnalyticsEvent:this.createAnalyticsEvent,patchedEventProps:e})},t.contextTypes={getAtlaskitAnalyticsEventHandlers:s.a.func,getAtlaskitAnalyticsContext:s.a.func},t.defaultProps={createEventMap:{}},t}(o.a.Component);t.a=function(e){return function(t){var n=o.a.forwardRef((function(n,i){return o.a.createElement(c,{createEventMap:e,wrappedComponentProps:n},(function(e){var a=e.createAnalyticsEvent,s=e.patchedEventProps;return o.a.createElement(t,Object(r.a)({},n,s,{createAnalyticsEvent:a,ref:i}))}))}));return n.displayName="WithAnalyticsEvents("+(t.displayName||t.name)+")",n}}},"./node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return l}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}Object.create},"./node_modules/@atlaskit/media-ui/dist/esm/BlockCard/utils/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a}));var r=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),i=function(e){return"".concat(Object(r.f)()*e,"px")},o=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;return"".concat(Object(r.c)()*e,"px")},a=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.literal,r=t.overlap,i=n?e:["&"].concat(e);function o(e){if("object"!=typeof e||null==e)return[];if(Array.isArray(e))return e.map(o);var t={},a={},s={};return Object.keys(e).forEach((function(l){var c=e[l];if(!Array.isArray(c)&&n&&(c=[c]),(n||Array.isArray(c))&&38!==l.charCodeAt(0)){var u=void 0;c.forEach((function(e,o){if((!r||u!==e)&&null!=e)if(u=e,0!==o||n)if(void 0===t[i[o]]){var a;t[i[o]]=((a={})[l]=e,a)}else t[i[o]][l]=e;else s[l]=e}))}else"object"==typeof c?a[l]=o(c):s[l]=c})),i.forEach((function(e){t[e]&&(s[e]=t[e])})),Object.assign(s,a),s}return function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.map(o)}}(["@media(min-width: 576px)"])},"./node_modules/@atlaskit/media-ui/dist/esm/EmbedCard/components/styled.js":function(e,t,n){"use strict";n.d(t,"h",(function(){return N})),n.d(t,"e",(function(){return D})),n.d(t,"g",(function(){return B})),n.d(t,"i",(function(){return R})),n.d(t,"b",(function(){return L})),n.d(t,"c",(function(){return M})),n.d(t,"f",(function(){return F})),n.d(t,"a",(function(){return V})),n.d(t,"d",(function(){return z}));var r=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),i=n.n(r),o=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),a=n("./node_modules/@atlaskit/theme/dist/esm/constants.js");function s(){var e=i()(["\n  0%{\n    opacity: 0;\n  }\n\n  100%{\n    opacity: 1;\n  }\n"]);return s=function(){return e},e}var l=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",t="number"==typeof e?"px":"";return"\n    max-width: ".concat(e).concat(t,";\n    overflow: hidden;\n    text-overflow: ellipsis;\n    white-space: nowrap;\n  ")},c=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"100%",t="number"==typeof e?"px":"";return"\n    width: ".concat(e).concat(t,";\n    height: ").concat(e).concat(t,";\n  ")},u="\n  border-radius: ".concat(Object(a.c)(),"px;\n"),d=("\n  border-bottom-left-radius: ".concat(Object(a.c)(),"px;\n  border-bottom-right-radius: ").concat(Object(a.c)(),"px;\n"),Object(o.keyframes)(s())),p=("\n  animation: ".concat(d," .3s ").concat("cubic-bezier(0.645, 0.045, 0.355, 1)",";\n"),n("./node_modules/@atlaskit/theme/dist/esm/colors.js")),m=n("./node_modules/@atlaskit/media-ui/dist/esm/BlockCard/utils/index.js");function f(){var e=i()(["\n  position: absolute;\n  top: 0;\n  right: 0;\n  bottom: 0;\n  left: 0;\n  overflow: hidden;\n  pointer-events: none;\n  /* z-index has to be 1 higher than the number of avatars in the avatar stack */\n  z-index: ",";\n"]);return f=function(){return e},e}function h(){var e=i()(["\n  margin-top: 8px;\n  text-align: right;\n\n  > * {\n    margin-top: 4px;\n  }\n\n  > * + * {\n    margin-left: 4px;\n  }\n"]);return h=function(){return e},e}function v(){var e=i()(["\n  margin-top: 8px;\n"]);return v=function(){return e},e}function g(){var e=i()(["\n  ","\n  ","\n  float: right;\n  margin: 4px 0 12px 12px;\n  background-color: ",";\n  background-image: url(",");\n  background-size: cover;\n"]);return g=function(){return e},e}function b(){var e=i()(["\n  margin-top: 4px;\n"]);return b=function(){return e},e}function y(){var e=i()(["\n  margin-top: 7px;\n  color: ",";\n  font-size: 12px;\n  font-weight: normal;\n  line-height: ",";\n  max-height: ","px;\n  overflow: hidden;\n"]);return y=function(){return e},e}function k(){var e=i()(["\n  margin-top: 4px;\n  color: ",";\n  font-size: 12px;\n  font-weight: normal;\n  line-height: ",";\n  ",";\n"]);return k=function(){return e},e}function w(){var e=i()(["\n  color: ",";\n  font-size: 16px;\n  font-weight: 500;\n  line-height: ",";\n  max-height: ","px;\n  overflow: hidden;\n"]);return w=function(){return e},e}function j(){var e=i()(["\n  display: flex;\n  flex-direction: row;\n  box-sizing: border-box;\n  padding: 8px 12px 12px 12px;\n"]);return j=function(){return e},e}function _(){var e=i()(["\n  ","\n  ","\n\n  /* hide the alt text when the image cannot be found */\n  overflow: hidden;\n"]);return _=function(){return e},e}function x(){var e=i()(["\n  position: relative;\n\n  ","\n  ","\n  background-color: white;\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  top: ",";\n  overflow: hidden;\n  height: calc(100% - ",");\n  transition: box-shadow 0.3s;\n\n  > .calc-height > div > div {\n    left: unset !important;\n    width: unset !important;\n    height: unset !important;\n    position: initial !important;\n    padding-bottom: unset !important;\n  }\n  > .embed-preview > div {\n    margin: 0 auto;\n  }\n\n  ",";\n"]);return x=function(){return e},e}function C(){var e=i()(["\n  "," color: ",";\n  font-size: 12px;\n  line-height: 16px;\n  ",";\n"]);return C=function(){return e},e}function O(){var e=i()(["\n  ","\n  ","\n  "," margin-right: 4px;\n"]);return O=function(){return e},e}function S(){var e=i()(["\n  height: ","px;\n  position: absolute;\n  z-index: 1;\n  width: 100%;\n  display: flex;\n  align-items: center;\n  color: ",";\n  opacity: 0;\n  transition: 300ms opacity cubic-bezier(0.15, 1, 0.3, 1);\n"]);return S=function(){return e},e}function E(){var e=i()(["\n  ",";\n  margin-top: 10px;\n"]);return E=function(){return e},e}function T(){var e=i()(["\n  "," &:hover {\n    text-decoration: none;\n  }\n"]);return T=function(){return e},e}function P(){var e=i()(["\n  ","\n  ","\n  ","\n  ","\n  ","\n  display: inline-flex;\n  flex-direction: column;\n  box-sizing: border-box;\n  font-family: ",";\n  width: 100%;\n  user-select: none;\n  line-height: initial;\n  transition: background 0.3s;\n  position: relative;\n  height: 100%;\n  ","\n  ","\n\n  &:after {\n    content: '';\n    background: transparent;\n    transition: background 0.3s, box-shadow 0.3s;\n    position: absolute;\n    width: calc(100% + ",");\n    height: calc(100% + ",");\n    left: -",";\n    ","\n  }\n"]);return P=function(){return e},e}var N="media-card-frame";var I=Object(o.css)(P(),u,(function(e){var t=e.minWidth;return t?"min-width: ".concat(t,"px;"):""}),(function(e){var t=e.maxWidth;return t?"max-width: ".concat(t,"px; margin: 0 auto;"):"margin: 0 auto;"}),(function(e){var t=e.isInteractive,n=e.isFrameVisible?A:"",r=t?"\n  &:hover {\n    ".concat(A,"\n  }\n  &:active {\n    background-color: ").concat(p.B50,";\n  }\n"):"";return"".concat(n).concat(r)}),(function(e){return e.isVisible?A:""}),Object(a.d)(),(function(e){return e.inheritDimensions?"\n      height: 100%;\n    ":"height: ".concat(Object(m.b)(54))}),(function(e){return e.isSelected?"\n    ".concat(A,"\n    &::after {\n      cursor: pointer;\n      box-shadow: 0 0 0 3px ").concat(p.B100,";\n      content: '';\n      outline: none;\n      position: absolute;\n      height: 100%;\n      width: 100%;\n      left: 0;\n      ").concat(u,"\n    }\n    "):""}),Object(m.b)(2),Object(m.b)(1),Object(m.b)(1),u),A="\n  background-color: ".concat(p.N30,";\n\n  &:after {\n    background: ").concat(p.N30," !important;\n  }\n  .embed-header {\n    opacity: 1;\n  }");var D=o.default.div(T(),I),B=o.default.div(E(),I),R=32,L=o.default.div(S(),R,p.N300),M=o.default.div(O(),u,c(16),(function(e){return e.isPlaceholder?"\n      background-color: ".concat(p.N30,";\n    "):""})),F=o.default.div(C(),(function(e){return e.isPlaceholder?"\n        ".concat(u,"\n        width: 125px;\n        height: 12px;\n        background-color: ").concat(p.N30,";\n      "):""}),p.N300,l("none")),V=o.default.div(x(),u,"",Object(m.b)(4),Object(m.b)(4),(function(e){return e.isInteractive?"\n          .".concat(N,":hover & {\n            box-shadow: 0 4px 8px -2px rgba(23, 43, 77, 0.32),\n              0 0 1px rgba(23, 43, 77, 0.25);\n          }\n        "):""})),z=o.default.img(_(),(function(e){var t=e.size;return c(t)}),u);o.default.div(j()),o.default.div(w(),p.N900,1.25,80),o.default.div(k(),p.N300,16/12,l("100%")),o.default.div(y(),p.N800,1.5,54),o.default.div(b()),o.default.div(g(),u,c(48),p.N30,(function(e){return e.src})),o.default.div(v()),o.default.div(h()),o.default.div(f(),7)},"./node_modules/@atlaskit/media-ui/dist/esm/InlineCard/Frame/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return N}));var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/createClass.js"),a=n.n(o),s=n("./node_modules/@babel/runtime/helpers/assertThisInitialized.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/inherits.js"),u=n.n(c),d=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=n.n(m),h=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),v=n.n(h),g=n("./node_modules/react/index.js"),b=n.n(g),y=n("./node_modules/@babel/runtime/helpers/taggedTemplateLiteral.js"),k=n.n(y),w=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),j=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),_=n("./node_modules/@atlaskit/theme/dist/esm/constants.js"),x=n("./node_modules/@atlaskit/theme/dist/esm/elevation.js"),C=n("./node_modules/@atlaskit/theme/dist/esm/utils/themed.js");function O(){var e=k()(["\n  line-height: 16px;\n  padding: 1px 0.24em 2px 0.24em;\n  display: inline;\n  box-decoration-break: clone;\n  border-radius: ","px;\n  color: ",";\n  background-color: ",";\n  ",";\n  ","\n  ",";\n  transition: 0.1s all ease-in-out;\n  -moz-user-select: none;\n"]);return O=function(){return e},e}var S="#262B31",E="\n  cursor: pointer;\n  box-shadow: 0 0 0 2px ".concat(j.B100,";\n  outline: none;\n  user-select: none;\n  &, :hover, :focus, :active {\n    text-decoration: none;\n  }\n"),T=w.default.a(O(),Object(_.c)(),Object(C.a)({light:j.B400,dark:"#4794FF"}),(function(e){return e.withoutBackground?"":Object(C.a)({light:"white",dark:S})}),(function(e){return e.withoutBackground?"":Object(x.e100)()}),(function(e){var t=e.isInteractive;return t?"\n      cursor: pointer;\n      :hover {\n        background-color: ".concat(Object(C.a)({light:j.N20,dark:S}),";\n        text-decoration: none;\n      }\n      :active {\n        background-color: ").concat(Object(C.a)({light:j.B50,dark:S}),";\n        text-decoration: none;\n      }\n      :focus {\n        ").concat(E,"\n        text-decoration: none;\n      }\n    "):""}),(function(e){var t=e.isSelected;return t?E:"user-select: text"}));function P(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var N=function(e){u()(n,e);var t=P(n);function n(){var e;i()(this,n);for(var r=arguments.length,o=new Array(r),a=0;a<r;a++)o[a]=arguments[a];return e=t.call.apply(t,[this].concat(o)),v()(l()(e),"handleClick",(function(t){var n=e.props.onClick;n&&(t.preventDefault(),t.stopPropagation(),n(t))})),v()(l()(e),"handleKeyPress",(function(t){if(" "===t.key||"Enter"===t.key){var n=e.props.onClick;n&&(t.preventDefault(),t.stopPropagation(),n(t))}})),v()(l()(e),"handleMouseDown",(function(e){e.preventDefault()})),e}return a()(n,[{key:"render",value:function(){var e=this.props,t=e.isSelected,n=e.children,r=e.onClick,i=e.link,o=e.withoutBackground,a=e.testId,s=Boolean(r);return b.a.createElement(T,{href:i,withoutBackground:o,isSelected:t,isInteractive:s,tabIndex:s?0:void 0,role:s?"button":void 0,onClick:this.handleClick,onMouseDown:this.handleMouseDown,onKeyPress:this.handleKeyPress,"data-testid":a},n)}}]),n}(b.a.Component)},"./node_modules/@atlaskit/media-ui/dist/esm/LinkView/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var r=n("./node_modules/@babel/runtime/helpers/extends.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),a=n.n(o),s=n("./node_modules/@babel/runtime/helpers/createClass.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/inherits.js"),u=n.n(c),d=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),p=n.n(d),m=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),f=n.n(m),h=n("./node_modules/react/index.js"),v=n.n(h),g=n("./node_modules/@atlaskit/media-ui/dist/esm/InlineCard/Frame/index.js");function b(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=f()(e);if(t){var i=f()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return p()(this,n)}}var y=function(e){u()(n,e);var t=b(n);function n(){return a()(this,n),t.apply(this,arguments)}return l()(n,[{key:"render",value:function(){return v.a.createElement(g.a,i()({withoutBackground:!0},this.props),this.props.link)}}]),n}(v.a.PureComponent)},"./node_modules/@atlaskit/smart-card/dist/esm/client/errors.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return m}));var r=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/inherits.js"),a=n.n(o),s=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),u=n.n(c),d=n("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js");function p(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=u()(e);if(t){var i=u()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return l()(this,n)}}var m=function(e){a()(n,e);var t=p(n);function n(e,r,o,a){var s;return i()(this,n),(s=t.call(this,"".concat(e,": ").concat(o))).kind=e,s.hostname=r,s.message=o,s.type=a,s.name="APIError",s.type=a,s.kind=e,s.message=o,s.hostname=r,s}return n}(n.n(d)()(Error))},"./node_modules/@atlaskit/smart-card/dist/esm/client/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return T}));var r=n("./node_modules/@babel/runtime/regenerator/index.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/toConsumableArray.js"),a=n.n(o),s=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),l=n.n(s),c=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),u=n.n(c),d=n("./node_modules/@babel/runtime/helpers/createClass.js"),p=n.n(d),m=n("./node_modules/dataloader/index.js"),f=n.n(m),h=n("./node_modules/async-retry/lib/index.js"),v=n.n(h),g=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),b=n.n(g);function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){b()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var w=[200,401,404];function j(e,t,n){return _.apply(this,arguments)}function _(){return(_=l()(i.a.mark((function e(t,n,r){var o,a;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o=k({method:t,credentials:"include",headers:{Accept:"application/json","Cache-Control":"no-cache","Content-Type":"application/json"}},r?{body:JSON.stringify(r)}:{}),e.next=3,fetch(n,o);case 3:if(!(a=e.sent).ok&&!w.includes(a.status)){e.next=8;break}return e.next=7,a.json();case 7:return e.abrupt("return",e.sent);case 8:throw a;case 9:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var x=n("./node_modules/@atlaskit/smart-card/dist/esm/client/errors.js"),C=n("./node_modules/@atlaskit/smart-card/dist/esm/client/utils/environments.js"),O=n("./node_modules/bottleneck/lib/index.js"),S=n.n(O),E=function(e){return!!e&&(200===e.status&&"body"in e)},T=function(){function e(t){u()(this,e),this.resolverUrl=Object(C.b)(t),this.loadersByDomain={},this.retryConfig={retries:2},this.resolvedCache={}}var t,n,r,o;return p()(e,[{key:"batchResolve",value:(o=l()(i.a.mark((function e(t){var n,r,o,s,l,c;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=a()(new Set(t)),r=[],e.prev=2,e.next=5,j("post","".concat(this.resolverUrl,"/resolve/batch"),n.map((function(e){return{resourceUrl:e}})));case 5:r=e.sent,e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),r=t.map((function(){var t;return{status:(t=e.t0)&&t.status>=200&&"error"in t?e.t0.status:500,error:e.t0}}));case 11:for(o={},s=0;s<n.length;++s)l=n[s],c=r[s],o[l]=c;return e.abrupt("return",t.map((function(e){return o[e]})));case 14:case"end":return e.stop()}}),e,this,[[2,8]])}))),function(e){return o.apply(this,arguments)})},{key:"createLoader",value:function(){var e=this,t=new S.a({minTime:250});return new f.a((function(n){return t.schedule((function(){return e.batchResolve(n)}))}),{maxBatchSize:50,cache:!1})}},{key:"getLoader",value:function(e){return this.loadersByDomain[e]||(this.loadersByDomain[e]=this.createLoader()),this.loadersByDomain[e]}},{key:"prefetchData",value:(r=l()(i.a.mark((function e(t){var n,r,o,a,s=this;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL(t).hostname,r=this.getLoader(n),e.next=4,r.load(t);case 4:if(o=e.sent,!E(o)){e.next=9;break}return e.abrupt("return",o.body);case 9:return e.prev=9,e.next=12,v()(l()(i.a.mark((function e(){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(s.resolvedCache[t]){e.next=11;break}return e.next=3,r.load(t);case 3:if(n=e.sent,!E(n)){e.next=8;break}return e.abrupt("return",n);case 8:throw new Error("Retry for URL failed");case 9:e.next=12;break;case 11:throw new Error("Retry unneeded - link has been resolved.");case 12:case"end":return e.stop()}}),e)}))),this.retryConfig);case 12:return a=e.sent,e.abrupt("return",a.body);case 16:return e.prev=16,e.t0=e.catch(9),e.abrupt("return",void 0);case 19:case"end":return e.stop()}}),e,this,[[9,16]])}))),function(e){return r.apply(this,arguments)})},{key:"fetchData",value:(n=l()(i.a.mark((function e(t){var n,r,o,a,s;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=new URL(t).hostname,r=this.getLoader(n),e.next=4,r.load(t);case 4:if(o=e.sent,E(o)){e.next=21;break}if(!o.error){e.next=18;break}a=o.error.type,s=o.error.message,e.t0=a,e.next="ResolveBadRequestError"===e.t0?12:"ResolveAuthError"===e.t0?13:"ResolveUnsupportedError"===e.t0?14:"ResolveFailedError"===e.t0?15:"ResolveTimeoutError"===e.t0?16:"InternalServerError"===e.t0?17:18;break;case 12:throw new x.a("fallback",n,s,a);case 13:throw new x.a("auth",n,s,a);case 14:throw new x.a("fatal",n,s,a);case 15:case 16:case 17:throw new x.a("error",n,s,a);case 18:throw new x.a("fatal",n,o.toString(),"UnexpectedError");case 21:return this.resolvedCache[t]=!0,e.abrupt("return",o.body);case 23:case"end":return e.stop()}}),e,this)}))),function(e){return n.apply(this,arguments)})},{key:"postData",value:(t=l()(i.a.mark((function e(t){var n;return i.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n={key:t.key,action:t.action,context:t.context},e.next=3,j("post","".concat(this.resolverUrl,"/invoke"),n);case 3:return e.abrupt("return",e.sent);case 4:case"end":return e.stop()}}),e,this)}))),function(e){return t.apply(this,arguments)})}]),e}()},"./node_modules/@atlaskit/smart-card/dist/esm/client/utils/environments.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return s})),n.d(t,"b",(function(){return l}));var r="https://api-private.dev.atlassian.com",i="https://api-private.stg.atlassian.com",o="https://api-private.atlassian.com",a={dev:r,development:r,stg:i,staging:i,prd:o,prod:o,production:o},s=function(e){return e?e in a?a[e]:o:window.location.origin},l=function(e){if(e){var t=s(e);return"".concat(t,"/object-resolver")}return"/gateway/api/object-resolver"}},"./node_modules/@atlaskit/smart-card/dist/esm/extractors/common/preview/extractImage.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/@atlaskit/smart-card/dist/esm/extractors/common/utils.js"),i=function(e){var t=e.image;if(t){if("string"==typeof t)return t;if("Link"===t["@type"])return Object(r.c)(t);if("Image"===t["@type"]&&t.url)return Object(r.c)(t.url)}}},"./node_modules/@atlaskit/smart-card/dist/esm/extractors/common/preview/extractPreview.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return i}));var r=n("./node_modules/@atlaskit/smart-card/dist/esm/extractors/common/utils.js"),i=function(e,t){var n=e.preview,i=function(e,t){if(e){if("string"==typeof e)return!0;var n=e["atlassian:supportedPlatforms"];if(n){var r="web"===t;return r&&n.includes("web")||!r&&n.includes("mobile")}return!0}return!1}(n,t);if(n&&i){if("string"==typeof n)return{src:n};if("Link"===n["@type"])return{src:Object(r.c)(n)};if(n.url||n.href)return{src:Object(r.c)(n.url||n.href)};if(n.content)return{content:n.content}}}},"./node_modules/@atlaskit/smart-card/dist/esm/extractors/common/preview/index.js":function(e,t,n){"use strict";n("./node_modules/@atlaskit/smart-card/dist/esm/extractors/common/preview/extractImage.js");var r=n("./node_modules/@atlaskit/smart-card/dist/esm/extractors/common/preview/extractPreview.js");n.d(t,"a",(function(){return r.a}))},"./node_modules/@atlaskit/smart-card/dist/esm/extractors/common/utils.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o}));var r=function e(t){return"string"==typeof t?t:Array.isArray(t)?t.length>0?e(t[0]):void 0:t.href},i=function(e){return"string"==typeof e?e:"Link"===e["@type"]?r(e):e.url?r(e.url):void 0},o=function(e){if("string"==typeof e)throw Error("Link.person needs to be an object.");if("Link"===e["@type"]){if(e.name)return{name:e.name}}else if(e.name)return{name:e.name,icon:e.icon&&i(e.icon)}}},"./node_modules/@atlaskit/smart-card/dist/esm/state/actions/constants.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return r})),n.d(t,"e",(function(){return i})),n.d(t,"d",(function(){return o})),n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"h",(function(){return l})),n.d(t,"i",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"f",(function(){return d}));var r="pending",i="resolving",o="resolved",a="errored",s="fallback",l=1200,c=6e4,u="Provider.authFlow is not set to OAuth2.",d="Fatal error resolving URL"},"./node_modules/@atlaskit/smart-card/dist/esm/state/context/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return _})),n.d(t,"c",(function(){return x})),n.d(t,"b",(function(){return j}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),a=n.n(o),s=n("./node_modules/lodash-es/isPlainObject.js"),l=n("./node_modules/symbol-observable/es/index.js"),c="@@redux/INIT";function u(e,t,n){var r;if("function"==typeof t&&void 0===n&&(n=t,t=void 0),void 0!==n){if("function"!=typeof n)throw new Error("Expected the enhancer to be a function.");return n(u)(e,t)}if("function"!=typeof e)throw new Error("Expected the reducer to be a function.");var i=e,o=t,a=[],d=a,p=!1;function m(){d===a&&(d=a.slice())}function f(){return o}function h(e){if("function"!=typeof e)throw new Error("Expected listener to be a function.");var t=!0;return m(),d.push(e),function(){if(t){t=!1,m();var n=d.indexOf(e);d.splice(n,1)}}}function v(e){if(!Object(s.a)(e))throw new Error("Actions must be plain objects. Use custom middleware for async actions.");if(void 0===e.type)throw new Error('Actions may not have an undefined "type" property. Have you misspelled a constant?');if(p)throw new Error("Reducers may not dispatch actions.");try{p=!0,o=i(o,e)}finally{p=!1}for(var t=a=d,n=0;n<t.length;n++){(0,t[n])()}return e}return v({type:c}),(r={dispatch:v,subscribe:h,getState:f,replaceReducer:function(e){if("function"!=typeof e)throw new Error("Expected the nextReducer to be a function.");i=e,v({type:c})}})[l.a]=function(){var e,t=h;return(e={subscribe:function(e){if("object"!=typeof e)throw new TypeError("Expected the observer to be an object.");function n(){e.next&&e.next(f())}return n(),{unsubscribe:t(n)}}})[l.a]=function(){return this},e},r}Object.assign;var d,p=n("./node_modules/@atlaskit/smart-card/dist/esm/state/actions/constants.js"),m=n("./node_modules/@atlaskit/smart-card/dist/esm/state/helpers.js");function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function h(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var v=(d={},a()(d,p.c,(function(e,t){return{status:t.type,lastUpdatedAt:Date.now()}})),a()(d,p.e,(function(e,t){var n=t.type;return h(h({},e),{},{status:n})})),a()(d,p.d,(function(e,t){var n=t.type,r=t.payload,i=h({},e);return r?(i.status=Object(m.g)(r),i.details=r):i.status=n,i.lastUpdatedAt=Date.now(),i})),a()(d,p.a,(function(e,t){var n=t.type,r=t.error;return h(h({},e),{},{status:n,error:r})})),a()(d,p.b,(function(e,t){var n=t.type,r=t.error;return h(h({},e),{},{status:n,error:r})})),d),g=function(e,t){if(v[t.type]){var n=e[t.url],r=n&&n.status===t.type;if(!t.hasExpired&&r)return e;var i=v[t.type](n,t);return h(h({},e),{},a()({},t.url,i))}return e},b=n("./node_modules/@atlaskit/smart-card/dist/esm/client/index.js"),y=n("./node_modules/@atlaskit/smart-card/dist/esm/extractors/common/preview/index.js");function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){a()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e){var t=e.storeOptions,n=e.client,o=e.cacheOptions,a=e.authFlow,s=e.children,l=Object(r.useContext)(_),c=Object(r.useMemo)((function(){var e=(t||{initialState:{}}).initialState,r=n||new b.a,i=u(g,e),s=a||"oauth2",l=o||{maxAge:p.i,maxLoadingDelay:p.h};return{store:i,prefetchStore:{},connections:{client:r},config:w(w({},l),{},{authFlow:s}),extractors:{getPreview:function(e,t){var n=Object(m.h)(i,e);return n.details?Object(y.a)(n.details.data,t):void 0}}}}),[n,o,a,t]);return i.a.createElement(_.Provider,{value:l||c},s)}var _=Object(r.createContext)(void 0);function x(){var e=Object(r.useContext)(_);if(!e)throw Error("useSmartCard() must be wrapped in <SmartCardProvider>");return e}},"./node_modules/@atlaskit/smart-card/dist/esm/state/helpers.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"h",(function(){return i})),n.d(t,"b",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return s})),n.d(t,"e",(function(){return l})),n.d(t,"f",(function(){return c})),n.d(t,"g",(function(){return u})),n.d(t,"i",(function(){return d}));var r=function(e,t){return Object.keys(t).filter((function(n){var r=t[n].details;return r&&r.meta.definitionId===e}))},i=function(e,t){return e.getState()[t]||{status:"pending",lastUpdatedAt:Date.now()}},o=function(e,t){if(t&&t.data){var n=function(e){return e["atlassian:visitUrl"]}(t.data);if(n)return n}return e},a=function(e){return e&&e.meta&&e.meta.definitionId},s=function(e){return e&&e.meta&&e.meta.key},l=function(e){return e&&e.meta&&e.meta.resourceType},c=function(e){return e&&e.meta.auth||[]},u=function(e){var t=e.meta,n=t.access,r=t.visibility;switch(n){case"forbidden":return"not_found"===r?"not_found":"forbidden";case"unauthorized":return"unauthorized";default:return"resolved"}},d=function(e){return["unauthorized","forbidden","errored","resolved","not_found"].indexOf(e)>-1}},"./node_modules/@atlaskit/smart-card/dist/esm/state/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r.b})),n.d(t,"c",(function(){return A})),n.d(t,"b",(function(){return c}));var r=n("./node_modules/@atlaskit/smart-card/dist/esm/state/context/index.js"),i=n("./node_modules/@babel/runtime/regenerator/index.js"),o=n.n(i),a=n("./node_modules/@babel/runtime/helpers/asyncToGenerator.js"),s=n.n(a),l=n("./node_modules/react/index.js");function c(e){var t=Object(r.c)(),n=t.store,i=t.prefetchStore,a=t.connections,c=n.dispatch,u=n.getState,d=a.client;return Object(l.useCallback)(s()(o.a.mark((function t(){var n,r,a;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(n=i[e],r=u()[e],!(!n&&!r)){t.next=14;break}return i[e]=!0,t.prev=5,t.next=8,d.prefetchData(e);case 8:(a=t.sent)&&c({type:"resolved",url:e,payload:a}),t.next=14;break;case 12:t.prev=12,t.t0=t.catch(5);case 14:case"end":return t.stop()}}),t,null,[[5,12]])}))),[i,e,u,d,c])}var u=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),d=n.n(u),p=n("./node_modules/@atlaskit/smart-card/dist/esm/state/helpers.js");var m=n("./node_modules/@babel/runtime/helpers/typeof.js"),f=n.n(m),h=n("./node_modules/@babel/runtime/helpers/classCallCheck.js"),v=n.n(h),g=n("./node_modules/@babel/runtime/helpers/inherits.js"),b=n.n(g),y=n("./node_modules/@babel/runtime/helpers/possibleConstructorReturn.js"),k=n.n(y),w=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),j=n.n(w),_=n("./node_modules/@babel/runtime/helpers/wrapNativeSuper.js");function x(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=j()(e);if(t){var i=j()(this).constructor;n=Reflect.construct(r,arguments,i)}else n=r.apply(this,arguments);return k()(this,n)}}var C=function(e){b()(n,e);var t=x(n);function n(e,r){var i;return v()(this,n),(i=t.call(this,e)).message=e,i.type=r,i.name="AuthError",i.type=r,i.message=e,i}return n}(n.n(_)()(Error));var O=function(e,t,n,r){return{type:e,url:t.url,hasExpired:t.hasExpired,payload:n,error:r}},S=n("./node_modules/@atlaskit/smart-card/dist/esm/state/actions/constants.js"),E=n("./node_modules/@atlaskit/smart-card/dist/esm/utils/performance.js"),T=n("./node_modules/@atlaskit/smart-card/dist/esm/client/errors.js"),P=n("./node_modules/@atlaskit/smart-card/dist/esm/utils/jsonld.js"),N=function(e,t,n){var i=Object(r.c)(),a=i.store,c=i.connections,u=i.config,d=a.getState,m=a.dispatch,h=d()[t]||{status:"pending",lastUpdatedAt:Date.now(),details:void 0},v=h.details,g=h.lastUpdatedAt,b=h.status,y="disabled"!==u.authFlow,k=!(!v||!v.data),w=Date.now()-g>=u.maxAge,j=Object(l.useCallback)((function(e,t){if("fatal"===t.kind){if(!k&&"resolved"!==b)throw t;k&&m(O(S.d,{url:e},v))}else"auth"===t.kind?m(O(S.d,{url:e},Object(P.b)())):"fallback"===t.kind?m(O(S.b,{url:e},void 0,t)):m(O(S.a,{url:e},void 0,t))}),[k,b,m,v]),_=Object(l.useCallback)((function(e,t){var n=new URL(e).hostname,r=t?Object(p.g)(t):"fatal";"unauthorized"!==r||y?"fatal"!==r?m(O(S.d,{url:e,hasExpired:w&&!k},t)):j(e,new T.a("fatal",n,S.f)):j(e,new T.a("fallback",n,S.g))}),[m,j,k,w,y]),x=Object(l.useCallback)(s()(o.a.mark((function e(){var n,r=arguments;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=r.length>0&&void 0!==r[0]?r[0]:t,!(r.length>1&&void 0!==r[1]&&r[1])&&!w&&k){e.next=4;break}return e.abrupt("return",c.client.fetchData(n).then((function(e){return _(n,e)})).catch((function(e){return j(n,e)})));case 4:case"end":return e.stop()}}),e)}))),[t,k,w,c.client,_,j]),N=Object(l.useCallback)((function(){return v||m(O(S.c,{url:t})),x()}),[t,x,v,m]),I=Object(l.useCallback)((function(){var e=Object(p.c)(v);e?Object(p.a)(e,d()).map((function(e){return x(e,!0)})):x(t,!0)}),[t,v,d,x]),A=Object(l.useCallback)((function(e){var t,r,i=Object(p.c)(v),o=Object(p.d)(v),a=Object(p.f)(v);"unauthorized"===b&&n.ui.authEvent(e,i,o),"forbidden"===b&&n.ui.authAlternateAccountEvent(e,i,o),a.length>0&&(n.screen.authPopupEvent(i,o),(t=a[0].url,new Promise((function(e,n){var i,o=null,a=function(t){if(t.source===o){var r=t.data;if("object"===f()(r))switch(r.type){case"outbound-auth:success":l(),e();break;case"outbound-auth:failure":l();var i=r.errorType.toLowerCase();["auth_window_closed","invalid_request","unauthorized_client","access_denied","unsupported_response_type","invalid_scope","server_error","temporarily_unavailable"].includes(i)?n(new C(r.message,i)):n(new C(r.message))}}},s=function(){o&&o.closed&&(l(),n(new C("The auth window was closed","auth_window_closed")))},l=function(){clearInterval(i),window.removeEventListener("message",a),o&&(o.close(),o=null)};window.addEventListener("message",a),o=window.open(t,t,r),i=window.setInterval(s,500)}))).then((function(){n.track.appAccountConnected(i,o),n.operational.connectSucceededEvent(i,o),I()}),(function(t){n.operational.connectFailedEvent(i,o,t.type),"auth_window_closed"===t.type&&n.ui.closedAuthEvent(e,i,o),I()})))}),[n.ui,n.screen,n.track,n.operational,I,v,b]),D=Object(l.useCallback)(function(){var t=s()(o.a.mark((function t(r,i){var a,s,l,u,d;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(a=r.key,s=r.action,l=r.source||i,u="".concat(e,"-").concat(s.type),E.e(u,"pending"),t.prev=4,n.ui.actionClickedEvent(a,s.type,l),"client"!==r.type){t.next=12;break}return t.next=9,r.action.promise();case 9:d=t.sent,t.next=15;break;case 12:return t.next=14,c.client.postData(r);case 14:d=t.sent;case 15:return E.e(u,"resolved"),n.operational.invokeSucceededEvent(e,a,s.type,l),t.abrupt("return",d);case 20:throw t.prev=20,t.t0=t.catch(4),E.e(u,"errored"),n.operational.invokeFailedEvent(e,a,s.type,l,t.t0.message),t.t0;case 25:case"end":return t.stop()}}),t,null,[[4,20]])})));return function(e,n){return t.apply(this,arguments)}}(),[e,n.ui,n.operational,c.client]);return Object(l.useMemo)((function(){return{register:N,reload:I,authorize:A,invoke:D}}),[N,I,A,D])},I=n("./node_modules/@atlaskit/smart-card/dist/esm/utils/analytics.js");function A(e,t,n){var i=function(e){var t=Object(r.c)().store,n=Object(l.useState)(Object(p.h)(t,e)),i=d()(n,2),o=i[0],a=i[1];return Object(l.useEffect)((function(){var n=t.subscribe((function(){a(Object(p.h)(t,e))}));return function(){return n()}}),[e,t]),o}(t),o=function(e){var t=Object(l.useMemo)((function(){return{authEvent:function(t,n,r){return e(Object(I.m)(t,n,r))},authAlternateAccountEvent:function(t,n,r){return e(Object(I.l)(t,n,r))},cardClickedEvent:function(t,n,r){return e(Object(I.n)(t,n,r))},actionClickedEvent:function(t,n,r){return e(Object(I.k)(t,n,r))},closedAuthEvent:function(t,n,r){return e(Object(I.o)(t,n,r))},renderSuccessEvent:function(t,n,r){return e(Object(I.q)(t,n,r))},renderFailedEvent:function(t,n,r){return e(Object(I.p)(t,n,r))}}}),[e]),n=Object(l.useMemo)((function(){return{resolvedEvent:function(t,n,r,i){return e(Object(I.h)(t,n,r,i))},unresolvedEvent:function(t,n,r,i,o){return e(Object(I.r)(t,n,r,i,o))},invokeSucceededEvent:function(t,n,r,i){return e(Object(I.g)(t,n,r,i))},invokeFailedEvent:function(t,n,r,i,o){return e(Object(I.f)(t,n,r,i,o))},connectSucceededEvent:function(t,n){return e(Object(I.b)(t,n))},connectFailedEvent:function(t,n,r){return e(Object(I.a)(t,n,r))},instrument:function(t,n,r,i,o,a){return e(Object(I.e)(t,n,r,i,o,a))}}}),[e]),r=Object(l.useMemo)((function(){return{appAccountConnected:function(t,n){return e(Object(I.j)(t,n))}}}),[e]),i=Object(l.useMemo)((function(){return{authPopupEvent:function(t,n){return e(Object(I.i)(t,n))}}}),[e]);return Object(l.useMemo)((function(){return{ui:t,operational:n,track:r,screen:i}}),[t,n,r,i])}(n),a=N(e,t,o),s=function(){var e=Object(r.c)();if(e)return e.config}(),c=Object(l.useState)(),u=d()(c,2)[1];return Object(l.useEffect)((function(){a.register().catch((function(e){return u((function(){throw e}))}))}),[t]),{state:i,actions:a,config:s,analytics:o}}},"./node_modules/@atlaskit/smart-card/dist/esm/utils/analytics.js":function(e,t,n){"use strict";n.d(t,"c",(function(){return c})),n.d(t,"d",(function(){return u})),n.d(t,"h",(function(){return d})),n.d(t,"r",(function(){return p})),n.d(t,"g",(function(){return m})),n.d(t,"f",(function(){return f})),n.d(t,"b",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"j",(function(){return g})),n.d(t,"m",(function(){return b})),n.d(t,"l",(function(){return y})),n.d(t,"n",(function(){return k})),n.d(t,"k",(function(){return w})),n.d(t,"o",(function(){return j})),n.d(t,"i",(function(){return _})),n.d(t,"q",(function(){return x})),n.d(t,"p",(function(){return C})),n.d(t,"e",(function(){return O}));var r=n("./node_modules/@babel/runtime/helpers/defineProperty.js"),i=n.n(r),o=n("./node_modules/@atlaskit/smart-card/dist/esm/version.json"),a=n("./node_modules/@atlaskit/smart-card/dist/esm/utils/performance.js");function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var c={componentName:"smart-cards",packageName:o.name,packageVersion:o.version},u=function(e,t){t&&t(e).fire("media")},d=function(e,t,n,r){return{action:"resolved",actionSubject:"smartLink",eventType:"operational",attributes:l(l(l(l({id:e},c),t?{definitionId:t}:{}),n?{extensionKey:n}:{}),r?{resourceType:r}:{})}},p=function(e,t,n,r,i,o){return{action:"unresolved",actionSubject:"smartLink",eventType:"operational",attributes:l(l(l(l(l({id:e},c),n?{definitionId:n}:{}),r?{extensionKey:r}:{}),i?{resourceType:i}:{}),{},{reason:t,error:o?{message:o.message,kind:o.kind,type:o.type}:void 0})}},m=function(e,t,n,r){var i=Object(a.d)(e,"resolved")||{duration:void 0};return{action:"resolved",actionSubject:"smartLinkAction",eventType:"operational",attributes:l(l({},c),{},{id:e,actionType:n,display:r,definitionId:t,duration:i.duration})}},f=function(e,t,n,r,i){var o=Object(a.d)(e,"errored")||{duration:void 0};return{action:"unresolved",actionSubject:"smartLinkAction",eventType:"operational",attributes:l(l({},c),{},{id:e,actionType:n,display:r,definitionId:t,duration:o.duration,reason:i})}},h=function(e,t){return{action:"connectSucceeded",actionSubject:"smartLink",eventType:"operational",attributes:l(l(l({},c),e?{definitionId:e}:{}),t?{extensionKey:t}:{})}},v=function(e,t,n){return{action:"connectFailed",actionSubject:"smartLink",actionSubjectId:n,eventType:"operational",attributes:l(l(l(l({},c),n?{reason:n}:{}),e?{definitionId:e}:{}),t?{extensionKey:t}:{})}},g=function(e,t){return{action:"connected",actionSubject:"applicationAccount",eventType:"track",attributes:l(l(l({},c),e?{definitionId:e}:{}),t?{extensionKey:t}:{})}},b=function(e,t,n){return{action:"clicked",actionSubject:"button",actionSubjectId:"connectAccount",eventType:"ui",attributes:l(l({},c),{},{definitionId:t||"",extensionKey:n||"",display:e})}},y=function(e,t,n){return{action:"clicked",actionSubject:"smartLink",actionSubjectId:"tryAnotherAccount",eventType:"ui",attributes:l(l({},c),{},{definitionId:t||"",extensionKey:n||"",display:e})}},k=function(e,t,n){return{action:"clicked",actionSubject:"smartLink",eventType:"ui",attributes:l(l({},c),{},{definitionId:t||"",extensionKey:n||"",display:e})}},w=function(e,t,n){return{action:"clicked",actionSubject:"smartLinkAction",eventType:"ui",attributes:l(l({},c),{},{display:n,definitionId:e,actionType:t})}},j=function(e,t,n){return{action:"closed",actionSubject:"consentModal",eventType:"ui",attributes:l(l({},c),{},{definitionId:t||"",extensionKey:n||"",display:e})}},_=function(e,t){return{actionSubject:"consentModal",eventType:"screen",attributes:l(l({},c),{},{definitionId:e||"",extensionKey:t||""})}},x=function(e,t,n){return{action:"renderSuccess",actionSubject:"smartLink",eventType:"ui",attributes:l(l({},c),{},{definitionId:t||"",extensionKey:n||"",display:e})}},C=function(e,t,n){return{actionSubject:"smartLink",action:"renderFailed",eventType:"ui",attributes:{error:t,errorInfo:n,display:e}}},O=function(e,t,n,r,i,o){var s=Object(a.d)(e,t)||{duration:void 0};if("resolved"===t){var c=d(e,n,r,i);return l(l({},c),{},{attributes:l(l({},c.attributes),{},{duration:s.duration})})}var u=p(e,t,n,r,i,o);return l(l({},u),{},{attributes:l(l({},u.attributes),{},{duration:s.duration})})}},"./node_modules/@atlaskit/smart-card/dist/esm/utils/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"c",(function(){return u})),n.d(t,"a",(function(){return f}));var r=n("./node_modules/@babel/runtime/helpers/slicedToArray.js"),i=n.n(r),o=n("./node_modules/react/index.js"),a=n.n(o),s=n("./node_modules/react-loadable/lib/index.js"),l=n.n(s),c=function(e){return!!e.data},u=function(e){return e.isDefaultPrevented()&&(d()||p(e)||m(e))},d=function(){return window.parent!==parent},p=function(e){return e.metaKey||e.ctrlKey},m=function(e){return 1===e.button},f=function(e){if(e){var t=h[e.toLowerCase()];if(t){var n=i()(t,2),r=n[0],o=n[1];if(o){var s=l()({loader:function(){return o().then((function(e){return e.default}))},loading:function(){return null}});return a.a.createElement(s,{label:r})}}}},h={"text/plain":["Document",function(){return n.e(6).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/document/16.js",7))}],"application/vnd.oasis.opendocument.text":["Document",function(){return n.e(6).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/document/16.js",7))}],"application/vnd.apple.pages":["Document",function(){return n.e(6).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/document/16.js",7))}],"application/vnd.google-apps.document":["Google Doc",function(){return n.e(164).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/google-doc/16.js",7))}],"application/vnd.ms-word":["Word document",function(){return n.e(171).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/word-document/16.js",7))}],"application/pdf":["PDF document",function(){return n.e(168).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/pdf-document/16.js",7))}],"application/vnd.oasis.opendocument.spreadsheet":["Spreadsheet",function(){return n.e(11).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/spreadsheet/16.js",7))}],"application/vnd.apple.numbers":["Spreadsheet",function(){return n.e(11).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/spreadsheet/16.js",7))}],"application/vnd.google-apps.spreadsheet":["Google Sheet",function(){return n.e(166).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/google-sheet/16.js",7))}],"application/vnd.ms-excel":["Excel spreadsheet",function(){return n.e(161).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/excel-spreadsheet/16.js",7))}],"application/vnd.oasis.opendocument.presentation":["Presentation",function(){return n.e(10).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/presentation/16.js",7))}],"application/vnd.apple.keynote":["Presentation",function(){return n.e(10).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/presentation/16.js",7))}],"application/vnd.google-apps.presentation":["Google Slide",function(){return n.e(167).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/google-slide/16.js",7))}],"application/vnd.mspowerpoint":["PowerPoint presentation",function(){return n.e(169).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/powerpoint-presentation/16.js",7))}],"application/vnd.google-apps.form":["Google Form",function(){return n.e(165).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/google-form/16.js",7))}],"image/png":["Image",function(){return n.e(5).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/image/16.js",7))}],"image/jpeg":["Image",function(){return n.e(5).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/image/16.js",7))}],"image/bmp":["Image",function(){return n.e(5).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/image/16.js",7))}],"image/webp":["Image",function(){return n.e(5).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/image/16.js",7))}],"image/svg+xml":["Image",function(){return n.e(5).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/image/16.js",7))}],"image/gif":["GIF",function(){return n.e(163).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/gif/16.js",7))}],"audio/midi":["Audio",function(){return n.e(4).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/audio/16.js",7))}],"audio/mpeg":["Audio",function(){return n.e(4).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/audio/16.js",7))}],"audio/webm":["Audio",function(){return n.e(4).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/audio/16.js",7))}],"audio/ogg":["Audio",function(){return n.e(4).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/audio/16.js",7))}],"audio/wav":["Audio",function(){return n.e(4).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/audio/16.js",7))}],"video/mp4":["Video",function(){return n.e(2).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/video/16.js",7))}],"video/quicktime":["Video",function(){return n.e(2).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/video/16.js",7))}],"video/mov":["Video",function(){return n.e(2).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/video/16.js",7))}],"video/webm":["Video",function(){return n.e(2).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/video/16.js",7))}],"video/ogg":["Video",function(){return n.e(2).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/video/16.js",7))}],"video/x-ms-wmv":["Video",function(){return n.e(2).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/video/16.js",7))}],"video/x-msvideo":["Video",function(){return n.e(2).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/video/16.js",7))}],"application/zip":["Archive",function(){return n.e(3).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/archive/16.js",7))}],"application/x-tar":["Archive",function(){return n.e(3).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/archive/16.js",7))}],"application/x-gtar":["Archive",function(){return n.e(3).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/archive/16.js",7))}],"application/x-7z-compressed":["Archive",function(){return n.e(3).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/archive/16.js",7))}],"application/x-apple-diskimage":["Archive",function(){return n.e(3).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/archive/16.js",7))}],"application/dmg":["Executable",function(){return n.e(162).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/executable/16.js",7))}],"text/css":["Source Code",function(){return n.e(7).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/source-code/16.js",7))}],"text/html":["Source Code",function(){return n.e(7).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/source-code/16.js",7))}],"application/javascript":["Source Code",function(){return n.e(7).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/source-code/16.js",7))}],"application/octet-stream":["Binary file",function(){return n.e(9).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/generic/16.js",7))}],"application/invision.prototype":["Prototype",function(){return n.e(9).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/generic/16.js",7))}],"application/sketch":["Sketch",function(){return n.e(170).then(n.t.bind(null,"./node_modules/@atlaskit/icon-file-type/glyph/sketch/16.js",7))}]}},"./node_modules/@atlaskit/smart-card/dist/esm/utils/jsonld.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return i}));var r=function(){return{"@context":{"@vocab":"https://www.w3.org/ns/activitystreams#",atlassian:"https://schema.atlassian.com/ns/vocabulary#",schema:"http://schema.org/"},"@type":"Object"}},i=function(){return{meta:{visibility:"restricted",access:"unauthorized",auth:[],definitionId:"provider-not-found"},data:{"@context":{"@vocab":"https://www.w3.org/ns/activitystreams#",atlassian:"https://schema.atlassian.com/ns/vocabulary#",schema:"http://schema.org/"},"@type":"Object"}}}},"./node_modules/@atlaskit/smart-card/dist/esm/utils/performance.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return s})),n.d(t,"d",(function(){return c})),n.d(t,"e",(function(){return u})),n.d(t,"c",(function(){return d}));var r="undefined"!=typeof window&&"performance"in window&&["measure","clearMeasures","clearMarks","getEntriesByName","getEntriesByType"].every((function(e){return!!performance[e]})),i=function(e,t){return"".concat(t,":").concat(e)},o=function(e,t){return"time-to-".concat(t,":").concat(e)},a=function(e){r&&performance.getEntriesByType("mark").filter((function(t){return t.name.includes(e)})).forEach((function(e){return performance.clearMarks(e.name)}))},s=function(e){r&&performance.getEntriesByType("measure").filter((function(t){return t.name.includes(e)})).forEach((function(e){return performance.clearMeasures(e.name)}))},l=function(e,t){if(r){var n=i(e,t),o=performance.getEntriesByName(n);return o.length>0?o[0]:void 0}},c=function(e,t){if(r){var n=o(e,t),i=performance.getEntriesByName(n);return i.length>0?i[0]:void 0}},u=function(e,t){if(r){var n=i(e,t);performance.mark(n)}},d=function(e,t){if(r){var n=o(e,t);if(!c(e,t)){var i=l(e,"pending"),a=l(e,t);i&&a&&performance.measure(n,i.name,a.name)}}}},"./node_modules/@atlaskit/smart-card/dist/esm/version.json":function(e,t){e.exports={name:"@atlaskit/smart-card",version:"14.8.2"}},"./node_modules/@atlaskit/smart-card/node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsContext/LegacyAnalyticsContext.js":function(e,t,n){"use strict";var r=n("./node_modules/@atlaskit/smart-card/node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/prop-types/index.js"),s=n.n(a),l=n("./node_modules/@atlaskit/analytics-next-stable-react-context/dist/esm/index.js"),c={getAtlaskitAnalyticsContext:s.a.func,getAtlaskitAnalyticsEventHandlers:s.a.func},u=function(){return[]},d=function(e){function t(t){var n=e.call(this,t)||this;return n.getChildContext=function(){return{getAtlaskitAnalyticsContext:n.getAnalyticsContext}},n.getAnalyticsContext=function(){var e=n.props.data,t=n.context.getAtlaskitAnalyticsContext,i=void 0===t?u:t;return Object(r.d)(i(),[e])},n.getAnalyticsEventHandlers=function(){var e=n.context.getAtlaskitAnalyticsEventHandlers;return(void 0===e?u:e)()},n.contextValue={getAtlaskitAnalyticsContext:n.getAnalyticsContext,getAtlaskitAnalyticsEventHandlers:n.getAnalyticsEventHandlers},n}return Object(r.b)(t,e),t.prototype.render=function(){var e=this.props.children;return o.a.createElement(l.a.Provider,{value:this.contextValue},e)},t.contextTypes=c,t.childContextTypes=c,t}(i.Component);t.a=d},"./node_modules/@atlaskit/smart-card/node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsContext/ModernAnalyticsContext.js":function(e,t,n){"use strict";var r=n("./node_modules/@atlaskit/smart-card/node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/@atlaskit/analytics-next-stable-react-context/dist/esm/index.js"),s=n("./node_modules/@atlaskit/smart-card/node_modules/@atlaskit/analytics-next/dist/esm/hooks/useAnalyticsContext.js");t.a=function(e){var t=e.data,n=e.children,l=function(e){var t=Object(i.useRef)(e);return Object(i.useEffect)((function(){t.current=e}),[e]),t}(t),c=Object(s.a)(),u=Object(i.useCallback)((function(){return Object(r.d)(c.getAtlaskitAnalyticsContext(),[l.current])}),[c,l]),d=Object(i.useMemo)((function(){return{getAtlaskitAnalyticsContext:u,getAtlaskitAnalyticsEventHandlers:c.getAtlaskitAnalyticsEventHandlers}}),[c,u]);return o.a.createElement(a.a.Provider,{value:d},n)}},"./node_modules/@atlaskit/smart-card/node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsContext/index.js":function(e,t,n){"use strict";(function(e){var r,i=n("./node_modules/@atlaskit/smart-card/node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsContext/LegacyAnalyticsContext.js"),o=n("./node_modules/@atlaskit/smart-card/node_modules/@atlaskit/analytics-next/dist/esm/components/AnalyticsContext/ModernAnalyticsContext.js");r=e.env.ANALYTICS_NEXT_MODERN_CONTEXT?o.a:i.a,t.a=r}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/@atlaskit/smart-card/node_modules/@atlaskit/analytics-next/dist/esm/hooks/useAnalyticsContext.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o}));var r=n("./node_modules/react/index.js"),i=n("./node_modules/@atlaskit/analytics-next-stable-react-context/dist/esm/index.js"),o=function(){return Object(r.useContext)(i.a)}},"./node_modules/@atlaskit/smart-card/node_modules/@atlaskit/analytics-next/node_modules/tslib/tslib.es6.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return i})),n.d(t,"a",(function(){return o})),n.d(t,"c",(function(){return a})),n.d(t,"d",(function(){return l}));var r=function(e,t){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&(e[n]=t[n])})(e,t)};function i(e,t){function n(){this.constructor=e}r(e,t),e.prototype=null===t?Object.create(t):(n.prototype=t.prototype,new n)}var o=function(){return(o=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e}).apply(this,arguments)};function a(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;function s(e,t){var n="function"==typeof Symbol&&e[Symbol.iterator];if(!n)return e;var r,i,o=n.call(e),a=[];try{for(;(void 0===t||t-- >0)&&!(r=o.next()).done;)a.push(r.value)}catch(e){i={error:e}}finally{try{r&&!r.done&&(n=o.return)&&n.call(o)}finally{if(i)throw i.error}}return a}function l(){for(var e=[],t=0;t<arguments.length;t++)e=e.concat(s(arguments[t]));return e}Object.create},"./node_modules/@atlaskit/smart-card/node_modules/uuid/index.js":function(e,t,n){var r=n("./node_modules/@atlaskit/smart-card/node_modules/uuid/v1.js"),i=n("./node_modules/@atlaskit/smart-card/node_modules/uuid/v4.js"),o=i;o.v1=r,o.v4=i,e.exports=o},"./node_modules/@atlaskit/smart-card/node_modules/uuid/lib/bytesToUuid.js":function(e,t){for(var n=[],r=0;r<256;++r)n[r]=(r+256).toString(16).substr(1);e.exports=function(e,t){var r=t||0,i=n;return[i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],"-",i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]],i[e[r++]]].join("")}},"./node_modules/@atlaskit/smart-card/node_modules/uuid/lib/rng-browser.js":function(e,t){var n="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof window.msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto);if(n){var r=new Uint8Array(16);e.exports=function(){return n(r),r}}else{var i=new Array(16);e.exports=function(){for(var e,t=0;t<16;t++)0==(3&t)&&(e=4294967296*Math.random()),i[t]=e>>>((3&t)<<3)&255;return i}}},"./node_modules/@atlaskit/smart-card/node_modules/uuid/v1.js":function(e,t,n){var r,i,o=n("./node_modules/@atlaskit/smart-card/node_modules/uuid/lib/rng-browser.js"),a=n("./node_modules/@atlaskit/smart-card/node_modules/uuid/lib/bytesToUuid.js"),s=0,l=0;e.exports=function(e,t,n){var c=t&&n||0,u=t||[],d=(e=e||{}).node||r,p=void 0!==e.clockseq?e.clockseq:i;if(null==d||null==p){var m=o();null==d&&(d=r=[1|m[0],m[1],m[2],m[3],m[4],m[5]]),null==p&&(p=i=16383&(m[6]<<8|m[7]))}var f=void 0!==e.msecs?e.msecs:(new Date).getTime(),h=void 0!==e.nsecs?e.nsecs:l+1,v=f-s+(h-l)/1e4;if(v<0&&void 0===e.clockseq&&(p=p+1&16383),(v<0||f>s)&&void 0===e.nsecs&&(h=0),h>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=f,l=h,i=p;var g=(1e4*(268435455&(f+=122192928e5))+h)%4294967296;u[c++]=g>>>24&255,u[c++]=g>>>16&255,u[c++]=g>>>8&255,u[c++]=255&g;var b=f/4294967296*1e4&268435455;u[c++]=b>>>8&255,u[c++]=255&b,u[c++]=b>>>24&15|16,u[c++]=b>>>16&255,u[c++]=p>>>8|128,u[c++]=255&p;for(var y=0;y<6;++y)u[c+y]=d[y];return t||a(u)}},"./node_modules/@atlaskit/smart-card/node_modules/uuid/v4.js":function(e,t,n){var r=n("./node_modules/@atlaskit/smart-card/node_modules/uuid/lib/rng-browser.js"),i=n("./node_modules/@atlaskit/smart-card/node_modules/uuid/lib/bytesToUuid.js");e.exports=function(e,t,n){var o=t&&n||0;"string"==typeof e&&(t="binary"===e?new Array(16):null,e=null);var a=(e=e||{}).random||(e.rng||r)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,t)for(var s=0;s<16;++s)t[o+s]=a[s];return t||i(a)}},"./node_modules/@atlaskit/theme/dist/esm/elevation.js":function(e,t,n){"use strict";n.r(t),n.d(t,"e100",(function(){return o})),n.d(t,"e200",(function(){return a})),n.d(t,"e300",(function(){return s})),n.d(t,"e400",(function(){return l})),n.d(t,"e500",(function(){return c}));var r=n("./node_modules/@atlaskit/theme/dist/esm/colors.js"),i=n("./node_modules/@atlaskit/theme/dist/esm/utils/themed.js"),o=Object(i.a)({light:"box-shadow: 0 1px 1px "+r.N50A+", 0 0 1px 1px "+r.N40A+";",dark:"box-shadow: 0 1px 1px "+r.DN50A+", 0 0 1px 1px "+r.DN40A+";"}),a=Object(i.a)({light:"box-shadow: 0 4px 8px -2px "+r.N50A+", 0 0 1px "+r.N60A+";",dark:"box-shadow: 0 4px 8px -2px "+r.DN50A+", 0 0 1px "+r.DN60A+";"}),s=Object(i.a)({light:"box-shadow: 0 8px 16px -4px "+r.N50A+", 0 0 1px "+r.N60A+";",dark:"box-shadow: 0 8px 16px -4px "+r.DN50A+", 0 0 1px "+r.DN60A+";"}),l=Object(i.a)({light:"box-shadow: 0 12px 24px -6px "+r.N50A+", 0 0 1px "+r.N60A+";",dark:"box-shadow: 0 12px 24px -6px "+r.DN50A+", 0 0 1px "+r.DN60A+";"}),c=Object(i.a)({light:"box-shadow: 0 20px 32px -8px "+r.N50A+", 0 0 1px "+r.N60A+";",dark:"box-shadow: 0 20px 32px -8px "+r.DN50A+", 0 0 1px "+r.DN60A+";"})},"./node_modules/@atlaskit/tooltip/dist/esm/version.json":function(e,t){e.exports={name:"@atlaskit/tooltip",version:"16.0.0",sideEffects:!1}},"./node_modules/@babel/runtime/helpers/arrayLikeToArray.js":function(e,t){e.exports=function(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}},"./node_modules/@babel/runtime/helpers/arrayWithHoles.js":function(e,t){e.exports=function(e){if(Array.isArray(e))return e}},"./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");e.exports=function(e){if(Array.isArray(e))return r(e)}},"./node_modules/@babel/runtime/helpers/asyncToGenerator.js":function(e,t){function n(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}e.exports=function(e){return function(){var t=this,r=arguments;return new Promise((function(i,o){var a=e.apply(t,r);function s(e){n(a,i,o,s,l,"next",e)}function l(e){n(a,i,o,s,l,"throw",e)}s(void 0)}))}}},"./node_modules/@babel/runtime/helpers/construct.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/setPrototypeOf.js"),i=n("./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js");function o(t,n,a){return i()?e.exports=o=Reflect.construct:e.exports=o=function(e,t,n){var i=[null];i.push.apply(i,t);var o=new(Function.bind.apply(e,i));return n&&r(o,n.prototype),o},o.apply(null,arguments)}e.exports=o},"./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js":function(e,t,n){"use strict";function r(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}n.d(t,"a",(function(){return r}))},"./node_modules/@babel/runtime/helpers/interopRequireDefault.js":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}}},"./node_modules/@babel/runtime/helpers/isNativeFunction.js":function(e,t){e.exports=function(e){return-1!==Function.toString.call(e).indexOf("[native code]")}},"./node_modules/@babel/runtime/helpers/isNativeReflectConstruct.js":function(e,t){e.exports=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}},"./node_modules/@babel/runtime/helpers/iterableToArray.js":function(e,t){e.exports=function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}},"./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js":function(e,t){e.exports=function(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}}},"./node_modules/@babel/runtime/helpers/nonIterableRest.js":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},"./node_modules/@babel/runtime/helpers/nonIterableSpread.js":function(e,t){e.exports=function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}},"./node_modules/@babel/runtime/helpers/slicedToArray.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/arrayWithHoles.js"),i=n("./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js"),o=n("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),a=n("./node_modules/@babel/runtime/helpers/nonIterableRest.js");e.exports=function(e,t){return r(e)||i(e,t)||o(e,t)||a()}},"./node_modules/@babel/runtime/helpers/toConsumableArray.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/arrayWithoutHoles.js"),i=n("./node_modules/@babel/runtime/helpers/iterableToArray.js"),o=n("./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js"),a=n("./node_modules/@babel/runtime/helpers/nonIterableSpread.js");e.exports=function(e){return r(e)||i(e)||o(e)||a()}},"./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/arrayLikeToArray.js");e.exports=function(e,t){if(e){if("string"==typeof e)return r(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?r(e,t):void 0}}},"./node_modules/@babel/runtime/helpers/wrapNativeSuper.js":function(e,t,n){var r=n("./node_modules/@babel/runtime/helpers/getPrototypeOf.js"),i=n("./node_modules/@babel/runtime/helpers/setPrototypeOf.js"),o=n("./node_modules/@babel/runtime/helpers/isNativeFunction.js"),a=n("./node_modules/@babel/runtime/helpers/construct.js");function s(t){var n="function"==typeof Map?new Map:void 0;return e.exports=s=function(e){if(null===e||!o(e))return e;if("function"!=typeof e)throw new TypeError("Super expression must either be null or a function");if(void 0!==n){if(n.has(e))return n.get(e);n.set(e,t)}function t(){return a(e,arguments,r(this).constructor)}return t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),i(t,e)},s(t)}e.exports=s},"./node_modules/@babel/runtime/regenerator/index.js":function(e,t,n){e.exports=n("./node_modules/regenerator-runtime/runtime.js")},"./node_modules/@researchgate/react-intersection-list/lib/es/index.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return R}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=(n("./node_modules/prop-types/index.js"),n("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js")),a=n("./node_modules/warning/warning.js"),s=n.n(a),l=n("./node_modules/react-dom/index.js");n("./node_modules/invariant/browser.js"),n("./node_modules/@researchgate/react-intersection-list/node_modules/@researchgate/react-intersection-observer/node_modules/warning/browser.js");function c(e){return i.a.isValidElement(e)&&"string"==typeof e.type}var u=/^-?\d*\.?\d+(px|%)$/;function d(e){var t=(e?e.trim():"0px").split(/\s+/).map((function(e){if(!u.test(e))throw new Error("rootMargin must be a string literal containing pixels and/or percent values");return e})),n=t[0],r=void 0===n?"0px":n,i=t[1],o=void 0===i?r:i,a=t[2],s=void 0===a?r:a,l=t[3];return r+" "+o+" "+s+" "+(void 0===l?o:l)}function p(e,t){return Array.isArray(e)&&Array.isArray(t)&&e.length===t.length?e.some((function(n,r){return p(e[r],t[r])})):e!==t}var m=new Map;function f(e,t){var n=m.get(e);if(n)for(var r=n.values(),i=void 0;i=r.next().value;)if(i.target===t.target)return i;return null}function h(e,t){for(var n=0;n<e.length;n++){var r=f(t,e[n]);r&&r.handleChange(e[n])}}function v(e){return function(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.root||null,n=d(e.rootMargin),r=Array.isArray(e.threshold)?e.threshold:[null!=e.threshold?e.threshold:0],i=m.keys(),o=void 0;o=i.next().value;){if(!(t!==o.root||n!==o.rootMargin||p(r,o.thresholds)))return o}return null}(e)||new IntersectionObserver(h,e)}function g(e){m.has(e.observer)||m.set(e.observer,new Set),m.get(e.observer).add(e),e.observer.observe(e.target)}function b(e){if(m.has(e.observer)){var t=m.get(e.observer);t.delete(e)&&(t.size>0?e.observer.unobserve(e.target):(e.observer.disconnect(),m.delete(e.observer)))}}var y="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},k=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}();function w(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function j(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var _=["root","rootMargin","threshold"],x=["disabled"].concat(_),C=Object.prototype,O=function(e){function t(){var n,r;w(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=j(this,e.call.apply(e,[this].concat(o))),r.handleChange=function(e){r.props.onChange(e,r.unobserve),r.props.onlyOnce&&e.isIntersecting&&r.unobserve()},r.handleNode=function(e){var t=r.props.children.ref;t&&("function"==typeof t?t(e):"object"===(void 0===t?"undefined":y(t))&&(t.current=e)),r.targetChanged=null!=(r.renderedTarget&&e)&&r.renderedTarget!==e,r.targetChanged&&r.unobserve(),r.target=e},r.observe=function(){r.target=c(r.target)?r.target:Object(l.findDOMNode)(r.target),r.observer=v(r.options),g(r)},r.unobserve=function(){null!=r.target&&b(r)},j(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.prototype.componentDidMount=function(){this.props.disabled||this.observe()},t.prototype.componentDidUpdate=function(e){var t=this,n=x.some((function(n){return p(t.props[n],e[n])}));n&&this.unobserve(),(this.targetChanged||n)&&(this.props.disabled||this.observe())},t.prototype.componentWillUnmount=function(){this.unobserve()},t.prototype.render=function(){return this.renderedTarget=this.target,i.a.cloneElement(i.a.Children.only(this.props.children),{ref:this.handleNode})},k(t,[{key:"options",get:function(){var e=this;return _.reduce((function(t,n){if(C.hasOwnProperty.call(e.props,n)){var r="root"===n&&"[object String]"===C.toString.call(e.props[n]);t[n]=r?document.querySelector(e.props[n]):e.props[n]}return t}),{})}}]),t}(i.a.Component);O.displayName="IntersectionObserver";var S=O;function E(e){var t=e.threshold,n=e.axis,r=[t],i="0"+(t.match(/^-?\d*\.?\d+(px|%)$/)||[""]).pop();return"y"===n?r.push(i):r.unshift(i),r.join(" ")}function T(e,t){return Math.max(0,Math.min(e,t))}var P=function(e){function t(n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var r=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,e.call(this,n));return r.setRootElement=function(e){r.setState({rootElement:e})},r.state={rootElement:void 0,rootMargin:E(n)},r.target=i.a.createElement("span",{style:{height:1,width:1,display:"block"}}),n.setRef(r.setRootElement),r}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.threshold,r=e.axis,i=null;return n===t.threshold&&r===t.axis||(i={threshold:n,axis:r,rootMargin:E({threshold:n,axis:r})}),i},t.prototype.shouldComponentUpdate=function(e,t){var n=t.rootMargin,r=t.rootElement,i=this.state,o=i.rootMargin,a=i.rootElement;return o!==n||a!==r||(this.element.unobserve(),this.element.observe(),!1)},t.prototype.render=function(){var e=this,t=this.props.onChange,n=this.state,r=n.rootElement,o=n.rootMargin;return i.a.createElement(S,{ref:function(t){e.element=t},disabled:void 0===r,root:r,rootMargin:o,onChange:t},this.target)},t}(r.Component);Object(o.polyfill)(P);var N=P;function I(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function A(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var D={x:"overflowX",y:"overflowY"},B=function(e){function t(){var n,r;I(this,t);for(var i=arguments.length,o=Array(i),a=0;a<i;a++)o[a]=arguments[a];return n=r=A(this,e.call.apply(e,[this].concat(o))),r.state={size:0},r.setRef=function(e){var t=void 0;r.setRootNode=function(n){if(n!==t){t=n;var i=window.getComputedStyle(n)[D[r.props.axis]];e(-1!==["auto","scroll","overlay"].indexOf(i)?n:null)}}},r.handleUpdate=function(e){var t=e.isIntersecting,n=r.props,i=n.awaitMore,o=n.onIntersection,a=r.state,l=a.size,c=a.itemCount,u=a.pageSize;if(r.prematureIntersectionChecked||(r.prematureIntersectionChecked=!0,s()(!t,"ReactIntersectionList: the sentinel detected a viewport with a bigger size than the size of its items. This could lead to detrimental behavior, e.g.: triggering more than one onIntersection callback at the start.\nTo prevent this, use either a bigger `pageSize` value or avoid using the prop awaitMore initially.")),t){var d=T(l+u,c);l!==d&&r.setState({size:d}),!o||i&&!r.awaitIntersection||(r.awaitIntersection&&(r.awaitIntersection=!1),o(d,u))}},A(r,n)}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),t.getDerivedStateFromProps=function(e,t){var n=e.pageSize,r=function(e,t){var n=e.itemCount,r=e.items,i=void 0!==n,o=void 0!==r;return t&&s()(!(i&&o),"ReactIntersectionList: cannot use itemCount and items props at the same time, choose one to determine the number of items to render."),i?n:o&&(r.length||r.size)||0}(function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(e,["pageSize"]),!0);return{pageSize:n,itemCount:r,size:T(0===t.size?n:t.itemCount<r?t.size+n:t.size+-(t.pageSize-n),r)}},t.prototype.componentDidMount=function(){this.prematureIntersectionChecked=0===this.state.size},t.prototype.getItemRenderer=function(){var e=this.props,t=e.children,n=e.renderItem,r=void 0!==t,o=void 0!==n;return s()(!(r&&o),"ReactIntersectionList: cannot use children and renderItem props as render function at the same time."),r?t:o?n:function(e,t){return i.a.createElement("div",{key:t},e)}},t.prototype.renderItems=function(){for(var e=this,t=this.props,n=t.awaitMore,r=t.axis,o=t.initialIndex,a=t.itemsRenderer,s=t.threshold,l=this.state,c=l.size,u=l.itemCount,d=this.getItemRenderer(),p=[],m=0;m<c;++m)p.push(d(o+m,m));var f=void 0;return(c<u||n)&&(f=i.a.createElement(N,{key:"sentinel",threshold:s,axis:r,setRef:this.setRef,onChange:this.handleUpdate}),p.push(f),n&&(this.awaitIntersection=!0)),a(p,(function(t){t&&f&&e.setRootNode(t)}))},t.prototype.render=function(){return this.renderItems()},t}(r.PureComponent);B.defaultProps={axis:"y",initialIndex:0,itemsRenderer:function(e,t){return i.a.createElement("div",{ref:t},e)},pageSize:10,threshold:"100px"},Object(o.polyfill)(B);var R=B},"./node_modules/@researchgate/react-intersection-list/node_modules/@researchgate/react-intersection-observer/node_modules/warning/browser.js":function(e,t,n){"use strict";e.exports=function(){}},"./node_modules/asap/browser-asap.js":function(e,t,n){"use strict";var r=n("./node_modules/asap/browser-raw.js"),i=[],o=[],a=r.makeRequestCallFromTimer((function(){if(o.length)throw o.shift()}));function s(e){var t;(t=i.length?i.pop():new l).task=e,r(t)}function l(){this.task=null}e.exports=s,l.prototype.call=function(){try{this.task.call()}catch(e){s.onerror?s.onerror(e):(o.push(e),a())}finally{this.task=null,i[i.length]=this}}},"./node_modules/asap/browser-raw.js":function(e,t,n){"use strict";(function(t){function n(e){i.length||(r(),!0),i[i.length]=e}e.exports=n;var r,i=[],o=0;function a(){for(;o<i.length;){var e=o;if(o+=1,i[e].call(),o>1024){for(var t=0,n=i.length-o;t<n;t++)i[t]=i[t+o];i.length-=o,o=0}}i.length=0,o=0,!1}var s,l,c,u=void 0!==t?t:self,d=u.MutationObserver||u.WebKitMutationObserver;function p(e){return function(){var t=setTimeout(r,0),n=setInterval(r,50);function r(){clearTimeout(t),clearInterval(n),e()}}}"function"==typeof d?(s=1,l=new d(a),c=document.createTextNode(""),l.observe(c,{characterData:!0}),r=function(){s=-s,c.data=s}):r=p(a),n.requestFlush=r,n.makeRequestCallFromTimer=p}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/async-retry/lib/index.js":function(e,t,n){var r=n("./node_modules/retry/index.js");e.exports=function(e,t){return new Promise((function(n,i){var o=t||{};"randomize"in o||(o.randomize=!0);var a=r.operation(o);function s(e){i(e||new Error("Aborted"))}function l(e,t){e.bail?s(e):a.retry(e)?o.onRetry&&o.onRetry(e,t):i(a.mainError())}a.attempt((function(t){var r;try{r=e(s,t)}catch(e){return void l(e,t)}Promise.resolve(r).then(n).catch((function(e){l(e,t)}))}))}))}},"./node_modules/babel-runtime/core-js/object/keys.js":function(e,t,n){e.exports={default:n("./node_modules/babel-runtime/node_modules/core-js/library/fn/object/keys.js"),__esModule:!0}},"./node_modules/babel-runtime/helpers/classCallCheck.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},"./node_modules/babel-runtime/node_modules/core-js/library/fn/object/keys.js":function(e,t,n){n("./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.keys.js"),e.exports=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js").Object.keys},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_a-function.js":function(e,t){e.exports=function(e){if("function"!=typeof e)throw TypeError(e+" is not a function!");return e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_an-object.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_is-object.js");e.exports=function(e){if(!r(e))throw TypeError(e+" is not an object!");return e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_array-includes.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-length.js"),o=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-absolute-index.js");e.exports=function(e){return function(t,n,a){var s,l=r(t),c=i(l.length),u=o(a,c);if(e&&n!=n){for(;c>u;)if((s=l[u++])!=s)return!0}else for(;c>u;u++)if((e||u in l)&&l[u]===n)return e||u||0;return!e&&-1}}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_cof.js":function(e,t){var n={}.toString;e.exports=function(e){return n.call(e).slice(8,-1)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js":function(e,t){var n=e.exports={version:"2.6.11"};"number"==typeof __e&&(__e=n)},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_ctx.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_a-function.js");e.exports=function(e,t,n){if(r(e),void 0===t)return e;switch(n){case 1:return function(n){return e.call(t,n)};case 2:return function(n,r){return e.call(t,n,r)};case 3:return function(n,r,i){return e.call(t,n,r,i)}}return function(){return e.apply(t,arguments)}}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_defined.js":function(e,t){e.exports=function(e){if(null==e)throw TypeError("Can't call method on  "+e);return e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js":function(e,t,n){e.exports=!n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_fails.js")((function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}))},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_dom-create.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_is-object.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js").document,o=r(i)&&r(i.createElement);e.exports=function(e){return o?i.createElement(e):{}}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-bug-keys.js":function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js"),o=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_ctx.js"),a=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_hide.js"),s=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_has.js"),l=function(e,t,n){var c,u,d,p=e&l.F,m=e&l.G,f=e&l.S,h=e&l.P,v=e&l.B,g=e&l.W,b=m?i:i[t]||(i[t]={}),y=b.prototype,k=m?r:f?r[t]:(r[t]||{}).prototype;for(c in m&&(n=t),n)(u=!p&&k&&void 0!==k[c])&&s(b,c)||(d=u?k[c]:n[c],b[c]=m&&"function"!=typeof k[c]?n[c]:v&&u?o(d,r):g&&k[c]==d?function(e){var t=function(t,n,r){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,n)}return new e(t,n,r)}return e.apply(this,arguments)};return t.prototype=e.prototype,t}(d):h&&"function"==typeof d?o(Function.call,d):d,h&&((b.virtual||(b.virtual={}))[c]=d,e&l.R&&y&&!y[c]&&a(y,c,d)))};l.F=1,l.G=2,l.S=4,l.P=8,l.B=16,l.W=32,l.U=64,l.R=128,e.exports=l},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_fails.js":function(e,t){e.exports=function(e){try{return!!e()}catch(e){return!0}}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js":function(e,t){var n=e.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_has.js":function(e,t){var n={}.hasOwnProperty;e.exports=function(e,t){return n.call(e,t)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_hide.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dp.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_property-desc.js");e.exports=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js")?function(e,t,n){return r.f(e,t,i(1,n))}:function(e,t,n){return e[t]=n,e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_ie8-dom-define.js":function(e,t,n){e.exports=!n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js")&&!n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_fails.js")((function(){return 7!=Object.defineProperty(n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_dom-create.js")("div"),"a",{get:function(){return 7}}).a}))},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_iobject.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_cof.js");e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return"String"==r(e)?e.split(""):Object(e)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_is-object.js":function(e,t){e.exports=function(e){return"object"==typeof e?null!==e:"function"==typeof e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_library.js":function(e,t){e.exports=!0},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-dp.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_an-object.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_ie8-dom-define.js"),o=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-primitive.js"),a=Object.defineProperty;t.f=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_descriptors.js")?Object.defineProperty:function(e,t,n){if(r(e),t=o(t,!0),r(n),i)try{return a(e,t,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(e[t]=n.value),e}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys-internal.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_has.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js"),o=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_array-includes.js")(!1),a=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared-key.js")("IE_PROTO");e.exports=function(e,t){var n,s=i(e),l=0,c=[];for(n in s)n!=a&&r(s,n)&&c.push(n);for(;t.length>l;)r(s,n=t[l++])&&(~o(c,n)||c.push(n));return c}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys-internal.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_enum-bug-keys.js");e.exports=Object.keys||function(e){return r(e,i)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-sap.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_export.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js"),o=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_fails.js");e.exports=function(e,t){var n=(i.Object||{})[e]||Object[e],a={};a[e]=t(n),r(r.S+r.F*o((function(){n(1)})),"Object",a)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_property-desc.js":function(e,t){e.exports=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared-key.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared.js")("keys"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_uid.js");e.exports=function(e){return r[e]||(r[e]=i(e))}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_shared.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_core.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_global.js"),o="__core-js_shared__",a=i[o]||(i[o]={});(e.exports=function(e,t){return a[e]||(a[e]=void 0!==t?t:{})})("versions",[]).push({version:r.version,mode:n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_library.js")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-absolute-index.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js"),i=Math.max,o=Math.min;e.exports=function(e,t){return(e=r(e))<0?i(e+t,0):o(e,t)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js":function(e,t){var n=Math.ceil,r=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?r:n)(e)}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-iobject.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_iobject.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return r(i(e))}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-length.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-integer.js"),i=Math.min;e.exports=function(e){return e>0?i(r(e),9007199254740991):0}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-object.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_defined.js");e.exports=function(e){return Object(r(e))}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-primitive.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_is-object.js");e.exports=function(e,t){if(!r(e))return e;var n,i;if(t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;if("function"==typeof(n=e.valueOf)&&!r(i=n.call(e)))return i;if(!t&&"function"==typeof(n=e.toString)&&!r(i=n.call(e)))return i;throw TypeError("Can't convert object to primitive value")}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/_uid.js":function(e,t){var n=0,r=Math.random();e.exports=function(e){return"Symbol(".concat(void 0===e?"":e,")_",(++n+r).toString(36))}},"./node_modules/babel-runtime/node_modules/core-js/library/modules/es6.object.keys.js":function(e,t,n){var r=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_to-object.js"),i=n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-keys.js");n("./node_modules/babel-runtime/node_modules/core-js/library/modules/_object-sap.js")("keys",(function(){return function(e){return i(r(e))}}))},"./node_modules/bottleneck/lib/Batcher.js":function(e,t,n){"use strict";var r,i,o;o=n("./node_modules/bottleneck/lib/parser.js"),i=n("./node_modules/bottleneck/lib/Events.js"),r=function(){class e{constructor(e={}){this.options=e,o.load(this.options,this.defaults,this),this.Events=new i(this),this._arr=[],this._resetPromise(),this._lastFlush=Date.now()}_resetPromise(){return this._promise=new this.Promise(((e,t)=>this._resolve=e))}_flush(){return clearTimeout(this._timeout),this._lastFlush=Date.now(),this._resolve(),this.Events.trigger("batch",this._arr),this._arr=[],this._resetPromise()}add(e){var t;return this._arr.push(e),t=this._promise,this._arr.length===this.maxSize?this._flush():null!=this.maxTime&&1===this._arr.length&&(this._timeout=setTimeout((()=>this._flush()),this.maxTime)),t}}return e.prototype.defaults={maxTime:null,maxSize:null,Promise:Promise},e}.call(void 0),e.exports=r},"./node_modules/bottleneck/lib/Bottleneck.js":function(e,t,n){"use strict";function r(e,t){return a(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||o()}function i(e){return a(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||o()}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function a(e){if(Array.isArray(e))return e}function s(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function l(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){s(o,r,i,a,l,"next",e)}function l(e){s(o,r,i,a,l,"throw",e)}a(void 0)}))}}var c,u,d,p,m,f,h,v,g,b=[].splice;g=n("./node_modules/bottleneck/lib/parser.js"),m=n("./node_modules/bottleneck/lib/Queues.js"),d=n("./node_modules/bottleneck/lib/Job.js"),p=n("./node_modules/bottleneck/lib/LocalDatastore.js"),f=n("./node_modules/bottleneck/lib/RedisDatastore.js"),u=n("./node_modules/bottleneck/lib/Events.js"),h=n("./node_modules/bottleneck/lib/States.js"),v=n("./node_modules/bottleneck/lib/Sync.js"),c=function(){class e{constructor(t={},...n){var r,i;this._addToQueue=this._addToQueue.bind(this),this._validateOptions(t,n),g.load(t,this.instanceDefaults,this),this._queues=new m(10),this._scheduled={},this._states=new h(["RECEIVED","QUEUED","RUNNING","EXECUTING"].concat(this.trackDoneStatus?["DONE"]:[])),this._limiter=null,this.Events=new u(this),this._submitLock=new v("submit",this.Promise),this._registerLock=new v("register",this.Promise),i=g.load(t,this.storeDefaults,{}),this._store=function(){if("redis"===this.datastore||"ioredis"===this.datastore||null!=this.connection)return r=g.load(t,this.redisStoreDefaults,{}),new f(this,i,r);if("local"===this.datastore)return r=g.load(t,this.localStoreDefaults,{}),new p(this,i,r);throw new e.prototype.BottleneckError("Invalid datastore type: "+this.datastore)}.call(this),this._queues.on("leftzero",(()=>{var e;return null!=(e=this._store.heartbeat)&&"function"==typeof e.ref?e.ref():void 0})),this._queues.on("zero",(()=>{var e;return null!=(e=this._store.heartbeat)&&"function"==typeof e.unref?e.unref():void 0}))}_validateOptions(t,n){if(null==t||"object"!=typeof t||0!==n.length)throw new e.prototype.BottleneckError("Bottleneck v2 takes a single object argument. Refer to https://github.com/SGrondin/bottleneck#upgrading-to-v2 if you're upgrading from Bottleneck v1.")}ready(){return this._store.ready}clients(){return this._store.clients}channel(){return"b_"+this.id}channel_client(){return`b_${this.id}_${this._store.clientId}`}publish(e){return this._store.__publish__(e)}disconnect(e=!0){return this._store.__disconnect__(e)}chain(e){return this._limiter=e,this}queued(e){return this._queues.queued(e)}clusterQueued(){return this._store.__queued__()}empty(){return 0===this.queued()&&this._submitLock.isEmpty()}running(){return this._store.__running__()}done(){return this._store.__done__()}jobStatus(e){return this._states.jobStatus(e)}jobs(e){return this._states.statusJobs(e)}counts(){return this._states.statusCounts()}_randomIndex(){return Math.random().toString(36).slice(2)}check(e=1){return this._store.__check__(e)}_clearGlobalState(e){return null!=this._scheduled[e]&&(clearTimeout(this._scheduled[e].expiration),delete this._scheduled[e],!0)}_free(e,t,n,r){var i=this;return l((function*(){var t,o;try{if(o=(yield i._store.__free__(e,n.weight)).running,i.Events.trigger("debug","Freed "+n.id,r),0===o&&i.empty())return i.Events.trigger("idle")}catch(e){return t=e,i.Events.trigger("error",t)}}))()}_run(e,t,n){var r,i,o;return t.doRun(),r=this._clearGlobalState.bind(this,e),o=this._run.bind(this,e,t),i=this._free.bind(this,e,t),this._scheduled[e]={timeout:setTimeout((()=>t.doExecute(this._limiter,r,o,i)),n),expiration:null!=t.options.expiration?setTimeout((function(){return t.doExpire(r,o,i)}),n+t.options.expiration):void 0,job:t}}_drainOne(e){return this._registerLock.schedule((()=>{var t,n,r,i,o;if(0===this.queued())return this.Promise.resolve(null);o=this._queues.getFirst();var a=r=o.first();return i=a.options,t=a.args,null!=e&&i.weight>e?this.Promise.resolve(null):(this.Events.trigger("debug","Draining "+i.id,{args:t,options:i}),n=this._randomIndex(),this._store.__register__(n,i.weight,i.expiration).then((({success:e,wait:a,reservoir:s})=>{var l;return this.Events.trigger("debug","Drained "+i.id,{success:e,args:t,options:i}),e?(o.shift(),(l=this.empty())&&this.Events.trigger("empty"),0===s&&this.Events.trigger("depleted",l),this._run(n,r,a),this.Promise.resolve(i.weight)):this.Promise.resolve(null)})))}))}_drainAll(e,t=0){return this._drainOne(e).then((n=>{var r;return null!=n?(r=null!=e?e-n:e,this._drainAll(r,t+n)):this.Promise.resolve(t)})).catch((e=>this.Events.trigger("error",e)))}_dropAllQueued(e){return this._queues.shiftAll((function(t){return t.doDrop({message:e})}))}stop(t={}){var n,r;return t=g.load(t,this.stopDefaults),r=e=>{var t;return t=()=>{var t;return(t=this._states.counts)[0]+t[1]+t[2]+t[3]===e},new this.Promise(((e,n)=>t()?e():this.on("done",(()=>{if(t())return this.removeAllListeners("done"),e()}))))},n=t.dropWaitingJobs?(this._run=function(e,n){return n.doDrop({message:t.dropErrorMessage})},this._drainOne=()=>this.Promise.resolve(null),this._registerLock.schedule((()=>this._submitLock.schedule((()=>{var e,n,i;for(e in n=this._scheduled)i=n[e],"RUNNING"===this.jobStatus(i.job.options.id)&&(clearTimeout(i.timeout),clearTimeout(i.expiration),i.job.doDrop({message:t.dropErrorMessage}));return this._dropAllQueued(t.dropErrorMessage),r(0)}))))):this.schedule({priority:9,weight:0},(()=>r(1))),this._receive=function(n){return n._reject(new e.prototype.BottleneckError(t.enqueueErrorMessage))},this.stop=()=>this.Promise.reject(new e.prototype.BottleneckError("stop() has already been called")),n}_addToQueue(t){var n=this;return l((function*(){var r,i,o,a,s,l,c;r=t.args,a=t.options;try{var u=yield n._store.__submit__(n.queued(),a.weight);s=u.reachedHWM,i=u.blocked,c=u.strategy}catch(e){return o=e,n.Events.trigger("debug","Could not queue "+a.id,{args:r,options:a,error:o}),t.doDrop({error:o}),!1}return i?(t.doDrop(),!0):s&&(null!=(l=c===e.prototype.strategy.LEAK?n._queues.shiftLastFrom(a.priority):c===e.prototype.strategy.OVERFLOW_PRIORITY?n._queues.shiftLastFrom(a.priority+1):c===e.prototype.strategy.OVERFLOW?t:void 0)&&l.doDrop(),null==l||c===e.prototype.strategy.OVERFLOW)?(null==l&&t.doDrop(),s):(t.doQueue(s,i),n._queues.push(t),yield n._drainAll(),s)}))()}_receive(t){return null!=this._states.jobStatus(t.options.id)?(t._reject(new e.prototype.BottleneckError(`A job with the same id already exists (id=${t.options.id})`)),!1):(t.doReceive(),this._submitLock.schedule(this._addToQueue,t))}submit(...e){var t,n,o,a,s,l,c,u;"function"==typeof e[0]?(s=i(e),n=s[0],e=s.slice(1),l=r(b.call(e,-1),1),t=l[0],a=g.load({},this.jobDefaults)):(a=(c=i(e))[0],n=c[1],e=c.slice(2),u=r(b.call(e,-1),1),t=u[0],a=g.load(a,this.jobDefaults));return(o=new d(((...e)=>new this.Promise((function(t,r){return n(...e,(function(...e){return(null!=e[0]?r:t)(e)}))}))),e,a,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise)).promise.then((function(e){return"function"==typeof t?t(...e):void 0})).catch((function(e){return Array.isArray(e)?"function"==typeof t?t(...e):void 0:"function"==typeof t?t(e):void 0})),this._receive(o)}schedule(...e){var t,n,r;if("function"==typeof e[0]){var o=i(e);r=o[0],e=o.slice(1),n={}}else{var a=i(e);n=a[0],r=a[1],e=a.slice(2)}return t=new d(r,e,n,this.jobDefaults,this.rejectOnDrop,this.Events,this._states,this.Promise),this._receive(t),t.promise}wrap(e){var t,n;return t=this.schedule.bind(this),(n=function(...n){return t(e.bind(this),...n)}).withOptions=function(n,...r){return t(n,e,...r)},n}updateSettings(e={}){var t=this;return l((function*(){return yield t._store.__updateSettings__(g.overwrite(e,t.storeDefaults)),g.overwrite(e,t.instanceDefaults,t),t}))()}currentReservoir(){return this._store.__currentReservoir__()}incrementReservoir(e=0){return this._store.__incrementReservoir__(e)}}return e.default=e,e.Events=u,e.version=e.prototype.version=n("./node_modules/bottleneck/lib/version.json").version,e.strategy=e.prototype.strategy={LEAK:1,OVERFLOW:2,OVERFLOW_PRIORITY:4,BLOCK:3},e.BottleneckError=e.prototype.BottleneckError=n("./node_modules/bottleneck/lib/BottleneckError.js"),e.Group=e.prototype.Group=n("./node_modules/bottleneck/lib/Group.js"),e.RedisConnection=e.prototype.RedisConnection=n("./node_modules/bottleneck/lib/RedisConnection.js"),e.IORedisConnection=e.prototype.IORedisConnection=n("./node_modules/bottleneck/lib/IORedisConnection.js"),e.Batcher=e.prototype.Batcher=n("./node_modules/bottleneck/lib/Batcher.js"),e.prototype.jobDefaults={priority:5,weight:1,expiration:null,id:"<no-id>"},e.prototype.storeDefaults={maxConcurrent:null,minTime:0,highWater:null,strategy:e.prototype.strategy.LEAK,penalty:null,reservoir:null,reservoirRefreshInterval:null,reservoirRefreshAmount:null,reservoirIncreaseInterval:null,reservoirIncreaseAmount:null,reservoirIncreaseMaximum:null},e.prototype.localStoreDefaults={Promise:Promise,timeout:null,heartbeatInterval:250},e.prototype.redisStoreDefaults={Promise:Promise,timeout:null,heartbeatInterval:5e3,clientTimeout:1e4,Redis:null,clientOptions:{},clusterNodes:null,clearDatastore:!1,connection:null},e.prototype.instanceDefaults={datastore:"local",connection:null,id:"<no-id>",rejectOnDrop:!0,trackDoneStatus:!1,Promise:Promise},e.prototype.stopDefaults={enqueueErrorMessage:"This limiter has been stopped and cannot accept new jobs.",dropWaitingJobs:!0,dropErrorMessage:"This limiter has been stopped."},e}.call(void 0),e.exports=c},"./node_modules/bottleneck/lib/BottleneckError.js":function(e,t,n){"use strict";var r;r=class extends Error{},e.exports=r},"./node_modules/bottleneck/lib/DLList.js":function(e,t,n){"use strict";var r;r=class{constructor(e,t){this.incr=e,this.decr=t,this._first=null,this._last=null,this.length=0}push(e){var t;this.length++,"function"==typeof this.incr&&this.incr(),t={value:e,prev:this._last,next:null},null!=this._last?(this._last.next=t,this._last=t):this._first=this._last=t}shift(){var e;if(null!=this._first)return this.length--,"function"==typeof this.decr&&this.decr(),e=this._first.value,null!=(this._first=this._first.next)?this._first.prev=null:this._last=null,e}first(){if(null!=this._first)return this._first.value}getArray(){var e,t,n;for(e=this._first,n=[];null!=e;)n.push((t=e,e=e.next,t.value));return n}forEachShift(e){var t;for(t=this.shift();null!=t;)e(t),t=this.shift()}debug(){var e,t,n,r,i;for(e=this._first,i=[];null!=e;)i.push((t=e,e=e.next,{value:t.value,prev:null!=(n=t.prev)?n.value:void 0,next:null!=(r=t.next)?r.value:void 0}));return i}},e.exports=r},"./node_modules/bottleneck/lib/Events.js":function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}}var o;o=class{constructor(e){if(this.instance=e,this._events={},null!=this.instance.on||null!=this.instance.once||null!=this.instance.removeAllListeners)throw new Error("An Emitter already exists for this object");this.instance.on=(e,t)=>this._addListener(e,"many",t),this.instance.once=(e,t)=>this._addListener(e,"once",t),this.instance.removeAllListeners=(e=null)=>null!=e?delete this._events[e]:this._events={}}_addListener(e,t,n){var r;return null==(r=this._events)[e]&&(r[e]=[]),this._events[e].push({cb:n,status:t}),this.instance}listenerCount(e){return null!=this._events[e]?this._events[e].length:0}trigger(e,...t){var n=this;return i((function*(){var r,o;try{if("debug"!==e&&n.trigger("debug","Event triggered: "+e,t),null==n._events[e])return;return n._events[e]=n._events[e].filter((function(e){return"none"!==e.status})),o=n._events[e].map(function(){var e=i((function*(e){var r,i;if("none"!==e.status){"once"===e.status&&(e.status="none");try{return"function"==typeof(null!=(i="function"==typeof e.cb?e.cb(...t):void 0)?i.then:void 0)?yield i:i}catch(e){return r=e,n.trigger("error",r),null}}}));return function(t){return e.apply(this,arguments)}}()),(yield Promise.all(o)).find((function(e){return null!=e}))}catch(e){return r=e,n.trigger("error",r),null}}))()}},e.exports=o},"./node_modules/bottleneck/lib/Group.js":function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,"next",e)}function l(e){i(a,r,o,s,l,"throw",e)}s(void 0)}))}}var a,s,l,c,u,d;d=n("./node_modules/bottleneck/lib/parser.js"),a=n("./node_modules/bottleneck/lib/Events.js"),c=n("./node_modules/bottleneck/lib/RedisConnection.js"),l=n("./node_modules/bottleneck/lib/IORedisConnection.js"),u=n("./node_modules/bottleneck/lib/Scripts.js"),s=function(){class e{constructor(e={}){this.deleteKey=this.deleteKey.bind(this),this.limiterOptions=e,d.load(this.limiterOptions,this.defaults,this),this.Events=new a(this),this.instances={},this.Bottleneck=n("./node_modules/bottleneck/lib/Bottleneck.js"),this._startAutoCleanup(),this.sharedConnection=null!=this.connection,null==this.connection&&("redis"===this.limiterOptions.datastore?this.connection=new c(Object.assign({},this.limiterOptions,{Events:this.Events})):"ioredis"===this.limiterOptions.datastore&&(this.connection=new l(Object.assign({},this.limiterOptions,{Events:this.Events}))))}key(e=""){var t;return null!=(t=this.instances[e])?t:(()=>{var t;return t=this.instances[e]=new this.Bottleneck(Object.assign(this.limiterOptions,{id:`${this.id}-${e}`,timeout:this.timeout,connection:this.connection})),this.Events.trigger("created",t,e),t})()}deleteKey(e=""){var t=this;return o((function*(){var n,r;return r=t.instances[e],t.connection&&(n=yield t.connection.__runCommand__(["del",...u.allKeys(`${t.id}-${e}`)])),null!=r&&(delete t.instances[e],yield r.disconnect()),null!=r||n>0}))()}limiters(){var e,t,n,r;for(e in n=[],t=this.instances)r=t[e],n.push({key:e,limiter:r});return n}keys(){return Object.keys(this.instances)}clusterKeys(){var e=this;return o((function*(){var t,n,i,o,a,s,l,c;if(null==e.connection)return e.Promise.resolve(e.keys());for(s=[],t=null,c=`b_${e.id}-`.length,n="_settings".length;0!==t;){var u=r(yield e.connection.__runCommand__(["scan",null!=t?t:0,"match",`b_${e.id}-*_settings`,"count",1e4]),2);for(t=~~u[0],o=0,l=(i=u[1]).length;o<l;o++)a=i[o],s.push(a.slice(c,-n))}return s}))()}_startAutoCleanup(){var e,t=this;return clearInterval(this.interval),"function"==typeof(e=this.interval=setInterval(o((function*(){var e,n,r,i,o,a;for(n in o=Date.now(),i=[],r=t.instances){a=r[n];try{(yield a._store.__groupCheck__(o))?i.push(t.deleteKey(n)):i.push(void 0)}catch(t){e=t,i.push(a.Events.trigger("error",e))}}return i})),this.timeout/2)).unref?e.unref():void 0}updateSettings(e={}){if(d.overwrite(e,this.defaults,this),d.overwrite(e,e,this.limiterOptions),null!=e.timeout)return this._startAutoCleanup()}disconnect(e=!0){var t;if(!this.sharedConnection)return null!=(t=this.connection)?t.disconnect(e):void 0}}return e.prototype.defaults={timeout:3e5,connection:null,Promise:Promise,id:"group-key"},e}.call(void 0),e.exports=s},"./node_modules/bottleneck/lib/IORedisConnection.js":function(module,exports,__webpack_require__){"use strict";function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function _iterableToArrayLimit(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}function _arrayWithHoles(e){if(Array.isArray(e))return e}function asyncGeneratorStep(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){asyncGeneratorStep(o,r,i,a,s,"next",e)}function s(e){asyncGeneratorStep(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Events,IORedisConnection,Scripts,parser;parser=__webpack_require__("./node_modules/bottleneck/lib/parser.js"),Events=__webpack_require__("./node_modules/bottleneck/lib/Events.js"),Scripts=__webpack_require__("./node_modules/bottleneck/lib/Scripts.js"),IORedisConnection=function(){class IORedisConnection{constructor(options={}){parser.load(options,this.defaults,this),null==this.Redis&&(this.Redis=eval("require")("ioredis")),null==this.Events&&(this.Events=new Events(this)),this.terminated=!1,null!=this.clusterNodes?(this.client=new this.Redis.Cluster(this.clusterNodes,this.clientOptions),this.subscriber=new this.Redis.Cluster(this.clusterNodes,this.clientOptions)):null!=this.client&&null==this.client.duplicate?this.subscriber=new this.Redis.Cluster(this.client.startupNodes,this.client.options):(null==this.client&&(this.client=new this.Redis(this.clientOptions)),this.subscriber=this.client.duplicate()),this.limiters={},this.ready=this.Promise.all([this._setup(this.client,!1),this._setup(this.subscriber,!0)]).then((()=>(this._loadScripts(),{client:this.client,subscriber:this.subscriber})))}_setup(e,t){return e.setMaxListeners(0),new this.Promise(((n,r)=>(e.on("error",(e=>this.Events.trigger("error",e))),t&&e.on("message",((e,t)=>{var n;return null!=(n=this.limiters[e])?n._store.onMessage(e,t):void 0})),"ready"===e.status?n():e.once("ready",n))))}_loadScripts(){return Scripts.names.forEach((e=>this.client.defineCommand(e,{lua:Scripts.payload(e)})))}__runCommand__(e){var t=this;return _asyncToGenerator((function*(){yield t.ready;var n=_slicedToArray(yield t.client.pipeline([e]).exec(),1),r=_slicedToArray(n[0],2);return r[0],r[1]}))()}__addLimiter__(e){return this.Promise.all([e.channel(),e.channel_client()].map((t=>new this.Promise(((n,r)=>this.subscriber.subscribe(t,(()=>(this.limiters[t]=e,n()))))))))}__removeLimiter__(e){var t=this;return[e.channel(),e.channel_client()].forEach(function(){var e=_asyncToGenerator((function*(e){return t.terminated||(yield t.subscriber.unsubscribe(e)),delete t.limiters[e]}));return function(t){return e.apply(this,arguments)}}())}__scriptArgs__(e,t,n,r){var i;return[(i=Scripts.keys(e,t)).length].concat(i,n,r)}__scriptFn__(e){return this.client[e].bind(this.client)}disconnect(e=!0){var t,n,r,i;for(t=0,r=(i=Object.keys(this.limiters)).length;t<r;t++)n=i[t],clearInterval(this.limiters[n]._store.heartbeat);return this.limiters={},this.terminated=!0,e?this.Promise.all([this.client.quit(),this.subscriber.quit()]):(this.client.disconnect(),this.subscriber.disconnect(),this.Promise.resolve())}}return IORedisConnection.prototype.datastore="ioredis",IORedisConnection.prototype.defaults={Redis:null,clientOptions:{},clusterNodes:null,client:null,Promise:Promise,Events:null},IORedisConnection}.call(void 0),module.exports=IORedisConnection},"./node_modules/bottleneck/lib/Job.js":function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}}var o,a,s;s=n("./node_modules/bottleneck/lib/parser.js"),o=n("./node_modules/bottleneck/lib/BottleneckError.js"),a=class{constructor(e,t,n,r,i,o,a,l){this.task=e,this.args=t,this.rejectOnDrop=i,this.Events=o,this._states=a,this.Promise=l,this.options=s.load(n,r),this.options.priority=this._sanitizePriority(this.options.priority),this.options.id===r.id&&(this.options.id=`${this.options.id}-${this._randomIndex()}`),this.promise=new this.Promise(((e,t)=>{this._resolve=e,this._reject=t})),this.retryCount=0}_sanitizePriority(e){var t;return(t=~~e!==e?5:e)<0?0:t>9?9:t}_randomIndex(){return Math.random().toString(36).slice(2)}doDrop({error:e,message:t="This job has been dropped by Bottleneck"}={}){return!!this._states.remove(this.options.id)&&(this.rejectOnDrop&&this._reject(null!=e?e:new o(t)),this.Events.trigger("dropped",{args:this.args,options:this.options,task:this.task,promise:this.promise}),!0)}_assertStatus(e){var t;if((t=this._states.jobStatus(this.options.id))!==e&&("DONE"!==e||null!==t))throw new o(`Invalid job status ${t}, expected ${e}. Please open an issue at https://github.com/SGrondin/bottleneck/issues`)}doReceive(){return this._states.start(this.options.id),this.Events.trigger("received",{args:this.args,options:this.options})}doQueue(e,t){return this._assertStatus("RECEIVED"),this._states.next(this.options.id),this.Events.trigger("queued",{args:this.args,options:this.options,reachedHWM:e,blocked:t})}doRun(){return 0===this.retryCount?(this._assertStatus("QUEUED"),this._states.next(this.options.id)):this._assertStatus("EXECUTING"),this.Events.trigger("scheduled",{args:this.args,options:this.options})}doExecute(e,t,n,r){var o=this;return i((function*(){var i,a,s;0===o.retryCount?(o._assertStatus("RUNNING"),o._states.next(o.options.id)):o._assertStatus("EXECUTING"),a={args:o.args,options:o.options,retryCount:o.retryCount},o.Events.trigger("executing",a);try{if(s=yield null!=e?e.schedule(o.options,o.task,...o.args):o.task(...o.args),t())return o.doDone(a),yield r(o.options,a),o._assertStatus("DONE"),o._resolve(s)}catch(e){return i=e,o._onFailure(i,a,t,n,r)}}))()}doExpire(e,t,n){var r,i;return this._states.jobStatus("RUNNING"===this.options.id)&&this._states.next(this.options.id),this._assertStatus("EXECUTING"),i={args:this.args,options:this.options,retryCount:this.retryCount},r=new o(`This job timed out after ${this.options.expiration} ms.`),this._onFailure(r,i,e,t,n)}_onFailure(e,t,n,r,o){var a=this;return i((function*(){var i,s;if(n())return null!=(i=yield a.Events.trigger("failed",e,t))?(s=~~i,a.Events.trigger("retry",`Retrying ${a.options.id} after ${s} ms`,t),a.retryCount++,r(s)):(a.doDone(t),yield o(a.options,t),a._assertStatus("DONE"),a._reject(e))}))()}doDone(e){return this._assertStatus("EXECUTING"),this._states.next(this.options.id),this.Events.trigger("done",e)}},e.exports=a},"./node_modules/bottleneck/lib/LocalDatastore.js":function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}}var o,a,s;s=n("./node_modules/bottleneck/lib/parser.js"),o=n("./node_modules/bottleneck/lib/BottleneckError.js"),a=class{constructor(e,t,n){this.instance=e,this.storeOptions=t,this.clientId=this.instance._randomIndex(),s.load(n,n,this),this._nextRequest=this._lastReservoirRefresh=this._lastReservoirIncrease=Date.now(),this._running=0,this._done=0,this._unblockTime=0,this.ready=this.Promise.resolve(),this.clients={},this._startHeartbeat()}_startHeartbeat(){var e;return null==this.heartbeat&&(null!=this.storeOptions.reservoirRefreshInterval&&null!=this.storeOptions.reservoirRefreshAmount||null!=this.storeOptions.reservoirIncreaseInterval&&null!=this.storeOptions.reservoirIncreaseAmount)?"function"==typeof(e=this.heartbeat=setInterval((()=>{var e,t,n,r,i;if(r=Date.now(),null!=this.storeOptions.reservoirRefreshInterval&&r>=this._lastReservoirRefresh+this.storeOptions.reservoirRefreshInterval&&(this._lastReservoirRefresh=r,this.storeOptions.reservoir=this.storeOptions.reservoirRefreshAmount,this.instance._drainAll(this.computeCapacity())),null!=this.storeOptions.reservoirIncreaseInterval&&r>=this._lastReservoirIncrease+this.storeOptions.reservoirIncreaseInterval){var o=this.storeOptions;if(e=o.reservoirIncreaseAmount,n=o.reservoirIncreaseMaximum,i=o.reservoir,this._lastReservoirIncrease=r,(t=null!=n?Math.min(e,n-i):e)>0)return this.storeOptions.reservoir+=t,this.instance._drainAll(this.computeCapacity())}}),this.heartbeatInterval)).unref?e.unref():void 0:clearInterval(this.heartbeat)}__publish__(e){var t=this;return i((function*(){return yield t.yieldLoop(),t.instance.Events.trigger("message",e.toString())}))()}__disconnect__(e){var t=this;return i((function*(){return yield t.yieldLoop(),clearInterval(t.heartbeat),t.Promise.resolve()}))()}yieldLoop(e=0){return new this.Promise((function(t,n){return setTimeout(t,e)}))}computePenalty(){var e;return null!=(e=this.storeOptions.penalty)?e:15*this.storeOptions.minTime||5e3}__updateSettings__(e){var t=this;return i((function*(){return yield t.yieldLoop(),s.overwrite(e,e,t.storeOptions),t._startHeartbeat(),t.instance._drainAll(t.computeCapacity()),!0}))()}__running__(){var e=this;return i((function*(){return yield e.yieldLoop(),e._running}))()}__queued__(){var e=this;return i((function*(){return yield e.yieldLoop(),e.instance.queued()}))()}__done__(){var e=this;return i((function*(){return yield e.yieldLoop(),e._done}))()}__groupCheck__(e){var t=this;return i((function*(){return yield t.yieldLoop(),t._nextRequest+t.timeout<e}))()}computeCapacity(){var e,t,n=this.storeOptions;return e=n.maxConcurrent,t=n.reservoir,null!=e&&null!=t?Math.min(e-this._running,t):null!=e?e-this._running:null!=t?t:null}conditionsCheck(e){var t;return null==(t=this.computeCapacity())||e<=t}__incrementReservoir__(e){var t=this;return i((function*(){var n;return yield t.yieldLoop(),n=t.storeOptions.reservoir+=e,t.instance._drainAll(t.computeCapacity()),n}))()}__currentReservoir__(){var e=this;return i((function*(){return yield e.yieldLoop(),e.storeOptions.reservoir}))()}isBlocked(e){return this._unblockTime>=e}check(e,t){return this.conditionsCheck(e)&&this._nextRequest-t<=0}__check__(e){var t=this;return i((function*(){var n;return yield t.yieldLoop(),n=Date.now(),t.check(e,n)}))()}__register__(e,t,n){var r=this;return i((function*(){var e,n;return yield r.yieldLoop(),e=Date.now(),r.conditionsCheck(t)?(r._running+=t,null!=r.storeOptions.reservoir&&(r.storeOptions.reservoir-=t),n=Math.max(r._nextRequest-e,0),r._nextRequest=e+n+r.storeOptions.minTime,{success:!0,wait:n,reservoir:r.storeOptions.reservoir}):{success:!1}}))()}strategyIsBlock(){return 3===this.storeOptions.strategy}__submit__(e,t){var n=this;return i((function*(){var r,i,a;if(yield n.yieldLoop(),null!=n.storeOptions.maxConcurrent&&t>n.storeOptions.maxConcurrent)throw new o(`Impossible to add a job having a weight of ${t} to a limiter having a maxConcurrent setting of ${n.storeOptions.maxConcurrent}`);return i=Date.now(),a=null!=n.storeOptions.highWater&&e===n.storeOptions.highWater&&!n.check(t,i),(r=n.strategyIsBlock()&&(a||n.isBlocked(i)))&&(n._unblockTime=i+n.computePenalty(),n._nextRequest=n._unblockTime+n.storeOptions.minTime,n.instance._dropAllQueued()),{reachedHWM:a,blocked:r,strategy:n.storeOptions.strategy}}))()}__free__(e,t){var n=this;return i((function*(){return yield n.yieldLoop(),n._running-=t,n._done+=t,n.instance._drainAll(n.computeCapacity()),{running:n._running}}))()}},e.exports=a},"./node_modules/bottleneck/lib/Queues.js":function(e,t,n){"use strict";var r,i,o;r=n("./node_modules/bottleneck/lib/DLList.js"),i=n("./node_modules/bottleneck/lib/Events.js"),o=class{constructor(e){this.Events=new i(this),this._length=0,this._lists=function(){var t,n,i;for(i=[],t=1,n=e;1<=n?t<=n:t>=n;1<=n?++t:--t)i.push(new r((()=>this.incr()),(()=>this.decr())));return i}.call(this)}incr(){if(0==this._length++)return this.Events.trigger("leftzero")}decr(){if(0==--this._length)return this.Events.trigger("zero")}push(e){return this._lists[e.options.priority].push(e)}queued(e){return null!=e?this._lists[e].length:this._length}shiftAll(e){return this._lists.forEach((function(t){return t.forEachShift(e)}))}getFirst(e=this._lists){var t,n,r;for(t=0,n=e.length;t<n;t++)if((r=e[t]).length>0)return r;return[]}shiftLastFrom(e){return this.getFirst(this._lists.slice(e).reverse()).shift()}},e.exports=o},"./node_modules/bottleneck/lib/RedisConnection.js":function(module,exports,__webpack_require__){"use strict";function asyncGeneratorStep(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function _asyncToGenerator(e){return function(){var t=this,n=arguments;return new Promise((function(r,i){var o=e.apply(t,n);function a(e){asyncGeneratorStep(o,r,i,a,s,"next",e)}function s(e){asyncGeneratorStep(o,r,i,a,s,"throw",e)}a(void 0)}))}}var Events,RedisConnection,Scripts,parser;parser=__webpack_require__("./node_modules/bottleneck/lib/parser.js"),Events=__webpack_require__("./node_modules/bottleneck/lib/Events.js"),Scripts=__webpack_require__("./node_modules/bottleneck/lib/Scripts.js"),RedisConnection=function(){class RedisConnection{constructor(options={}){parser.load(options,this.defaults,this),null==this.Redis&&(this.Redis=eval("require")("redis")),null==this.Events&&(this.Events=new Events(this)),this.terminated=!1,null==this.client&&(this.client=this.Redis.createClient(this.clientOptions)),this.subscriber=this.client.duplicate(),this.limiters={},this.shas={},this.ready=this.Promise.all([this._setup(this.client,!1),this._setup(this.subscriber,!0)]).then((()=>this._loadScripts())).then((()=>({client:this.client,subscriber:this.subscriber})))}_setup(e,t){return e.setMaxListeners(0),new this.Promise(((n,r)=>(e.on("error",(e=>this.Events.trigger("error",e))),t&&e.on("message",((e,t)=>{var n;return null!=(n=this.limiters[e])?n._store.onMessage(e,t):void 0})),e.ready?n():e.once("ready",n))))}_loadScript(e){return new this.Promise(((t,n)=>{var r;return r=Scripts.payload(e),this.client.multi([["script","load",r]]).exec(((r,i)=>null!=r?n(r):(this.shas[e]=i[0],t(i[0]))))}))}_loadScripts(){return this.Promise.all(Scripts.names.map((e=>this._loadScript(e))))}__runCommand__(e){var t=this;return _asyncToGenerator((function*(){return yield t.ready,new t.Promise(((n,r)=>t.client.multi([e]).exec_atomic((function(e,t){return null!=e?r(e):n(t[0])}))))}))()}__addLimiter__(e){return this.Promise.all([e.channel(),e.channel_client()].map((t=>new this.Promise(((n,r)=>{var i;return i=r=>{if(r===t)return this.subscriber.removeListener("subscribe",i),this.limiters[t]=e,n()},this.subscriber.on("subscribe",i),this.subscriber.subscribe(t)})))))}__removeLimiter__(e){var t=this;return this.Promise.all([e.channel(),e.channel_client()].map(function(){var e=_asyncToGenerator((function*(e){return t.terminated||(yield new t.Promise(((n,r)=>t.subscriber.unsubscribe(e,(function(t,i){return null!=t?r(t):i===e?n():void 0}))))),delete t.limiters[e]}));return function(t){return e.apply(this,arguments)}}()))}__scriptArgs__(e,t,n,r){var i;return i=Scripts.keys(e,t),[this.shas[e],i.length].concat(i,n,r)}__scriptFn__(e){return this.client.evalsha.bind(this.client)}disconnect(e=!0){var t,n,r,i;for(t=0,r=(i=Object.keys(this.limiters)).length;t<r;t++)n=i[t],clearInterval(this.limiters[n]._store.heartbeat);return this.limiters={},this.terminated=!0,this.client.end(e),this.subscriber.end(e),this.Promise.resolve()}}return RedisConnection.prototype.datastore="redis",RedisConnection.prototype.defaults={Redis:null,clientOptions:{},client:null,Promise:Promise,Events:null},RedisConnection}.call(void 0),module.exports=RedisConnection},"./node_modules/bottleneck/lib/RedisDatastore.js":function(e,t,n){"use strict";function r(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function i(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function o(e){return function(){var t=this,n=arguments;return new Promise((function(r,o){var a=e.apply(t,n);function s(e){i(a,r,o,s,l,"next",e)}function l(e){i(a,r,o,s,l,"throw",e)}s(void 0)}))}}var a,s,l,c,u;u=n("./node_modules/bottleneck/lib/parser.js"),a=n("./node_modules/bottleneck/lib/BottleneckError.js"),l=n("./node_modules/bottleneck/lib/RedisConnection.js"),s=n("./node_modules/bottleneck/lib/IORedisConnection.js"),c=class{constructor(e,t,n){this.instance=e,this.storeOptions=t,this.originalId=this.instance.id,this.clientId=this.instance._randomIndex(),u.load(n,n,this),this.clients={},this.capacityPriorityCounters={},this.sharedConnection=null!=this.connection,null==this.connection&&(this.connection="redis"===this.instance.datastore?new l({Redis:this.Redis,clientOptions:this.clientOptions,Promise:this.Promise,Events:this.instance.Events}):"ioredis"===this.instance.datastore?new s({Redis:this.Redis,clientOptions:this.clientOptions,clusterNodes:this.clusterNodes,Promise:this.Promise,Events:this.instance.Events}):void 0),this.instance.connection=this.connection,this.instance.datastore=this.connection.datastore,this.ready=this.connection.ready.then((e=>(this.clients=e,this.runScript("init",this.prepareInitSettings(this.clearDatastore))))).then((()=>this.connection.__addLimiter__(this.instance))).then((()=>this.runScript("register_client",[this.instance.queued()]))).then((()=>{var e;return"function"==typeof(e=this.heartbeat=setInterval((()=>this.runScript("heartbeat",[]).catch((e=>this.instance.Events.trigger("error",e)))),this.heartbeatInterval)).unref&&e.unref(),this.clients}))}__publish__(e){var t=this;return o((function*(){return(yield t.ready).client.publish(t.instance.channel(),"message:"+e.toString())}))()}onMessage(e,t){var n=this;return o((function*(){var e,i,a,s,l,c,u,d,p,m;try{u=t.indexOf(":");var f=[t.slice(0,u),t.slice(u+1)];if(a=f[1],"capacity"===(m=f[0]))return yield n.instance._drainAll(a.length>0?~~a:void 0);if("capacity-priority"===m){var h=r(a.split(":"),3);return p=h[0],d=h[1],i=h[2],e=p.length>0?~~p:void 0,d===n.clientId?(s=yield n.instance._drainAll(e),c=null!=e?e-(s||0):"",yield n.clients.client.publish(n.instance.channel(),`capacity-priority:${c}::${i}`)):""===d?(clearTimeout(n.capacityPriorityCounters[i]),delete n.capacityPriorityCounters[i],n.instance._drainAll(e)):n.capacityPriorityCounters[i]=setTimeout(o((function*(){var t;try{return delete n.capacityPriorityCounters[i],yield n.runScript("blacklist_client",[d]),yield n.instance._drainAll(e)}catch(e){return t=e,n.instance.Events.trigger("error",t)}})),1e3)}if("message"===m)return n.instance.Events.trigger("message",a);if("blocked"===m)return yield n.instance._dropAllQueued()}catch(e){return l=e,n.instance.Events.trigger("error",l)}}))()}__disconnect__(e){return clearInterval(this.heartbeat),this.sharedConnection?this.connection.__removeLimiter__(this.instance):this.connection.disconnect(e)}runScript(e,t){var n=this;return o((function*(){return"init"!==e&&"register_client"!==e&&(yield n.ready),new n.Promise(((r,i)=>{var o,a;return o=[Date.now(),n.clientId].concat(t),n.instance.Events.trigger("debug",`Calling Redis script: ${e}.lua`,o),a=n.connection.__scriptArgs__(e,n.originalId,o,(function(e,t){return null!=e?i(e):r(t)})),n.connection.__scriptFn__(e)(...a)})).catch((r=>"SETTINGS_KEY_NOT_FOUND"===r.message?"heartbeat"===e?n.Promise.resolve():n.runScript("init",n.prepareInitSettings(!1)).then((()=>n.runScript(e,t))):"UNKNOWN_CLIENT"===r.message?n.runScript("register_client",[n.instance.queued()]).then((()=>n.runScript(e,t))):n.Promise.reject(r)))}))()}prepareArray(e){var t,n,r,i;for(r=[],t=0,n=e.length;t<n;t++)i=e[t],r.push(null!=i?i.toString():"");return r}prepareObject(e){var t,n,r;for(n in t=[],e)r=e[n],t.push(n,null!=r?r.toString():"");return t}prepareInitSettings(e){var t;return(t=this.prepareObject(Object.assign({},this.storeOptions,{id:this.originalId,version:this.instance.version,groupTimeout:this.timeout,clientTimeout:this.clientTimeout}))).unshift(e?1:0,this.instance.version),t}convertBool(e){return!!e}__updateSettings__(e){var t=this;return o((function*(){return yield t.runScript("update_settings",t.prepareObject(e)),u.overwrite(e,e,t.storeOptions)}))()}__running__(){return this.runScript("running",[])}__queued__(){return this.runScript("queued",[])}__done__(){return this.runScript("done",[])}__groupCheck__(){var e=this;return o((function*(){return e.convertBool(yield e.runScript("group_check",[]))}))()}__incrementReservoir__(e){return this.runScript("increment_reservoir",[e])}__currentReservoir__(){return this.runScript("current_reservoir",[])}__check__(e){var t=this;return o((function*(){return t.convertBool(yield t.runScript("check",t.prepareArray([e])))}))()}__register__(e,t,n){var i=this;return o((function*(){var o,a,s,l=r(yield i.runScript("register",i.prepareArray([e,t,n])),3);return a=l[0],s=l[1],o=l[2],{success:i.convertBool(a),wait:s,reservoir:o}}))()}__submit__(e,t){var n=this;return o((function*(){var i,o,s,l,c;try{var u=r(yield n.runScript("submit",n.prepareArray([e,t])),3);return l=u[0],i=u[1],c=u[2],{reachedHWM:n.convertBool(l),blocked:n.convertBool(i),strategy:c}}catch(e){if(0===(o=e).message.indexOf("OVERWEIGHT")){var d=r(o.message.split(":"),3);throw d[0],t=d[1],s=d[2],new a(`Impossible to add a job having a weight of ${t} to a limiter having a maxConcurrent setting of ${s}`)}throw o}}))()}__free__(e,t){var n=this;return o((function*(){return{running:yield n.runScript("free",n.prepareArray([e]))}}))()}},e.exports=c},"./node_modules/bottleneck/lib/Scripts.js":function(e,t,n){"use strict";var r,i,o;i=n("./node_modules/bottleneck/lib/lua.json"),r={refs:i["refs.lua"],validate_keys:i["validate_keys.lua"],validate_client:i["validate_client.lua"],refresh_expiration:i["refresh_expiration.lua"],process_tick:i["process_tick.lua"],conditions_check:i["conditions_check.lua"],get_time:i["get_time.lua"]},t.allKeys=function(e){return[`b_${e}_settings`,`b_${e}_job_weights`,`b_${e}_job_expirations`,`b_${e}_job_clients`,`b_${e}_client_running`,`b_${e}_client_num_queued`,`b_${e}_client_last_registered`,`b_${e}_client_last_seen`]},o={init:{keys:t.allKeys,headers:["process_tick"],refresh_expiration:!0,code:i["init.lua"]},group_check:{keys:t.allKeys,headers:[],refresh_expiration:!1,code:i["group_check.lua"]},register_client:{keys:t.allKeys,headers:["validate_keys"],refresh_expiration:!1,code:i["register_client.lua"]},blacklist_client:{keys:t.allKeys,headers:["validate_keys","validate_client"],refresh_expiration:!1,code:i["blacklist_client.lua"]},heartbeat:{keys:t.allKeys,headers:["validate_keys","validate_client","process_tick"],refresh_expiration:!1,code:i["heartbeat.lua"]},update_settings:{keys:t.allKeys,headers:["validate_keys","validate_client","process_tick"],refresh_expiration:!0,code:i["update_settings.lua"]},running:{keys:t.allKeys,headers:["validate_keys","validate_client","process_tick"],refresh_expiration:!1,code:i["running.lua"]},queued:{keys:t.allKeys,headers:["validate_keys","validate_client"],refresh_expiration:!1,code:i["queued.lua"]},done:{keys:t.allKeys,headers:["validate_keys","validate_client","process_tick"],refresh_expiration:!1,code:i["done.lua"]},check:{keys:t.allKeys,headers:["validate_keys","validate_client","process_tick","conditions_check"],refresh_expiration:!1,code:i["check.lua"]},submit:{keys:t.allKeys,headers:["validate_keys","validate_client","process_tick","conditions_check"],refresh_expiration:!0,code:i["submit.lua"]},register:{keys:t.allKeys,headers:["validate_keys","validate_client","process_tick","conditions_check"],refresh_expiration:!0,code:i["register.lua"]},free:{keys:t.allKeys,headers:["validate_keys","validate_client","process_tick"],refresh_expiration:!0,code:i["free.lua"]},current_reservoir:{keys:t.allKeys,headers:["validate_keys","validate_client","process_tick"],refresh_expiration:!1,code:i["current_reservoir.lua"]},increment_reservoir:{keys:t.allKeys,headers:["validate_keys","validate_client","process_tick"],refresh_expiration:!0,code:i["increment_reservoir.lua"]}},t.names=Object.keys(o),t.keys=function(e,t){return o[e].keys(t)},t.payload=function(e){var t;return t=o[e],Array.prototype.concat(r.refs,t.headers.map((function(e){return r[e]})),t.refresh_expiration?r.refresh_expiration:"",t.code).join("\n")}},"./node_modules/bottleneck/lib/States.js":function(e,t,n){"use strict";var r,i;r=n("./node_modules/bottleneck/lib/BottleneckError.js"),i=class{constructor(e){this.status=e,this._jobs={},this.counts=this.status.map((function(){return 0}))}next(e){var t,n;return n=(t=this._jobs[e])+1,null!=t&&n<this.status.length?(this.counts[t]--,this.counts[n]++,this._jobs[e]++):null!=t?(this.counts[t]--,delete this._jobs[e]):void 0}start(e){return 0,this._jobs[e]=0,this.counts[0]++}remove(e){var t;return null!=(t=this._jobs[e])&&(this.counts[t]--,delete this._jobs[e]),null!=t}jobStatus(e){var t;return null!=(t=this.status[this._jobs[e]])?t:null}statusJobs(e){var t,n,i,o;if(null!=e){if((n=this.status.indexOf(e))<0)throw new r("status must be one of "+this.status.join(", "));for(t in o=[],i=this._jobs)i[t]===n&&o.push(t);return o}return Object.keys(this._jobs)}statusCounts(){return this.counts.reduce(((e,t,n)=>(e[this.status[n]]=t,e)),{})}},e.exports=i},"./node_modules/bottleneck/lib/Sync.js":function(e,t,n){"use strict";function r(e,t,n,r,i,o,a){try{var s=e[o](a),l=s.value}catch(e){return void n(e)}s.done?t(l):Promise.resolve(l).then(r,i)}function i(e){return function(){var t=this,n=arguments;return new Promise((function(i,o){var a=e.apply(t,n);function s(e){r(a,i,o,s,l,"next",e)}function l(e){r(a,i,o,s,l,"throw",e)}s(void 0)}))}}var o,a;o=n("./node_modules/bottleneck/lib/DLList.js"),a=class{constructor(e,t){this.schedule=this.schedule.bind(this),this.name=e,this.Promise=t,this._running=0,this._queue=new o}isEmpty(){return 0===this._queue.length}_tryToRun(){var e=this;return i((function*(){var t,n,r,o,a,s,l;if(e._running<1&&e._queue.length>0){e._running++;var c=e._queue.shift();return l=c.task,t=c.args,a=c.resolve,o=c.reject,n=yield i((function*(){try{return s=yield l(...t),function(){return a(s)}}catch(e){return r=e,function(){return o(r)}}}))(),e._running--,e._tryToRun(),n()}}))()}schedule(e,...t){var n,r,i;return i=r=null,n=new this.Promise((function(e,t){return i=e,r=t})),this._queue.push({task:e,args:t,resolve:i,reject:r}),this._tryToRun(),n}},e.exports=a},"./node_modules/bottleneck/lib/index.js":function(e,t,n){"use strict";e.exports=n("./node_modules/bottleneck/lib/Bottleneck.js")},"./node_modules/bottleneck/lib/lua.json":function(e,t){e.exports={"blacklist_client.lua":"local blacklist = ARGV[num_static_argv + 1]\n\nif redis.call('zscore', client_last_seen_key, blacklist) then\n  redis.call('zadd', client_last_seen_key, 0, blacklist)\nend\n\n\nreturn {}\n","check.lua":"local weight = tonumber(ARGV[num_static_argv + 1])\n\nlocal capacity = process_tick(now, false)['capacity']\nlocal nextRequest = tonumber(redis.call('hget', settings_key, 'nextRequest'))\n\nreturn conditions_check(capacity, weight) and nextRequest - now <= 0\n","conditions_check.lua":"local conditions_check = function (capacity, weight)\n  return capacity == nil or weight <= capacity\nend\n","current_reservoir.lua":"return process_tick(now, false)['reservoir']\n","done.lua":"process_tick(now, false)\n\nreturn tonumber(redis.call('hget', settings_key, 'done'))\n","free.lua":"local index = ARGV[num_static_argv + 1]\n\nredis.call('zadd', job_expirations_key, 0, index)\n\nreturn process_tick(now, false)['running']\n","get_time.lua":"redis.replicate_commands()\n\nlocal get_time = function ()\n  local time = redis.call('time')\n\n  return tonumber(time[1]..string.sub(time[2], 1, 3))\nend\n","group_check.lua":"return not (redis.call('exists', settings_key) == 1)\n","heartbeat.lua":"process_tick(now, true)\n","increment_reservoir.lua":"local incr = tonumber(ARGV[num_static_argv + 1])\n\nredis.call('hincrby', settings_key, 'reservoir', incr)\n\nlocal reservoir = process_tick(now, true)['reservoir']\n\nlocal groupTimeout = tonumber(redis.call('hget', settings_key, 'groupTimeout'))\nrefresh_expiration(0, 0, groupTimeout)\n\nreturn reservoir\n","init.lua":"local clear = tonumber(ARGV[num_static_argv + 1])\nlocal limiter_version = ARGV[num_static_argv + 2]\nlocal num_local_argv = num_static_argv + 2\n\nif clear == 1 then\n  redis.call('del', unpack(KEYS))\nend\n\nif redis.call('exists', settings_key) == 0 then\n  -- Create\n  local args = {'hmset', settings_key}\n\n  for i = num_local_argv + 1, #ARGV do\n    table.insert(args, ARGV[i])\n  end\n\n  redis.call(unpack(args))\n  redis.call('hmset', settings_key,\n    'nextRequest', now,\n    'lastReservoirRefresh', now,\n    'lastReservoirIncrease', now,\n    'running', 0,\n    'done', 0,\n    'unblockTime', 0,\n    'capacityPriorityCounter', 0\n  )\n\nelse\n  -- Apply migrations\n  local settings = redis.call('hmget', settings_key,\n    'id',\n    'version'\n  )\n  local id = settings[1]\n  local current_version = settings[2]\n\n  if current_version ~= limiter_version then\n    local version_digits = {}\n    for k, v in string.gmatch(current_version, \"([^.]+)\") do\n      table.insert(version_digits, tonumber(k))\n    end\n\n    -- 2.10.0\n    if version_digits[2] < 10 then\n      redis.call('hsetnx', settings_key, 'reservoirRefreshInterval', '')\n      redis.call('hsetnx', settings_key, 'reservoirRefreshAmount', '')\n      redis.call('hsetnx', settings_key, 'lastReservoirRefresh', '')\n      redis.call('hsetnx', settings_key, 'done', 0)\n      redis.call('hset', settings_key, 'version', '2.10.0')\n    end\n\n    -- 2.11.1\n    if version_digits[2] < 11 or (version_digits[2] == 11 and version_digits[3] < 1) then\n      if redis.call('hstrlen', settings_key, 'lastReservoirRefresh') == 0 then\n        redis.call('hmset', settings_key,\n          'lastReservoirRefresh', now,\n          'version', '2.11.1'\n        )\n      end\n    end\n\n    -- 2.14.0\n    if version_digits[2] < 14 then\n      local old_running_key = 'b_'..id..'_running'\n      local old_executing_key = 'b_'..id..'_executing'\n\n      if redis.call('exists', old_running_key) == 1 then\n        redis.call('rename', old_running_key, job_weights_key)\n      end\n      if redis.call('exists', old_executing_key) == 1 then\n        redis.call('rename', old_executing_key, job_expirations_key)\n      end\n      redis.call('hset', settings_key, 'version', '2.14.0')\n    end\n\n    -- 2.15.2\n    if version_digits[2] < 15 or (version_digits[2] == 15 and version_digits[3] < 2) then\n      redis.call('hsetnx', settings_key, 'capacityPriorityCounter', 0)\n      redis.call('hset', settings_key, 'version', '2.15.2')\n    end\n\n    -- 2.17.0\n    if version_digits[2] < 17 then\n      redis.call('hsetnx', settings_key, 'clientTimeout', 10000)\n      redis.call('hset', settings_key, 'version', '2.17.0')\n    end\n\n    -- 2.18.0\n    if version_digits[2] < 18 then\n      redis.call('hsetnx', settings_key, 'reservoirIncreaseInterval', '')\n      redis.call('hsetnx', settings_key, 'reservoirIncreaseAmount', '')\n      redis.call('hsetnx', settings_key, 'reservoirIncreaseMaximum', '')\n      redis.call('hsetnx', settings_key, 'lastReservoirIncrease', now)\n      redis.call('hset', settings_key, 'version', '2.18.0')\n    end\n\n  end\n\n  process_tick(now, false)\nend\n\nlocal groupTimeout = tonumber(redis.call('hget', settings_key, 'groupTimeout'))\nrefresh_expiration(0, 0, groupTimeout)\n\nreturn {}\n","process_tick.lua":"local process_tick = function (now, always_publish)\n\n  local compute_capacity = function (maxConcurrent, running, reservoir)\n    if maxConcurrent ~= nil and reservoir ~= nil then\n      return math.min((maxConcurrent - running), reservoir)\n    elseif maxConcurrent ~= nil then\n      return maxConcurrent - running\n    elseif reservoir ~= nil then\n      return reservoir\n    else\n      return nil\n    end\n  end\n\n  local settings = redis.call('hmget', settings_key,\n    'id',\n    'maxConcurrent',\n    'running',\n    'reservoir',\n    'reservoirRefreshInterval',\n    'reservoirRefreshAmount',\n    'lastReservoirRefresh',\n    'reservoirIncreaseInterval',\n    'reservoirIncreaseAmount',\n    'reservoirIncreaseMaximum',\n    'lastReservoirIncrease',\n    'capacityPriorityCounter',\n    'clientTimeout'\n  )\n  local id = settings[1]\n  local maxConcurrent = tonumber(settings[2])\n  local running = tonumber(settings[3])\n  local reservoir = tonumber(settings[4])\n  local reservoirRefreshInterval = tonumber(settings[5])\n  local reservoirRefreshAmount = tonumber(settings[6])\n  local lastReservoirRefresh = tonumber(settings[7])\n  local reservoirIncreaseInterval = tonumber(settings[8])\n  local reservoirIncreaseAmount = tonumber(settings[9])\n  local reservoirIncreaseMaximum = tonumber(settings[10])\n  local lastReservoirIncrease = tonumber(settings[11])\n  local capacityPriorityCounter = tonumber(settings[12])\n  local clientTimeout = tonumber(settings[13])\n\n  local initial_capacity = compute_capacity(maxConcurrent, running, reservoir)\n\n  --\n  -- Process 'running' changes\n  --\n  local expired = redis.call('zrangebyscore', job_expirations_key, '-inf', '('..now)\n\n  if #expired > 0 then\n    redis.call('zremrangebyscore', job_expirations_key, '-inf', '('..now)\n\n    local flush_batch = function (batch, acc)\n      local weights = redis.call('hmget', job_weights_key, unpack(batch))\n                      redis.call('hdel',  job_weights_key, unpack(batch))\n      local clients = redis.call('hmget', job_clients_key, unpack(batch))\n                      redis.call('hdel',  job_clients_key, unpack(batch))\n\n      -- Calculate sum of removed weights\n      for i = 1, #weights do\n        acc['total'] = acc['total'] + (tonumber(weights[i]) or 0)\n      end\n\n      -- Calculate sum of removed weights by client\n      local client_weights = {}\n      for i = 1, #clients do\n        local removed = tonumber(weights[i]) or 0\n        if removed > 0 then\n          acc['client_weights'][clients[i]] = (acc['client_weights'][clients[i]] or 0) + removed\n        end\n      end\n    end\n\n    local acc = {\n      ['total'] = 0,\n      ['client_weights'] = {}\n    }\n    local batch_size = 1000\n\n    -- Compute changes to Zsets and apply changes to Hashes\n    for i = 1, #expired, batch_size do\n      local batch = {}\n      for j = i, math.min(i + batch_size - 1, #expired) do\n        table.insert(batch, expired[j])\n      end\n\n      flush_batch(batch, acc)\n    end\n\n    -- Apply changes to Zsets\n    if acc['total'] > 0 then\n      redis.call('hincrby', settings_key, 'done', acc['total'])\n      running = tonumber(redis.call('hincrby', settings_key, 'running', -acc['total']))\n    end\n\n    for client, weight in pairs(acc['client_weights']) do\n      redis.call('zincrby', client_running_key, -weight, client)\n    end\n  end\n\n  --\n  -- Process 'reservoir' changes\n  --\n  local reservoirRefreshActive = reservoirRefreshInterval ~= nil and reservoirRefreshAmount ~= nil\n  if reservoirRefreshActive and now >= lastReservoirRefresh + reservoirRefreshInterval then\n    reservoir = reservoirRefreshAmount\n    redis.call('hmset', settings_key,\n      'reservoir', reservoir,\n      'lastReservoirRefresh', now\n    )\n  end\n\n  local reservoirIncreaseActive = reservoirIncreaseInterval ~= nil and reservoirIncreaseAmount ~= nil\n  if reservoirIncreaseActive and now >= lastReservoirIncrease + reservoirIncreaseInterval then\n    local num_intervals = math.floor((now - lastReservoirIncrease) / reservoirIncreaseInterval)\n    local incr = reservoirIncreaseAmount * num_intervals\n    if reservoirIncreaseMaximum ~= nil then\n      incr = math.min(incr, reservoirIncreaseMaximum - (reservoir or 0))\n    end\n    if incr > 0 then\n      reservoir = (reservoir or 0) + incr\n    end\n    redis.call('hmset', settings_key,\n      'reservoir', reservoir,\n      'lastReservoirIncrease', lastReservoirIncrease + (num_intervals * reservoirIncreaseInterval)\n    )\n  end\n\n  --\n  -- Clear unresponsive clients\n  --\n  local unresponsive = redis.call('zrangebyscore', client_last_seen_key, '-inf', (now - clientTimeout))\n  local unresponsive_lookup = {}\n  local terminated_clients = {}\n  for i = 1, #unresponsive do\n    unresponsive_lookup[unresponsive[i]] = true\n    if tonumber(redis.call('zscore', client_running_key, unresponsive[i])) == 0 then\n      table.insert(terminated_clients, unresponsive[i])\n    end\n  end\n  if #terminated_clients > 0 then\n    redis.call('zrem', client_running_key,         unpack(terminated_clients))\n    redis.call('hdel', client_num_queued_key,      unpack(terminated_clients))\n    redis.call('zrem', client_last_registered_key, unpack(terminated_clients))\n    redis.call('zrem', client_last_seen_key,       unpack(terminated_clients))\n  end\n\n  --\n  -- Broadcast capacity changes\n  --\n  local final_capacity = compute_capacity(maxConcurrent, running, reservoir)\n\n  if always_publish or (initial_capacity ~= nil and final_capacity == nil) then\n    -- always_publish or was not unlimited, now unlimited\n    redis.call('publish', 'b_'..id, 'capacity:'..(final_capacity or ''))\n\n  elseif initial_capacity ~= nil and final_capacity ~= nil and final_capacity > initial_capacity then\n    -- capacity was increased\n    -- send the capacity message to the limiter having the lowest number of running jobs\n    -- the tiebreaker is the limiter having not registered a job in the longest time\n\n    local lowest_concurrency_value = nil\n    local lowest_concurrency_clients = {}\n    local lowest_concurrency_last_registered = {}\n    local client_concurrencies = redis.call('zrange', client_running_key, 0, -1, 'withscores')\n\n    for i = 1, #client_concurrencies, 2 do\n      local client = client_concurrencies[i]\n      local concurrency = tonumber(client_concurrencies[i+1])\n\n      if (\n        lowest_concurrency_value == nil or lowest_concurrency_value == concurrency\n      ) and (\n        not unresponsive_lookup[client]\n      ) and (\n        tonumber(redis.call('hget', client_num_queued_key, client)) > 0\n      ) then\n        lowest_concurrency_value = concurrency\n        table.insert(lowest_concurrency_clients, client)\n        local last_registered = tonumber(redis.call('zscore', client_last_registered_key, client))\n        table.insert(lowest_concurrency_last_registered, last_registered)\n      end\n    end\n\n    if #lowest_concurrency_clients > 0 then\n      local position = 1\n      local earliest = lowest_concurrency_last_registered[1]\n\n      for i,v in ipairs(lowest_concurrency_last_registered) do\n        if v < earliest then\n          position = i\n          earliest = v\n        end\n      end\n\n      local next_client = lowest_concurrency_clients[position]\n      redis.call('publish', 'b_'..id,\n        'capacity-priority:'..(final_capacity or '')..\n        ':'..next_client..\n        ':'..capacityPriorityCounter\n      )\n      redis.call('hincrby', settings_key, 'capacityPriorityCounter', '1')\n    else\n      redis.call('publish', 'b_'..id, 'capacity:'..(final_capacity or ''))\n    end\n  end\n\n  return {\n    ['capacity'] = final_capacity,\n    ['running'] = running,\n    ['reservoir'] = reservoir\n  }\nend\n","queued.lua":"local clientTimeout = tonumber(redis.call('hget', settings_key, 'clientTimeout'))\nlocal valid_clients = redis.call('zrangebyscore', client_last_seen_key, (now - clientTimeout), 'inf')\nlocal client_queued = redis.call('hmget', client_num_queued_key, unpack(valid_clients))\n\nlocal sum = 0\nfor i = 1, #client_queued do\n  sum = sum + tonumber(client_queued[i])\nend\n\nreturn sum\n","refresh_expiration.lua":"local refresh_expiration = function (now, nextRequest, groupTimeout)\n\n  if groupTimeout ~= nil then\n    local ttl = (nextRequest + groupTimeout) - now\n\n    for i = 1, #KEYS do\n      redis.call('pexpire', KEYS[i], ttl)\n    end\n  end\n\nend\n","refs.lua":"local settings_key = KEYS[1]\nlocal job_weights_key = KEYS[2]\nlocal job_expirations_key = KEYS[3]\nlocal job_clients_key = KEYS[4]\nlocal client_running_key = KEYS[5]\nlocal client_num_queued_key = KEYS[6]\nlocal client_last_registered_key = KEYS[7]\nlocal client_last_seen_key = KEYS[8]\n\nlocal now = tonumber(ARGV[1])\nlocal client = ARGV[2]\n\nlocal num_static_argv = 2\n","register.lua":"local index = ARGV[num_static_argv + 1]\nlocal weight = tonumber(ARGV[num_static_argv + 2])\nlocal expiration = tonumber(ARGV[num_static_argv + 3])\n\nlocal state = process_tick(now, false)\nlocal capacity = state['capacity']\nlocal reservoir = state['reservoir']\n\nlocal settings = redis.call('hmget', settings_key,\n  'nextRequest',\n  'minTime',\n  'groupTimeout'\n)\nlocal nextRequest = tonumber(settings[1])\nlocal minTime = tonumber(settings[2])\nlocal groupTimeout = tonumber(settings[3])\n\nif conditions_check(capacity, weight) then\n\n  redis.call('hincrby', settings_key, 'running', weight)\n  redis.call('hset', job_weights_key, index, weight)\n  if expiration ~= nil then\n    redis.call('zadd', job_expirations_key, now + expiration, index)\n  end\n  redis.call('hset', job_clients_key, index, client)\n  redis.call('zincrby', client_running_key, weight, client)\n  redis.call('hincrby', client_num_queued_key, client, -1)\n  redis.call('zadd', client_last_registered_key, now, client)\n\n  local wait = math.max(nextRequest - now, 0)\n  local newNextRequest = now + wait + minTime\n\n  if reservoir == nil then\n    redis.call('hset', settings_key,\n      'nextRequest', newNextRequest\n    )\n  else\n    reservoir = reservoir - weight\n    redis.call('hmset', settings_key,\n      'reservoir', reservoir,\n      'nextRequest', newNextRequest\n    )\n  end\n\n  refresh_expiration(now, newNextRequest, groupTimeout)\n\n  return {true, wait, reservoir}\n\nelse\n  return {false}\nend\n","register_client.lua":"local queued = tonumber(ARGV[num_static_argv + 1])\n\n-- Could have been re-registered concurrently\nif not redis.call('zscore', client_last_seen_key, client) then\n  redis.call('zadd', client_running_key, 0, client)\n  redis.call('hset', client_num_queued_key, client, queued)\n  redis.call('zadd', client_last_registered_key, 0, client)\nend\n\nredis.call('zadd', client_last_seen_key, now, client)\n\nreturn {}\n","running.lua":"return process_tick(now, false)['running']\n","submit.lua":"local queueLength = tonumber(ARGV[num_static_argv + 1])\nlocal weight = tonumber(ARGV[num_static_argv + 2])\n\nlocal capacity = process_tick(now, false)['capacity']\n\nlocal settings = redis.call('hmget', settings_key,\n  'id',\n  'maxConcurrent',\n  'highWater',\n  'nextRequest',\n  'strategy',\n  'unblockTime',\n  'penalty',\n  'minTime',\n  'groupTimeout'\n)\nlocal id = settings[1]\nlocal maxConcurrent = tonumber(settings[2])\nlocal highWater = tonumber(settings[3])\nlocal nextRequest = tonumber(settings[4])\nlocal strategy = tonumber(settings[5])\nlocal unblockTime = tonumber(settings[6])\nlocal penalty = tonumber(settings[7])\nlocal minTime = tonumber(settings[8])\nlocal groupTimeout = tonumber(settings[9])\n\nif maxConcurrent ~= nil and weight > maxConcurrent then\n  return redis.error_reply('OVERWEIGHT:'..weight..':'..maxConcurrent)\nend\n\nlocal reachedHWM = (highWater ~= nil and queueLength == highWater\n  and not (\n    conditions_check(capacity, weight)\n    and nextRequest - now <= 0\n  )\n)\n\nlocal blocked = strategy == 3 and (reachedHWM or unblockTime >= now)\n\nif blocked then\n  local computedPenalty = penalty\n  if computedPenalty == nil then\n    if minTime == 0 then\n      computedPenalty = 5000\n    else\n      computedPenalty = 15 * minTime\n    end\n  end\n\n  local newNextRequest = now + computedPenalty + minTime\n\n  redis.call('hmset', settings_key,\n    'unblockTime', now + computedPenalty,\n    'nextRequest', newNextRequest\n  )\n\n  local clients_queued_reset = redis.call('hkeys', client_num_queued_key)\n  local queued_reset = {}\n  for i = 1, #clients_queued_reset do\n    table.insert(queued_reset, clients_queued_reset[i])\n    table.insert(queued_reset, 0)\n  end\n  redis.call('hmset', client_num_queued_key, unpack(queued_reset))\n\n  redis.call('publish', 'b_'..id, 'blocked:')\n\n  refresh_expiration(now, newNextRequest, groupTimeout)\nend\n\nif not blocked and not reachedHWM then\n  redis.call('hincrby', client_num_queued_key, client, 1)\nend\n\nreturn {reachedHWM, blocked, strategy}\n","update_settings.lua":"local args = {'hmset', settings_key}\n\nfor i = num_static_argv + 1, #ARGV do\n  table.insert(args, ARGV[i])\nend\n\nredis.call(unpack(args))\n\nprocess_tick(now, true)\n\nlocal groupTimeout = tonumber(redis.call('hget', settings_key, 'groupTimeout'))\nrefresh_expiration(0, 0, groupTimeout)\n\nreturn {}\n","validate_client.lua":"if not redis.call('zscore', client_last_seen_key, client) then\n  return redis.error_reply('UNKNOWN_CLIENT')\nend\n\nredis.call('zadd', client_last_seen_key, now, client)\n","validate_keys.lua":"if not (redis.call('exists', settings_key) == 1) then\n  return redis.error_reply('SETTINGS_KEY_NOT_FOUND')\nend\n"}},"./node_modules/bottleneck/lib/parser.js":function(e,t,n){"use strict";t.load=function(e,t,n={}){var r,i,o;for(r in t)o=t[r],n[r]=null!=(i=e[r])?i:o;return n},t.overwrite=function(e,t,n={}){var r,i;for(r in e)i=e[r],void 0!==t[r]&&(n[r]=i);return n}},"./node_modules/bottleneck/lib/version.json":function(e,t){e.exports={version:"2.19.5"}},"./node_modules/canvas-confetti/dist/confetti.module.mjs":function(e,t,n){"use strict";n.r(t),n.d(t,"create",(function(){return i}));var r={};!function(){var e=function(){var e,t;function n(){window.requestAnimationFrame&&window.cancelAnimationFrame?(e=window.requestAnimationFrame,t=window.cancelAnimationFrame):["webkit","moz","o","ms"].forEach((function(n){if(!e||!t){var r=n+"RequestAnimationFrame",i=n+"CancelAnimationFrame";window[r]&&window[i]&&(e=window[r],t=window[i])}})),e&&t||(e=function(e){return window.setTimeout(e,1e3/60)},t=function(e){return window.clearTimeout(e)})}return{frame:function(t){return e||n(),e(t)},cancel:function(e){return t||n(),t(e)}}}(),t={particleCount:50,angle:90,spread:45,startVelocity:45,decay:.9,ticks:200,x:.5,y:.5,shapes:["square","circle"],zIndex:100,colors:["#26ccff","#a25afd","#ff5e7e","#88ff5a","#fcff42","#ffa62d","#ff36ff"]};function n(){}function i(e,n,r){return function(e,t){return t?t(e):e}(e&&null!=e[n]?e[n]:t[n],r)}function o(e){return parseInt(e,16)}function a(e){e.width=document.documentElement.clientWidth,e.height=document.documentElement.clientHeight}function s(e){var t=e.getBoundingClientRect();e.width=t.width,e.height=t.height}function l(t,i,o,l,c){var u,d,p=i.slice(),m=t.getContext("2d"),f=t.width,h=t.height,v=o?a:s;function g(){f=h=null}var b,y,k,w=(b=function(n){function r(){u=d=null,l&&window.removeEventListener("resize",g),m.clearRect(0,0,f,h),c(),n()}u=e.frame((function n(){f||h||(v(t),f=t.width,h=t.height),m.clearRect(0,0,f,h),(p=p.filter((function(e){return function(e,t){t.x+=Math.cos(t.angle2D)*t.velocity,t.y+=Math.sin(t.angle2D)*t.velocity+3,t.wobble+=.1,t.velocity*=t.decay,t.tiltAngle+=.1,t.tiltSin=Math.sin(t.tiltAngle),t.tiltCos=Math.cos(t.tiltAngle),t.random=Math.random()+5,t.wobbleX=t.x+10*Math.cos(t.wobble),t.wobbleY=t.y+10*Math.sin(t.wobble);var n=t.tick++/t.totalTicks,r=t.x+t.random*t.tiltCos,i=t.y+t.random*t.tiltSin,o=t.wobbleX+t.random*t.tiltCos,a=t.wobbleY+t.random*t.tiltSin;return e.fillStyle="rgba("+t.color.r+", "+t.color.g+", "+t.color.b+", "+(1-n)+")",e.beginPath(),"circle"===t.shape?e.ellipse?e.ellipse(t.x,t.y,.6*Math.abs(o-r),.6*Math.abs(a-i),Math.PI/10*t.wobble,0,2*Math.PI):function(e,t,n,r,i,o,a,s,l){e.save(),e.translate(t,n),e.rotate(o),e.scale(r,i),e.arc(0,0,1,a,s,l),e.restore()}(e,t.x,t.y,.6*Math.abs(o-r),.6*Math.abs(a-i),Math.PI/10*t.wobble,0,2*Math.PI):(e.moveTo(Math.floor(t.x),Math.floor(t.y)),e.lineTo(Math.floor(t.wobbleX),Math.floor(i)),e.lineTo(Math.floor(o),Math.floor(a)),e.lineTo(Math.floor(r),Math.floor(t.wobbleY))),e.closePath(),e.fill(),t.tick<t.totalTicks}(m,e)}))).length?u=e.frame(n):r()})),d=r},y=r.exports.Promise,"function"==typeof(k=void 0!==y?y:window.Promise)?new k(b):(b(n,n),null));return l&&window.addEventListener("resize",g,!1),{addFettis:function(e){return p=p.concat(e),w},canvas:t,promise:w,reset:function(){u&&e.cancel(u),d&&d()}}}function c(e,t){var n,r=!e,c=!!i(t||{},"resize"),u=!1;function d(t){var d=i(t,"particleCount",Math.floor),p=i(t,"angle",Number),m=i(t,"spread",Number),f=i(t,"startVelocity",Number),h=i(t,"decay",Number),v=i(t,"colors"),g=i(t,"ticks",Number),b=i(t,"zIndex",Number),y=i(t,"shapes"),k=function(e){var t=i(e,"origin",Object);return t.x=i(t,"x",Number),t.y=i(t,"y",Number),t}(t),w=d,j=[];r?e=n?n.canvas:function(e){var t=document.createElement("canvas");return a(t),t.style.position="fixed",t.style.top="0px",t.style.left="0px",t.style.pointerEvents="none",t.style.zIndex=e,t}(b):c&&!u&&(s(e),u=!0);for(var _,x,C,O,S,E,T,P=e.width*k.x,N=e.height*k.y;w--;)j.push((_={x:P,y:N,angle:p,spread:m,startVelocity:f,color:v[w%v.length],shape:y[(E=0,T=y.length,Math.floor(Math.random()*(T-E))+E)],ticks:g,decay:h},x=void 0,C=void 0,O=void 0,S=void 0,O=_.angle*(Math.PI/180),S=_.spread*(Math.PI/180),{x:_.x,y:_.y,wobble:10*Math.random(),velocity:.5*_.startVelocity+Math.random()*_.startVelocity,angle2D:-O+(.5*S-Math.random()*S),tiltAngle:Math.random()*Math.PI,color:(x=_.color,C=String(x).replace(/[^0-9a-f]/gi,""),C.length<6&&(C=C[0]+C[0]+C[1]+C[1]+C[2]+C[2]),{r:o(C.substring(0,2)),g:o(C.substring(2,4)),b:o(C.substring(4,6))}),shape:_.shape,tick:0,totalTicks:_.ticks,decay:_.decay,random:Math.random()+5,tiltSin:0,tiltCos:0,wobbleX:0,wobbleY:0}));return n?n.addFettis(j):(r&&document.body.appendChild(e),(n=l(e,j,r,r||c,(function(){n=null,r&&document.body.removeChild(e)}))).promise)}return d.reset=function(){n&&n.reset()},d}r.exports=c(),r.exports.create=c}(),t.default=r.exports;var i=r.exports.create},"./node_modules/create-emotion/dist/index.esm.js":function(e,t,n){"use strict";var r=function(e){var t={};return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}},i={animationIterationCount:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};var o=function(e){for(var t,n=e.length,r=n^n,i=0;n>=4;)t=1540483477*(65535&(t=255&e.charCodeAt(i)|(255&e.charCodeAt(++i))<<8|(255&e.charCodeAt(++i))<<16|(255&e.charCodeAt(++i))<<24))+((1540483477*(t>>>16)&65535)<<16),r=1540483477*(65535&r)+((1540483477*(r>>>16)&65535)<<16)^(t=1540483477*(65535&(t^=t>>>24))+((1540483477*(t>>>16)&65535)<<16)),n-=4,++i;switch(n){case 3:r^=(255&e.charCodeAt(i+2))<<16;case 2:r^=(255&e.charCodeAt(i+1))<<8;case 1:r=1540483477*(65535&(r^=255&e.charCodeAt(i)))+((1540483477*(r>>>16)&65535)<<16)}return r=1540483477*(65535&(r^=r>>>13))+((1540483477*(r>>>16)&65535)<<16),((r^=r>>>15)>>>0).toString(36)};var a=function(e){function t(e,r,l,c,p){for(var m,f,h,v,k,j=0,_=0,x=0,C=0,O=0,I=0,D=h=m=0,R=0,L=0,M=0,F=0,V=l.length,z=V-1,U="",H="",W="",q="";R<V;){if(f=l.charCodeAt(R),R===z&&0!==_+C+x+j&&(0!==_&&(f=47===_?10:47),C=x=j=0,V++,z++),0===_+C+x+j){if(R===z&&(0<L&&(U=U.replace(d,"")),0<U.trim().length)){switch(f){case 32:case 9:case 59:case 13:case 10:break;default:U+=l.charAt(R)}f=59}switch(f){case 123:for(m=(U=U.trim()).charCodeAt(0),h=1,F=++R;R<V;){switch(f=l.charCodeAt(R)){case 123:h++;break;case 125:h--;break;case 47:switch(f=l.charCodeAt(R+1)){case 42:case 47:e:{for(D=R+1;D<z;++D)switch(l.charCodeAt(D)){case 47:if(42===f&&42===l.charCodeAt(D-1)&&R+2!==D){R=D+1;break e}break;case 10:if(47===f){R=D+1;break e}}R=D}}break;case 91:f++;case 40:f++;case 34:case 39:for(;R++<z&&l.charCodeAt(R)!==f;);}if(0===h)break;R++}switch(h=l.substring(F,R),0===m&&(m=(U=U.replace(u,"").trim()).charCodeAt(0)),m){case 64:switch(0<L&&(U=U.replace(d,"")),f=U.charCodeAt(1)){case 100:case 109:case 115:case 45:L=r;break;default:L=N}if(F=(h=t(r,L,h,f,p+1)).length,0<A&&(k=s(3,h,L=n(N,U,M),r,E,S,F,f,p,c),U=L.join(""),void 0!==k&&0===(F=(h=k.trim()).length)&&(f=0,h="")),0<F)switch(f){case 115:U=U.replace(w,a);case 100:case 109:case 45:h=U+"{"+h+"}";break;case 107:h=(U=U.replace(g,"$1 $2"))+"{"+h+"}",h=1===P||2===P&&o("@"+h,3)?"@-webkit-"+h+"@"+h:"@"+h;break;default:h=U+h,112===c&&(H+=h,h="")}else h="";break;default:h=t(r,n(r,U,M),h,c,p+1)}W+=h,h=M=L=D=m=0,U="",f=l.charCodeAt(++R);break;case 125:case 59:if(1<(F=(U=(0<L?U.replace(d,""):U).trim()).length))switch(0===D&&(m=U.charCodeAt(0),45===m||96<m&&123>m)&&(F=(U=U.replace(" ",":")).length),0<A&&void 0!==(k=s(1,U,r,e,E,S,H.length,c,p,c))&&0===(F=(U=k.trim()).length)&&(U="\0\0"),m=U.charCodeAt(0),f=U.charCodeAt(1),m){case 0:break;case 64:if(105===f||99===f){q+=U+l.charAt(R);break}default:58!==U.charCodeAt(F-1)&&(H+=i(U,m,f,U.charCodeAt(2)))}M=L=D=m=0,U="",f=l.charCodeAt(++R)}}switch(f){case 13:case 10:47===_?_=0:0===1+m&&107!==c&&0<U.length&&(L=1,U+="\0"),0<A*B&&s(0,U,r,e,E,S,H.length,c,p,c),S=1,E++;break;case 59:case 125:if(0===_+C+x+j){S++;break}default:switch(S++,v=l.charAt(R),f){case 9:case 32:if(0===C+j+_)switch(O){case 44:case 58:case 9:case 32:v="";break;default:32!==f&&(v=" ")}break;case 0:v="\\0";break;case 12:v="\\f";break;case 11:v="\\v";break;case 38:0===C+_+j&&(L=M=1,v="\f"+v);break;case 108:if(0===C+_+j+T&&0<D)switch(R-D){case 2:112===O&&58===l.charCodeAt(R-3)&&(T=O);case 8:111===I&&(T=I)}break;case 58:0===C+_+j&&(D=R);break;case 44:0===_+x+C+j&&(L=1,v+="\r");break;case 34:case 39:0===_&&(C=C===f?0:0===C?f:C);break;case 91:0===C+_+x&&j++;break;case 93:0===C+_+x&&j--;break;case 41:0===C+_+j&&x--;break;case 40:if(0===C+_+j){if(0===m)switch(2*O+3*I){case 533:break;default:m=1}x++}break;case 64:0===_+x+C+j+D+h&&(h=1);break;case 42:case 47:if(!(0<C+j+x))switch(_){case 0:switch(2*f+3*l.charCodeAt(R+1)){case 235:_=47;break;case 220:F=R,_=42}break;case 42:47===f&&42===O&&F+2!==R&&(33===l.charCodeAt(F+2)&&(H+=l.substring(F,R+1)),v="",_=0)}}0===_&&(U+=v)}I=O,O=f,R++}if(0<(F=H.length)){if(L=r,0<A&&(void 0!==(k=s(2,H,L,e,E,S,F,c,p,c))&&0===(H=k).length))return q+H+W;if(H=L.join(",")+"{"+H+"}",0!=P*T){switch(2!==P||o(H,2)||(T=0),T){case 111:H=H.replace(y,":-moz-$1")+H;break;case 112:H=H.replace(b,"::-webkit-input-$1")+H.replace(b,"::-moz-$1")+H.replace(b,":-ms-input-$1")+H}T=0}}return q+H+W}function n(e,t,n){var i=t.trim().split(h);t=i;var o=i.length,a=e.length;switch(a){case 0:case 1:var s=0;for(e=0===a?"":e[0]+" ";s<o;++s)t[s]=r(e,t[s],n).trim();break;default:var l=s=0;for(t=[];s<o;++s)for(var c=0;c<a;++c)t[l++]=r(e[c]+" ",i[s],n).trim()}return t}function r(e,t,n){var r=t.charCodeAt(0);switch(33>r&&(r=(t=t.trim()).charCodeAt(0)),r){case 38:return t.replace(v,"$1"+e.trim());case 58:return e.trim()+t.replace(v,"$1"+e.trim());default:if(0<1*n&&0<t.indexOf("\f"))return t.replace(v,(58===e.charCodeAt(0)?"":"$1")+e.trim())}return e+t}function i(e,t,n,r){var a=e+";",s=2*t+3*n+4*r;if(944===s){e=a.indexOf(":",9)+1;var l=a.substring(e,a.length-1).trim();return l=a.substring(0,e).trim()+l+";",1===P||2===P&&o(l,1)?"-webkit-"+l+l:l}if(0===P||2===P&&!o(a,1))return a;switch(s){case 1015:return 97===a.charCodeAt(10)?"-webkit-"+a+a:a;case 951:return 116===a.charCodeAt(3)?"-webkit-"+a+a:a;case 963:return 110===a.charCodeAt(5)?"-webkit-"+a+a:a;case 1009:if(100!==a.charCodeAt(4))break;case 969:case 942:return"-webkit-"+a+a;case 978:return"-webkit-"+a+"-moz-"+a+a;case 1019:case 983:return"-webkit-"+a+"-moz-"+a+"-ms-"+a+a;case 883:if(45===a.charCodeAt(8))return"-webkit-"+a+a;if(0<a.indexOf("image-set(",11))return a.replace(O,"$1-webkit-$2")+a;break;case 932:if(45===a.charCodeAt(4))switch(a.charCodeAt(5)){case 103:return"-webkit-box-"+a.replace("-grow","")+"-webkit-"+a+"-ms-"+a.replace("grow","positive")+a;case 115:return"-webkit-"+a+"-ms-"+a.replace("shrink","negative")+a;case 98:return"-webkit-"+a+"-ms-"+a.replace("basis","preferred-size")+a}return"-webkit-"+a+"-ms-"+a+a;case 964:return"-webkit-"+a+"-ms-flex-"+a+a;case 1023:if(99!==a.charCodeAt(8))break;return"-webkit-box-pack"+(l=a.substring(a.indexOf(":",15)).replace("flex-","").replace("space-between","justify"))+"-webkit-"+a+"-ms-flex-pack"+l+a;case 1005:return m.test(a)?a.replace(p,":-webkit-")+a.replace(p,":-moz-")+a:a;case 1e3:switch(t=(l=a.substring(13).trim()).indexOf("-")+1,l.charCodeAt(0)+l.charCodeAt(t)){case 226:l=a.replace(k,"tb");break;case 232:l=a.replace(k,"tb-rl");break;case 220:l=a.replace(k,"lr");break;default:return a}return"-webkit-"+a+"-ms-"+l+a;case 1017:if(-1===a.indexOf("sticky",9))break;case 975:switch(t=(a=e).length-10,s=(l=(33===a.charCodeAt(t)?a.substring(0,t):a).substring(e.indexOf(":",7)+1).trim()).charCodeAt(0)+(0|l.charCodeAt(7))){case 203:if(111>l.charCodeAt(8))break;case 115:a=a.replace(l,"-webkit-"+l)+";"+a;break;case 207:case 102:a=a.replace(l,"-webkit-"+(102<s?"inline-":"")+"box")+";"+a.replace(l,"-webkit-"+l)+";"+a.replace(l,"-ms-"+l+"box")+";"+a}return a+";";case 938:if(45===a.charCodeAt(5))switch(a.charCodeAt(6)){case 105:return l=a.replace("-items",""),"-webkit-"+a+"-webkit-box-"+l+"-ms-flex-"+l+a;case 115:return"-webkit-"+a+"-ms-flex-item-"+a.replace(_,"")+a;default:return"-webkit-"+a+"-ms-flex-line-pack"+a.replace("align-content","").replace(_,"")+a}break;case 973:case 989:if(45!==a.charCodeAt(3)||122===a.charCodeAt(4))break;case 931:case 953:if(!0===C.test(e))return 115===(l=e.substring(e.indexOf(":")+1)).charCodeAt(0)?i(e.replace("stretch","fill-available"),t,n,r).replace(":fill-available",":stretch"):a.replace(l,"-webkit-"+l)+a.replace(l,"-moz-"+l.replace("fill-",""))+a;break;case 962:if(a="-webkit-"+a+(102===a.charCodeAt(5)?"-ms-"+a:"")+a,211===n+r&&105===a.charCodeAt(13)&&0<a.indexOf("transform",10))return a.substring(0,a.indexOf(";",27)+1).replace(f,"$1-webkit-$2")+a}return a}function o(e,t){var n=e.indexOf(1===t?":":"{"),r=e.substring(0,3!==t?n:10);return n=e.substring(n+1,e.length-1),D(2!==t?r:r.replace(x,"$1"),n,t)}function a(e,t){var n=i(t,t.charCodeAt(0),t.charCodeAt(1),t.charCodeAt(2));return n!==t+";"?n.replace(j," or ($1)").substring(4):"("+t+")"}function s(e,t,n,r,i,o,a,s,l,u){for(var d,p=0,m=t;p<A;++p)switch(d=I[p].call(c,e,m,n,r,i,o,a,s,l,u)){case void 0:case!1:case!0:case null:break;default:m=d}if(m!==t)return m}function l(e){return void 0!==(e=e.prefix)&&(D=null,e?"function"!=typeof e?P=1:(P=2,D=e):P=0),l}function c(e,n){var r=e;if(33>r.charCodeAt(0)&&(r=r.trim()),r=[r],0<A){var i=s(-1,n,r,r,E,S,0,0,0,0);void 0!==i&&"string"==typeof i&&(n=i)}var o=t(N,r,n,0,0);return 0<A&&(void 0!==(i=s(-2,o,r,r,E,S,o.length,0,0,0))&&(o=i)),"",T=0,S=E=1,o}var u=/^\0+/g,d=/[\0\r\f]/g,p=/: */g,m=/zoo|gra/,f=/([,: ])(transform)/g,h=/,\r+?/g,v=/([\t\r\n ])*\f?&/g,g=/@(k\w+)\s*(\S*)\s*/,b=/::(place)/g,y=/:(read-only)/g,k=/[svh]\w+-[tblr]{2}/,w=/\(\s*(.*)\s*\)/g,j=/([\s\S]*?);/g,_=/-self|flex-/g,x=/[^]*?(:[rp][el]a[\w-]+)[^]*/,C=/stretch|:\s*\w+\-(?:conte|avail)/,O=/([^-])(image-set\()/,S=1,E=1,T=0,P=1,N=[],I=[],A=0,D=null,B=0;return c.use=function e(t){switch(t){case void 0:case null:A=I.length=0;break;default:switch(t.constructor){case Array:for(var n=0,r=t.length;n<r;++n)e(t[n]);break;case Function:I[A++]=t;break;case Boolean:B=0|!!t}}return e},c.set=l,void 0!==e&&l(e),c},s=n("./node_modules/stylis-rule-sheet/index.js"),l=n.n(s),c=/[A-Z]|^ms/g,u=r((function(e){return e.replace(c,"-$&").toLowerCase()})),d=function(e,t){return null==t||"boolean"==typeof t?"":1===i[e]||45===e.charCodeAt(1)||isNaN(t)||0===t?t:t+"px"},p=function e(t){for(var n=t.length,r=0,i="";r<n;r++){var o=t[r];if(null!=o){var a=void 0;switch(typeof o){case"boolean":break;case"function":0,a=e([o()]);break;case"object":if(Array.isArray(o))a=e(o);else for(var s in a="",o)o[s]&&s&&(a&&(a+=" "),a+=s);break;default:a=o}a&&(i&&(i+=" "),i+=a)}}return i},m="undefined"!=typeof document;function f(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key||""),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),(void 0!==e.container?e.container:document.head).appendChild(t),t}var h=function(){function e(e){this.isSpeedy=!0,this.tags=[],this.ctr=0,this.opts=e}var t=e.prototype;return t.inject=function(){if(this.injected)throw new Error("already injected!");this.tags[0]=f(this.opts),this.injected=!0},t.speedy=function(e){if(0!==this.ctr)throw new Error("cannot change speedy now");this.isSpeedy=!!e},t.insert=function(e,t){if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(this.tags[this.tags.length-1]);try{n.insertRule(e,n.cssRules.length)}catch(e){0}}else{var r=f(this.opts);this.tags.push(r),r.appendChild(document.createTextNode(e+(t||"")))}this.ctr++,this.ctr%65e3==0&&this.tags.push(f(this.opts))},t.flush=function(){this.tags.forEach((function(e){return e.parentNode.removeChild(e)})),this.tags=[],this.ctr=0,this.injected=!1},e}();t.a=function(e,t){if(void 0!==e.__SECRET_EMOTION__)return e.__SECRET_EMOTION__;void 0===t&&(t={});var n,r,i=t.key||"css",s=l()((function(e){n+=e,m&&f.insert(e,g)}));void 0!==t.prefix&&(r={prefix:t.prefix});var c={registered:{},inserted:{},nonce:t.nonce,key:i},f=new h(t);m&&f.inject();var v=new a(r);v.use(t.stylisPlugins)(s);var g="";function b(e,t){if(null==e)return"";switch(typeof e){case"boolean":return"";case"function":if(void 0!==e.__emotion_styles){var n=e.toString();return n}return b.call(this,void 0===this?e():e(this.mergedProps,this.context),t);case"object":return j.call(this,e);default:var r=c.registered[e];return!1===t&&void 0!==r?r:e}}var y,k,w=new WeakMap;function j(e){if(w.has(e))return w.get(e);var t="";return Array.isArray(e)?e.forEach((function(e){t+=b.call(this,e,!1)}),this):Object.keys(e).forEach((function(n){"object"!=typeof e[n]?void 0!==c.registered[e[n]]?t+=n+"{"+c.registered[e[n]]+"}":t+=u(n)+":"+d(n,e[n])+";":Array.isArray(e[n])&&"string"==typeof e[n][0]&&void 0===c.registered[e[n][0]]?e[n].forEach((function(e){t+=u(n)+":"+d(n,e)+";"})):t+=n+"{"+b.call(this,e[n],!1)+"}"}),this),w.set(e,t),t}var _=/label:\s*([^\s;\n{]+)\s*;/g,x=function(e,t){return o(e+t)+t},C=function(e){var t=!0,n="",r="";null==e||void 0===e.raw?(t=!1,n+=b.call(this,e,!1)):n+=e[0];for(var i=arguments.length,o=new Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return o.forEach((function(r,i){n+=b.call(this,r,46===n.charCodeAt(n.length-1)),!0===t&&void 0!==e[i+1]&&(n+=e[i+1])}),this),k=n,n=n.replace(_,(function(e,t){return r+="-"+t,""})),y=x(n,r),n};function O(e,t){void 0===c.inserted[y]&&(n="",v(e,t),c.inserted[y]=n)}var S=function(){var e=C.apply(this,arguments),t=i+"-"+y;return void 0===c.registered[t]&&(c.registered[t]=k),O("."+t,e),t};function E(e,t){var n="";return t.split(" ").forEach((function(t){void 0!==c.registered[t]?e.push(t):n+=t+" "})),n}function T(e,t){var n=[],r=E(n,e);return n.length<2?e:r+S(n,t)}function P(e){c.inserted[e]=!0}if(m){var N=document.querySelectorAll("[data-emotion-"+i+"]");Array.prototype.forEach.call(N,(function(e){f.tags[0].parentNode.insertBefore(e,f.tags[0]),e.getAttribute("data-emotion-"+i).split(" ").forEach(P)}))}var I={flush:function(){m&&(f.flush(),f.inject()),c.inserted={},c.registered={}},hydrate:function(e){e.forEach(P)},cx:function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return T(p(t))},merge:T,getRegisteredStyles:E,injectGlobal:function(){var e=C.apply(this,arguments);O("",e)},keyframes:function(){var e=C.apply(this,arguments),t="animation-"+y;return O("","@keyframes "+t+"{"+e+"}"),t},css:S,sheet:f,caches:c};return e.__SECRET_EMOTION__=I,I}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/scripts/views/card/SeparatorCard/SeparatorCard.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._2KpZMYSiDizjEs{height:20px;border-radius:3px;display:flex;align-items:center;justify-content:center;flex-direction:column;overflow:hidden;width:70%;margin:0 auto}._2KpZMYSiDizjEs:before{content:"";display:block;width:100%}._3Zo5oGEJ9Enqr7:before{border-top:2px solid #c1c7d0}',""]),t.locals={separatorCard:"_2KpZMYSiDizjEs",singleHorizontalLine:"_3Zo5oGEJ9Enqr7"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/AutoEnableCalendar/AutoEnableCalendar.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".PSP_lCy_RGudWA div{text-align:center}._2fUBWrjG_vD5ER{font-size:12px;text-decoration:underline;cursor:pointer;color:#5e6c84}._2fUBWrjG_vD5ER:hover{color:#172b4d}._25SeUvu6Ag_D77{font-size:18px;padding-left:2px}.jGo7xN0IW8LpiC{height:140px}._3Y7n-xL8PwisVg{width:100%}",""]),t.locals={buttonGroup:"PSP_lCy_RGudWA",quiet:"_2fUBWrjG_vD5ER",powerUpIcon:"_25SeUvu6Ag_D77",calendarHeroContainer:"jGo7xN0IW8LpiC",calendarHero:"_3Y7n-xL8PwisVg"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardSidebarLoadingError/BoardSidebarLoadingError.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3FiU16_N4f26_h{display:block;text-align:center}._3FiU16_N4f26_h h4{font-size:20px;margin:20px 16px 24px}._3FiU16_N4f26_h p{font-size:16px;margin:0 0 8px}",""]),t.locals={errorMessage:"_3FiU16_N4f26_h"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._3zAOR6yRAJtv2O{padding:0;display:inline-flex;white-space:nowrap}.Cu2yB8ZOVvr4xR{display:inline-flex;height:100%;width:100%;justify-content:center;align-items:center;flex-direction:row;padding:0 2px 0 6px}.Cu2yB8ZOVvr4xR svg{color:#fff}.r3feSQQd2D_Fc0{display:inline-flex;height:100%;width:100%;justify-content:center;align-items:center;flex-direction:row;padding:0 4px 0 2px}.r3feSQQd2D_Fc0 svg{color:#fff;height:12px;width:12px}.Bh8V25z8qgXEvC{display:inline-flex;height:100%;width:100%;padding:0 0 0 2px}.egbi9YS0G-E0eH{padding:0 0 0 6px;display:inline-flex;height:100%;position:relative;z-index:1}.egbi9YS0G-E0eH,.egbi9YS0G-E0eH:before{width:100%;justify-content:center;align-items:center;border-color:#fff}.egbi9YS0G-E0eH:before{content:"";background-color:#fff;height:80%;border-radius:32px;position:absolute;z-index:-1;animation-name:baln0Ylyg-DrYP;animation-duration:2s;animation-iteration-count:infinite}@keyframes baln0Ylyg-DrYP{0%{opacity:0}50%{opacity:1%}to{opacity:0}}._3OKPLPqQC7R_Y2{opacity:1;width:100%;max-width:100%}.ZT6NyMTcax_Bsj{opacity:0;width:0;max-width:0;padding:0;transition-duration:.15s;transition-timing-function:linear}.body-light-board-background .Cu2yB8ZOVvr4xR svg,.body-light-board-background .r3feSQQd2D_Fc0 svg{color:#42526e}',""]),t.locals={boardViewsButton:"_3zAOR6yRAJtv2O",boardViewsButtonIcon:"Cu2yB8ZOVvr4xR",dropDownIcon:"r3feSQQd2D_Fc0",boardViewsLabel:"Bh8V25z8qgXEvC",boardViewsNewLozenge:"egbi9YS0G-E0eH",newPillPulse:"baln0Ylyg-DrYP",newPillExit:"_3OKPLPqQC7R_Y2",newPillExitActive:"ZT6NyMTcax_Bsj"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsButtonCallout.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3HCfQ9DJY5IThB{box-shadow:0 1px 1px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);background:#fff;padding:32px 16px 16px;overflow:auto;position:absolute;display:block;top:45px;width:328px;box-sizing:border-box;border-radius:3px;text-rendering:geometricPrecision;z-index:10}._1Z2gmXRaGnrSU5{position:absolute;background:#fff;width:15px;height:15px;top:41px;left:26px;transform:rotate(45deg);z-index:11}._1k06T0_qCc5Fvg{display:block;position:relative;align-items:center;align-self:center;margin-left:auto;margin-right:auto}._53dbbcFWtSdOwI{color:#172b4d;font-size:16px;font-weight:600;letter-spacing:-.006em;line-height:20px;margin-top:24px;margin-top:10px;display:flex;align-items:center}.KTl1QbUq-G1s5y{color:#172b4d;font-size:14px;font-weight:400;line-height:20px}.gZI4LNJUC-xci-{position:absolute;top:4px;right:4px;background:none;padding:4px;margin:0;border:0;line-height:22px;width:22px;height:22px}.tt4zSEDE5LelWC{color:#a5adba;line-height:14px;margin-left:-1px}",""]),t.locals={boardViewsCallout:"_3HCfQ9DJY5IThB",boardViewsCalloutPointer:"_1Z2gmXRaGnrSU5",trelloViewsImage:"_1k06T0_qCc5Fvg",calloutHeaderText:"_53dbbcFWtSdOwI",calloutContentText:"KTl1QbUq-G1s5y",calloutCloseButtonWrapper:"gZI4LNJUC-xci-",calloutCloseButton:"tt4zSEDE5LelWC"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsFeedbackLink.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1nhSsMX-JEo47j{text-align:center;font-size:12px;margin:10px 0}._1nhSsMX-JEo47j .mXtlYikgYhhhIn{color:#5e6c84;display:inline-block;align-items:center;text-decoration:none;cursor:pointer}._1nhSsMX-JEo47j .mXtlYikgYhhhIn:hover{text-decoration:underline}",""]),t.locals={feedbackRequest:"_1nhSsMX-JEo47j",feedbackLink:"mXtlYikgYhhhIn"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsPopover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2jlUPXOz-m1L5h{margin:2px 0 0}",""]),t.locals={lineSeparator:"_2jlUPXOz-m1L5h"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsPopoverUpsell/BoardViewsUpsellPrompt.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1AnwJJqqLQFihg{margin:0 20px 18px}._28ZpsOBWFggUDj{text-align:center}._28ZpsOBWFggUDj ._3F1TKfp9cGIPJx{color:#172b4d;font-size:20px;font-weight:600;letter-spacing:-.008em;line-height:24px;margin-top:28px;margin-top:12px;margin-bottom:5px}._2WDFn5x9vHNx0E{margin:15px 0}._2WDFn5x9vHNx0E ._25MyMSat-Kksso{margin-right:15px}._2WDFn5x9vHNx0E .ni5612Y4JvcGgV{display:inline-flex;margin-bottom:8px}._2WDFn5x9vHNx0E .EqCbXhsMD8E_hg{color:#172b4d;font-size:14px;font-weight:600;letter-spacing:-.003em;line-height:16px;margin-top:16px;margin-top:8px;margin-bottom:4px}._2WDFn5x9vHNx0E ._8OuDcKXreLYMtR{font-size:12px;line-height:16px;color:#5e6c84}.TAF72J07y6eou_{display:flex;flex-direction:column;align-items:center;text-align:center}.TAF72J07y6eou_ ._3JLPnIHdJWwH_l{margin-top:8px;color:#5e6c84}",""]),t.locals={container:"_1AnwJJqqLQFihg",header:"_28ZpsOBWFggUDj",promptHeader:"_3F1TKfp9cGIPJx",content:"_2WDFn5x9vHNx0E",viewIcon:"_25MyMSat-Kksso",view:"ni5612Y4JvcGgV",viewName:"EqCbXhsMD8E_hg",viewDescription:"_8OuDcKXreLYMtR",ctaSection:"TAF72J07y6eou_",link:"_3JLPnIHdJWwH_l"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/BoardViewsButton/BoardViewsTeamTableLink.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3PgtSSCaXjL2_W{display:flex;text-decoration:none;text-align:center}._38Lds3HWcJBHpu{position:absolute;top:10px;left:4px}._2pQwYpQykniAfE{flex:1 0 auto;display:inline-flex}._1fA1Kw7Vuo4WJi{padding:8px 0}._3MYKbfCL4nBePc{margin-top:8px}._26aZA3XDTvrmbI{flex:0 0 auto;height:36px;width:36px}._1mtmxbD10h7Drm,._26aZA3XDTvrmbI{display:inline-flex;position:relative}._1mtmxbD10h7Drm{flex-grow:1;overflow-x:auto;overflow-y:hidden;padding:8px 0;width:100%}.SdKc7Wol2m-Lwh{position:inline-flex;min-width:0;text-decoration:none;justify-content:center;margin:0 -12px;padding:0 12px}.SdKc7Wol2m-Lwh:hover{background-color:rgba(9,30,66,.04);width:100%}.SdKc7Wol2m-Lwh:active{background-color:#e4f0f6}.SdKc7Wol2m-Lwh ._3aY6-z5kAKXD1J{margin-left:auto}",""]),t.locals={teamTableLinkTile:"_3PgtSSCaXjL2_W",tableIcon:"_38Lds3HWcJBHpu",informationalIcons:"_2pQwYpQykniAfE",betaLozenge:"_1fA1Kw7Vuo4WJi",linkIcon:"_3MYKbfCL4nBePc",tableThumbnail:"_26aZA3XDTvrmbI",tableLinkDescription:"_1mtmxbD10h7Drm",teamTableCell:"SdKc7Wol2m-Lwh","last-item":"_3aY6-z5kAKXD1J"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1aVHZezUaujAku{display:inline-block;width:20px;height:20px}",""]),t.locals={icon:"_1aVHZezUaujAku"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/Buttons/ButlerCardButtons.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3zv98wwVOVa6fE{display:flex;justify-content:space-between}@media only screen and (max-width:750px){._3zv98wwVOVa6fE{justify-content:flex-start}}._1OsMT4LOi8yCME{margin-top:-2px;padding:2px;height:22px}@media only screen and (max-width:750px){._1OsMT4LOi8yCME{margin-left:16px;width:unset!important}}._18rsRjuvO59v-n{border-bottom:1px solid rgba(9,30,66,.13);margin-bottom:16px;padding-bottom:4px}._1giyxcCJc2JOkA{margin-top:4px;text-align:center}._35bHqZrbL5Q2sG{color:#8993a4}._35bHqZrbL5Q2sG:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._35bHqZrbL5Q2sG:focus{outline:5px auto -webkit-focus-ring-color}}._35bHqZrbL5Q2sG:hover{color:#5e6c84}._3BjVxknVgFP-fD{display:inline;cursor:pointer}",""]),t.locals={header:"_3zv98wwVOVa6fE",informationIcon:"_1OsMT4LOi8yCME",aboutButlerPopoverContent:"_18rsRjuvO59v-n",feedbackLinkContainer:"_1giyxcCJc2JOkA",feedbackLink:"_35bHqZrbL5Q2sG",betaLozenge:"_3BjVxknVgFP-fD"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandBlock.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'.tIVqkLjlbnyaFi{display:flex;flex-wrap:wrap;align-items:center;margin-bottom:8px;border:1px solid #dfe1e6;border-radius:3px;padding:6px 12px;font-size:14px;line-height:28px;color:#172b4d}._1VIljuihs3MPvM .tIVqkLjlbnyaFi{position:relative}._1VIljuihs3MPvM .tIVqkLjlbnyaFi:after{content:"";position:absolute;top:100%;left:49.5%;width:1px;height:9px;background-color:#dfe1e6}',""]),t.locals={commandBlock:"tIVqkLjlbnyaFi",commandActionsList:"_1VIljuihs3MPvM"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandSelect.less":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._26F_AQk7Ri2Dut{display:inline-flex;align-items:center}._26F_AQk7Ri2Dut:after,._26F_AQk7Ri2Dut:before{content:"\\A0"}._26F_AQk7Ri2Dut>div{flex-grow:1;width:100%}._3mk5RSJYdbGPGk{width:250px;padding-left:0;margin-top:5px;margin-bottom:5px}._1P18c-8cE9eoAj{display:inline-block;color:#fff;font-weight:500;width:90%;min-height:20px;margin-bottom:-5px;padding:0 5px;text-overflow:ellipsis;border-radius:5px;overflow:hidden;background-color:#b3bac5;background-repeat:repeat-y;background-size:16px 16px;background-position:0 0}.body-color-blind-mode-enabled~div ._1P18c-8cE9eoAj{padding-left:21px;width:69%}._1BgClY786btZqM{background-color:#61bd4f}.body-color-blind-mode-enabled~div ._1BgClY786btZqM{background-image:url('+r(n("./resources/images/patterns/light/StripeDiagonal.svg"))+")}._2mvF0XB47YE6t2{background-color:#f2d600}.body-color-blind-mode-enabled~div ._2mvF0XB47YE6t2{background-image:url("+r(n("./resources/images/patterns/light/WaveSquare.svg"))+")}._3h0TtXgNOye4yO{background-color:#ff9f1a}.body-color-blind-mode-enabled~div ._3h0TtXgNOye4yO{background-image:url("+r(n("./resources/images/patterns/light/StripeVertical.svg"))+")}.y8bFZ4fqBgGMUh{background-color:#eb5a46}.body-color-blind-mode-enabled~div .y8bFZ4fqBgGMUh{background-image:url("+r(n("./resources/images/patterns/light/DotsChecker.svg"))+")}._2DRHHxoMCAz7vM{background-color:#c377e0}.body-color-blind-mode-enabled~div ._2DRHHxoMCAz7vM{background-image:url("+r(n("./resources/images/patterns/light/GrooveDiagonal.svg"))+")}.CSIZyp6lgXu9__{background-color:#0079bf}.body-color-blind-mode-enabled~div .CSIZyp6lgXu9__{background-image:url("+r(n("./resources/images/patterns/light/StripeHorizontal.svg"))+")}._13HvZ0l6ScfzJw{background-color:#ff78cb}.body-color-blind-mode-enabled~div ._13HvZ0l6ScfzJw{background-image:url("+r(n("./resources/images/patterns/light/BrickHorizontal.svg"))+")}.uEA8R0i4UoV4u8{background-color:#00c2e0}.body-color-blind-mode-enabled~div .uEA8R0i4UoV4u8{background-image:url("+r(n("./resources/images/patterns/light/BrickDiagonal.svg"))+")}._1v-SA9qNdsVSsM{background-color:#51e898}.body-color-blind-mode-enabled~div ._1v-SA9qNdsVSsM{background-image:url("+r(n("./resources/images/patterns/light/Scale.svg"))+")}._3v3Tlyova747-G{background-color:#344563}.body-color-blind-mode-enabled~div ._3v3Tlyova747-G{background-image:url("+r(n("./resources/images/patterns/light/BrickVertical.svg"))+")}",""]),t.locals={select:"_26F_AQk7Ri2Dut",labelSelector:"_3mk5RSJYdbGPGk",colorLabel:"_1P18c-8cE9eoAj","colorLabel--green":"_1BgClY786btZqM","colorLabel--yellow":"_2mvF0XB47YE6t2","colorLabel--orange":"_3h0TtXgNOye4yO","colorLabel--red":"y8bFZ4fqBgGMUh","colorLabel--purple":"_2DRHHxoMCAz7vM","colorLabel--blue":"CSIZyp6lgXu9__","colorLabel--pink":"_13HvZ0l6ScfzJw","colorLabel--sky":"uEA8R0i4UoV4u8","colorLabel--lime":"_1v-SA9qNdsVSsM","colorLabel--black":"_3v3Tlyova747-G"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/Butler/CommandEditors/CommandText.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._1VO-1NlYR10ot2{display:inline-flex;align-items:center}._1VO-1NlYR10ot2:after,._1VO-1NlYR10ot2:before{content:"\\A0"}._1VO-1NlYR10ot2>input{flex-grow:1}._1VO-1NlYR10ot2 input[type=number]{-moz-appearance:textfield}._1VO-1NlYR10ot2 input[type=number]::-webkit-inner-spin-button,._1VO-1NlYR10ot2 input[type=number]::-webkit-outer-spin-button{-webkit-appearance:none;margin:0}',""]),t.locals={commandText:"_1VO-1NlYR10ot2"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/CardCoversSetting.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1H24C7UKctQICN{margin-bottom:0}._1H24C7UKctQICN,._15M1Y_ms6fMtxS{text-align:center}.biDvWRnxvd9iFl{margin-bottom:0}",""]),t.locals={notAdmin:"_1H24C7UKctQICN",isAdmin:"_15M1Y_ms6fMtxS",enableButton:"biDvWRnxvd9iFl"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/ColorCover.less":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".RTmeIoMP_kSe5T{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}.RTmeIoMP_kSe5T::-webkit-scrollbar{height:8px;width:8px}.RTmeIoMP_kSe5T::-webkit-scrollbar-button:end:increment,.RTmeIoMP_kSe5T::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}.RTmeIoMP_kSe5T::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}.RTmeIoMP_kSe5T::-webkit-scrollbar-thumb:horizontal,.RTmeIoMP_kSe5T::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}.RTmeIoMP_kSe5T._1PyHiQbDdSUWBK{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2Qa_l9ojLUlSqR{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._2Qa_l9ojLUlSqR._1_qz6jmAp-aP8m{opacity:.25}._2Qa_l9ojLUlSqR:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._2Qa_l9ojLUlSqR:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._2Qa_l9ojLUlSqR._3H41ES9liaXynr{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._2Qa_l9ojLUlSqR._3H41ES9liaXynr:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._2Qa_l9ojLUlSqR._3H41ES9liaXynr:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;-webkit-filter:none;filter:none}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;-webkit-filter:none;filter:none}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;-webkit-filter:none;filter:none}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR:active ._3NMs3ewwRySKGg{color:#0079bf}._2Qa_l9ojLUlSqR.dsLtlzTR-f72BR:active svg circle{stroke:#0079bf}._230dNndTdS7vRJ{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._3zYZrEHtMpYE6i{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr 1fr 1fr}._3zYZrEHtMpYE6i::-webkit-scrollbar{height:8px;width:8px}._3zYZrEHtMpYE6i::-webkit-scrollbar-button:end:increment,._3zYZrEHtMpYE6i::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3zYZrEHtMpYE6i::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3zYZrEHtMpYE6i::-webkit-scrollbar-thumb:horizontal,._3zYZrEHtMpYE6i::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3zYZrEHtMpYE6i._1PyHiQbDdSUWBK{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._9HlyjDStZT9Tkt{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;width:50px;height:32px;cursor:pointer}._9HlyjDStZT9Tkt._1_qz6jmAp-aP8m{opacity:.25}._9HlyjDStZT9Tkt:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._9HlyjDStZT9Tkt:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._9HlyjDStZT9Tkt._3H41ES9liaXynr{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._9HlyjDStZT9Tkt._3H41ES9liaXynr:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._9HlyjDStZT9Tkt._3H41ES9liaXynr:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._9HlyjDStZT9Tkt._3qziXoVq3vOoB-{background-color:#5ba4cf}._9HlyjDStZT9Tkt._VjutK-Uakd6Op{background-color:#7bc86c}._9HlyjDStZT9Tkt._3IxJVmJ52SXvxO{background-color:#ffaf3f}._9HlyjDStZT9Tkt._2hOM7AmVdl8C7W{background-color:#ef7564}._9HlyjDStZT9Tkt.Ds0H9CqAfcVFSh{background-color:#cd8de5}._9HlyjDStZT9Tkt._3wmQ8lVe3zahD9{background-color:#f5dd29}._9HlyjDStZT9Tkt._3wVGI--mpmR634{background-color:#ff8ed4}._9HlyjDStZT9Tkt._2sAsAnMyJDuTix{background-color:#29cce5}._9HlyjDStZT9Tkt._2zEv5Z_t8hhaSh{background-color:#6deca9}._9HlyjDStZT9Tkt._36HiOr-q2SnKP7{background-color:#172b4d}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt{background-size:16px 16px;background-repeat:repeat}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._3qziXoVq3vOoB-{background-image:url("+r(n("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._VjutK-Uakd6Op{background-image:url("+r(n("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._3IxJVmJ52SXvxO{background-image:url("+r(n("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._2hOM7AmVdl8C7W{background-image:url("+r(n("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt.Ds0H9CqAfcVFSh{background-image:url("+r(n("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._3wmQ8lVe3zahD9{background-image:url("+r(n("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._3wVGI--mpmR634{background-image:url("+r(n("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._2sAsAnMyJDuTix{background-image:url("+r(n("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._2zEv5Z_t8hhaSh{background-image:url("+r(n("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._9HlyjDStZT9Tkt._36HiOr-q2SnKP7{background-image:url("+r(n("./resources/images/patterns/light/BrickVertical.svg"))+")}",""]),t.locals={coverTiles:"RTmeIoMP_kSe5T",modFixedHeight:"_1PyHiQbDdSUWBK",coverTilesItem:"_2Qa_l9ojLUlSqR",uploading:"_1_qz6jmAp-aP8m",selected:"_3H41ES9liaXynr",modAdd:"dsLtlzTR-f72BR","icon-sm":"_3NMs3ewwRySKGg",heading:"_230dNndTdS7vRJ",colorTiles:"_3zYZrEHtMpYE6i",colorTile:"_9HlyjDStZT9Tkt",blue:"_3qziXoVq3vOoB-",green:"_VjutK-Uakd6Op",orange:"_3IxJVmJ52SXvxO",red:"_2hOM7AmVdl8C7W",purple:"Ds0H9CqAfcVFSh",yellow:"_3wmQ8lVe3zahD9",pink:"_3wVGI--mpmR634",sky:"_2sAsAnMyJDuTix",lime:"_2zEv5Z_t8hhaSh",black:"_36HiOr-q2SnKP7"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/MiniCard.less":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3ZNTYTqSH-zGL-{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3ZNTYTqSH-zGL-::-webkit-scrollbar{height:8px;width:8px}._3ZNTYTqSH-zGL-::-webkit-scrollbar-button:end:increment,._3ZNTYTqSH-zGL-::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3ZNTYTqSH-zGL-::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3ZNTYTqSH-zGL-::-webkit-scrollbar-thumb:horizontal,._3ZNTYTqSH-zGL-::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3ZNTYTqSH-zGL-._3pfX0YvVJqKSq9{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2j7a9q0-V_TEqd{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._2j7a9q0-V_TEqd._1iIc6GXeKPZUYj{opacity:.25}._2j7a9q0-V_TEqd:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._2j7a9q0-V_TEqd:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._2j7a9q0-V_TEqd._2TXPT3SuVCUYZF{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._2j7a9q0-V_TEqd._2TXPT3SuVCUYZF:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._2j7a9q0-V_TEqd._2TXPT3SuVCUYZF:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._2j7a9q0-V_TEqd._1ndbchVWcccxJj{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;-webkit-filter:none;filter:none}._2j7a9q0-V_TEqd._1ndbchVWcccxJj:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;-webkit-filter:none;filter:none}._2j7a9q0-V_TEqd._1ndbchVWcccxJj:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;-webkit-filter:none;filter:none}._2j7a9q0-V_TEqd._1ndbchVWcccxJj:active ._2bi48A9howWO_m{color:#0079bf}._2j7a9q0-V_TEqd._1ndbchVWcccxJj:active svg circle{stroke:#0079bf}._1BPeZhZP3WlV9X{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._1viqoNbp3RGt0Y{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr 1fr 1fr}._1viqoNbp3RGt0Y::-webkit-scrollbar{height:8px;width:8px}._1viqoNbp3RGt0Y::-webkit-scrollbar-button:end:increment,._1viqoNbp3RGt0Y::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1viqoNbp3RGt0Y::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1viqoNbp3RGt0Y::-webkit-scrollbar-thumb:horizontal,._1viqoNbp3RGt0Y::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1viqoNbp3RGt0Y._3pfX0YvVJqKSq9{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._13gMeZaeJM4R_R{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;width:50px;height:32px;cursor:pointer}._13gMeZaeJM4R_R._1iIc6GXeKPZUYj{opacity:.25}._13gMeZaeJM4R_R:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._13gMeZaeJM4R_R:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._13gMeZaeJM4R_R._2TXPT3SuVCUYZF{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._13gMeZaeJM4R_R._2TXPT3SuVCUYZF:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._13gMeZaeJM4R_R._2TXPT3SuVCUYZF:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._13gMeZaeJM4R_R._3olFfJuileHTzu{background-color:#5ba4cf}._13gMeZaeJM4R_R._321rwMEtxUkyai{background-color:#7bc86c}._13gMeZaeJM4R_R._38m8iXWeuTH6JJ{background-color:#ffaf3f}._13gMeZaeJM4R_R._236Jd26UD4Nbd6{background-color:#ef7564}._13gMeZaeJM4R_R._207qy-0OdXObOR{background-color:#cd8de5}._13gMeZaeJM4R_R._3-cGT-dmFxAOWZ{background-color:#f5dd29}._13gMeZaeJM4R_R._17lSFoKyYAkApk{background-color:#ff8ed4}._13gMeZaeJM4R_R._3JuPs6NSLdDUI-{background-color:#29cce5}._13gMeZaeJM4R_R._1xziIBKUmhwNSJ{background-color:#6deca9}._13gMeZaeJM4R_R._2-5M3mLJVdgvRI{background-color:#172b4d}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R{background-size:16px 16px;background-repeat:repeat}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._3olFfJuileHTzu{background-image:url("+r(n("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._321rwMEtxUkyai{background-image:url("+r(n("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._38m8iXWeuTH6JJ{background-image:url("+r(n("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._236Jd26UD4Nbd6{background-image:url("+r(n("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._207qy-0OdXObOR{background-image:url("+r(n("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._3-cGT-dmFxAOWZ{background-image:url("+r(n("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._17lSFoKyYAkApk{background-image:url("+r(n("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._3JuPs6NSLdDUI-{background-image:url("+r(n("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._1xziIBKUmhwNSJ{background-image:url("+r(n("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._13gMeZaeJM4R_R._2-5M3mLJVdgvRI{background-image:url("+r(n("./resources/images/patterns/light/BrickVertical.svg"))+")}._1a8LrtkAQTAK-j{margin:0;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;cursor:pointer;background:#fff;border-radius:3px;position:relative;width:134px;height:34px;border:1px solid rgba(9,30,66,.08)}._1a8LrtkAQTAK-j._1iIc6GXeKPZUYj{opacity:.25}._1a8LrtkAQTAK-j:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._1a8LrtkAQTAK-j:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._1a8LrtkAQTAK-j._2TXPT3SuVCUYZF{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._1a8LrtkAQTAK-j._2TXPT3SuVCUYZF:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._1a8LrtkAQTAK-j._2TXPT3SuVCUYZF:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a{height:28px;border-radius:3px 3px 0 0}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._3olFfJuileHTzu{background-color:#5ba4cf}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._321rwMEtxUkyai{background-color:#7bc86c}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._38m8iXWeuTH6JJ{background-color:#ffaf3f}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._236Jd26UD4Nbd6{background-color:#ef7564}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._207qy-0OdXObOR{background-color:#cd8de5}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._3-cGT-dmFxAOWZ{background-color:#f5dd29}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._17lSFoKyYAkApk{background-color:#ff8ed4}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._3JuPs6NSLdDUI-{background-color:#29cce5}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._1xziIBKUmhwNSJ{background-color:#6deca9}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._2WIiiCSEst2vV-._2-5M3mLJVdgvRI{background-color:#172b4d}._1a8LrtkAQTAK-j ._2n6YBcAzfBM_0a._3Nb7RJ6JRfDx3z{background-size:cover}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_{padding:6px 4px 4px 6px;position:relative}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ .iNrcwkjGRZWeLW{background:#6b778c;height:4px;border-radius:2px;width:122px}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs{width:98px;margin-top:4px}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ .MSLVFDgwEE7ILt{display:flex;margin-top:6px}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ .MSLVFDgwEE7ILt ._1ZlsPuJsGpFga7{width:16px;height:6px;background:#6b778c;border-radius:2px;margin-right:2px}._1a8LrtkAQTAK-j ._2F9ioHU3xVEem_ ._3OZzs3qEQCIZ_E{position:absolute;width:10px;height:10px;right:4px;bottom:4px;background:#6b778c;border-radius:5px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q,._1a8LrtkAQTAK-j.UC8-8jzxy9UkT0{height:62px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3olFfJuileHTzu{background-color:#5ba4cf}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._321rwMEtxUkyai{background-color:#7bc86c}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._38m8iXWeuTH6JJ{background-color:#ffaf3f}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._236Jd26UD4Nbd6{background-color:#ef7564}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._207qy-0OdXObOR{background-color:#cd8de5}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3-cGT-dmFxAOWZ{background-color:#f5dd29}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._17lSFoKyYAkApk{background-color:#ff8ed4}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3JuPs6NSLdDUI-{background-color:#29cce5}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._1xziIBKUmhwNSJ{background-color:#6deca9}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._2-5M3mLJVdgvRI{background-color:#172b4d}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._3Nb7RJ6JRfDx3z{background-size:cover;background-position:50%}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_{position:absolute;bottom:4px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ .iNrcwkjGRZWeLW{background:rgba(9,30,66,.6)}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ .iNrcwkjGRZWeLW{width:116px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs{width:92px}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_._11g85mwkYGI1Jk ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_._11g85mwkYGI1Jk .iNrcwkjGRZWeLW{background:#fff}._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ ._3OZzs3qEQCIZ_E,._1a8LrtkAQTAK-j._4FN7X40rw25a6Q ._2F9ioHU3xVEem_ .MSLVFDgwEE7ILt{display:none}._1a8LrtkAQTAK-j._26XWB5josseeRo{cursor:default}._1a8LrtkAQTAK-j._26XWB5josseeRo:hover{-webkit-filter:unset;filter:unset}._1a8LrtkAQTAK-j._26XWB5josseeRo ._1ZlsPuJsGpFga7,._1a8LrtkAQTAK-j._26XWB5josseeRo ._2n6YBcAzfBM_0a,._1a8LrtkAQTAK-j._26XWB5josseeRo ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j._26XWB5josseeRo ._3OZzs3qEQCIZ_E,._1a8LrtkAQTAK-j._26XWB5josseeRo._4FN7X40rw25a6Q,._1a8LrtkAQTAK-j._26XWB5josseeRo .iNrcwkjGRZWeLW{background:#5e6c84;opacity:.3}._1a8LrtkAQTAK-j._26XWB5josseeRo._4FN7X40rw25a6Q ._3oRL16p-W0XVVs,._1a8LrtkAQTAK-j._26XWB5josseeRo._4FN7X40rw25a6Q .iNrcwkjGRZWeLW{background:#fff;opacity:1}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-{background-size:16px 16px;background-repeat:repeat-y}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3olFfJuileHTzu,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._3olFfJuileHTzu{background-image:url("+r(n("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._321rwMEtxUkyai,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._321rwMEtxUkyai{background-image:url("+r(n("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._38m8iXWeuTH6JJ,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._38m8iXWeuTH6JJ{background-image:url("+r(n("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._236Jd26UD4Nbd6,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._236Jd26UD4Nbd6{background-image:url("+r(n("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._207qy-0OdXObOR,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._207qy-0OdXObOR{background-image:url("+r(n("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3-cGT-dmFxAOWZ,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._3-cGT-dmFxAOWZ{background-image:url("+r(n("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._17lSFoKyYAkApk,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._17lSFoKyYAkApk{background-image:url("+r(n("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._3JuPs6NSLdDUI-,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._3JuPs6NSLdDUI-{background-image:url("+r(n("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._1xziIBKUmhwNSJ,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._1xziIBKUmhwNSJ{background-image:url("+r(n("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV-._2-5M3mLJVdgvRI,.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j>._2WIiiCSEst2vV-._2-5M3mLJVdgvRI{background-image:url("+r(n("./resources/images/patterns/light/BrickVertical.svg"))+")}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV- ._2F9ioHU3xVEem_{padding-left:24px}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV- ._2F9ioHU3xVEem_ .iNrcwkjGRZWeLW{width:100px}.body-color-blind-mode-enabled ._1a8LrtkAQTAK-j._4FN7X40rw25a6Q._2WIiiCSEst2vV- ._2F9ioHU3xVEem_ ._3oRL16p-W0XVVs{width:76px}",""]),t.locals={coverTiles:"_3ZNTYTqSH-zGL-",modFixedHeight:"_3pfX0YvVJqKSq9",coverTilesItem:"_2j7a9q0-V_TEqd",uploading:"_1iIc6GXeKPZUYj",selected:"_2TXPT3SuVCUYZF",modAdd:"_1ndbchVWcccxJj","icon-sm":"_2bi48A9howWO_m",heading:"_1BPeZhZP3WlV9X",colorTiles:"_1viqoNbp3RGt0Y",colorTile:"_13gMeZaeJM4R_R",blue:"_3olFfJuileHTzu",green:"_321rwMEtxUkyai",orange:"_38m8iXWeuTH6JJ",red:"_236Jd26UD4Nbd6",purple:"_207qy-0OdXObOR",yellow:"_3-cGT-dmFxAOWZ",pink:"_17lSFoKyYAkApk",sky:"_3JuPs6NSLdDUI-",lime:"_1xziIBKUmhwNSJ",black:"_2-5M3mLJVdgvRI",miniCard:"_1a8LrtkAQTAK-j",cover:"_2n6YBcAzfBM_0a",colorCardCover:"_2WIiiCSEst2vV-",imageCardCover:"_3Nb7RJ6JRfDx3z",content:"_2F9ioHU3xVEem_",longName:"iNrcwkjGRZWeLW",shortName:"_3oRL16p-W0XVVs",badges:"MSLVFDgwEE7ILt",badge:"_1ZlsPuJsGpFga7",avatar:"_3OZzs3qEQCIZ_E",hasCover:"UC8-8jzxy9UkT0",hasFullCover:"_4FN7X40rw25a6Q",light:"_11g85mwkYGI1Jk",disabled:"_26XWB5josseeRo"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResultImageButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2XWZsTylB5lDaE{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._2XWZsTylB5lDaE::-webkit-scrollbar{height:8px;width:8px}._2XWZsTylB5lDaE::-webkit-scrollbar-button:end:increment,._2XWZsTylB5lDaE::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._2XWZsTylB5lDaE::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._2XWZsTylB5lDaE::-webkit-scrollbar-thumb:horizontal,._2XWZsTylB5lDaE::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._2XWZsTylB5lDaE.Kxre9nfD3Jv-x-{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}.v_UpVlx65vhbBc{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}.v_UpVlx65vhbBc._1frHOuyVrolhNm{opacity:.25}.v_UpVlx65vhbBc:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}.v_UpVlx65vhbBc:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}.v_UpVlx65vhbBc._20js7CVn6hDwDW{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}.v_UpVlx65vhbBc._20js7CVn6hDwDW:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}.v_UpVlx65vhbBc._20js7CVn6hDwDW:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}.v_UpVlx65vhbBc._2Ga8vwljfWavZH{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;-webkit-filter:none;filter:none}.v_UpVlx65vhbBc._2Ga8vwljfWavZH:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;-webkit-filter:none;filter:none}.v_UpVlx65vhbBc._2Ga8vwljfWavZH:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;-webkit-filter:none;filter:none}.v_UpVlx65vhbBc._2Ga8vwljfWavZH:active ._1RR_lfGO1Ur1Tp{color:#0079bf}.v_UpVlx65vhbBc._2Ga8vwljfWavZH:active svg circle{stroke:#0079bf}._1PAhBzxAgmtfxa{position:relative}._34TWB4ax7qwhyL{margin:0;border-radius:4px;width:132px;height:72px;background-size:cover;background-repeat:no-repeat;background-position:50%;cursor:pointer;box-shadow:none}._34TWB4ax7qwhyL._1frHOuyVrolhNm{opacity:.25}._34TWB4ax7qwhyL._1frHOuyVrolhNm ._1JhQgb2U8pcQ1H{margin-right:4px}._34TWB4ax7qwhyL:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._34TWB4ax7qwhyL:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._34TWB4ax7qwhyL._20js7CVn6hDwDW{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._34TWB4ax7qwhyL._20js7CVn6hDwDW:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._34TWB4ax7qwhyL._20js7CVn6hDwDW:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}.q1QWoDJC-NIAnI{display:inline-block}._3zbsfZZvzhk07w{display:block;overflow:hidden;box-sizing:border-box;background:rgba(0,0,0,.8);color:#fff;font-size:12px;text-align:left;position:absolute;width:100%;bottom:0;left:0;z-index:1}._3BTMgnJ1S_0Czm{display:flex;font-size:10px;line-height:16px;height:16px}",""]),t.locals={coverTiles:"_2XWZsTylB5lDaE",modFixedHeight:"Kxre9nfD3Jv-x-",coverTilesItem:"v_UpVlx65vhbBc",uploading:"_1frHOuyVrolhNm",selected:"_20js7CVn6hDwDW",modAdd:"_2Ga8vwljfWavZH","icon-sm":"_1RR_lfGO1Ur1Tp",backgroundGridItem:"_1PAhBzxAgmtfxa",cover:"_34TWB4ax7qwhyL",spinner:"_1JhQgb2U8pcQ1H",uploadIndicator:"q1QWoDJC-NIAnI",upload:"_3zbsfZZvzhk07w",spinnerWrapper:"_3BTMgnJ1S_0Czm"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SearchResults.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".MtwcKrAY10iCcP{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}.MtwcKrAY10iCcP::-webkit-scrollbar{height:8px;width:8px}.MtwcKrAY10iCcP::-webkit-scrollbar-button:end:increment,.MtwcKrAY10iCcP::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}.MtwcKrAY10iCcP::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}.MtwcKrAY10iCcP::-webkit-scrollbar-thumb:horizontal,.MtwcKrAY10iCcP::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}.MtwcKrAY10iCcP._1uDezppYXFbHBJ{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3pwCbisp0aR78I{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._3pwCbisp0aR78I._10EvXEn8cGzjo2{opacity:.25}._3pwCbisp0aR78I:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._3pwCbisp0aR78I:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._3pwCbisp0aR78I._1cJDsF_isdqOlg{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._3pwCbisp0aR78I._1cJDsF_isdqOlg:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._3pwCbisp0aR78I._1cJDsF_isdqOlg:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._3pwCbisp0aR78I.IbZmrbDNOrEOD_{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;-webkit-filter:none;filter:none}._3pwCbisp0aR78I.IbZmrbDNOrEOD_:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;-webkit-filter:none;filter:none}._3pwCbisp0aR78I.IbZmrbDNOrEOD_:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;-webkit-filter:none;filter:none}._3pwCbisp0aR78I.IbZmrbDNOrEOD_:active ._2U8SV9UIIv8nuL{color:#0079bf}._3pwCbisp0aR78I.IbZmrbDNOrEOD_:active svg circle{stroke:#0079bf}.CAtwhcALYIZ7X4{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._3pgH5LbnW04-xX{display:none}._2HltlAXz8CoUXh{display:flex;justify-content:space-between;color:#5e6c84;font-size:12px;line-height:16px;margin-top:12px;height:16px}._2LlJKib0iz9s6H{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}._2LlJKib0iz9s6H::-webkit-scrollbar{height:8px;width:8px}._2LlJKib0iz9s6H::-webkit-scrollbar-button:end:increment,._2LlJKib0iz9s6H::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._2LlJKib0iz9s6H::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._2LlJKib0iz9s6H::-webkit-scrollbar-thumb:horizontal,._2LlJKib0iz9s6H::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._2LlJKib0iz9s6H._1uDezppYXFbHBJ{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju._10EvXEn8cGzjo2{opacity:.25}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju._1cJDsF_isdqOlg{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju._1cJDsF_isdqOlg:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._2LlJKib0iz9s6H ._1zy2yKg7CeYBju._1cJDsF_isdqOlg:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._2LlJKib0iz9s6H>span,.MtwcKrAY10iCcP>span{margin-top:-9px}.ppvgTgGEh-MN4G{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;transition-duration:85ms;transition-timing-function:ease;flex:0 1 auto;opacity:1;transition-property:opacity}._1En7YrI9yo9nbC{opacity:0}.zzqdDXUWr7pF77{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:0 0 auto}._1Cz5uumZYraDJn{color:#5e6c84}",""]),t.locals={coverTiles:"MtwcKrAY10iCcP",modFixedHeight:"_1uDezppYXFbHBJ",coverTilesItem:"_3pwCbisp0aR78I",uploading:"_10EvXEn8cGzjo2",selected:"_1cJDsF_isdqOlg",modAdd:"IbZmrbDNOrEOD_","icon-sm":"_2U8SV9UIIv8nuL",heading:"CAtwhcALYIZ7X4",hideInfiniteListSpinner:"_3pgH5LbnW04-xX",searchResultsFooter:"_2HltlAXz8CoUXh",searchResultTiles:"_2LlJKib0iz9s6H",searchResultTilesItem:"_1zy2yKg7CeYBju",loadingColumn:"ppvgTgGEh-MN4G",isExiting:"_1En7YrI9yo9nbC",unsplashColumn:"zzqdDXUWr7pF77",unsplashLink:"_1Cz5uumZYraDJn"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectAttachmentCover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3fH7oJho9R0bz7{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3fH7oJho9R0bz7::-webkit-scrollbar{height:8px;width:8px}._3fH7oJho9R0bz7::-webkit-scrollbar-button:end:increment,._3fH7oJho9R0bz7::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3fH7oJho9R0bz7::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3fH7oJho9R0bz7::-webkit-scrollbar-thumb:horizontal,._3fH7oJho9R0bz7::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3fH7oJho9R0bz7.vs5JODSD8ukfJk{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3uCSs_asedYtCD{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._3uCSs_asedYtCD.sLqaKuFqHIx6Nh{opacity:.25}._3uCSs_asedYtCD:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._3uCSs_asedYtCD:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._3uCSs_asedYtCD._1drOsv23u1Kuiz{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._3uCSs_asedYtCD._1drOsv23u1Kuiz:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._3uCSs_asedYtCD._1drOsv23u1Kuiz:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;-webkit-filter:none;filter:none}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;-webkit-filter:none;filter:none}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;-webkit-filter:none;filter:none}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9:active ._1myV3iaiVlPQmw{color:#0079bf}._3uCSs_asedYtCD._1n5Q0m-OyK0Sl9:active svg circle{stroke:#0079bf}._6gyIDeA0YC2Ojj{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._266umnppKqyxcX{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}._266umnppKqyxcX::-webkit-scrollbar{height:8px;width:8px}._266umnppKqyxcX::-webkit-scrollbar-button:end:increment,._266umnppKqyxcX::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._266umnppKqyxcX::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._266umnppKqyxcX::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._266umnppKqyxcX::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._266umnppKqyxcX::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._266umnppKqyxcX::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._266umnppKqyxcX::-webkit-scrollbar-thumb:horizontal,._266umnppKqyxcX::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._266umnppKqyxcX.vs5JODSD8ukfJk{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._266umnppKqyxcX ._2Rkx-wUW4H0MU2{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}._266umnppKqyxcX ._2Rkx-wUW4H0MU2.sLqaKuFqHIx6Nh{opacity:.25}._266umnppKqyxcX ._2Rkx-wUW4H0MU2:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._266umnppKqyxcX ._2Rkx-wUW4H0MU2:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._266umnppKqyxcX ._2Rkx-wUW4H0MU2._1drOsv23u1Kuiz{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._266umnppKqyxcX ._2Rkx-wUW4H0MU2._1drOsv23u1Kuiz:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._266umnppKqyxcX ._2Rkx-wUW4H0MU2._1drOsv23u1Kuiz:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._1638oiy6oou4t0{margin-top:4px}._1638oiy6oou4t0._1aDo0lG6FoQqWN,._1638oiy6oou4t0.MOXYJa09sv4xrJ{margin-top:8px}._1Fj6VKwfhxguaj,._1XMmP7DF6X0ehD{margin:4px 0 0;width:100%}",""]),t.locals={coverTiles:"_3fH7oJho9R0bz7",modFixedHeight:"vs5JODSD8ukfJk",coverTilesItem:"_3uCSs_asedYtCD",uploading:"sLqaKuFqHIx6Nh",selected:"_1drOsv23u1Kuiz",modAdd:"_1n5Q0m-OyK0Sl9","icon-sm":"_1myV3iaiVlPQmw",heading:"_6gyIDeA0YC2Ojj",attachmentTiles:"_266umnppKqyxcX",attachmentTilesItem:"_2Rkx-wUW4H0MU2",uploadButton:"_1638oiy6oou4t0",hasPaginatedTiles:"_1aDo0lG6FoQqWN",hasNoAttachments:"MOXYJa09sv4xrJ",showMoreButton:"_1Fj6VKwfhxguaj",showFewerButton:"_1XMmP7DF6X0ehD"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectCover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1bI7f7L7AWeFIj{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._1bI7f7L7AWeFIj::-webkit-scrollbar{height:8px;width:8px}._1bI7f7L7AWeFIj::-webkit-scrollbar-button:end:increment,._1bI7f7L7AWeFIj::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1bI7f7L7AWeFIj::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1bI7f7L7AWeFIj::-webkit-scrollbar-thumb:horizontal,._1bI7f7L7AWeFIj::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1bI7f7L7AWeFIj.ytCRHM_6vlXvOj{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}.K6mun10LS1BRsW{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}.K6mun10LS1BRsW._3r_XWzSsGM5Lrh{opacity:.25}.K6mun10LS1BRsW:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}.K6mun10LS1BRsW:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}.K6mun10LS1BRsW._1YFXhB_367zLuE{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}.K6mun10LS1BRsW._1YFXhB_367zLuE:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}.K6mun10LS1BRsW._1YFXhB_367zLuE:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}.K6mun10LS1BRsW._3yFZG0AF_Ojscn{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;-webkit-filter:none;filter:none}.K6mun10LS1BRsW._3yFZG0AF_Ojscn:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;-webkit-filter:none;filter:none}.K6mun10LS1BRsW._3yFZG0AF_Ojscn:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;-webkit-filter:none;filter:none}.K6mun10LS1BRsW._3yFZG0AF_Ojscn:active ._2ZzgU9Ss5_JMjB{color:#0079bf}.K6mun10LS1BRsW._3yFZG0AF_Ojscn:active svg circle{stroke:#0079bf}._14Ww49tEL2joF2{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:0}._3-CjziCGL9o1aO{margin:8px 0 0;width:100%}._3-CjziCGL9o1aO._1fcxnzs4VXcgEM{margin:4px 0 0}",""]),t.locals={coverTiles:"_1bI7f7L7AWeFIj",modFixedHeight:"ytCRHM_6vlXvOj",coverTilesItem:"K6mun10LS1BRsW",uploading:"_3r_XWzSsGM5Lrh",selected:"_1YFXhB_367zLuE",modAdd:"_3yFZG0AF_Ojscn","icon-sm":"_2ZzgU9Ss5_JMjB",heading:"_14Ww49tEL2joF2",remove:"_3-CjziCGL9o1aO",colorAndFullVersion:"_1fcxnzs4VXcgEM"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectPluginCover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3TVkFrHOX3Em4N{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3TVkFrHOX3Em4N::-webkit-scrollbar{height:8px;width:8px}._3TVkFrHOX3Em4N::-webkit-scrollbar-button:end:increment,._3TVkFrHOX3Em4N::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3TVkFrHOX3Em4N::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3TVkFrHOX3Em4N::-webkit-scrollbar-thumb:horizontal,._3TVkFrHOX3Em4N::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3TVkFrHOX3Em4N._1dP1SeYKFmeJhp{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3rFrBiACsnjj2e{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._3rFrBiACsnjj2e._2kYnDI6gVBXfp0{opacity:.25}._3rFrBiACsnjj2e:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._3rFrBiACsnjj2e:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._3rFrBiACsnjj2e.lGmGkzwB32VDdQ{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._3rFrBiACsnjj2e.lGmGkzwB32VDdQ:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._3rFrBiACsnjj2e.lGmGkzwB32VDdQ:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;-webkit-filter:none;filter:none}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;-webkit-filter:none;filter:none}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;-webkit-filter:none;filter:none}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb:active ._3kQzJ4D_hifi00{color:#0079bf}._3rFrBiACsnjj2e._3x5rN2gc8iKhBb:active svg circle{stroke:#0079bf}._3KAZo6Spxvfozq{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:12px;margin-bottom:4px}._3kFZ5M8yw4AMhW{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}._3kFZ5M8yw4AMhW::-webkit-scrollbar{height:8px;width:8px}._3kFZ5M8yw4AMhW::-webkit-scrollbar-button:end:increment,._3kFZ5M8yw4AMhW::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3kFZ5M8yw4AMhW::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3kFZ5M8yw4AMhW::-webkit-scrollbar-thumb:horizontal,._3kFZ5M8yw4AMhW::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3kFZ5M8yw4AMhW._1dP1SeYKFmeJhp{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg._2kYnDI6gVBXfp0{opacity:.25}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg.lGmGkzwB32VDdQ{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg.lGmGkzwB32VDdQ:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._3kFZ5M8yw4AMhW .yOVMaJAXNmQNNg.lGmGkzwB32VDdQ:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}",""]),t.locals={coverTiles:"_3TVkFrHOX3Em4N",modFixedHeight:"_1dP1SeYKFmeJhp",coverTilesItem:"_3rFrBiACsnjj2e",uploading:"_2kYnDI6gVBXfp0",selected:"lGmGkzwB32VDdQ",modAdd:"_3x5rN2gc8iKhBb","icon-sm":"_3kQzJ4D_hifi00",heading:"_3KAZo6Spxvfozq",pluginCoverTiles:"_3kFZ5M8yw4AMhW",pluginCoverTilesItem:"yOVMaJAXNmQNNg"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectSize.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1o3nt1JZq6_8my{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._1o3nt1JZq6_8my::-webkit-scrollbar{height:8px;width:8px}._1o3nt1JZq6_8my::-webkit-scrollbar-button:end:increment,._1o3nt1JZq6_8my::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1o3nt1JZq6_8my::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1o3nt1JZq6_8my::-webkit-scrollbar-thumb:horizontal,._1o3nt1JZq6_8my::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1o3nt1JZq6_8my._1AYE9cHQbYpA9U{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._3jX9loiBo61DVn{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._3jX9loiBo61DVn._2NNahw1r4Z5h-B{opacity:.25}._3jX9loiBo61DVn:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._3jX9loiBo61DVn:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._3jX9loiBo61DVn._1O-qwaOS-o4_wF{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._3jX9loiBo61DVn._1O-qwaOS-o4_wF:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._3jX9loiBo61DVn._1O-qwaOS-o4_wF:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._3jX9loiBo61DVn._1zymqMxhHJMME7{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;-webkit-filter:none;filter:none}._3jX9loiBo61DVn._1zymqMxhHJMME7:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;-webkit-filter:none;filter:none}._3jX9loiBo61DVn._1zymqMxhHJMME7:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;-webkit-filter:none;filter:none}._3jX9loiBo61DVn._1zymqMxhHJMME7:active ._1R6NucRxqzbcY9{color:#0079bf}._3jX9loiBo61DVn._1zymqMxhHJMME7:active svg circle{stroke:#0079bf}._1mh73i3GOtAUyT{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:0;margin-bottom:4px}._3hbdnDjD_nZO1f{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3hbdnDjD_nZO1f::-webkit-scrollbar{height:8px;width:8px}._3hbdnDjD_nZO1f::-webkit-scrollbar-button:end:increment,._3hbdnDjD_nZO1f::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3hbdnDjD_nZO1f::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3hbdnDjD_nZO1f::-webkit-scrollbar-thumb:horizontal,._3hbdnDjD_nZO1f::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3hbdnDjD_nZO1f._1AYE9cHQbYpA9U{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}",""]),t.locals={coverTiles:"_1o3nt1JZq6_8my",modFixedHeight:"_1AYE9cHQbYpA9U",coverTilesItem:"_3jX9loiBo61DVn",uploading:"_2NNahw1r4Z5h-B",selected:"_1O-qwaOS-o4_wF",modAdd:"_1zymqMxhHJMME7","icon-sm":"_1R6NucRxqzbcY9",heading:"_1mh73i3GOtAUyT",sizeTiles:"_3hbdnDjD_nZO1f"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectTextColor.less":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3TmZQjSJExxJRN{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._3TmZQjSJExxJRN::-webkit-scrollbar{height:8px;width:8px}._3TmZQjSJExxJRN::-webkit-scrollbar-button:end:increment,._3TmZQjSJExxJRN::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._3TmZQjSJExxJRN::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._3TmZQjSJExxJRN::-webkit-scrollbar-thumb:horizontal,._3TmZQjSJExxJRN::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._3TmZQjSJExxJRN.Z4oNsXOtbQI_5g{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._35pc8XYOpc4hxf{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._35pc8XYOpc4hxf._2-Kp0Ji7hZN6MF{opacity:.25}._35pc8XYOpc4hxf:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._35pc8XYOpc4hxf:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._35pc8XYOpc4hxf._2PQFEWG4jWHn19{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._35pc8XYOpc4hxf._2PQFEWG4jWHn19:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._35pc8XYOpc4hxf._2PQFEWG4jWHn19:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._35pc8XYOpc4hxf._1KUajT9leg8skX{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;-webkit-filter:none;filter:none}._35pc8XYOpc4hxf._1KUajT9leg8skX:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;-webkit-filter:none;filter:none}._35pc8XYOpc4hxf._1KUajT9leg8skX:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;-webkit-filter:none;filter:none}._35pc8XYOpc4hxf._1KUajT9leg8skX:active ._3waVqrFnP74RUF{color:#0079bf}._35pc8XYOpc4hxf._1KUajT9leg8skX:active svg circle{stroke:#0079bf}._1j4VxzKzGcvcHS{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr 1fr 1fr}._1j4VxzKzGcvcHS::-webkit-scrollbar{height:8px;width:8px}._1j4VxzKzGcvcHS::-webkit-scrollbar-button:end:increment,._1j4VxzKzGcvcHS::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1j4VxzKzGcvcHS::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1j4VxzKzGcvcHS::-webkit-scrollbar-thumb:horizontal,._1j4VxzKzGcvcHS::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1j4VxzKzGcvcHS.Z4oNsXOtbQI_5g{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2SzaOhra4WC_tw{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;width:50px;height:32px;cursor:pointer}._2SzaOhra4WC_tw._2-Kp0Ji7hZN6MF{opacity:.25}._2SzaOhra4WC_tw:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._2SzaOhra4WC_tw:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._2SzaOhra4WC_tw._2PQFEWG4jWHn19{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._2SzaOhra4WC_tw._2PQFEWG4jWHn19:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._2SzaOhra4WC_tw._2PQFEWG4jWHn19:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._2SzaOhra4WC_tw._1_Ef1_IvRGiy2U{background-color:#5ba4cf}._2SzaOhra4WC_tw._8__gKxw99cj9bp{background-color:#7bc86c}._2SzaOhra4WC_tw._2AmMzsO_58K_oC{background-color:#ffaf3f}._2SzaOhra4WC_tw._3Re38L-Fp--pm3{background-color:#ef7564}._2SzaOhra4WC_tw._1LJWqxH7TtcJN_{background-color:#cd8de5}._2SzaOhra4WC_tw._1gKa7mqiFQHUC1{background-color:#f5dd29}._2SzaOhra4WC_tw._1N1bySn2fshow7{background-color:#ff8ed4}._2SzaOhra4WC_tw._2aEFGwEf13Xobg{background-color:#29cce5}._2SzaOhra4WC_tw._1IBJJ-hvP4gRTE{background-color:#6deca9}._2SzaOhra4WC_tw._2C2RpW947EnhMf{background-color:#172b4d}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw{background-size:16px 16px;background-repeat:repeat}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1_Ef1_IvRGiy2U{background-image:url("+r(n("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._8__gKxw99cj9bp{background-image:url("+r(n("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._2AmMzsO_58K_oC{background-image:url("+r(n("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._3Re38L-Fp--pm3{background-image:url("+r(n("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1LJWqxH7TtcJN_{background-image:url("+r(n("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1gKa7mqiFQHUC1{background-image:url("+r(n("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1N1bySn2fshow7{background-image:url("+r(n("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._2aEFGwEf13Xobg{background-image:url("+r(n("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._1IBJJ-hvP4gRTE{background-image:url("+r(n("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._2SzaOhra4WC_tw._2C2RpW947EnhMf{background-image:url("+r(n("./resources/images/patterns/light/BrickVertical.svg"))+")}.lsTpOEMnJOwenR{margin-top:16px;margin-bottom:8px}._3ZwOZczwhhUyJ8{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._1342qNISA4o6aQ{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr}._1342qNISA4o6aQ::-webkit-scrollbar{height:8px;width:8px}._1342qNISA4o6aQ::-webkit-scrollbar-button:end:increment,._1342qNISA4o6aQ::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._1342qNISA4o6aQ::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._1342qNISA4o6aQ::-webkit-scrollbar-thumb:horizontal,._1342qNISA4o6aQ::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._1342qNISA4o6aQ.Z4oNsXOtbQI_5g{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._1pBIagFvjN411Z{margin:0;height:72px;width:100%;background-repeat:no-repeat;box-shadow:none;cursor:pointer;display:flex;flex-direction:row;align-items:flex-end;border-radius:3px;width:unset;height:20px;background-size:cover;background-position:50%;padding:6px 10px 6px 12px;overflow:hidden}._1pBIagFvjN411Z._2-Kp0Ji7hZN6MF{opacity:.25}._1pBIagFvjN411Z:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._1pBIagFvjN411Z:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._1pBIagFvjN411Z._2PQFEWG4jWHn19{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._1pBIagFvjN411Z._2PQFEWG4jWHn19:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._1pBIagFvjN411Z._2PQFEWG4jWHn19:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._1pBIagFvjN411Z h3._1mR03l81QzYqXM{margin-bottom:0;white-space:nowrap;overflow:hidden;text-overflow:ellipsis;font-size:14px;line-height:20px}._1pBIagFvjN411Z h3._1mR03l81QzYqXM.aZiGjjq4Xd6k44{color:#fff}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1_Ef1_IvRGiy2U{background-color:#5ba4cf}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._8__gKxw99cj9bp{background-color:#7bc86c}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2AmMzsO_58K_oC{background-color:#ffaf3f}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._3Re38L-Fp--pm3{background-color:#ef7564}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1LJWqxH7TtcJN_{background-color:#cd8de5}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1gKa7mqiFQHUC1{background-color:#f5dd29}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1N1bySn2fshow7{background-color:#ff8ed4}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2aEFGwEf13Xobg{background-color:#29cce5}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1IBJJ-hvP4gRTE{background-color:#6deca9}._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2C2RpW947EnhMf{background-color:#172b4d}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH{background-size:16px 16px;background-repeat:repeat-y;background-position:0}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1_Ef1_IvRGiy2U{background-image:url("+r(n("./resources/images/patterns/dark/StripeHorizontal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._8__gKxw99cj9bp{background-image:url("+r(n("./resources/images/patterns/dark/StripeDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2AmMzsO_58K_oC{background-image:url("+r(n("./resources/images/patterns/dark/StripeVertical.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._3Re38L-Fp--pm3{background-image:url("+r(n("./resources/images/patterns/dark/DotsChecker.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1LJWqxH7TtcJN_{background-image:url("+r(n("./resources/images/patterns/dark/GrooveDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1gKa7mqiFQHUC1{background-image:url("+r(n("./resources/images/patterns/dark/WaveSquare.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1N1bySn2fshow7{background-image:url("+r(n("./resources/images/patterns/dark/BrickHorizontal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2aEFGwEf13Xobg{background-image:url("+r(n("./resources/images/patterns/dark/BrickDiagonal.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._1IBJJ-hvP4gRTE{background-image:url("+r(n("./resources/images/patterns/dark/Scale.svg"))+")}.body-color-blind-mode-enabled ._1pBIagFvjN411Z.XNqcSeZ1YnMHTH._2C2RpW947EnhMf{background-image:url("+r(n("./resources/images/patterns/light/BrickVertical.svg"))+")}",""]),t.locals={coverTiles:"_3TmZQjSJExxJRN",modFixedHeight:"Z4oNsXOtbQI_5g",coverTilesItem:"_35pc8XYOpc4hxf",uploading:"_2-Kp0Ji7hZN6MF",selected:"_2PQFEWG4jWHn19",modAdd:"_1KUajT9leg8skX","icon-sm":"_3waVqrFnP74RUF",heading:"_3ZwOZczwhhUyJ8",colorTiles:"_1j4VxzKzGcvcHS",colorTile:"_2SzaOhra4WC_tw",blue:"_1_Ef1_IvRGiy2U",green:"_8__gKxw99cj9bp",orange:"_2AmMzsO_58K_oC",red:"_3Re38L-Fp--pm3",purple:"_1LJWqxH7TtcJN_",yellow:"_1gKa7mqiFQHUC1",pink:"_1N1bySn2fshow7",sky:"_2aEFGwEf13Xobg",lime:"_1IBJJ-hvP4gRTE",black:"_2C2RpW947EnhMf",selectTextColor:"lsTpOEMnJOwenR",textColorTiles:"_1342qNISA4o6aQ",textColorTile:"_1pBIagFvjN411Z",name:"_1mR03l81QzYqXM",light:"aZiGjjq4Xd6k44",colorCardCover:"XNqcSeZ1YnMHTH"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SelectUnsplashCover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2ag6uJTPcLf8cj{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}._2ag6uJTPcLf8cj::-webkit-scrollbar{height:8px;width:8px}._2ag6uJTPcLf8cj::-webkit-scrollbar-button:end:increment,._2ag6uJTPcLf8cj::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._2ag6uJTPcLf8cj::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._2ag6uJTPcLf8cj::-webkit-scrollbar-thumb:horizontal,._2ag6uJTPcLf8cj::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._2ag6uJTPcLf8cj._1oMO8v9lG5DKjd{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}.T7gBC_P4Bmblcj{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}.T7gBC_P4Bmblcj._3FrBnzH3Q3mcdD{opacity:.25}.T7gBC_P4Bmblcj:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}.T7gBC_P4Bmblcj:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}.T7gBC_P4Bmblcj.hnqOV4jGg9AKey{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}.T7gBC_P4Bmblcj.hnqOV4jGg9AKey:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}.T7gBC_P4Bmblcj.hnqOV4jGg9AKey:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;-webkit-filter:none;filter:none}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;-webkit-filter:none;filter:none}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;-webkit-filter:none;filter:none}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg:active ._1PJLA-HbfsAGVJ{color:#0079bf}.T7gBC_P4Bmblcj._3ZLUoWmLMZV2zg:active svg circle{stroke:#0079bf}._1Wdq0fbpbp8Sy-{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-bottom:4px}._2AJ8JKfvB8CGhQ{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}._2AJ8JKfvB8CGhQ::-webkit-scrollbar{height:8px;width:8px}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-button:end:increment,._2AJ8JKfvB8CGhQ::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}._2AJ8JKfvB8CGhQ::-webkit-scrollbar-thumb:horizontal,._2AJ8JKfvB8CGhQ::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}._2AJ8JKfvB8CGhQ._1oMO8v9lG5DKjd{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ._3FrBnzH3Q3mcdD{opacity:.25}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ.hnqOV4jGg9AKey{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ.hnqOV4jGg9AKey:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._2AJ8JKfvB8CGhQ ._3TKOEFTWhXcUoJ.hnqOV4jGg9AKey:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._2c8qsjNNafLenq{margin:4px 0 0;width:100%}",""]),t.locals={coverTiles:"_2ag6uJTPcLf8cj",modFixedHeight:"_1oMO8v9lG5DKjd",coverTilesItem:"T7gBC_P4Bmblcj",uploading:"_3FrBnzH3Q3mcdD",selected:"hnqOV4jGg9AKey",modAdd:"_3ZLUoWmLMZV2zg","icon-sm":"_1PJLA-HbfsAGVJ",heading:"_1Wdq0fbpbp8Sy-",unsplashTiles:"_2AJ8JKfvB8CGhQ",unsplashTilesItem:"_3TKOEFTWhXcUoJ",searchButton:"_2c8qsjNNafLenq"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/SuggestedSearches.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2lWB17nDk2758A{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:0}._3I9o-wLYWuUhPA{margin:0 4px 4px 0}",""]),t.locals={heading:"_2lWB17nDk2758A",suggestedSearchButton:"_3I9o-wLYWuUhPA"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/TopUnsplashPhotos.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".WYiE6RHU_sh9GW{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden}.WYiE6RHU_sh9GW::-webkit-scrollbar{height:8px;width:8px}.WYiE6RHU_sh9GW::-webkit-scrollbar-button:end:increment,.WYiE6RHU_sh9GW::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}.WYiE6RHU_sh9GW::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}.WYiE6RHU_sh9GW::-webkit-scrollbar-thumb:horizontal,.WYiE6RHU_sh9GW::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}.WYiE6RHU_sh9GW._3lYKvRV2_HUtc2{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}._31KJducVH04iqO{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none}._31KJducVH04iqO.rzzm1iWU9pD9rb{opacity:.25}._31KJducVH04iqO:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}._31KJducVH04iqO:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}._31KJducVH04iqO._1tdKL39uyKcldb{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}._31KJducVH04iqO._1tdKL39uyKcldb:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}._31KJducVH04iqO._1tdKL39uyKcldb:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._31KJducVH04iqO.PoPtr2fx1PmG9o{background-color:rgba(9,30,66,.04);box-shadow:none;border:none;-webkit-filter:none;filter:none}._31KJducVH04iqO.PoPtr2fx1PmG9o:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;-webkit-filter:none;filter:none}._31KJducVH04iqO.PoPtr2fx1PmG9o:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0;-webkit-filter:none;filter:none}._31KJducVH04iqO.PoPtr2fx1PmG9o:active .b1menElyZXaaYW{color:#0079bf}._31KJducVH04iqO.PoPtr2fx1PmG9o:active svg circle{stroke:#0079bf}.BC0l2bm1DbI50D{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase;margin-top:12px;margin-bottom:4px}.Tku87to0FvGanr{-webkit-overflow-scrolling:touch;-webkit-transform:translateZ(0);display:grid;grid-template-columns:1fr 1fr;gap:8px;padding:4px;margin:0 -4px;overflow-x:hidden;grid-template-columns:1fr 1fr 1fr}.Tku87to0FvGanr::-webkit-scrollbar{height:8px;width:8px}.Tku87to0FvGanr::-webkit-scrollbar-button:end:increment,.Tku87to0FvGanr::-webkit-scrollbar-button:start:decrement{background:transparent;display:none}.Tku87to0FvGanr::-webkit-scrollbar-track-piece{background:rgba(9,30,66,.08)}.Tku87to0FvGanr::-webkit-scrollbar-track-piece:vertical:start{border-radius:4px 4px 0 0}.Tku87to0FvGanr::-webkit-scrollbar-track-piece:vertical:end{border-radius:0 0 4px 4px}.Tku87to0FvGanr::-webkit-scrollbar-track-piece:horizontal:start{border-radius:4px 0 0 4px}.Tku87to0FvGanr::-webkit-scrollbar-track-piece:horizontal:end{border-radius:0 4px 4px 0}.Tku87to0FvGanr::-webkit-scrollbar-thumb:horizontal,.Tku87to0FvGanr::-webkit-scrollbar-thumb:vertical{background:rgba(9,30,66,.13);border-radius:4px;display:block;height:48px}.Tku87to0FvGanr._3lYKvRV2_HUtc2{overflow-y:scroll;overflow-x:hidden;margin-right:0;max-height:512px}.Tku87to0FvGanr .kBuv-8JgZToq5Q{margin:0;border-radius:3px;height:72px;width:100%;background-size:cover;background-repeat:no-repeat;background-position:50%;box-shadow:none;height:48px;width:88px}.Tku87to0FvGanr .kBuv-8JgZToq5Q.rzzm1iWU9pD9rb{opacity:.25}.Tku87to0FvGanr .kBuv-8JgZToq5Q:hover{-webkit-filter:saturate(85%) brightness(85%);filter:saturate(85%) brightness(85%)}.Tku87to0FvGanr .kBuv-8JgZToq5Q:active{-webkit-filter:saturate(70%) brightness(70%);filter:saturate(70%) brightness(70%)}.Tku87to0FvGanr .kBuv-8JgZToq5Q._1tdKL39uyKcldb{box-shadow:0 0 0 2px #fff,0 0 0 4px #0079bf;-webkit-filter:none;filter:none}.Tku87to0FvGanr .kBuv-8JgZToq5Q._1tdKL39uyKcldb:hover{box-shadow:0 0 0 2px #fff,0 0 0 4px #5ba4cf;-webkit-filter:none;filter:none}.Tku87to0FvGanr .kBuv-8JgZToq5Q._1tdKL39uyKcldb:active{box-shadow:0 0 0 2px #fff,0 0 0 4px #055a8c;-webkit-filter:none;filter:none}._1yJcg0cQWXOCuu{display:flex;justify-content:space-between;color:#5e6c84;font-size:12px;line-height:16px;margin-top:8px;height:16px;flex-direction:row-reverse}.vHPJWb0o-0x6Mq{overflow:hidden;text-overflow:ellipsis;white-space:nowrap;flex:0 0 auto}.Yah_zSnLzJC4ft{color:#5e6c84}",""]),t.locals={coverTiles:"WYiE6RHU_sh9GW",modFixedHeight:"_3lYKvRV2_HUtc2",coverTilesItem:"_31KJducVH04iqO",uploading:"rzzm1iWU9pD9rb",selected:"_1tdKL39uyKcldb",modAdd:"PoPtr2fx1PmG9o","icon-sm":"b1menElyZXaaYW",heading:"BC0l2bm1DbI50D",unsplashTiles:"Tku87to0FvGanr",unsplashTilesItem:"kBuv-8JgZToq5Q",searchResultsFooter:"_1yJcg0cQWXOCuu",unsplashColumn:"vHPJWb0o-0x6Mq",unsplashLink:"Yah_zSnLzJC4ft"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/UnsplashSearch.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3yqfsSVYR8yjDU{overflow-y:hidden;overflow-x:hidden}.TBCpxHnpt53su5{position:relative}input.lR37eaCVHqVe18{width:100%;padding-right:36px}._26RvG-oPnG3m5c{position:absolute;top:0;right:0;height:36px;width:36px;margin:0;padding:0}._26RvG-oPnG3m5c,._26RvG-oPnG3m5c:active,._26RvG-oPnG3m5c:hover{background:transparent}._26RvG-oPnG3m5c:hover ._3v7z5fxhXALUoR{color:#172b4d}",""]),t.locals={unsplashSearch:"_3yqfsSVYR8yjDU",unsplashSearchInputSection:"TBCpxHnpt53su5",unsplashSearchInput:"lR37eaCVHqVe18",unsplashSearchClearButton:"_26RvG-oPnG3m5c",unsplashSearchClearButtonIcon:"_3v7z5fxhXALUoR"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardCoverChooser/Upload.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1kefSuo0uNZAva{color:#5e6c84;font-size:12px;font-weight:500;letter-spacing:.04em;line-height:16px;margin-top:16px;text-transform:uppercase}._2w85sGi5OdW2wf{margin:0;width:100%}._3kNiwjIoyLTow2{display:none}._2ciutp6C5PxYUd,._24z8ZTWu-7pmyi{font-size:12px;line-height:16px;margin-top:12px}._2ciutp6C5PxYUd{color:#5e6c84}._24z8ZTWu-7pmyi{color:#eb5a46}",""]),t.locals={heading:"_1kefSuo0uNZAva",upload:"_2w85sGi5OdW2wf",fileInput:"_3kNiwjIoyLTow2",tip:"_2ciutp6C5PxYUd",error:"_24z8ZTWu-7pmyi"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/BoardCard.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2UGUljkrL0WQdi{position:absolute;top:0;left:0;right:0;bottom:0}.QdgJLQ_7juPF2g{width:unset}",""]),t.locals={boardLink:"_2UGUljkrL0WQdi",boardCard:"QdgJLQ_7juPF2g"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/EditCardButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3IF3avWmHwzLpc{box-sizing:content-box;display:flex;width:20px;height:20px;align-items:center;justify-content:center;background-color:#f4f5f7;background-clip:padding-box;background-origin:padding-box;border-radius:3px;opacity:.8;padding:4px;position:absolute;right:2px;top:2px;visibility:hidden;z-index:40}._3IF3avWmHwzLpc:hover{background-color:#ebecf0;opacity:1}._3IF3avWmHwzLpc:active{background-color:#dfe1e6;opacity:1}._3IF3avWmHwzLpc.ApithuIVV3SwXB{visibility:visible}",""]),t.locals={editCardButton:"_3IF3avWmHwzLpc",show:"ApithuIVV3SwXB"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/LinkCard.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-resolved-view-thumb]{height:160px;min-width:100%;max-width:100%}.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-forbidden-view],.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-not-found-view],.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-resolved-view],.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-unauthorized-view]{flex-direction:column-reverse;border:unset;border-radius:3px;box-shadow:unset;min-height:88px}.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-forbidden-view]:hover,.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-not-found-view]:hover,.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-resolved-view]:hover,.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-unauthorized-view]:hover{background-color:#f4f5f7}.hfEqV6Dvl9_gNw div[data-trello-do-not-use-override=block-card-content]{padding:8px}.hfEqV6Dvl9_gNw.QUcIjGZR7B8bAv div[data-trello-do-not-use-override=block-card-resolved-view-thumb]{display:none}.hfEqV6Dvl9_gNw.Sfs2Df47vuXDKE a[data-trello-do-not-use-override=block-card-content-header] span:nth-child(3){position:absolute;bottom:8px;right:8px;max-width:50%}.hfEqV6Dvl9_gNw ._3P2eowmQfJwrLb{text-decoration:none}.hfEqV6Dvl9_gNw ._3P2eowmQfJwrLb>a,.hfEqV6Dvl9_gNw ._3P2eowmQfJwrLb a[data-testid=lazy-render-placeholder]{word-break:break-all;display:inline-block;padding:8px;line-height:20px;color:#0052cc}._2FjgPuLxBqsjiO{padding:6px 8px 2px}._2FjgPuLxBqsjiO ._3P2eowmQfJwrLb{clear:both;display:block;margin:0 0 4px;overflow:hidden;text-decoration:underline;word-wrap:break-word;color:#0052cc}",""]),t.locals={smartLinkCard:"hfEqV6Dvl9_gNw",hideCover:"QUcIjGZR7B8bAv",hasBadge:"Sfs2Df47vuXDKE",link:"_3P2eowmQfJwrLb",linkCard:"_2FjgPuLxBqsjiO"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardFronts/SeparatorCard.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._3larc7HOS2Wr7a{height:32px;border-radius:3px;display:flex;align-items:center;justify-content:center;flex-direction:column;overflow:hidden;width:70%;margin:0 auto}._3larc7HOS2Wr7a:before{content:"";display:block;width:100%;border-top:2px solid #c1c7d0}',""]),t.locals={separatorCardFront:"_3larc7HOS2Wr7a"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3PiJ2WyNY99H0v{background:#ebecf0}._2arBFfwXVxA0AM{margin-right:8px}._2arBFfwXVxA0AM:active,._2arBFfwXVxA0AM:visited{outline:none}._2arBFfwXVxA0AM:focus{outline:1px auto -webkit-focus-ring-color}._2arBFfwXVxA0AM .icon-template-card{margin-right:0}",""]),t.locals={popover:"_3PiJ2WyNY99H0v",cardTemplateButton:"_2arBFfwXVxA0AM"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CardTemplatesPopover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1gN8uXOfybjSaC{text-align:center;margin-bottom:12px}._9_-qCCbjiiNeHt{margin-bottom:0}._17ubmepy2-mYZb{flex:1 1 auto;z-index:1;min-height:0;padding-top:1px}._1NBxMapN6ogWWX{display:flex}._13EPD62dgXxJoa{width:100%;margin-bottom:8px;min-height:56px}._1vnFiqTFvUbHmO,._2t77MEi0PcsMTi{margin-top:8px;margin-bottom:0}.qc5qf-WU-D6S1U{text-decoration:none}.o0k1FA-_28rf9K{display:flex;flex-direction:column;margin-left:8px}.o0k1FA-_28rf9K ._3Piz0dNsYmYOhL{width:32px;padding:6px 8px;margin-bottom:8px}.o0k1FA-_28rf9K ._3Piz0dNsYmYOhL:focus{outline:1px auto -webkit-focus-ring-color}",""]),t.locals={emptyStateMessage:"_1gN8uXOfybjSaC",createNewTemplateButton:"_9_-qCCbjiiNeHt",templateCards:"_17ubmepy2-mYZb",templateCardContainer:"_1NBxMapN6ogWWX",templateCard:"_13EPD62dgXxJoa",editTemplatesButton:"_1vnFiqTFvUbHmO",finishEditingButton:"_2t77MEi0PcsMTi",noTextDecoration:"qc5qf-WU-D6S1U",controlButtons:"o0k1FA-_28rf9K",controlButton:"_3Piz0dNsYmYOhL"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/CreateCardFromTemplatePopover.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2NkSOgcUn7Xcve{margin-top:8px;margin-bottom:8px}._2NkSOgcUn7Xcve:last-child{margin-bottom:0}._2RfGKd4tIw-XUP{text-decoration:none}._1FoQzNHcvCPp1q{margin-top:0;margin-bottom:0}._3WNLfRSLnnkkmi{width:100%;margin-bottom:8px;min-height:72px;background-color:#fff;border-radius:3px;box-sizing:border-box;box-shadow:0 1px 0 0 rgba(9,30,66,.25);display:block;padding-bottom:6px;position:relative;overflow:hidden}.F3X6m84g4ieEPZ{padding:8px 8px 0}._1lfupGZ_Pw3Omh{background-color:#fff;border:1px solid #00000000;box-shadow:none;padding:0;overflow:hidden;overflow-wrap:break-word;resize:none;height:60px}._1lfupGZ_Pw3Omh:focus,._1lfupGZ_Pw3Omh:hover{box-shadow:none;background-color:transparent}",""]),t.locals={createCardButton:"_2NkSOgcUn7Xcve",editTemplateLink:"_2RfGKd4tIw-XUP",editTemplateButton:"_1FoQzNHcvCPp1q",templateCard:"_3WNLfRSLnnkkmi",templateCardNameContainer:"F3X6m84g4ieEPZ",templateCardEditTitle:"_1lfupGZ_Pw3Omh"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/CardTemplatesPopover/TemplateCardComposer.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1z6lMwQy3ObsrK{border-radius:3px;color:#5e6c84;display:flex;flex:0 0 auto;padding:4px 8px;position:relative;text-decoration:none;-webkit-user-select:none;user-select:none;cursor:pointer}._1z6lMwQy3ObsrK ._38xwr8TrHEbGDN{color:#6b778c;margin-right:2px;width:20px;height:20px;display:inline-flex;justify-content:center;align-items:center}._1z6lMwQy3ObsrK:hover{background-color:rgba(9,30,66,.08);color:#172b4d;text-decoration:none}._1z6lMwQy3ObsrK:hover ._38xwr8TrHEbGDN{color:#42526e}._1z6lMwQy3ObsrK:active{background-color:rgba(9,30,66,.13)}._3730WlziYhHDQa,._3730WlziYhHDQa:focus,._3730WlziYhHDQa:hover{background:none;border:none;box-shadow:none;height:auto!important;margin-bottom:4px!important;max-height:162px;min-height:54px;overflow-y:auto;padding:0;resize:none}._3FwclAq3n9xe43{display:flex}._3yXlJeRn0Etb5h{margin-bottom:0}.p7jyk-R-Ofxu1z{margin-left:8px;cursor:pointer}.p7jyk-R-Ofxu1z ._1TgqRIZIIMKMV-{display:inline-flex;height:32px;align-items:center}.p7jyk-R-Ofxu1z:hover ._1TgqRIZIIMKMV- svg{color:#172b4d}._3amdh54KEULv4z{background-color:#fff;border-radius:3px;box-shadow:0 1px 0 rgba(9,30,66,.25);cursor:pointer;display:block;margin-bottom:8px;max-width:300px;min-height:20px;position:relative;text-decoration:none;z-index:0}._3amdh54KEULv4z a{color:#172b4d}._2X-1PEvh3NMQUN{overflow:hidden;padding:6px 8px 2px;position:relative;z-index:10}",""]),t.locals={openTemplateCardComposer:"_1z6lMwQy3ObsrK",iconAdd:"_38xwr8TrHEbGDN",templateCardComposerTextarea:"_3730WlziYhHDQa",listCardButtons:"_3FwclAq3n9xe43",addButton:"_3yXlJeRn0Etb5h",closeButton:"p7jyk-R-Ofxu1z",closeIcon:"_1TgqRIZIIMKMV-",listCard:"_3amdh54KEULv4z",listCardDetails:"_2X-1PEvh3NMQUN"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerActive.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2N560lTQ3WyptT{padding:4px 4px 4px 16px;background-color:rgba(9,30,66,.95);display:flex;align-items:center;justify-content:space-between;line-height:18px;font-weight:600;height:auto}._1MRQX_IJiyLODx{margin-right:8px}._2XwOJ2654HK9f7{align-items:center}._2XwOJ2654HK9f7,._3OjkzahPuddAwo{display:flex;flex-direction:row}._2xrxB8mjhio6GW{-webkit-text-decoration-line:none;text-decoration-line:none;font-size:14px;line-height:20px;font-weight:400;min-width:-webkit-fit-content;min-width:fit-content;margin:0;background-color:#5aac44;color:#fff;padding:6px 12px;border-radius:3px;transition:background .1s ease-out,box-shadow .15s cubic-bezier(.47,.03,.49,1.38);transition-duration:.1s,.15s;white-space:nowrap}._2xrxB8mjhio6GW:hover{background-color:#61bd4f;color:#fff}._2xrxB8mjhio6GW:active{background-color:#49852e;color:#fff}._2PQZa2WycxY8zh{margin:0;padding:0}._2PQZa2WycxY8zh,._2PQZa2WycxY8zh:hover{background-color:transparent}._3Zh8CvMx7ueezh{margin-left:2px;color:#42526e}._3Zh8CvMx7ueezh:hover{color:#fff}._3-6W2WtTj2jZOi{color:#a5adba;display:flex;align-items:center;margin-right:8px;-webkit-text-decoration-line:underline;text-decoration-line:underline;font-size:12px;line-height:16px;font-weight:500;cursor:pointer}._3-6W2WtTj2jZOi:hover{color:#fff}._1Fjdy94ppLYU5t{color:#fff;background-color:rgba(9,30,66,.95)}._36guWW-fdGEyKw{display:flex;justify-content:center;align-items:center;background-color:#42526e;border-radius:3px;width:24px;height:24px;margin:0 4px}",""]),t.locals={container:"_2N560lTQ3WyptT",emoji:"_1MRQX_IJiyLODx",bcContainer:"_2XwOJ2654HK9f7",ctaContainer:"_3OjkzahPuddAwo",linkButton:"_2xrxB8mjhio6GW",closeButton:"_2PQZa2WycxY8zh",closeIcon:"_3Zh8CvMx7ueezh",linkCta:"_3-6W2WtTj2jZOi",bannerBg:"_1Fjdy94ppLYU5t",daysContainer:"_36guWW-fdGEyKw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialBannerExpired.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._37x93_BLTtpSop{padding:4px 4px 4px 16px;background-color:rgba(9,30,66,.95);display:flex;align-items:center;justify-content:space-between;line-height:18px;font-weight:600;height:auto}._2n9meSIT_QtyH8{margin-right:8px}._2U26G_mw-D-OCX{align-items:center}._1Hbz1myrnCU46s,._2U26G_mw-D-OCX{display:flex;flex-direction:row}._2mY0j81O9kAMfU{-webkit-text-decoration-line:none;text-decoration-line:none;font-size:14px;line-height:20px;font-weight:400;min-width:-webkit-fit-content;min-width:fit-content;margin:0;background-color:#5aac44;color:#fff;padding:6px 12px;border-radius:3px;transition:background .1s ease-out,box-shadow .15s cubic-bezier(.47,.03,.49,1.38);transition-duration:.1s,.15s;white-space:nowrap}._2mY0j81O9kAMfU:hover{background-color:#61bd4f;color:#fff}._2mY0j81O9kAMfU:active{background-color:#49852e;color:#fff}._1thjxAXGC3UsrM{margin:0;padding:0}._1thjxAXGC3UsrM,._1thjxAXGC3UsrM:hover{background-color:transparent}._3jB-w4L8Uae--t{margin-left:2px;color:#42526e}._3jB-w4L8Uae--t:hover{color:#fff}.cj88FvRlJZ5HVe{color:#a5adba;display:flex;align-items:center;margin-right:8px;-webkit-text-decoration-line:underline;text-decoration-line:underline;font-size:12px;line-height:16px;font-weight:500;cursor:pointer}.cj88FvRlJZ5HVe:hover{color:#fff}._1wo3_RPE13pGLp{color:#172b4d;background-color:#d6ecd2}.cj88FvRlJZ5HVe{color:#172b4d}.cj88FvRlJZ5HVe:hover{color:#42526e}",""]),t.locals={container:"_37x93_BLTtpSop",emoji:"_2n9meSIT_QtyH8",bcContainer:"_2U26G_mw-D-OCX",ctaContainer:"_1Hbz1myrnCU46s",linkButton:"_2mY0j81O9kAMfU",closeButton:"_1thjxAXGC3UsrM",closeIcon:"_3jB-w4L8Uae--t",linkCta:"cj88FvRlJZ5HVe",expiredBg:"_1wo3_RPE13pGLp"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/FreeTrialPlanSelection.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".zy_ZQ64E_28jRU{padding:8px 32px 24px;text-align:center}.zy_ZQ64E_28jRU h1{font-size:24px;margin-top:0;letter-spacing:-.01px;line-height:28px;padding-top:20px;font-weight:500}.zy_ZQ64E_28jRU h1 img{vertical-align:text-bottom;margin:0 8px}.zy_ZQ64E_28jRU h2{font-size:14px;font-weight:400;line-height:20px;margin:8px 0 0}@media only screen and (max-width:750px){.zy_ZQ64E_28jRU{padding:16px}.zy_ZQ64E_28jRU h1{padding-top:0;font-size:20px;margin-bottom:8px}.zy_ZQ64E_28jRU h2{line-height:20px}}._16lmArv_imxoEI{color:#89609e;font-size:33px}._2PpmAPYBjGdKnA{display:flex;flex-direction:row;padding:0 24px 8px}@media only screen and (max-width:750px){._2PpmAPYBjGdKnA{padding:0 16px 8px}}._2Oi3zDyOZwlD4Q,._3slODlZkmgnMCb,.tbggjH8n6OtAXV{display:flex;flex:1;flex-direction:column;padding:16px;border-radius:3px;border:3px solid #f4f5f7}._2Oi3zDyOZwlD4Q h2,._3slODlZkmgnMCb h2,.tbggjH8n6OtAXV h2{text-align:center;font-size:16px;font-weight:500;line-height:20px;margin:0;padding:4px 0 5px;color:#484553}._2Oi3zDyOZwlD4Q ._20YfSrIWe28hiu,._3slODlZkmgnMCb ._20YfSrIWe28hiu,.tbggjH8n6OtAXV ._20YfSrIWe28hiu{font-weight:700;margin-bottom:0;font-size:11px;text-align:center;color:#6c547b}._2Oi3zDyOZwlD4Q p,._3slODlZkmgnMCb p,.tbggjH8n6OtAXV p{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;padding:8px 0 0;text-align:center}._2Oi3zDyOZwlD4Q ul,._3slODlZkmgnMCb ul,.tbggjH8n6OtAXV ul{flex:1}@media only screen and (max-width:750px){._2Oi3zDyOZwlD4Q,._3slODlZkmgnMCb,.tbggjH8n6OtAXV{position:relative;padding:16px 8px 8px}._2Oi3zDyOZwlD4Q h2,._3slODlZkmgnMCb h2,.tbggjH8n6OtAXV h2{font-size:14px;margin-bottom:8px}._2Oi3zDyOZwlD4Q p,._3slODlZkmgnMCb p,.tbggjH8n6OtAXV p{padding:4px 0;font-size:12px}}._3slODlZkmgnMCb,.tbggjH8n6OtAXV{margin:8px -3px 8px 0}._3slODlZkmgnMCb h2,.tbggjH8n6OtAXV h2{color:#5e6c84}@media only screen and (max-width:750px){._3slODlZkmgnMCb,.tbggjH8n6OtAXV{display:none}}._2Oi3zDyOZwlD4Q{position:relative;background-color:#f7f0fa;border-color:#eddbf4}@media only screen and (max-width:750px){._2Oi3zDyOZwlD4Q h2{display:none}}._3D-KcI-HT3kXuQ{background-color:#f2d600;color:#172b4d;border-radius:3px;display:inline-block;height:18px;padding:0 12px;font-size:12px;text-align:center;line-height:18px;align-self:center;margin-top:-25px}._3slODlZkmgnMCb,.f_YzlIq6WPNxB_{margin:16px -3px 16px 0}._2Oi3zDyOZwlD4Q.XXCxmhLu-yYmu2 ._3D-KcI-HT3kXuQ{font-weight:700;padding:2px 12px;font-size:11px}._1Rt7DE1tx8CySC{display:flex;padding:8px;text-align:left}._1Rt7DE1tx8CySC ._3yDwpWXQhoFxdt{color:#42526e;margin-right:8px}@media only screen and (max-width:750px){._1Rt7DE1tx8CySC{padding:8px 0}._1Rt7DE1tx8CySC ._3yDwpWXQhoFxdt{width:16px;height:16px;line-height:16px;font-size:16px;margin-right:4px}}._1d-dFKXscj4xfb{display:flex}._3zwlTiSt3cEQDO{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;display:inline;color:#172b4d;line-height:20px;flex:1;margin-left:10px}@media only screen and (max-width:750px){._3zwlTiSt3cEQDO{font-size:14px;line-height:16px}}._1J-F5vGwoeXF1a{cursor:pointer}._1J-F5vGwoeXF1a ._3zwlTiSt3cEQDO{border-bottom:2px dashed #97a0af;padding-bottom:1px}._2EiF7tEJdDzjVI{display:flex;flex-direction:column;padding:0 24px;margin-top:8px}._2EiF7tEJdDzjVI p{flex:1;text-align:center;color:#8993a4;font-size:12px}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L{display:flex;justify-content:center;align-items:center;margin-bottom:16px}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L span{color:#5e6c84;margin-top:20px;margin:0;text-transform:uppercase;padding-right:8px;color:#6b778c;font-size:12px;line-height:16px;font-weight:600}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L img{padding:0 8px}._2EiF7tEJdDzjVI ._1A9FfYQGkg0DaB{font-size:12px;line-height:16px;color:#5e6c84;margin-bottom:16px}._2EiF7tEJdDzjVI ._1A9FfYQGkg0DaB span{text-decoration:underline}._2EiF7tEJdDzjVI ._1qINNpZO_1hOCK{align-self:center;display:inline-block;background:rgba(9,30,66,.04);border-radius:3px;padding:6px 12px;font-size:14px;line-height:20px;color:#172b4d;margin-bottom:16px;text-decoration:none}._2EiF7tEJdDzjVI ._1qINNpZO_1hOCK:hover{background:rgba(9,30,66,.13)}@media only screen and (max-width:750px){._2EiF7tEJdDzjVI{padding:0 16px}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L{flex-wrap:wrap}._2EiF7tEJdDzjVI ._1ywZNvfU6aYi4L span{display:block;width:100%;margin:8px 0}}._1IGMnFTTE1yvnJ{mix-blend-mode:hard-light}",""]),t.locals={heading:"zy_ZQ64E_28jRU",headingIcon:"_16lmArv_imxoEI",bodyWrapper:"_2PpmAPYBjGdKnA",bcPlan:"_2Oi3zDyOZwlD4Q",freePlan:"tbggjH8n6OtAXV",staPlan:"_3slODlZkmgnMCb",subLabel:"_20YfSrIWe28hiu",recommendedLabel:"_3D-KcI-HT3kXuQ",freePlanNusku:"f_YzlIq6WPNxB_",bcPlanNusku:"XXCxmhLu-yYmu2",featureItem:"_1Rt7DE1tx8CySC",featureIcon:"_3yDwpWXQhoFxdt",featureItemWrapper:"_1d-dFKXscj4xfb",featureContent:"_3zwlTiSt3cEQDO",tooltipTarget:"_1J-F5vGwoeXF1a",actions:"_2EiF7tEJdDzjVI",trustedBy:"_1ywZNvfU6aYi4L",afterTrial:"_1A9FfYQGkg0DaB",secondaryCta:"_1qINNpZO_1hOCK",spinner:"_1IGMnFTTE1yvnJ"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelection.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1or2fRlzUFCY7b{padding:16px 32px;text-align:center}._1or2fRlzUFCY7b h1{font-size:24px;margin-top:0;letter-spacing:-.01px;line-height:28px;padding-top:20px}._1or2fRlzUFCY7b h2{font-size:14px;font-weight:400;margin:8px 0 0}@media only screen and (max-width:750px){._1or2fRlzUFCY7b{padding:16px}._1or2fRlzUFCY7b h1{padding-top:0;font-size:20px;margin-bottom:8px}._1or2fRlzUFCY7b h2{line-height:20px}}.Un6lamEaRbz4uy{color:#89609e;font-size:33px}.iy3rXmWQICgxb3{display:flex;flex-direction:row;padding:0 16px 8px}._1iK0jrL0RcWs8y,._1RfayTVWAZtHjj{display:flex;flex:1;flex-direction:column;padding:16px}._1iK0jrL0RcWs8y h2,._1RfayTVWAZtHjj h2{text-align:center;font-size:16px;line-height:20px;margin:0;padding:4px 0 5px}._1iK0jrL0RcWs8y p,._1RfayTVWAZtHjj p{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;color:#5e6c84;padding:8px 0 0;text-align:center}._1iK0jrL0RcWs8y ul,._1RfayTVWAZtHjj ul{flex:1}@media only screen and (max-width:750px){._1iK0jrL0RcWs8y,._1RfayTVWAZtHjj{position:relative;padding:16px 8px 8px}._1iK0jrL0RcWs8y h2,._1RfayTVWAZtHjj h2{font-size:14px;margin-bottom:8px}._1iK0jrL0RcWs8y p,._1RfayTVWAZtHjj p{padding:4px 0;font-size:12px}}._1iK0jrL0RcWs8y h2{color:#5e6c84}._1RfayTVWAZtHjj{position:relative;background-color:#f7f0fa;color:#172b4d}._2ShULneJqBlULX{background-color:#f2d600;border-radius:3px;width:89px;height:18px;padding:1px;transform:rotate(10.21deg);position:absolute;right:-7px;top:-8px;font-size:12px;text-align:center;line-height:16px}@media only screen and (max-width:750px){._2ShULneJqBlULX{position:absolute;top:-12px;transform:translateX(-50%);left:50%;font-size:10px;width:80px;height:16px}}._3JIQjFv2GP7nbR{display:flex;padding:8px}._3JIQjFv2GP7nbR ._1Fm4qaiAuHnXXK{color:#42526e;margin-right:8px;width:20px;height:20px;flex:0 0 20px;line-height:20px}@media only screen and (max-width:750px){._3JIQjFv2GP7nbR{padding:8px 0}._3JIQjFv2GP7nbR ._1Fm4qaiAuHnXXK{width:16px;height:16px;line-height:16px;font-size:16px;margin-right:4px}}._3EY0dN0ATMPSbV{display:flex}._1mFi1D8Y_l8YRL{font-weight:400;display:block;margin:0;font-size:14px;color:#6b778c;line-height:18px;display:inline;color:#172b4d;line-height:20px;flex:1}@media only screen and (max-width:750px){._1mFi1D8Y_l8YRL{font-size:14px;line-height:16px}}._27or2EkLlTB6B7{cursor:pointer}._27or2EkLlTB6B7 ._1mFi1D8Y_l8YRL{border-bottom:2px dashed #97a0af;padding-bottom:1px}._1ivmjdL7obkKr7{display:flex;align-items:center;flex-direction:column;padding:0 32px;margin-top:8px}._1ivmjdL7obkKr7 p{width:100%;text-align:center;color:#8993a4;font-size:12px}._1G7HxsteMCpeIo{color:#8993a4;margin:12px 0}._1G7HxsteMCpeIo:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._1G7HxsteMCpeIo:focus{outline:5px auto -webkit-focus-ring-color}}._1G7HxsteMCpeIo:hover{color:#5e6c84}",""]),t.locals={heading:"_1or2fRlzUFCY7b",headingIcon:"Un6lamEaRbz4uy",bodyWrapper:"iy3rXmWQICgxb3",bcPlan:"_1RfayTVWAZtHjj",freePlan:"_1iK0jrL0RcWs8y",recommendedLabel:"_2ShULneJqBlULX",featureItem:"_3JIQjFv2GP7nbR",featureIcon:"_1Fm4qaiAuHnXXK",featureItemWrapper:"_3EY0dN0ATMPSbV",featureContent:"_1mFi1D8Y_l8YRL",tooltipTarget:"_27or2EkLlTB6B7",actions:"_1ivmjdL7obkKr7",learnMore:"_1G7HxsteMCpeIo"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/PlanSelectionOverlay.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".TAPXNueu2hw5pN{box-shadow:0 8px 16px -4px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);width:600px;background:#fff;border-radius:3px;border:1px solid rgba(9,30,66,.08);padding:8px;position:relative;outline:0;transition:height .1s ease-in-out}@media only screen and (max-width:750px){.TAPXNueu2hw5pN{max-width:none;min-width:0;width:100%;border:0;display:flex;flex-direction:column;flex-grow:1}}._3f1iB7LHb9zRPD{width:800px}@media only screen and (max-width:750px){._3f1iB7LHb9zRPD{max-width:none;min-width:0;width:100%;border:0;display:flex;flex-direction:column;flex-grow:1}}._1y7opsmGmOEJWT{position:absolute;top:6px;padding:0;line-height:20px;margin:0;width:36px;height:36px;border-radius:18px;opacity:.6}._1y7opsmGmOEJWT:focus,._1y7opsmGmOEJWT:hover{opacity:1}._2ZpqyegRfFbQ9D{position:absolute;top:6px;padding:0;line-height:20px;margin:0;width:36px;height:36px;border-radius:18px;opacity:.6;right:6px}._2ZpqyegRfFbQ9D:focus,._2ZpqyegRfFbQ9D:hover{opacity:1}.Gh_AD0DB2L8_4d{position:absolute;top:6px;padding:0;line-height:20px;margin:0;width:36px;height:36px;border-radius:18px;opacity:.6;left:6px}.Gh_AD0DB2L8_4d:focus,.Gh_AD0DB2L8_4d:hover{opacity:1}._3xswMGw_nfN1Th{display:flex;align-items:center;justify-content:center;border-radius:3px;color:#fff;background:#0079bf;text-decoration:none;margin:0;font-weight:400;font-size:16px;height:40px;width:100%}._3xswMGw_nfN1Th:hover{color:#fff;background:#026aa7}.TeZmHGg1-RhPOS{display:flex;align-items:center;justify-content:center;width:100%;border-radius:3px;color:#fff;text-decoration:none;background:#5aac44;margin:0 0 16px;font-size:14px;font-weight:400;line-height:20px;padding:8px 0}.TeZmHGg1-RhPOS:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){.TeZmHGg1-RhPOS:focus{outline:5px auto -webkit-focus-ring-color}}.TeZmHGg1-RhPOS:hover{color:#fff;background:#49852e}",""]),t.locals={overlay:"TAPXNueu2hw5pN",overlayExpanded:"_3f1iB7LHb9zRPD","top-button":"_1y7opsmGmOEJWT",close:"_2ZpqyegRfFbQ9D",back:"Gh_AD0DB2L8_4d",planSelectionCtaButton:"_3xswMGw_nfN1Th",freeTrialPlanSelectionCtaButton:"TeZmHGg1-RhPOS"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/FreeTrial/UpsellOverlay.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".lifmGNSoimxSIN{padding:8px;background:#fff;border-radius:3px}._1OYaD5X4bOFzHP{background:#fdfae5;display:flex;flex-direction:column;justify-content:center;align-items:center;padding:16px 26px;text-align:center}._1OYaD5X4bOFzHP h3{margin-top:12px}._1OYaD5X4bOFzHP p{margin-top:6px;margin-bottom:16px}._2r0TugWKrjdprP{margin-top:6px;background:#f2d600;padding:2px 4px;border-radius:3px;font-size:11px}._2GUkxuwG8-jCEf{padding:16px 16px 0}._1NTgUUWh46GWue{display:flex;align-items:center;justify-content:space-between;margin-top:-10px;height:40px}._1NTgUUWh46GWue h3{color:#6c547b}._1NTgUUWh46GWue img{transform:rotate(10deg)}._1k-y-i8bm9Rl7F{display:flex;align-items:baseline;margin-bottom:10px}.tV0YibQqlji1H7{margin-bottom:18px}._239mqRKuaByA6p{width:6px;height:6px;background-color:#0079bf;border-radius:50%;margin-right:6px;position:relative;top:-2px}._2mVouPFPjhrU6J{height:32px;padding:0}.-JasI9K5v4uv56{mix-blend-mode:hard-light}",""]),t.locals={upsellOverlay:"lifmGNSoimxSIN",upsellOverlayHeader:"_1OYaD5X4bOFzHP",upsellOverlayTag:"_2r0TugWKrjdprP",upsellOverlayBody:"_2GUkxuwG8-jCEf",upsellOverlayBodyHeader:"_1NTgUUWh46GWue",upsellOverlayThing:"_1k-y-i8bm9Rl7F",upsellOverlayThings:"tV0YibQqlji1H7",upsellOverlayThingBullet:"_239mqRKuaByA6p",button:"_2mVouPFPjhrU6J",spinner:"-JasI9K5v4uv56"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/MemberAvatar/MemberAvatar.less":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._1FekJJAz6Hu32v{position:relative;line-height:10px;overflow:hidden;white-space:nowrap}._1FekJJAz6Hu32v._3qYxjbDMKZCXJg{font-size:8px}.DCDOAa6FopPs9s:hover{background-color:#c1c7d0}.DCDOAa6FopPs9s.aYXvcYtXemTcSj{position:relative}.DCDOAa6FopPs9s.aYXvcYtXemTcSj:hover:before{opacity:.2}.DCDOAa6FopPs9s.aYXvcYtXemTcSj:before{background-color:#c1c7d0;border-radius:50%;content:"";height:100%;left:0;opacity:0;position:absolute;top:0;width:100%}._1PufnC2IQNEddD,._257inVnqyNzWRm{background-size:100%;position:absolute;z-index:3;right:1px}._257inVnqyNzWRm{height:7px;width:11px;top:1px;background-image:url('+r(n("./resources/images/TrelloGoldBadge.png"))+")}._1PufnC2IQNEddD{height:9px;width:9px;bottom:0;background-image:url("+r(n("./resources/images/chevron.png"))+")}",""]),t.locals={memberAvatar:"_1FekJJAz6Hu32v",longInitials:"_3qYxjbDMKZCXJg",hoverable:"DCDOAa6FopPs9s",withImage:"aYXvcYtXemTcSj",gold:"_257inVnqyNzWRm",admin:"_1PufnC2IQNEddD"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PopoverConfirm/PopoverConfirm.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".G7qauLECfKVgm8{padding:0 12px;word-break:break-word}.G7qauLECfKVgm8 p{margin:0 0 16px}",""]),t.locals={confirmContainer:"G7qauLECfKVgm8"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUp/PowerUp.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1lLRnuhj7MiQQF{display:flex;flex-direction:row}._30LTqEehDsG83N{display:flex;flex-direction:column}._3fokiJqW6rqpFc{position:relative}._1YI6D0ENmWlbyl{display:flex;flex-direction:row;justify-content:space-between}.CXwFNSpcT1xr3d{display:flex;flex-direction:column;justify-content:center}._3mTS3MJQ0gGnhb{display:grid}._2DdFLJPkxN5DD3{display:grid;grid-template-rows:40px auto 54px minmax(-webkit-min-content,auto);grid-template-rows:40px auto 54px minmax(min-content,auto);justify-content:left;row-gap:8px}._3PjAh1k9HBIj-c{display:grid;grid-auto-rows:40px auto;margin-bottom:8px;row-gap:12px}._3zEq_j-5iqRs7K{align-items:center;display:grid;grid-template-columns:40px 1fr}.OuaXH5vEIPwpoO{display:grid;grid-template-columns:1fr auto}._1FJaSOBsMj4nr6{display:flex;flex-direction:column;justify-content:center;width:100%}._1ZTnDDFqiMGVHz{display:-webkit-box;font-size:16px;font-weight:700;line-height:20px;margin-left:8px;max-height:40px;overflow:hidden;text-overflow:ellipsis;-webkit-box-orient:vertical;-webkit-line-clamp:2}._1ZTnDDFqiMGVHz._33AqeTqYWd_EnT{height:18px;margin-bottom:4px;min-width:100px}._36GWTfgpbEzTAd{display:-webkit-box;font-size:16px;font-weight:700;line-height:20px;margin-left:8px;max-height:20px;-webkit-box-orient:vertical;-webkit-line-clamp:1}._2Ebh5tibGDiJvV,._36GWTfgpbEzTAd{overflow:hidden;text-overflow:ellipsis}._2Ebh5tibGDiJvV{font-size:14px;letter-spacing:-.3px;line-height:normal;margin-left:7px;white-space:no-wrap}._6lnM9Pmsa7OZqd{background-position:50%;background-repeat:no-repeat;background-size:cover;border-radius:4px;display:inline-block;text-align:center;height:40px;width:40px}._3APjYsu72A98AE{display:flex;flex-wrap:wrap;margin-bottom:-4px}._3APjYsu72A98AE a,._3APjYsu72A98AE button{margin-right:8px}._10CgDe-0Tfd7wc{align-items:center;border-radius:3px;color:#5e6c84;display:flex;font-size:12px;height:24px;line-height:14px;margin-bottom:4px;margin-right:12px;white-space:nowrap}._1u5oAU1H9csoSE{margin-right:8px}._3CiCZ2SaTDo0jx{color:#5e6c84;display:-webkit-box;font-size:14px;height:54px;line-height:18px;max-height:54px;overflow:hidden;-webkit-box-orient:vertical;-webkit-line-clamp:3}.Zi7Q0cGwCC8VL-{background-color:#fafbfc;border-radius:4px;padding:8px}.Zi7Q0cGwCC8VL-:hover{background:rgba(0,0,0,.05)}._1c7CA48jRPfutu{background:#fafbfc;min-width:304px;border-radius:4px}._2FQIVs-7Reo8Nf{padding:10px}._1SBNcuqmU-SQ83{height:240px;width:100%;border-radius:4px 4px 0 0}@keyframes _29PplH4L7kMCK5{0%{background-position:-468px 0}to{background-position:468px 0}}._33AqeTqYWd_EnT{animation-duration:1.5s;animation-fill-mode:forwards;animation-iteration-count:infinite;animation-timing-function:linear;animation-name:_29PplH4L7kMCK5;background:linear-gradient(90deg,#ebecf0 8%,#dfe1e6 18%,#ebecf0 33%);background-size:800px 104px}._3EnnxWhOMGMvsf{height:24px;min-width:64px;margin-top:3px;border-radius:3px}",""]),t.locals={flexRow:"_1lLRnuhj7MiQQF",flexColumn:"_30LTqEehDsG83N",relative:"_3fokiJqW6rqpFc",flexRowSpaceBetween:"_1YI6D0ENmWlbyl",flexColumnCenter:"CXwFNSpcT1xr3d",gridColumn:"_3mTS3MJQ0gGnhb",descriptionAtomGrid:"_2DdFLJPkxN5DD3",listingAtomGrid:"_3PjAh1k9HBIj-c",logoNameGrid:"_3zEq_j-5iqRs7K",twoColumnGrid:"OuaXH5vEIPwpoO",nameContainer:"_1FJaSOBsMj4nr6",name:"_1ZTnDDFqiMGVHz",loadingSkeleton:"_33AqeTqYWd_EnT",listingName:"_36GWTfgpbEzTAd",subtitle:"_2Ebh5tibGDiJvV",icon:"_6lnM9Pmsa7OZqd",badges:"_3APjYsu72A98AE",pupBadge:"_10CgDe-0Tfd7wc",usageBadgeIcon:"_1u5oAU1H9csoSE",description:"_3CiCZ2SaTDo0jx",descriptionAtom:"Zi7Q0cGwCC8VL-",featuredAtomContainer:"_1c7CA48jRPfutu",featuredAtom:"_2FQIVs-7Reo8Nf",heroImage:"_1SBNcuqmU-SQ83",loadingSkeletonAnimation:"_29PplH4L7kMCK5",loadingSkeletonButton:"_3EnnxWhOMGMvsf"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/Banner.less":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3qHoByTOWZko5P{display:flex;flex-flow:row;flex-wrap:wrap}._1Q70GHZ2Wl-JfQ{display:flex;justify-content:center}._2k7uRVZ5WfV0LU{min-height:calc(100vh - 40px);flex:1 1 auto;background-color:#fff;padding-bottom:32px}._1kekG_m4tw-LbT{display:flex;justify-content:center;padding-top:32px}@media only screen and (max-width:600px){._1kekG_m4tw-LbT{display:block;padding-top:0}}@media only screen and (max-width:860px){._1kekG_m4tw-LbT._11drs5wtlH60HH{display:block;padding-top:0}}._1FEzWnHBzfBE_C{width:960px}@media only screen and (max-width:1242px){._1FEzWnHBzfBE_C{width:640px}}@media only screen and (max-width:1007px){._1FEzWnHBzfBE_C{width:100%}}@media only screen and (max-width:600px){._1FEzWnHBzfBE_C._3jyM6OaVPm9ToY{display:none}}._1FEzWnHBzfBE_C._11drs5wtlH60HH{width:960px}@media only screen and (max-width:1520px){._1FEzWnHBzfBE_C._11drs5wtlH60HH{width:640px}}@media only screen and (max-width:1267px){._1FEzWnHBzfBE_C._11drs5wtlH60HH{width:100%}}._2gpTlucDYjyxbE{display:flex;align-items:center;justify-content:center}.TTQFsXQGZvhCd1{color:#172b4d;font-size:14px;line-height:24px;padding:0 15%}@media only screen and (max-width:1242px){.TTQFsXQGZvhCd1{padding:0 10%}}.TTQFsXQGZvhCd1 ._22tSIZ9e2nazBl{margin:16px auto;width:100%}._2SJ9K1IOXa3iMn{width:100%}@media only screen and (max-width:951px){._2SJ9K1IOXa3iMn{display:none}}@media only screen and (max-width:1204px){._2SJ9K1IOXa3iMn._11drs5wtlH60HH{display:none}}._21Np62trcz-OkS{background:url("+r(n("./resources/images/directory/power-ups-banner-v2.png"))+");background-position:top;background-repeat:no-repeat;padding:16px;background-origin:content-box;align-items:center;color:#091e42;display:flex;height:240px;justify-content:center;text-align:center;width:100%;max-width:912px;min-width:272px;border-radius:4px;box-shadow:0 1px 3px rgba(0,0,0,.15);margin-bottom:16px;background-size:100%}@media only screen and (max-width:1242px){._21Np62trcz-OkS{max-width:592px}}@media only screen and (max-width:951px){._21Np62trcz-OkS{max-width:272px;background-position-y:14px}}._21Np62trcz-OkS ._1EEzUN56VkLkFo{font-size:48px;margin-bottom:32px}@media only screen and (max-width:951px){._21Np62trcz-OkS ._1EEzUN56VkLkFo{font-size:32px;margin-bottom:16px}}._21Np62trcz-OkS ._29-0tmiIE2hpte{max-width:600px;color:#6b808c;font-size:16px;line-height:24px;padding:8px}@media only screen and (max-width:951px){._21Np62trcz-OkS ._29-0tmiIE2hpte{font-size:13px}}._21Np62trcz-OkS ._2X5KWREIl293Pn{max-width:600px;color:#6b808c;font-size:16px;line-height:24px;padding:8px;font-weight:700;font-size:18px;padding-top:16px;padding-bottom:0}@media only screen and (max-width:951px){._21Np62trcz-OkS ._2X5KWREIl293Pn{font-size:13px}}@media only screen and (max-width:1520px){._21Np62trcz-OkS._11drs5wtlH60HH{max-width:592px}}@media only screen and (max-width:1204px){._21Np62trcz-OkS._11drs5wtlH60HH{max-width:272px;background-position-y:14px}}@media only screen and (max-width:1204px){._21Np62trcz-OkS._11drs5wtlH60HH ._1EEzUN56VkLkFo{font-size:32px;margin-bottom:16px}}@media only screen and (max-width:1204px){._21Np62trcz-OkS._11drs5wtlH60HH ._29-0tmiIE2hpte{font-size:13px}}",""]),t.locals={flexRowWrap:"_3qHoByTOWZko5P",flexAndCenter:"_1Q70GHZ2Wl-JfQ",directoryBody:"_2k7uRVZ5WfV0LU",navigationAndContent:"_1kekG_m4tw-LbT",workspaceNavigationExpanded:"_11drs5wtlH60HH",directoryContent:"_1FEzWnHBzfBE_C",navigationExpanded:"_3jyM6OaVPm9ToY",directorySpinnerContainer:"_2gpTlucDYjyxbE",listingWrapper:"TTQFsXQGZvhCd1",upgradePromptFullPupPage:"_22tSIZ9e2nazBl",directoryBannerContainer:"_2SJ9K1IOXa3iMn",directoryBanner:"_21Np62trcz-OkS",bannerHeading:"_1EEzUN56VkLkFo",bannerParagraph:"_29-0tmiIE2hpte",buildYourOwnPowerUp:"_2X5KWREIl293Pn"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/PowerUpItem.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2HK0WqXwW8qVq1{cursor:pointer;margin:8px 16px 8px 0;height:-webkit-max-content;height:max-content;width:304px}@media only screen and (max-width:951px){._2HK0WqXwW8qVq1{margin:8px}}._3v9w5df-91jY72{cursor:default;margin:16px 0 0;width:100%}._3LyTxm3sWFYwEy{justify-self:start;width:-webkit-max-content;width:max-content;text-decoration:none}._3oNzMddEhJyhDD{border-radius:3px;font-weight:400;height:24px;line-height:16px;margin:0;padding:4px 8px;min-width:64px}",""]),t.locals={powerUpItem:"_2HK0WqXwW8qVq1",listingPowerUpItem:"_3v9w5df-91jY72",buttonAnchor:"_3LyTxm3sWFYwEy",addButton:"_3oNzMddEhJyhDD"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/PowerUpDirectory/PowerUpsList.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1nzy-GVwQ1uPti{display:flex;flex-flow:row;flex-wrap:wrap}.-ClPpJ2E9Co_iz{display:flex;justify-content:center}._1QucEkMINWg7kR{min-height:calc(100vh - 40px);flex:1 1 auto;background-color:#fff;padding-bottom:32px}._898GqOIDUM6ueT{display:flex;justify-content:center;padding-top:32px}@media only screen and (max-width:600px){._898GqOIDUM6ueT{display:block;padding-top:0}}@media only screen and (max-width:860px){._898GqOIDUM6ueT._1DpGJDFXqyIr55{display:block;padding-top:0}}._1xlpO5j4D7G3OL{width:960px}@media only screen and (max-width:1242px){._1xlpO5j4D7G3OL{width:640px}}@media only screen and (max-width:1007px){._1xlpO5j4D7G3OL{width:100%}}@media only screen and (max-width:600px){._1xlpO5j4D7G3OL._2RcV0uqsK7RRPf{display:none}}._1xlpO5j4D7G3OL._1DpGJDFXqyIr55{width:960px}@media only screen and (max-width:1520px){._1xlpO5j4D7G3OL._1DpGJDFXqyIr55{width:640px}}@media only screen and (max-width:1267px){._1xlpO5j4D7G3OL._1DpGJDFXqyIr55{width:100%}}._2I8n7pCMIyNUB9{display:flex;align-items:center;justify-content:center}._2LTonk0DPZD8Ti{color:#172b4d;font-size:14px;line-height:24px;padding:0 15%}@media only screen and (max-width:1242px){._2LTonk0DPZD8Ti{padding:0 10%}}._2LTonk0DPZD8Ti ._4zSIcmo21Dmw5o{margin:16px auto;width:100%}._3WzAgpIAfxInUO{width:100%;margin-bottom:16px}.Mo0YHkx0Smnw8-{display:flex;justify-content:space-between;align-items:center;margin-bottom:8px}@media only screen and (max-width:951px){.Mo0YHkx0Smnw8-{display:block}.Mo0YHkx0Smnw8- h2{text-align:center}}@media only screen and (max-width:1204px){.Mo0YHkx0Smnw8-._1DpGJDFXqyIr55{display:block}.Mo0YHkx0Smnw8-._1DpGJDFXqyIr55 h2{text-align:center}}@media only screen and (max-width:951px){._2mSyLqArjocA29{justify-content:center}}@media only screen and (max-width:1204px){._2mSyLqArjocA29._1DpGJDFXqyIr55{justify-content:center}}",""]),t.locals={flexRowWrap:"_1nzy-GVwQ1uPti",flexAndCenter:"-ClPpJ2E9Co_iz",directoryBody:"_1QucEkMINWg7kR",navigationAndContent:"_898GqOIDUM6ueT",workspaceNavigationExpanded:"_1DpGJDFXqyIr55",directoryContent:"_1xlpO5j4D7G3OL",navigationExpanded:"_2RcV0uqsK7RRPf",directorySpinnerContainer:"_2I8n7pCMIyNUB9",listingWrapper:"_2LTonk0DPZD8Ti",upgradePromptFullPupPage:"_4zSIcmo21Dmw5o",directoryPowerUpsList:"_3WzAgpIAfxInUO",directoryPowerUpsListHeader:"Mo0YHkx0Smnw8-",powerUpsList:"_2mSyLqArjocA29"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/QuickCardEditor/QuickCardEditorButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2kTSxWTRqdqR8j{color:#fff}.emRzwBJ7NF9mDc{background:rgba(0,0,0,.6);border-radius:3px;clear:both;display:block;float:left;margin:0 0 4px 8px;text-decoration:none;transition:transform 85ms ease-in;color:#e6e6e6;padding:6px 12px 6px 10px}.emRzwBJ7NF9mDc:hover{background:rgba(0,0,0,.8);color:#fff;transform:translateX(5px)}.ypdsIruOcYL-1p{margin-left:6px}",""]),t.locals={icon:"_2kTSxWTRqdqR8j",button:"emRzwBJ7NF9mDc",buttonLabel:"ypdsIruOcYL-1p"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/TeamTypeSelect/TeamTypeSelect.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1gn_TZcLJOMr6t{color:#cf513d;padding-left:2px}",""]),t.locals={createTeamLabelstar:"_1gn_TZcLJOMr6t"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/BoardHeaderOrgMenuPopoverButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1FN6ZqzZNmICno{width:100%;cursor:pointer;display:block;font-weight:400;padding:6px 12px;position:relative;margin:0 -12px;text-decoration:none;background-color:transparent;color:#172b4d}._1FN6ZqzZNmICno:hover{background-color:rgba(9,30,66,.04)}",""]),t.locals={ctaButton:"_1FN6ZqzZNmICno"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/ClosedBoardUpsellMessaging.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".OlKCA4pG_JQHXk{font-size:14px;line-height:20px}._1h9EJMeeXVLuXc{text-decoration:underline}",""]),t.locals={messaging:"OlKCA4pG_JQHXk",ctaLink:"_1h9EJMeeXVLuXc"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/CopyBoardFromTemplatePopoverButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3Or7YjE0MVbBTf{font-size:12px;text-decoration:underline;cursor:pointer}",""]),t.locals={ctaButton:"_3Or7YjE0MVbBTf"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePathAudit/FacePileLinkButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".EQvluOM6k7gk9G{display:block;line-height:10px}._3t_M9CaXsBc9WT,.EQvluOM6k7gk9G{color:#5e6c84;font-size:12px;margin:0;padding:0}._3t_M9CaXsBc9WT{text-decoration:underline;background-color:transparent}",""]),t.locals={container:"EQvluOM6k7gk9G",upgradeButton:"_3t_M9CaXsBc9WT"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptBanner.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1fEBhj-UvPpb5m{margin-bottom:16px;text-align:center}._1fEBhj-UvPpb5m header{margin-bottom:25px}._1fEBhj-UvPpb5m header h2{font-size:24px;line-height:28px;margin:0 0 12px}._1fEBhj-UvPpb5m header p{font-size:16px}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP{display:flex;justify-content:center}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP ._2UXv9aODhh-z-G{flex:0.25;padding:0 12px;box-sizing:border-box}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP ._2UXv9aODhh-z-G img{max-width:112px;height:112px;margin-bottom:8px}._1fEBhj-UvPpb5m ._1P8a7USWLOyfwB{margin-bottom:20px}._1fEBhj-UvPpb5m a{border-radius:3px;color:#5e6c84;display:block;margin:2px 0;padding:6px 12px;position:relative;-webkit-user-select:none;user-select:none;transition-property:background-color,border-color,box-shadow;transition-duration:85ms;transition-timing-function:ease;margin:8px auto 10px;width:136px;text-align:center}._1fEBhj-UvPpb5m a svg circle{stroke:#5e6c84}._1fEBhj-UvPpb5m a:hover{background-color:rgba(9,30,66,.08);box-shadow:none;border:none;color:#172b4d}._1fEBhj-UvPpb5m a:hover svg circle{stroke:#172b4d}._1fEBhj-UvPpb5m a:active{background-color:#e4f0f6;box-shadow:none;border:none;color:#0079bf;outline:0}._1fEBhj-UvPpb5m a:active .y16zQbccbIof-4{color:#0079bf}._1fEBhj-UvPpb5m a:active svg circle{stroke:#0079bf}._1fEBhj-UvPpb5m .gGi80gWJGHMsGh{margin-top:16px}@media only screen and (max-width:750px),only screen and (min-width:751px) and (max-width:900px){._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP{display:block}._1fEBhj-UvPpb5m ._3DhK0Y16GdWbDP ._2UXv9aODhh-z-G{display:block;margin:0 auto;max-width:400px;width:100%}}",""]),t.locals={upgradePromptBanner:"_1fEBhj-UvPpb5m",features:"_3DhK0Y16GdWbDP",feature:"_2UXv9aODhh-z-G",epilogue:"_1P8a7USWLOyfwB","icon-sm":"y16zQbccbIof-4",freeTrialButton:"gGi80gWJGHMsGh"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._8RbxdseVV49R6m{border-radius:3px;box-sizing:border-box;display:inline-flex;overflow:hidden;padding:6px 12px 6px 6px;position:relative;text-decoration:none}.BhLk7hyE1L79ei{background:#eddbf4}.BhLk7hyE1L79ei:hover{background:#dfc0eb}.BhLk7hyE1L79ei .mF0y-rlipxpKvj{background:#89609e}.BhLk7hyE1L79ei ._3hOaPVUXoPh9lj svg{color:#fff}.BhLk7hyE1L79ei .SjSnrkndhUYwrg{color:#42526e}._3jzxIyxxHiYEAx{background:#89609e}._3jzxIyxxHiYEAx:hover{background:#583f68}._3jzxIyxxHiYEAx:hover ._3hOaPVUXoPh9lj svg{color:#583f68}._3jzxIyxxHiYEAx .mF0y-rlipxpKvj{background:#fff}._3jzxIyxxHiYEAx ._3hOaPVUXoPh9lj svg{color:#89609e}._3jzxIyxxHiYEAx .SjSnrkndhUYwrg{color:#fff}.mF0y-rlipxpKvj{border-radius:2px;height:20px;margin-right:8px;width:20px}._22GuzMUR-IlR-Z{width:100%}._3hOaPVUXoPh9lj,._22GuzMUR-IlR-Z{display:flex;justify-content:center}._3hOaPVUXoPh9lj{height:20px;align-items:center}",""]),t.locals={upgradePromptButton:"_8RbxdseVV49R6m",upgradePromptButtonLightTheme:"BhLk7hyE1L79ei",upgradePromptButtonIconBackground:"mF0y-rlipxpKvj",upgradePromptButtonIcon:"_3hOaPVUXoPh9lj",upgradePromptButtonCTA:"SjSnrkndhUYwrg",upgradePromptButtonDarkTheme:"_3jzxIyxxHiYEAx",upgradePromptFitContainer:"_22GuzMUR-IlR-Z"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptButtonBase.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2jRNa-bQL5DUcd{border-radius:3px;box-sizing:border-box;display:inline-flex;overflow:hidden;padding:6px 12px 6px 6px;position:relative;text-decoration:none}._3sE1kqqgsyuHVp{background:#eddbf4}._3sE1kqqgsyuHVp:hover{background:#dfc0eb}._3sE1kqqgsyuHVp ._3u5wBPt5mgOMqu{background:#89609e}._3sE1kqqgsyuHVp .PCWaeUruvT9keA svg{color:#fff}._3sE1kqqgsyuHVp ._2LQQ51bnEs4F8_{color:#42526e}._3ta-CtR5M1TfF9{background:#89609e}._3ta-CtR5M1TfF9:hover{background:#583f68}._3ta-CtR5M1TfF9:hover .PCWaeUruvT9keA svg{color:#583f68}._3ta-CtR5M1TfF9 ._3u5wBPt5mgOMqu{background:#fff}._3ta-CtR5M1TfF9 .PCWaeUruvT9keA svg{color:#89609e}._3ta-CtR5M1TfF9 ._2LQQ51bnEs4F8_{color:#fff}._3u5wBPt5mgOMqu{border-radius:2px;height:20px;margin-right:8px;width:20px}._3jINWVpnit_PRM{width:100%}._3jINWVpnit_PRM,.PCWaeUruvT9keA{display:flex;justify-content:center}.PCWaeUruvT9keA{height:20px;align-items:center}",""]),t.locals={upgradePromptButton:"_2jRNa-bQL5DUcd",upgradePromptButtonLightTheme:"_3sE1kqqgsyuHVp",upgradePromptButtonIconBackground:"_3u5wBPt5mgOMqu",upgradePromptButtonIcon:"PCWaeUruvT9keA",upgradePromptButtonCTA:"_2LQQ51bnEs4F8_",upgradePromptButtonDarkTheme:"_3ta-CtR5M1TfF9",upgradePromptFitContainer:"_3jINWVpnit_PRM"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFull.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".YbF3JXQH2gXlsC{box-shadow:0 1px 1px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);padding-left:16px;padding-right:16px;overflow:hidden;position:relative;width:100%;box-sizing:border-box;border-radius:3px;transition:background .3s ease;text-rendering:geometricPrecision}.YbF3JXQH2gXlsC ._3CD8BA2QQVCNAM{display:inline-block}.YbF3JXQH2gXlsC ._3CD8BA2QQVCNAM:active,.YbF3JXQH2gXlsC ._3CD8BA2QQVCNAM:hover{color:#fff}._1Mrj74Dt-jrz_K{background:#fff}._1Mrj74Dt-jrz_K ._2xNMNaE5Gc204_{color:#172b4d}._1Mrj74Dt-jrz_K ._-9pGlm2xfXwHs4{color:#6b778c}._1Mrj74Dt-jrz_K ._3CD8BA2QQVCNAM{color:#5e6c84}._1Mrj74Dt-jrz_K ._3CD8BA2QQVCNAM:hover{background-color:transparent;color:#172b4d}._1Mrj74Dt-jrz_K .fkZ0vkuH1V3vBu svg{color:#fff}._1Mrj74Dt-jrz_K ._3YSrt64LQGxMmX{background:#89609e}._1Mrj74Dt-jrz_K .wMzUsJpeaxp7fH{background:rgba(9,30,66,.04)}._1Mrj74Dt-jrz_K .mEHOJHTJV5iMw5:hover{background-color:#f4f5f7}._2kOLCbYadB51ca{background:#6c547b}._2kOLCbYadB51ca ._2xNMNaE5Gc204_{color:#fff}._2kOLCbYadB51ca ._-9pGlm2xfXwHs4{color:#8fdfeb}._2kOLCbYadB51ca ._3CD8BA2QQVCNAM{color:#fff}._2kOLCbYadB51ca .fkZ0vkuH1V3vBu svg{color:#6c547b}._2kOLCbYadB51ca ._3YSrt64LQGxMmX{background:#fff}._2kOLCbYadB51ca .wMzUsJpeaxp7fH{background:hsla(0,0%,100%,.1)}._2kOLCbYadB51ca .mEHOJHTJV5iMw5:hover{background:#583f68}._2xNMNaE5Gc204_{color:#172b4d;font-size:14px;font-weight:600;letter-spacing:-.003em;line-height:16px;margin-top:16px;margin-bottom:8px}._-9pGlm2xfXwHs4{margin-bottom:16px}.fkZ0vkuH1V3vBu{display:flex;justify-content:center;align-items:center;height:100%}._3YSrt64LQGxMmX{position:absolute;bottom:8px;right:8px;width:26px;height:26px;border-radius:3px;z-index:2}.wMzUsJpeaxp7fH{position:absolute;bottom:-64px;right:-28px;width:120px;height:80px;border-radius:12px;z-index:1;transform:rotate(-50deg)}._3CD8BA2QQVCNAM{margin-bottom:16px;padding:0}.mEHOJHTJV5iMw5{position:absolute;top:8px;right:8px;background:none;padding:4px;margin:0;border:0;width:22px;height:22px;display:flex}._1K0LqnoX4a7pZj{line-height:14px;margin-left:-1px}._1K0LqnoX4a7pZj svg{color:#a5adba}",""]),t.locals={upgradePromptFull:"YbF3JXQH2gXlsC",upgradePromptFullCTA:"_3CD8BA2QQVCNAM",upgradePromptFullLightTheme:"_1Mrj74Dt-jrz_K",upgradePromptFullHeadline:"_2xNMNaE5Gc204_",upgradePromptFullContent:"_-9pGlm2xfXwHs4",upgradePromptFullIcon:"fkZ0vkuH1V3vBu",upgradePromptFullIconBackground:"_3YSrt64LQGxMmX",upgradePromptFullIconClippedBackground:"wMzUsJpeaxp7fH",upgradePromptFullCloseButtonWrapper:"mEHOJHTJV5iMw5",upgradePromptFullDarkTheme:"_2kOLCbYadB51ca",upgradePromptFullCloseButton:"_1K0LqnoX4a7pZj"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptFullBase.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3yAElQd0GLZQ7K{width:100%;border-radius:3px;height:60px;animation:_3NfwqyO3_GyP3I 2s infinite}@keyframes _3NfwqyO3_GyP3I{0%{background-color:#f4f5f7}50%{background-color:#ebecf0}to{background-color:#dfe1e6}}._1rk3TDAaU81_Ii{box-shadow:0 1px 1px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08);padding-left:16px;padding-right:16px;overflow:hidden;position:relative;width:100%;box-sizing:border-box;border-radius:3px;transition:background .3s ease;text-rendering:geometricPrecision}.V6AzWH4E8HBPZX{background:#fff}.V6AzWH4E8HBPZX ._3Cnio1oR4iJKRE{color:#172b4d}.V6AzWH4E8HBPZX ._3Uplc-pCxrlRyl{color:#6b778c}.V6AzWH4E8HBPZX ._3aM7hAccVA2vmN svg{color:#fff}.V6AzWH4E8HBPZX .k9UvWenTsfCELV{background:#89609e}.V6AzWH4E8HBPZX .bUcOdikdfVj-0U{background:rgba(9,30,66,.04)}.V6AzWH4E8HBPZX ._3pJ-SI7UWvwzAF:hover{background-color:#f4f5f7}._3BALbHgNWTvWKk{background:#6c547b}._3BALbHgNWTvWKk ._3Cnio1oR4iJKRE{color:#fff}._3BALbHgNWTvWKk ._3Uplc-pCxrlRyl{color:#8fdfeb}._3BALbHgNWTvWKk ._3aM7hAccVA2vmN svg{color:#6c547b}._3BALbHgNWTvWKk .k9UvWenTsfCELV{background:#fff}._3BALbHgNWTvWKk .bUcOdikdfVj-0U{background:hsla(0,0%,100%,.1)}._3BALbHgNWTvWKk ._3pJ-SI7UWvwzAF:hover{background:#583f68}._3Cnio1oR4iJKRE{color:#172b4d;font-size:14px;font-weight:600;letter-spacing:-.003em;line-height:16px;margin-top:16px;margin-bottom:8px}._3Uplc-pCxrlRyl{margin-bottom:16px}._3aM7hAccVA2vmN{width:26px;height:26px;padding:2px}._3aM7hAccVA2vmN svg{width:22px;height:22px;line-height:24px}.k9UvWenTsfCELV{position:absolute;bottom:8px;right:8px;width:26px;height:26px;border-radius:3px;z-index:2}.bUcOdikdfVj-0U{position:absolute;bottom:-64px;right:-28px;width:120px;height:80px;border-radius:12px;z-index:1;transform:rotate(-50deg)}._3pJ-SI7UWvwzAF{position:absolute;top:8px;right:8px;background:none;padding:4px;margin:0;border:0;width:22px;height:22px;display:flex}._9plRmEW19jh9xU{color:#a5adba;line-height:14px;margin-left:-1px}",""]),t.locals={animation:"_3yAElQd0GLZQ7K",pulse:"_3NfwqyO3_GyP3I",upgradePromptFull:"_1rk3TDAaU81_Ii",upgradePromptFullLightTheme:"V6AzWH4E8HBPZX",upgradePromptFullHeadline:"_3Cnio1oR4iJKRE",upgradePromptFullContent:"_3Uplc-pCxrlRyl",upgradePromptFullIcon:"_3aM7hAccVA2vmN",upgradePromptFullIconBackground:"k9UvWenTsfCELV",upgradePromptFullIconClippedBackground:"bUcOdikdfVj-0U",upgradePromptFullCloseButtonWrapper:"_3pJ-SI7UWvwzAF",upgradePromptFullDarkTheme:"_3BALbHgNWTvWKk",upgradePromptFullCloseButton:"_9plRmEW19jh9xU"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPill.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".D8PrIBfVHLaC1G{display:inline-flex;border-radius:3px;font-size:12px;padding:4px;text-decoration:none;line-height:12px;margin-bottom:0}._39vNpql8O9h5co{display:flex;justify-content:center;width:12px;height:12px;margin-right:4px;line-height:12px}._1xgAps5V3J3WWx{background-color:#eddbf4}._1xgAps5V3J3WWx ._39vNpql8O9h5co svg{color:#89609e}._1xgAps5V3J3WWx ._17EaYJuwhiq6Dy svg{color:#42526e}._1xgAps5V3J3WWx:hover{background-color:#dfc0eb}.fo3ROqdZZNdBSw{background-color:#89609e}.fo3ROqdZZNdBSw ._17EaYJuwhiq6Dy svg,.fo3ROqdZZNdBSw ._39vNpql8O9h5co svg{color:#fff}.fo3ROqdZZNdBSw:hover{background-color:#583f68}",""]),t.locals={upgradePromptPill:"D8PrIBfVHLaC1G",upgradePromptPillIcon:"_39vNpql8O9h5co",upgradeLightTheme:"_1xgAps5V3J3WWx",upgradePromptPillCTA:"_17EaYJuwhiq6Dy",upgradeDarkTheme:"fo3ROqdZZNdBSw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptPillBase.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".S95NMhjS-qa4Rh{display:inline-flex;border-radius:3px;font-size:12px;padding:4px;text-decoration:none;line-height:12px;margin-bottom:0}._90leiVeMlaRE7c{display:flex;justify-content:center;width:12px;height:12px;margin-right:4px;line-height:12px}._3CcWNraBrODUCQ{background-color:#eddbf4}._3CcWNraBrODUCQ ._90leiVeMlaRE7c svg{color:#89609e}._3CcWNraBrODUCQ .S6WUhGTdfgQrrb svg{color:#42526e}._3CcWNraBrODUCQ:hover{background-color:#dfc0eb}._3epI7hOflZT3Zp{background-color:#89609e}._3epI7hOflZT3Zp ._90leiVeMlaRE7c svg,._3epI7hOflZT3Zp .S6WUhGTdfgQrrb svg{color:#fff}._3epI7hOflZT3Zp:hover{background-color:#583f68}",""]),t.locals={upgradePromptPill:"S95NMhjS-qa4Rh",upgradePromptPillIcon:"_90leiVeMlaRE7c",upgradeLightTheme:"_3CcWNraBrODUCQ",upgradePromptPillCTA:"S6WUhGTdfgQrrb",upgradeDarkTheme:"_3epI7hOflZT3Zp"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradePromptSettingsTab.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2UxKMNua2KSiL6{padding-top:8px;padding-right:8px;margin-bottom:0;color:#172b4d}._3fzsq9jEZYVCax{margin-left:24px}._3i3aIPvVcGa13r{position:absolute;left:-10px;top:10px;font-size:30px}.yXN9qZ4e4tA7WG{margin-top:0}",""]),t.locals={bcPromptHeader:"_2UxKMNua2KSiL6",settingItem:"_3fzsq9jEZYVCax",bcPromptSparkle:"_3i3aIPvVcGa13r",bcPromptUpgrade:"yXN9qZ4e4tA7WG"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/UpgradePrompts/UpgradeSmartComponent.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".k4fHjDZIpOlJJ3{margin-bottom:16px;display:inline-block;padding:0;background:transparent;text-decoration:underline}.k4fHjDZIpOlJJ3:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){.k4fHjDZIpOlJJ3:focus{outline:5px auto -webkit-focus-ring-color}}.k4fHjDZIpOlJJ3:active,.k4fHjDZIpOlJJ3:hover{background-color:transparent}._1HU4hZ1sEBp2QC{color:#5e6c84}._1HU4hZ1sEBp2QC:hover{background-color:transparent;color:#172b4d}._2_ySCHs3C0BxvV,._2_ySCHs3C0BxvV:hover{color:#fff}._1kUj6qo0eXH4Pp{margin:4px 0}._28ASm-lZuWGxjE{margin-top:4px;margin-bottom:16px}.uig2fjRiWi1QqK{margin-top:8px}",""]),t.locals={cta:"k4fHjDZIpOlJJ3",lightModeCta:"_1HU4hZ1sEBp2QC",darkModeCta:"_2_ySCHs3C0BxvV",boardMenuPromptFullWrapper:"_1kUj6qo0eXH4Pp",butlerUpsellPopoverPromptFullWrapper:"_28ASm-lZuWGxjE",createBoardModalWrapper:"uig2fjRiWi1QqK"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardMemberRestrictionAlert.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".u1Vu5mfX6rvQX7{word-break:break-word}._1RXuPFQtuwFCtA{margin-top:8px}.xjDHW09-9u6lTu{margin-bottom:0}._3troIIxi_a1hqB{word-break:break-word}",""]),t.locals={boardMemberRestrictionAlertMessaging:"u1Vu5mfX6rvQX7",boardMemberRestrictionAlertConfirmButton:"_1RXuPFQtuwFCtA",boardMemberRestrictionAlertCancelButton:"xjDHW09-9u6lTu",boardMemberRestrictionAlertMembers:"_3troIIxi_a1hqB"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/BoardVisibilityRestrictionAlert.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".CzgYfRRMlERKpe{cursor:pointer;margin:0 -12px;padding:4px 12px}.CzgYfRRMlERKpe:hover{background-color:#f4f5f7}._2JxGvjj_Uq0A0H{color:#a5adba}._2JxGvjj_Uq0A0H:hover{background-color:inherit}.CzgYfRRMlERKpe._2JxGvjj_Uq0A0H{cursor:not-allowed}._2JxGvjj_Uq0A0H ._3eguofGPxklNDb{color:#a5adba}._3JWcb2DQedjEve{font-size:12px;margin:0}._39vHcAGvNhCSRc{color:#eb5a46}",""]),t.locals={boardVisibilityOption:"CzgYfRRMlERKpe",boardVisibilityOptionDisabled:"_2JxGvjj_Uq0A0H",boardVisibilityIcon:"_3eguofGPxklNDb",boardVisibilityOptionDescription:"_3JWcb2DQedjEve",boardVisibilityDisabledMessaging:"_39vHcAGvNhCSRc"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/NewBillableGuestsAlert.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2k2zJfwZUVqMkH{margin-top:8px}._1Nc04Bo7h06bHM,._2k2zJfwZUVqMkH{text-align:center}._1Nc04Bo7h06bHM{margin-bottom:16px}._1rlm1GWXa4A6Dy{margin-bottom:0}",""]),t.locals={newBillableGuestsAlertHeadline:"_2k2zJfwZUVqMkH",newBillableGuestsAlertMessaging:"_1Nc04Bo7h06bHM",newBillableGuestsAlertSubmitButton:"_1rlm1GWXa4A6Dy"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardHeaderButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._39NB3aTivewkqd img{height:140px;width:280px;border-radius:3px}._39NB3aTivewkqd p{text-align:center;font-size:14px;line-height:20px;color:#5e6c84;padding-bottom:8px}.tgKieSz3YDD6s-{padding-top:15px;font-size:16px;line-height:20px;text-align:center;color:#000}._3SvvsS-c9gw_yG{margin-bottom:0;border-radius:3px}",""]),t.locals={workspacesPreambleBoardHeaderButtonIntro:"_39NB3aTivewkqd",workspacesPreambleBoardHeaderButtonIntroTitle:"tgKieSz3YDD6s-",workspacesPreambleBoardHeaderButtonContinueButton:"_3SvvsS-c9gw_yG"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardInviteButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1N1zI2BgoVAX-l img{height:140px;width:280px;border-radius:3px}._1N1zI2BgoVAX-l p{text-align:center;font-size:14px;line-height:20px;color:#5e6c84;padding-bottom:8px}._2_VA3TgQs82Iwl{padding-top:15px;font-size:16px;line-height:20px;text-align:center;color:#000}._2D4A_C1TWeTpJw{margin-bottom:0;border-radius:3px}",""]),t.locals={workspacesPreamblePromptInviteIntro:"_1N1zI2BgoVAX-l",workspacesPreamblePromptInviteIntroTitle:"_2_VA3TgQs82Iwl",workspacesPreamblePromptInviteIntroContinueButton:"_2D4A_C1TWeTpJw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleBoardMemberList.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._12ruPrqAybvTsA{padding-top:8px}._12ruPrqAybvTsA label{font-style:normal;font-weight:400;font-size:14px;line-height:20px;margin:0;cursor:pointer}._12ruPrqAybvTsA button{font-size:12px;line-height:16px;-webkit-text-decoration-line:underline;text-decoration-line:underline;color:#0079bf;padding:0;background:none;margin:0 0 16px 24px}._12ruPrqAybvTsA button:focus{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._12ruPrqAybvTsA button:focus{outline:5px auto -webkit-focus-ring-color}}._22OTn9wMpyuM-m{padding-left:24px}._22OTn9wMpyuM-m ._27nxKSoa7zvT26{overflow:auto;max-height:100%;padding-right:8px}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY{display:flex;align-items:center;border-top:1px solid rgba(9,30,66,.08);border-bottom:1px solid rgba(9,30,66,.08);padding:6px 0 6px 3px;box-sizing:border-box;cursor:pointer}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:first-child,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:last-child{border:none;padding:8px 0 8px 3px}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY div,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY input,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY label,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY span{cursor:pointer}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY ._1svQrr86Souh3m{display:flex;flex-grow:1;align-items:center;font-size:12px;line-height:16px;padding-right:8px;overflow:hidden}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY ._1svQrr86Souh3m .LAT1P1MAzBW22Y{margin-right:8px;flex:0 0 20px}._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY ._1svQrr86Souh3m .D1ZpigdfadVZpN{overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._22OTn9wMpyuM-m ._18uacCVEgFerGW,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:hover{border:none;border-radius:3px;background-color:rgba(9,30,66,.08);padding:7px 0 7px 3px}._22OTn9wMpyuM-m ._18uacCVEgFerGW:first-child,._22OTn9wMpyuM-m ._18uacCVEgFerGW:last-child,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:hover:first-child,._22OTn9wMpyuM-m .ZKLtcQRl4TCkyY:hover:last-child{padding:8px 0 8px 3px}._2DMF3QqAMZ_lQJ{margin-top:-3px}",""]),t.locals={inviteMembers:"_12ruPrqAybvTsA",members:"_22OTn9wMpyuM-m",membersScroller:"_27nxKSoa7zvT26",member:"ZKLtcQRl4TCkyY",nameAndAvatar:"_1svQrr86Souh3m",avatar:"LAT1P1MAzBW22Y",name:"D1ZpigdfadVZpN",memberHover:"_18uacCVEgFerGW",memberCheckbox:"_2DMF3QqAMZ_lQJ"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleChangeTeamButton.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1CzTncNvSEvVMM img{height:140px;width:280px;border-radius:3px}._1CzTncNvSEvVMM p{text-align:center;font-size:14px;line-height:20px;color:#5e6c84;padding-bottom:8px}._33NqN29XtLCMh-{padding-top:15px;font-size:16px;line-height:20px;text-align:center;color:#000}._2g4hDAcj_cUacX{margin-bottom:0;border-radius:3px}.wUrohpeH3LIiJh{cursor:pointer;display:block;padding:6px 12px}.wUrohpeH3LIiJh._3srOhDyKj9XVyG,.wUrohpeH3LIiJh._3srOhDyKj9XVyG:hover{color:#a5adba;cursor:default}.wUrohpeH3LIiJh._3srOhDyKj9XVyG ._3b4M27BIEuYXb9{color:#a5adba}._3b4M27BIEuYXb9{color:#5e6c84;display:block;font-size:14px;font-weight:400;line-height:20px;margin-top:4px}",""]),t.locals={workspacesPreambleChangeTeamButtonIntro:"_1CzTncNvSEvVMM",workspacesPreambleChangeTeamButtonIntroTitle:"_33NqN29XtLCMh-",workspacesPreambleChangeTeamButtonContinueButton:"_2g4hDAcj_cUacX",workspacesPreambleChangeTeamButton:"wUrohpeH3LIiJh",workspacesPreambleChangeTeamButtonDisabled:"_3srOhDyKj9XVyG",workspacesPreambleChangeTeamButtonTeamName:"_3b4M27BIEuYXb9"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleCreateTeam.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".IHqc1QGp3HQPfF ._6XszeBH00nGVni{width:100%;margin-bottom:8px}._3KQHSTrtmaNJqU{margin-top:8px;margin-bottom:0}",""]),t.locals={createTeam:"IHqc1QGp3HQPfF",createTeamInput:"_6XszeBH00nGVni",createTeamButton:"_3KQHSTrtmaNJqU"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./app/src/components/WorkspacesPreamble/WorkspacesPreambleSelectTeam.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._3k_0NQjo7LdE63{margin-top:8px;margin-bottom:0}",""]),t.locals={selectTeamSubmitButton:"_3k_0NQjo7LdE63"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Checkbox/Checkbox.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".VQ3M2ZKMK_pMMy{padding:0;margin:0;border:0;height:1px;width:1px;clip:rect(1px,1px,1px,1px);overflow:hidden;pointer-events:none;position:absolute;top:0;left:0}._1UAt3Yjp1KQ52A{position:relative;border-radius:2px;height:16px;width:16px;overflow:hidden;white-space:nowrap;transition:all .2s ease-in-out;background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6}._25XMXUmfJPDVXo{outline:1px dotted #000}@media screen and (-webkit-min-device-pixel-ratio:0){._25XMXUmfJPDVXo{outline:5px auto -webkit-focus-ring-color}}._3xZq2oQfhjnLnJ{box-shadow:inset 0 0 0 2px #eb5a46}.MF_VSu9Igakj7I{position:absolute;top:0;left:0;height:16px;width:16px;opacity:0}.MF_VSu9Igakj7I svg{fill:transparent}._12KOvNw0rx407A{position:relative;display:inline-flex;align-items:center;padding-top:6px;padding-right:8px;padding-bottom:6px}._3d1YHg1kCx-TWb{margin-left:8px}.Jrcvjpyp1hfScV:hover ._1UAt3Yjp1KQ52A{background-color:#ebecf0;box-shadow:inset 0 0 0 2px #dfe1e6}.Jrcvjpyp1hfScV:hover .VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A{background-color:#ebecf0;box-shadow:inset 0 0 0 2px #dfe1e6;background-color:#5ba4cf;box-shadow:inset 0 0 0 2px #5ba4cf}.Jrcvjpyp1hfScV:active ._1UAt3Yjp1KQ52A,.Jrcvjpyp1hfScV:active .VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A{background-color:#e4f0f6;box-shadow:inset 0 0 0 2px #e4f0f6}.Jrcvjpyp1hfScV:active .VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A .MF_VSu9Igakj7I{height:16px;width:16px;opacity:1}.Jrcvjpyp1hfScV:active .VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A .MF_VSu9Igakj7I svg{fill:#0079bf}.VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A{background-color:#0079bf;box-shadow:inset 0 0 0 2px #0079bf}.VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A .MF_VSu9Igakj7I{height:16px;width:16px;opacity:1}.VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A .MF_VSu9Igakj7I svg{fill:#fff}._1NLsIQnRyxSQNs,._1NLsIQnRyxSQNs:active,._1NLsIQnRyxSQNs:hover{cursor:not-allowed}._1NLsIQnRyxSQNs ._1UAt3Yjp1KQ52A,._1NLsIQnRyxSQNs .VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A,._1NLsIQnRyxSQNs:active ._1UAt3Yjp1KQ52A,._1NLsIQnRyxSQNs:active .VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A,._1NLsIQnRyxSQNs:hover ._1UAt3Yjp1KQ52A,._1NLsIQnRyxSQNs:hover .VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A{pointer-events:none;background-color:#f4f5f7;box-shadow:inset 0 0 0 2px #f4f5f7}._1NLsIQnRyxSQNs .VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A .MF_VSu9Igakj7I,._1NLsIQnRyxSQNs:active .VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A .MF_VSu9Igakj7I,._1NLsIQnRyxSQNs:hover .VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A .MF_VSu9Igakj7I{height:16px;width:16px;opacity:1}._1NLsIQnRyxSQNs .VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A .MF_VSu9Igakj7I svg,._1NLsIQnRyxSQNs:active .VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A .MF_VSu9Igakj7I svg,._1NLsIQnRyxSQNs:hover .VQ3M2ZKMK_pMMy:checked+._1UAt3Yjp1KQ52A .MF_VSu9Igakj7I svg{fill:#a5adba}.Jrcvjpyp1hfScV._1qMJ4xNjd9swXG ._1UAt3Yjp1KQ52A{background-color:#0079bf;box-shadow:inset 0 0 0 2px #0079bf}.Jrcvjpyp1hfScV._1qMJ4xNjd9swXG ._1UAt3Yjp1KQ52A .MF_VSu9Igakj7I{height:16px;width:16px;opacity:1}.Jrcvjpyp1hfScV._1qMJ4xNjd9swXG ._1UAt3Yjp1KQ52A .MF_VSu9Igakj7I svg{fill:#fff}",""]),t.locals={"nch-checkbox__input":"VQ3M2ZKMK_pMMy","nch-checkbox__box":"_1UAt3Yjp1KQ52A","nch-checkbox__box--focusVisible":"_25XMXUmfJPDVXo","nch-checkbox__box--invalid":"_3xZq2oQfhjnLnJ","nch-checkbox__checkIcon":"MF_VSu9Igakj7I","nch-checkbox__label":"_12KOvNw0rx407A","nch-checkbox__labelContent":"_3d1YHg1kCx-TWb","nch-checkbox":"Jrcvjpyp1hfScV","nch-checkbox--disabled":"_1NLsIQnRyxSQNs","nch-checkbox--indeterminate":"_1qMJ4xNjd9swXG"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/List/List.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2XUnC-GKb6UkpG{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;cursor:pointer;padding:0;margin:0}._2XUnC-GKb6UkpG,._2XUnC-GKb6UkpG li,._38pq5NbRWAG39y{list-style-type:none}._38pq5NbRWAG39y{padding:6px 12px}._38pq5NbRWAG39y:hover{background-color:rgba(9,30,66,.04)}._38pq5NbRWAG39y:active{background-color:#e4f0f6}.I2WBX22XhJYhvT{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;cursor:pointer;display:grid;grid-template-rows:1fr;grid-template-columns:1fr;grid-auto-columns:44px;grid-auto-flow:column;min-height:48px}.I2WBX22XhJYhvT:hover{background-color:rgba(9,30,66,.04)}.I2WBX22XhJYhvT:active{background-color:#e4f0f6}._2DNNgL-8Twpnyf{margin:auto 0 auto auto;grid-column-end:1}._1CTfRY17GWJSii{padding:6px 12px}.WDaxXXrS7crTKz{font-size:12px;line-height:16px;color:#5e6c84}.t50cODzF7KObcp{color:#fff}._1VniUx1gUK2kyV{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;cursor:pointer;list-style-type:none;padding:0;margin:0}._1VniUx1gUK2kyV li{list-style-type:none;padding:6px 12px}._1VniUx1gUK2kyV li:hover{background-color:rgba(9,30,66,.04)}._1VniUx1gUK2kyV li:active{background-color:#e4f0f6}",""]),t.locals={"nch-list":"_2XUnC-GKb6UkpG","nch-list__item":"_38pq5NbRWAG39y","nch-list__cell":"I2WBX22XhJYhvT","nch-list__cell-image":"_2DNNgL-8Twpnyf","nch-list__cell-content":"_1CTfRY17GWJSii","nch-list__cell-meta":"WDaxXXrS7crTKz","nch-list__cell-meta--selected":"t50cODzF7KObcp","nch-list--static":"_1VniUx1gUK2kyV"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Select/Select.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1E5X2RKu9Rucv2{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400}._1E5X2RKu9Rucv2:focus{outline:none}._1T1MG_BX1zeaq8{min-height:36px;background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;border-radius:3px;-webkit-appearance:none;border:none;width:100%;padding-left:12px;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='%2342526E' viewBox='0 0 20 20'%3E%3Cpath d='M4.516 7.548c.436-.446 1.043-.481 1.576 0L10 11.295l3.908-3.747c.533-.481 1.141-.446 1.574 0 .436.445.408 1.197 0 1.615-.406.418-4.695 4.502-4.695 4.502a1.095 1.095 0 0 1-1.576 0S4.924 9.581 4.516 9.163s-.436-1.17 0-1.615z'/%3E%3C/svg%3E\") no-repeat;background-size:20px;background-position:right 8px center}._3aKo_iEHQ06zFk{min-height:24px}._23S_kzHpI0As0O{background-color:#f4f5f7;box-shadow:none}._1T1MG_BX1zeaq8:hover{background-color:#ebecf0;cursor:pointer}._1T1MG_BX1zeaq8:focus,._1T1MG_BX1zeaq8:focus:hover,._3VuyTzxJvL9fnY,._3VuyTzxJvL9fnY:hover{background-color:#fff;box-shadow:inset 0 0 0 2px #0079bf}._17oKwiCho39YzQ{box-shadow:0 4px 8px -2px rgba(9,30,66,.25),0 0 0 1px rgba(9,30,66,.08)}._11O9PMdHE0te2R{background-color:#e4f0f6}._3mmTa26C7TsBuF._1Qv4GU0xuPVnrX{color:#a5adba;pointer-events:none}._8BuraJ5qA9us6k,._8BuraJ5qA9us6k:active,._8BuraJ5qA9us6k:hover,._8BuraJ5qA9us6k li,._8BuraJ5qA9us6k li:active{color:#fff;background-color:#172b4d}._2jWrEGE8usKp9N{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-weight:400;color:#172b4d;font-size:14px;margin-bottom:2px}._2jWrEGE8usKp9N,._3BTdRu8Ie4X0Jd{line-height:20px;font-weight:700;display:block}._3BTdRu8Ie4X0Jd{font-size:16px;text-overflow:ellipsis}._2CsKG3pbuiDMf7{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:20px;font-weight:400;min-height:36px;background-color:#fafbfc;box-shadow:inset 0 0 0 2px #dfe1e6;border-radius:3px;-webkit-appearance:none;border:none;width:100%;padding-left:12px;background:url(\"data:image/svg+xml;charset=utf-8,%3Csvg xmlns='http://www.w3.org/2000/svg' width='20' height='20' fill='%2342526E' viewBox='0 0 20 20'%3E%3Cpath d='M4.516 7.548c.436-.446 1.043-.481 1.576 0L10 11.295l3.908-3.747c.533-.481 1.141-.446 1.574 0 .436.445.408 1.197 0 1.615-.406.418-4.695 4.502-4.695 4.502a1.095 1.095 0 0 1-1.576 0S4.924 9.581 4.516 9.163s-.436-1.17 0-1.615z'/%3E%3C/svg%3E\") no-repeat;background-size:20px;background-position:right 8px center}._2CsKG3pbuiDMf7:focus{outline:none}._2CsKG3pbuiDMf7:hover{background-color:#ebecf0;cursor:pointer}._2CsKG3pbuiDMf7:focus{background-color:#fff;box-shadow:inset 0 0 0 2px #0079bf}",""]),t.locals={"nch-select":"_1E5X2RKu9Rucv2","nch-select__control":"_1T1MG_BX1zeaq8","nch-select__control--compact":"_3aKo_iEHQ06zFk","nch-select__control--subtle":"_23S_kzHpI0As0O","nch-select__control--focus":"_3VuyTzxJvL9fnY","nch-select__menu":"_17oKwiCho39YzQ","nch-select__option--active":"_11O9PMdHE0te2R","nch-select__option":"_3mmTa26C7TsBuF","nch-select__option--disabled":"_1Qv4GU0xuPVnrX","nch-select__option--selected":"_8BuraJ5qA9us6k","nch-select__label":"_2jWrEGE8usKp9N","nch-select__val":"_3BTdRu8Ie4X0Jd","nch-select--static":"_2CsKG3pbuiDMf7"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/avatar/Avatar.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._24AWINHReYjNBf{align-items:center;background-color:#dfe1e6;background-position:50%;background-repeat:no-repeat;background-size:cover;border:0;border-radius:100%;box-sizing:border-box;color:#172b4d;display:inline-flex;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:700;justify-content:center;line-height:28px;opacity:1;height:28px;width:28px;overflow:hidden;white-space:nowrap}._24AWINHReYjNBf._3cImyX2kTlgxxi{background-color:#f4f5f7;color:#6b778c}._24AWINHReYjNBf._1BOFNoyaspEBu6{background-color:#dfe1e6;border:1px solid #dfe1e6}._24AWINHReYjNBf._1BOFNoyaspEBu6._3cImyX2kTlgxxi{background-color:#ebecf0}._24AWINHReYjNBf._1I-6Yi0Ntb9U5F{max-width:128px;max-height:128px}._3pnKfi0FcRvKSs ._24AWINHReYjNBf{margin-left:4px;margin-top:4px;float:right}.gane1tbb2Vu40u ._24AWINHReYjNBf{align-self:flex-start;flex:0 0 auto}",""]),t.locals={avatar:"_24AWINHReYjNBf",deactivated:"_3cImyX2kTlgxxi",lightBackground:"_1BOFNoyaspEBu6",atlassianAccount:"_1I-6Yi0Ntb9U5F",cardFront:"_3pnKfi0FcRvKSs",detailHeader:"gane1tbb2Vu40u"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/board-card/ActionPanel.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1gYEfDaU8J_w3O{border-bottom:1px solid #dfe1e6;padding:8px;text-align:left}._1gYEfDaU8J_w3O._1gtHda9ScK4htn{padding:4px}._1gYEfDaU8J_w3O._556A8OAIng0Yer{text-align:right}._1gYEfDaU8J_w3O *{vertical-align:middle}._1OEQCG3mmMvXYA{background-color:#ebecf0;border-radius:3px;border:1px solid #dfe1e6}._1OEQCG3mmMvXYA .AWXm0d_cAeWEqd{border:none}._1OEQCG3mmMvXYA ._1gYEfDaU8J_w3O:last-child{border-bottom:none}._1eGfl2XXUFX9_4 ._1OEQCG3mmMvXYA{border-radius:0;border-top:0}._2LOiImrmjA16_u{display:flex;justify-content:space-between;margin-right:0;padding:0 8px}._2LOiImrmjA16_u._1MC8kqDMPoE4O3{justify-content:flex-start}._2LOiImrmjA16_u._1MC8kqDMPoE4O3 .NWqcbUHmr3HboX{margin-right:16px}.NWqcbUHmr3HboX{background-color:transparent;border:none;color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;height:16px;letter-spacing:-.3px;line-height:1.33;padding:0;text-align:center}._1tXZcITUQgQs7W{line-height:16px;margin-left:4px;vertical-align:middle}._3mtBj9gkLV74FA{display:inline-block;vertical-align:top}._3mtBj9gkLV74FA svg{height:16px;width:16px}._20--e0wrIU3viw{border-radius:3px;box-sizing:border-box;color:#172b4d;font-size:14px;height:24px;letter-spacing:-.3px;line-height:1.14;padding:0 8px}._20--e0wrIU3viw::-webkit-input-placeholder{color:#6b778c}._20--e0wrIU3viw::placeholder{color:#6b778c}",""]),t.locals={actionPanelRow:"_1gYEfDaU8J_w3O",slim:"_1gtHda9ScK4htn",alignRight:"_556A8OAIng0Yer",actionPanel:"_1OEQCG3mmMvXYA",hideBorder:"AWXm0d_cAeWEqd",boardCard:"_1eGfl2XXUFX9_4",actionButtons:"_2LOiImrmjA16_u",alignStart:"_1MC8kqDMPoE4O3",actionButton:"NWqcbUHmr3HboX",actionButtonLabel:"_1tXZcITUQgQs7W",icon:"_3mtBj9gkLV74FA",actionInput:"_20--e0wrIU3viw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/board-card/BoardCard.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._2iPSqh1ET8Mdiv{background-position:bottom;background-size:cover;height:auto;padding:0}._2iPSqh1ET8Mdiv._2FYtNv91vusBZU{background-size:100% 40px,cover}._2iPSqh1ET8Mdiv ._1ZZoQ3WtmnsdUp{color:inherit}._3L9kq3U58MeQ4r ._2iPSqh1ET8Mdiv{width:auto;border-bottom-right-radius:0;border-bottom-left-radius:0}.-CqnFUXurbRKKW,.viNCQ95uuyQH_Z{font-weight:700}._2mkH4ELZ00arkF{font-weight:400}._1hYecqld8Zn7Er{display:inline-block;text-decoration:none;color:inherit}._1hYecqld8Zn7Er:hover{color:inherit;text-decoration:underline;cursor:pointer}._1ZZoQ3WtmnsdUp{display:flex;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;height:16px;line-height:16px;letter-spacing:-.2px;padding:4px 8px}._1ZZoQ3WtmnsdUp._12lR2TzHscJyEZ{padding:8px}._1ZZoQ3WtmnsdUp ._2mkH4ELZ00arkF{flex:1}._1ZZoQ3WtmnsdUp .-CqnFUXurbRKKW,._1ZZoQ3WtmnsdUp ._2mkH4ELZ00arkF,._1ZZoQ3WtmnsdUp .viNCQ95uuyQH_Z{display:inline-block;font-size:inherit;height:100%;margin:0;overflow:hidden;position:relative;text-overflow:ellipsis;top:1px;white-space:nowrap}._2vl-kltjWE4evc{display:inline-block;height:0;height:16px;margin-right:8px;width:16px}.D_QIqEJLcWlgID{height:96px;padding:16px}._1QndlTGK-mQ6xb{background-color:#ebecf0;border-radius:100px;display:block;height:8px;position:relative}._1QndlTGK-mQ6xb._3-dmfo8rVthxrB{margin-bottom:8px;width:112px}._1QndlTGK-mQ6xb._23MPeMx_XYmN70{width:32px}",""]),t.locals={board:"_2iPSqh1ET8Mdiv",headerBgColor:"_2FYtNv91vusBZU",nameSection:"_1ZZoQ3WtmnsdUp",detailContainer:"_3L9kq3U58MeQ4r",boardName:"viNCQ95uuyQH_Z",teamName:"-CqnFUXurbRKKW",listName:"_2mkH4ELZ00arkF",nameUrl:"_1hYecqld8Zn7Er",displayLogo:"_12lR2TzHscJyEZ",trelloLogo:"_2vl-kltjWE4evc",placeholderBoard:"D_QIqEJLcWlgID",placeholderBar:"_1QndlTGK-mQ6xb",topPlaceholderBar:"_3-dmfo8rVthxrB",bottomPlaceholderBar:"_23MPeMx_XYmN70"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/board/Board.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._34uBsr6N8mHUP1{background-color:#0079bf;background-image:none;background-repeat:no-repeat;background-size:cover;border:none;border-radius:3px;box-sizing:border-box;color:#172b4d;height:158px;overflow:hidden;padding:8px;width:248px}._34uBsr6N8mHUP1._1JM8tzI6T4PDVJ{background-color:rgba(9,30,66,.13)}._34uBsr6N8mHUP1 ._2-ma3_U7ja6h0v,._34uBsr6N8mHUP1 ._3Cski8IJp3Nwe8,._34uBsr6N8mHUP1 ._20wHrf_2c-B3r-{color:inherit}._34uBsr6N8mHUP1 .qQTASGK5eVs6KM{opacity:1}._1JM8tzI6T4PDVJ .qQTASGK5eVs6KM,._21CVj9LrI5-XoA .qQTASGK5eVs6KM{opacity:0}._1JM8tzI6T4PDVJ .ddGyhoHxJauR_5,._21CVj9LrI5-XoA .ddGyhoHxJauR_5{background-color:#ebecf0}._3Cski8IJp3Nwe8{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;font-weight:700;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._3Cski8IJp3Nwe8~._2FCtOkuFjAEY9m{margin-top:8px}._3Cski8IJp3Nwe8~._20wHrf_2c-B3r-{margin-top:4px}._2FCtOkuFjAEY9m{white-space:nowrap}._2FCtOkuFjAEY9m .ddGyhoHxJauR_5{display:inline-block;margin-right:8px;vertical-align:top}._2FCtOkuFjAEY9m .ddGyhoHxJauR_5:last-child{margin-right:0}._20wHrf_2c-B3r-{font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;margin:0;overflow:hidden;text-overflow:ellipsis;white-space:nowrap}._2-ma3_U7ja6h0v{overflow:visible;text-overflow:clip;white-space:normal}.qQTASGK5eVs6KM{background-color:#fff;border-radius:2px;box-sizing:border-box;height:24px;opacity:.8}.ddGyhoHxJauR_5{background-color:#dfe1e6;border-radius:3px;box-sizing:border-box;width:40px;padding:4px 4px 16px}.ddGyhoHxJauR_5 .qQTASGK5eVs6KM{margin-bottom:4px}.ddGyhoHxJauR_5 .qQTASGK5eVs6KM:last-child{margin-bottom:0}._1otFYtt0pvD2a-{border-radius:100px;background-color:#fafbfc;display:block;height:8px;margin-bottom:16px;width:112px}",""]),t.locals={board:"_34uBsr6N8mHUP1",boardError:"_1JM8tzI6T4PDVJ",boardName:"_3Cski8IJp3Nwe8",teamName:"_20wHrf_2c-B3r-",errorMessage:"_2-ma3_U7ja6h0v",card:"qQTASGK5eVs6KM",boardLoading:"_21CVj9LrI5-XoA",list:"ddGyhoHxJauR_5",boardLists:"_2FCtOkuFjAEY9m",placeholderTopBar:"_1otFYtt0pvD2a-"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/Badge.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1loVDSWsLhfe_k{display:flex}._3vWVhjKceliSH2{background-color:transparent;border-radius:3px;color:#6b778c;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:400;height:24px;line-height:24px;max-width:calc(100% - 16px);min-height:24px;overflow:hidden;padding:0 6px;text-overflow:ellipsis;vertical-align:top;white-space:nowrap}._3ckhypm1ocq4gn{align-items:center;display:flex;flex-shrink:0;height:24px;justify-content:center;width:16px}._3ckhypm1ocq4gn svg{height:16px;width:16px}.efjAjtO-U8uhw1{margin-left:4px}._21YN576zqCm3qo ._3vWVhjKceliSH2{margin-top:4px;margin-right:4px}._3vWVhjKceliSH2._3Bcdb9DE_wA61I{background-color:#e4f0f6;border-radius:3px;color:#172b4d}._3vWVhjKceliSH2._3Bcdb9DE_wA61I ._3ckhypm1ocq4gn{color:#172b4d}._3vWVhjKceliSH2._3wwejHZruQWGXS{color:#172b4d;background-color:rgba(9,30,66,.04)}._3vWVhjKceliSH2._3wwejHZruQWGXS:hover{background-color:rgba(9,30,66,.13)}._3vWVhjKceliSH2._3wwejHZruQWGXS:active{background-color:#e4f0f6}._3vWVhjKceliSH2._3wwejHZruQWGXS._3g_6yg5EhLdDlL{color:#172b4d;background-color:#f5dd29}._3vWVhjKceliSH2._3wwejHZruQWGXS._3g_6yg5EhLdDlL:hover{background-color:#f5ea92}._3vWVhjKceliSH2._3wwejHZruQWGXS._3g_6yg5EhLdDlL:active{background-color:#fdfae5}._3vWVhjKceliSH2._3wwejHZruQWGXS._3uIrHE6kNrA1Ab{color:#fff;background-color:#cf513d}._3vWVhjKceliSH2._3wwejHZruQWGXS._3uIrHE6kNrA1Ab:hover{background-color:#b04632}._3vWVhjKceliSH2._3wwejHZruQWGXS._3uIrHE6kNrA1Ab:active{background-color:#6e2f1a}._3vWVhjKceliSH2._3wwejHZruQWGXS._3JGtgUmif1mY8w{color:#172b4d;background-color:#fbedeb}._3vWVhjKceliSH2._3wwejHZruQWGXS._3JGtgUmif1mY8w:hover{background-color:#f5d3ce}._3vWVhjKceliSH2._3wwejHZruQWGXS._3JGtgUmif1mY8w:active{background-color:#efb3ab}._3vWVhjKceliSH2._3wwejHZruQWGXS.ZYltYJeqXL6Wuw{color:#fff;background-color:#61bd4f}._3vWVhjKceliSH2._3wwejHZruQWGXS.ZYltYJeqXL6Wuw:hover{background-color:#5aac44}._3vWVhjKceliSH2._3wwejHZruQWGXS.ZYltYJeqXL6Wuw:active{background-color:#519839}",""]),t.locals={flex:"_1loVDSWsLhfe_k",badge:"_3vWVhjKceliSH2",badgeIcon:"_3ckhypm1ocq4gn",badgeIconLabel:"efjAjtO-U8uhw1",cardFront:"_21YN576zqCm3qo",isTemplate:"_3Bcdb9DE_wA61I",dueDateBadge:"_3wwejHZruQWGXS",isDueSoon:"_3g_6yg5EhLdDlL",isDueNow:"_3uIrHE6kNrA1Ab",isPastDue:"_3JGtgUmif1mY8w",isComplete:"ZYltYJeqXL6Wuw"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/Card.less":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._2kkT-Lhc7Rnxuf{background-color:#fff;border-radius:3px;box-sizing:border-box;box-shadow:0 1px 0 0 rgba(9,30,66,.25);display:block;padding-bottom:6px;position:relative;overflow:hidden;width:232px}._1g3mGibhP05Mb2{min-height:56px}._1g3mGibhP05Mb2 ._3qyS0qUsS-VZpY{flex-direction:row;display:flex;background-color:unset;position:absolute;bottom:0}._1g3mGibhP05Mb2 ._2srAf0uqZ0j59O{position:absolute}._1g3mGibhP05Mb2 ._3QBjLLmwilsNyC,._1g3mGibhP05Mb2 ._36usP_bLNzWgNf,._1g3mGibhP05Mb2 .vEgRPGz1dle1D-{display:none}._1g3mGibhP05Mb2 .kbyD4YtX9f__Fj{font-size:16px;line-height:20px;margin-bottom:4px;font-weight:500;width:calc(100% - 16px);align-self:flex-end;margin-bottom:8px}._1g3mGibhP05Mb2.vr-Fywu4ZO842w{overflow:hidden}._1g3mGibhP05Mb2.vr-Fywu4ZO842w ._3qyS0qUsS-VZpY{overflow:visible;background:linear-gradient(180deg,hsla(0,0%,100%,.5),#fff)}._1g3mGibhP05Mb2.vr-Fywu4ZO842w ._3qyS0qUsS-VZpY:before{content:"";height:32px;width:100%;position:absolute;top:-32px;left:0;right:0;background:linear-gradient(180deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.5));mix-blend-mode:normal}._1g3mGibhP05Mb2.vr-Fywu4ZO842w.NGcXv6YajUr6IU ._3qyS0qUsS-VZpY{background:linear-gradient(180deg,rgba(0,0,0,.5),#000)}._1g3mGibhP05Mb2.vr-Fywu4ZO842w.NGcXv6YajUr6IU ._3qyS0qUsS-VZpY:before{background:linear-gradient(180deg,transparent,rgba(0,0,0,.5));mix-blend-mode:normal}._1g3mGibhP05Mb2.vr-Fywu4ZO842w._2N8af91h55q5Jk .kbyD4YtX9f__Fj{white-space:nowrap;overflow:hidden;text-overflow:ellipsis}._1g3mGibhP05Mb2._2ofSoCdHi_7cwN{min-height:120px}._1g3mGibhP05Mb2.NGcXv6YajUr6IU .kbyD4YtX9f__Fj{color:#fff}._1g3mGibhP05Mb2.JtDyzAjXgExxJp{background-color:#5ba4cf}._1g3mGibhP05Mb2._3EjEOB7gHG4zTi{background-color:#7bc86c}._1g3mGibhP05Mb2._1F-iLO2BSaZGmW{background-color:#ffaf3f}._1g3mGibhP05Mb2._2bWIWSSGzD5LKE{background-color:#ef7564}._1g3mGibhP05Mb2.ShFQ65tNzEfWGv{background-color:#cd8de5}._1g3mGibhP05Mb2._28HG4tY337n-hy{background-color:#f5dd29}._1g3mGibhP05Mb2._3sLoTWiuMtqgWW{background-color:#ff8ed4}._1g3mGibhP05Mb2._3x5NO8jvXJzMVw{background-color:#29cce5}._1g3mGibhP05Mb2._3tYl_kERgjDO1Z{background-color:#6deca9}._1g3mGibhP05Mb2._2hhiQy0yDk4CkE{background-color:#172b4d}._1g3mGibhP05Mb2.mYDAf2l-C-65Bt ._3qyS0qUsS-VZpY{left:16px}._1g3mGibhP05Mb2.mYDAf2l-C-65Bt .kbyD4YtX9f__Fj{width:calc(100% - 32px)}._1g3mGibhP05Mb2:hover.JtDyzAjXgExxJp{background-color:#298fca}._1g3mGibhP05Mb2:hover._3EjEOB7gHG4zTi{background-color:#61bd4f}._1g3mGibhP05Mb2:hover._1F-iLO2BSaZGmW{background-color:#ff9f1a}._1g3mGibhP05Mb2:hover._2bWIWSSGzD5LKE{background-color:#eb5a46}._1g3mGibhP05Mb2:hover.ShFQ65tNzEfWGv{background-color:#c377e0}._1g3mGibhP05Mb2:hover._28HG4tY337n-hy{background-color:#f2d600}._1g3mGibhP05Mb2:hover._3sLoTWiuMtqgWW{background-color:#ff78cb}._1g3mGibhP05Mb2:hover._3x5NO8jvXJzMVw{background-color:#00c2e0}._1g3mGibhP05Mb2:hover._3tYl_kERgjDO1Z{background-color:#51e898}._1g3mGibhP05Mb2:hover._2hhiQy0yDk4CkE{background-color:#091e42}._2gDTY-jKw6p1tj{text-decoration:none}._2gDTY-jKw6p1tj:hover{background-color:#f4f5f7;cursor:pointer}._2gDTY-jKw6p1tj:hover ._3qyS0qUsS-VZpY{background:transparent}._8QN4GWOsHHeW8A ._2gDTY-jKw6p1tj,._8QN4GWOsHHeW8A ._2kkT-Lhc7Rnxuf{display:block;margin:8px 8px 0;width:calc(100% - 16px)}._2srAf0uqZ0j59O{position:relative;height:64px;width:100%}._2hawef1oSTSLBB{background-color:transparent;background-position:50%;background-repeat:no-repeat;background-size:cover}._1g3mGibhP05Mb2._2IMinGNNP71UNb,._2hawef1oSTSLBB._2IMinGNNP71UNb{background-image:url('+r(n("./resources/images/patterns/dark/StripeDiagonal.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2.Jyd-D1IUtDqCgn,._2hawef1oSTSLBB.Jyd-D1IUtDqCgn{background-image:url("+r(n("./resources/images/patterns/dark/WaveSquare.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2._3IR9bj8-5kRpSw,._2hawef1oSTSLBB._3IR9bj8-5kRpSw{background-image:url("+r(n("./resources/images/patterns/dark/StripeVertical.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2._2ZetxVWflAMG0t,._2hawef1oSTSLBB._2ZetxVWflAMG0t{background-image:url("+r(n("./resources/images/patterns/dark/DotsChecker.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2._3K1H0lSH-BY5e_,._2hawef1oSTSLBB._3K1H0lSH-BY5e_{background-image:url("+r(n("./resources/images/patterns/dark/GrooveDiagonal.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2._8NciWWTZsb2pFG,._2hawef1oSTSLBB._8NciWWTZsb2pFG{background-image:url("+r(n("./resources/images/patterns/dark/StripeHorizontal.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2._3f-2zrLFVo3Hl3,._2hawef1oSTSLBB._3f-2zrLFVo3Hl3{background-image:url("+r(n("./resources/images/patterns/dark/BrickHorizontal.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2._3m2KaC_krDYq6Q,._2hawef1oSTSLBB._3m2KaC_krDYq6Q{background-image:url("+r(n("./resources/images/patterns/dark/BrickDiagonal.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2._2R3IYRyXSfiOYT,._2hawef1oSTSLBB._2R3IYRyXSfiOYT{background-image:url("+r(n("./resources/images/patterns/dark/Scale.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._1g3mGibhP05Mb2.hu2yS1eBYWa1Wx,._2hawef1oSTSLBB.hu2yS1eBYWa1Wx{background-image:url("+r(n("./resources/images/patterns/light/BrickVertical.svg"))+");background-size:16px 16px;background-repeat:repeat-y;background-position:0}._2hawef1oSTSLBB+._2srAf0uqZ0j59O{position:absolute;top:0}._3qyS0qUsS-VZpY{display:inline-block;position:relative;background:hsla(0,0%,100%,.7);width:100%;z-index:10}.kbyD4YtX9f__Fj{color:#172b4d;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;font-weight:400;line-height:20px;margin:0;padding:6px 8px 0;word-wrap:break-word}._36usP_bLNzWgNf{display:flex;flex-shrink:0;flex-wrap:wrap;max-width:100%;padding:2px 4px 0 8px}._36usP_bLNzWgNf+.kbyD4YtX9f__Fj{padding-top:4px}._3QBjLLmwilsNyC{float:left;max-width:calc(100% - 6px);padding-left:6px}._3QBjLLmwilsNyC,.vEgRPGz1dle1D-{box-sizing:border-box;display:inline-block}.vEgRPGz1dle1D-{float:right;max-width:94%;padding-right:6px}",""]),t.locals={card:"_2kkT-Lhc7Rnxuf",fullCover:"_1g3mGibhP05Mb2",details:"_3qyS0qUsS-VZpY",stickers:"_2srAf0uqZ0j59O",members:"vEgRPGz1dle1D-",badges:"_3QBjLLmwilsNyC",labels:"_36usP_bLNzWgNf",title:"kbyD4YtX9f__Fj",fullImageCover:"vr-Fywu4ZO842w",fullCoverDark:"NGcXv6YajUr6IU",truncateNameForFullCover:"_2N8af91h55q5Jk",fullColorCoverWithStickers:"_2ofSoCdHi_7cwN",colorCardCoverBlue:"JtDyzAjXgExxJp",colorCardCoverGreen:"_3EjEOB7gHG4zTi",colorCardCoverOrange:"_1F-iLO2BSaZGmW",colorCardCoverRed:"_2bWIWSSGzD5LKE",colorCardCoverPurple:"ShFQ65tNzEfWGv",colorCardCoverYellow:"_28HG4tY337n-hy",colorCardCoverPink:"_3sLoTWiuMtqgWW",colorCardCoverSky:"_3x5NO8jvXJzMVw",colorCardCoverLime:"_3tYl_kERgjDO1Z",colorCardCoverBlack:"_2hhiQy0yDk4CkE",fullCoverColorBlind:"mYDAf2l-C-65Bt",cardLink:"_2gDTY-jKw6p1tj",boardCard:"_8QN4GWOsHHeW8A",cover:"_2hawef1oSTSLBB",StripeDiagonal:"_2IMinGNNP71UNb",WaveSquare:"Jyd-D1IUtDqCgn",StripeVertical:"_3IR9bj8-5kRpSw",DotsChecker:"_2ZetxVWflAMG0t",GrooveDiagonal:"_3K1H0lSH-BY5e_",StripeHorizontal:"_8NciWWTZsb2pFG",BrickHorizontal:"_3f-2zrLFVo3Hl3",BrickDiagonal:"_3m2KaC_krDYq6Q",Scale:"_2R3IYRyXSfiOYT",BrickVertical:"hu2yS1eBYWa1Wx"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/CardLabel.less":function(e,t,n){var r=n("./node_modules/css-loader/lib/url/escape.js");(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._2d9CvjIeYdc-B8{border-radius:100px;color:#fff;display:inline-block;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:12px;font-weight:700;height:8px;position:relative;-moz-osx-font-smoothing:grayscale;-webkit-font-smoothing:antialiased;width:40px;vertical-align:top}._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr{border-radius:3px;box-sizing:border-box;height:16px;line-height:16px;max-width:100%;min-width:56px;overflow:hidden;padding:0 8px;text-overflow:ellipsis;white-space:nowrap;width:auto}._2d9CvjIeYdc-B8._2KQ-D8tpT4K7WM{background-color:#0079bf}._2d9CvjIeYdc-B8._34soMZKek3bOCD{background-color:#61bd4f}._2d9CvjIeYdc-B8._1TkTu4kb_CXfos{background-color:#51e898}._2d9CvjIeYdc-B8._2qJYdHZgfb7PlF{background-color:#ff9f1a}._2d9CvjIeYdc-B8._1JhsJA4kp2Ikcv{background-color:#ff78cb}._2d9CvjIeYdc-B8.wu-36sLI7HwIA9{background-color:#c377e0}._2d9CvjIeYdc-B8._360J4pjZxxNQIp{background-color:#eb5a46}._2d9CvjIeYdc-B8._2dPfj5VTFYNx14{background-color:#00c2e0}._2d9CvjIeYdc-B8._2UOqlN4BeL8qrN{background-color:#f2d600}._2d9CvjIeYdc-B8._1elR-WsLZjn28e{background-color:#172b4d}._2d9CvjIeYdc-B8._1N2vopA8xawUAr{background-color:#b3bac5}._2d9CvjIeYdc-B8:before{bottom:0;content:"";left:0;position:absolute;top:0;width:100%}._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr:before{width:16px}._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr.-RDju_kIyN7U5U,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._1GPzZeMEKaKL2i,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._1qsLE2tYR_J1Dm,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._2Oh0eEo14HkIJ5,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._2t5QLJnFhP2iDA,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._2VgTHVQlTkqHit,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._3Xb0YU46djXOCf,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._32QZx_zhfHwNcC,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr._385taimPnH0dbi,._2d9CvjIeYdc-B8._3xPV8Uzkmy2gxr.mNec897-fbbbK8{padding-left:20px}._2d9CvjIeYdc-B8._2VgTHVQlTkqHit:before{background-image:url('+r(n("./resources/images/patterns/light/StripeDiagonal.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8._385taimPnH0dbi:before{background-image:url("+r(n("./resources/images/patterns/light/WaveSquare.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8._2Oh0eEo14HkIJ5:before{background-image:url("+r(n("./resources/images/patterns/light/StripeVertical.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8._2t5QLJnFhP2iDA:before{background-image:url("+r(n("./resources/images/patterns/light/DotsChecker.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8._1GPzZeMEKaKL2i:before{background-image:url("+r(n("./resources/images/patterns/light/GrooveDiagonal.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8._3Xb0YU46djXOCf:before{background-image:url("+r(n("./resources/images/patterns/light/StripeHorizontal.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8.mNec897-fbbbK8:before{background-image:url("+r(n("./resources/images/patterns/light/BrickDiagonal.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8._1qsLE2tYR_J1Dm:before{background-image:url("+r(n("./resources/images/patterns/light/Scale.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8._32QZx_zhfHwNcC:before{background-image:url("+r(n("./resources/images/patterns/light/BrickHorizontal.svg"))+");background-size:16px 16px}._2d9CvjIeYdc-B8.-RDju_kIyN7U5U:before{background-image:url("+r(n("./resources/images/patterns/light/BrickVertical.svg"))+");background-size:16px 16px}._3ZHTEfg553_IVN ._2d9CvjIeYdc-B8{margin-right:4px;margin-top:4px}",""]),t.locals={label:"_2d9CvjIeYdc-B8",expanded:"_3xPV8Uzkmy2gxr",blue:"_2KQ-D8tpT4K7WM",green:"_34soMZKek3bOCD",lime:"_1TkTu4kb_CXfos",orange:"_2qJYdHZgfb7PlF",pink:"_1JhsJA4kp2Ikcv",purple:"wu-36sLI7HwIA9",red:"_360J4pjZxxNQIp",sky:"_2dPfj5VTFYNx14",yellow:"_2UOqlN4BeL8qrN",black:"_1elR-WsLZjn28e",gray:"_1N2vopA8xawUAr",StripeDiagonal:"_2VgTHVQlTkqHit",WaveSquare:"_385taimPnH0dbi",StripeVertical:"_2Oh0eEo14HkIJ5",DotsChecker:"_2t5QLJnFhP2iDA",GrooveDiagonal:"_1GPzZeMEKaKL2i",StripeHorizontal:"_3Xb0YU46djXOCf",BrickDiagonal:"mNec897-fbbbK8",Scale:"_1qsLE2tYR_J1Dm",BrickHorizontal:"_32QZx_zhfHwNcC",BrickVertical:"-RDju_kIyN7U5U",cardFront:"_3ZHTEfg553_IVN"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/Sticker.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,".ulBbHiLD4uV9S3{position:absolute;height:64px;width:64px;transition:transform 85ms ease-in,opacity 85ms ease-in;-webkit-user-select:none;user-select:none}.sR3Nr-iFZ1PoLq{height:64px;width:64px;color:transparent;border:0}",""]),t.locals={sticker:"ulBbHiLD4uV9S3",stickerImage:"sR3Nr-iFZ1PoLq"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/detail/Buttons.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'._1OwcdNg8hntbJj{align-items:center;background-color:#fff;border-radius:4px;border:1px solid #dfe1e6;box-sizing:border-box;color:#172b4d;cursor:pointer;display:flex;font-size:12px;height:40px;justify-content:center;transition:background-color .05s;width:100%;padding:1px}._1OwcdNg8hntbJj+button{margin-left:8px}._1OwcdNg8hntbJj:hover{background-color:rgba(9,30,66,.13)}._1OwcdNg8hntbJj:active{background-color:rgba(9,30,66,.25)}.HWid10SaW7QH1Y{color:#6b778c;display:inline-block;margin-right:6px}._1fCotTL-rtb4hQ,.HWid10SaW7QH1Y,.HWid10SaW7QH1Y svg{height:16px;width:16px}._1fCotTL-rtb4hQ{display:inline-block}._1fCotTL-rtb4hQ svg{height:16px;width:16px}._171imih-o8L7Me+._171imih-o8L7Me:before{content:" \\2022   "}._1Ui7SlsLi4uveH{background:none;border:0;box-shadow:none;color:#6b778c;cursor:pointer;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;margin:0;padding:0;text-decoration:underline}._1Ui7SlsLi4uveH:hover{color:#172b4d}._1Ui7SlsLi4uveH:active{color:#091e42}._1Ui7SlsLi4uveH[disabled]{color:#97a0af;cursor:default;text-decoration:none}._1QHc1MKHf-AecD{display:flex;justify-content:center;align-items:center;background-color:transparent;height:32px;width:32px;border:none;border-radius:50%;padding:0;cursor:pointer}._1QHc1MKHf-AecD:hover{background-color:rgba(9,30,66,.13)}._1QHc1MKHf-AecD:active{background-color:rgba(9,30,66,.25)}._11DbTZ2JGbbxvu ._1QHc1MKHf-AecD{margin-left:auto;align-self:flex-start;flex:0 0 auto}._1dy196_6mEnTW1{display:inline-block;fill:#42526e}._1dy196_6mEnTW1,._1dy196_6mEnTW1 svg{height:16px;width:16px}',""]),t.locals={button:"_1OwcdNg8hntbJj",iconContainer:"HWid10SaW7QH1Y",icon:"_1fCotTL-rtb4hQ",linkButtonContainer:"_171imih-o8L7Me",linkButton:"_1Ui7SlsLi4uveH",overflowButton:"_1QHc1MKHf-AecD",detailHeader:"_11DbTZ2JGbbxvu",overflowIcon:"_1dy196_6mEnTW1"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/detail/Detail.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,"._1FqAS_BlXuOxpz{background:#fff;border-radius:4px;box-shadow:0 1px 3px 0 rgba(9,30,66,.13);width:360px}._2KlpYF95HjnjA_{background:#fff;border-radius:4px;box-sizing:border-box;line-height:1.33;padding:.1px 8px}._1bC5KyI_aSlhGz{align-items:center;display:flex;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;margin:16px 8px}._1lcT8pp_Vi5Z85{display:flex;justify-content:space-between;margin:16px 0 8px}._7U7OTpAs2pgdVT{margin-left:8px;min-width:0;overflow-wrap:break-word;overflow:hidden;word-wrap:break-word}._7U7OTpAs2pgdVT ._2sxXp5zq8ZUBHX{color:#172b4d;font-size:14px;font-weight:700}._7U7OTpAs2pgdVT ._3rLOnr97ahnG2Y{color:#6b778c;font-size:12px}._1dbgtswRRDiwzE{font-size:14px;margin-left:8px}._3yv_J6gLaimejG{color:#000;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;margin:16px 8px;overflow-wrap:break-word;word-wrap:break-word}._3DgLhtdRhgaLDd{background:#fff;margin:14px 0 -4px;line-height:2em;display:flex;flex-flow:row wrap}._3sVSFV-Jz_lHyO{background-color:#dfe1e6;border:none;height:1px;margin:20px 0}",""]),t.locals={boardAndDetailContainer:"_1FqAS_BlXuOxpz",detailContainer:"_2KlpYF95HjnjA_",header:"_1bC5KyI_aSlhGz",detailActions:"_1lcT8pp_Vi5Z85",detailInfo:"_7U7OTpAs2pgdVT",primary:"_2sxXp5zq8ZUBHX",secondary:"_3rLOnr97ahnG2Y",dueInfo:"_1dbgtswRRDiwzE",commentText:"_3yv_J6gLaimejG",reactionContainer:"_3DgLhtdRhgaLDd",spacer:"_3sVSFV-Jz_lHyO"}},"./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/detail/Reply.less":function(e,t,n){(t=e.exports=n("./node_modules/css-loader/lib/css-base.js")(!1)).push([e.i,'.q8Ixl_suIwMta9{background-color:#f4f5f7;border-radius:0 0 4px 4px;border-top:1px solid #dfe1e6;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:1.33;overflow:hidden;position:relative}.q8Ixl_suIwMta9 :empty{border:0}._1ez7iB-uPSh9fN{transition:transform .4s,opacity .4s,min-height .4s}._1ez7iB-uPSh9fN._2AkTnICwSeFzIU,._1ez7iB-uPSh9fN.mYood9W0Y0LC3Z{opacity:0;transform:translateY(-32px)}._1ez7iB-uPSh9fN._1QdIqtWLeC7iYj,._1ez7iB-uPSh9fN.jMn765I_IIzlw-{opacity:1;transform:translateY(0)}._1ez7iB-uPSh9fN._3h1o9APkYnBrDh{left:0;opacity:1;position:absolute;right:0;top:0;transform:translateY(0)}._1ez7iB-uPSh9fN._2PDbwB42x-8WIY{left:0;opacity:0;position:absolute;right:0;top:0;transform:translateY(32px)}._31_PQoPZdQXMMK{margin-top:4px;color:#6b778c}._3hkMMhzQZKwzYX{align-items:flex-start;display:flex;padding:16px 16px 8px}._3hkMMhzQZKwzYX._1ELy_IlBF2Oo4G{align-items:center;padding:0 16px}.WMCn59DKP6RDgu{flex:0 0 auto;margin-right:8px}._3jIQ57R1-f8jqr{flex:1 1 auto;overflow:hidden}.XUCUErY9sUDBP3{background-color:#ebecf0;color:#7a869a;display:block;text-decoration:none;transition:background-color 50ms}.XUCUErY9sUDBP3:hover{background-color:rgba(9,30,66,.13)}._2OMmn-WR45DZ3h{color:#6b778c;font-size:12px;overflow:hidden;padding:16px 8px;text-align:"left";text-overflow:ellipsis;white-space:nowrap}._2OMmn-WR45DZ3h._1ELy_IlBF2Oo4G{text-align:center}._2ttHZX0GAulBoc{background-color:#fff;border-radius:3px;box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Noto Sans,Ubuntu,Droid Sans,Helvetica Neue,sans-serif;font-size:14px;line-height:1.33;resize:none;transition:background-color .05s;width:100%}._2ttHZX0GAulBoc:focus{outline:0}',""]),t.locals={replyContainer:"q8Ixl_suIwMta9",slideIn:"_1ez7iB-uPSh9fN","slide-enter":"_2AkTnICwSeFzIU","slide-appear":"mYood9W0Y0LC3Z","slide-enter-active":"_1QdIqtWLeC7iYj","slide-appear-active":"jMn765I_IIzlw-","slide-exit":"_3h1o9APkYnBrDh","slide-exit-active":"_2PDbwB42x-8WIY",replyActions:"_31_PQoPZdQXMMK",replyColumns:"_3hkMMhzQZKwzYX",centered:"_1ELy_IlBF2Oo4G",replyColumnAvatar:"WMCn59DKP6RDgu",replyColumnContent:"_3jIQ57R1-f8jqr",replyLink:"XUCUErY9sUDBP3",replySentText:"_2OMmn-WR45DZ3h",replyTextArea:"_2ttHZX0GAulBoc"}},"./node_modules/dataloader/index.js":function(e,t,n){(function(t,n){var r,i=function(){function e(t,n){if(function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),"function"!=typeof t)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but got: "+t+".");this._batchLoadFn=t,this._options=n,this._promiseCache=function(e){var t=e&&e.cacheMap;if(!t)return new Map;var n=["get","set","delete","clear"].filter((function(e){return t&&"function"!=typeof t[e]}));if(0!==n.length)throw new TypeError("Custom cacheMap missing methods: "+n.join(", "));return t}(n),this._queue=[]}return e.prototype.load=function(e){var t=this;if(null==e)throw new TypeError("The loader.load() function must be called with a value,but got: "+String(e)+".");var n=this._options,r=!n||!1!==n.batch,i=!n||!1!==n.cache,s=n&&n.cacheKeyFn,l=s?s(e):e;if(i){var c=this._promiseCache.get(l);if(c)return c}var u=new Promise((function(n,i){t._queue.push({key:e,resolve:n,reject:i}),1===t._queue.length&&(r?o((function(){return a(t)})):a(t))}));return i&&this._promiseCache.set(l,u),u},e.prototype.loadMany=function(e){var t=this;if(!Array.isArray(e))throw new TypeError("The loader.loadMany() function must be called with Array<key> but got: "+e+".");return Promise.all(e.map((function(e){return t.load(e)})))},e.prototype.clear=function(e){var t=this._options&&this._options.cacheKeyFn,n=t?t(e):e;return this._promiseCache.delete(n),this},e.prototype.clearAll=function(){return this._promiseCache.clear(),this},e.prototype.prime=function(e,t){var n=this._options&&this._options.cacheKeyFn,r=n?n(e):e;if(void 0===this._promiseCache.get(r)){var i=t instanceof Error?Promise.reject(t):Promise.resolve(t);this._promiseCache.set(r,i)}return this},e}(),o="object"==typeof t&&"function"==typeof t.nextTick?function(e){r||(r=Promise.resolve()),r.then((function(){return t.nextTick(e)}))}:n||setTimeout;function a(e){var t=e._queue;e._queue=[];var n=e._options&&e._options.maxBatchSize;if(n&&n>0&&n<t.length)for(var r=0;r<t.length/n;r++)s(e,t.slice(r*n,(r+1)*n));else s(e,t)}function s(e,t){var n=t.map((function(e){return e.key})),r=(0,e._batchLoadFn)(n);if(!r||"function"!=typeof r.then)return l(e,t,new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise: "+String(r)+"."));r.then((function(e){if(!Array.isArray(e))throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array: "+String(e)+".");if(e.length!==n.length)throw new TypeError("DataLoader must be constructed with a function which accepts Array<key> and returns Promise<Array<value>>, but the function did not return a Promise of an Array of the same length as the Array of keys.\n\nKeys:\n"+String(n)+"\n\nValues:\n"+String(e));t.forEach((function(t,n){var r=t.resolve,i=t.reject,o=e[n];o instanceof Error?i(o):r(o)}))})).catch((function(n){return l(e,t,n)}))}function l(e,t,n){t.forEach((function(t){var r=t.key,i=t.reject;e.clear(r),i(n)}))}e.exports=i}).call(this,n("./node_modules/process/browser.js"),n("./node_modules/timers-browserify/main.js").setImmediate)},"./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/react/index.js"),i=n.n(r),o=(n("./node_modules/prop-types/index.js"),n("./node_modules/emoji-mart/dist-es/utils/index.js")),a=n("./node_modules/emoji-mart/dist-es/utils/data.js"),s=n("./node_modules/emoji-mart/dist-es/utils/shared-props.js"),l=function(e){var t=e.emoji,n=e.skin,r=e.set,i=e.data;return Object(o.b)(t,n,r,i)},c=function(e){var t=l(e),n=t.sheet_x,r=t.sheet_y;return 100/(e.sheetColumns-1)*n+"% "+100/(e.sheetRows-1)*r+"%"},u=function(e){var t=e.emoji,n=e.skin,r=e.set,i=e.data;return Object(o.c)(t,n,r,i)},d=function(e){return!isNaN(e-parseFloat(e))},p=function e(t){for(var n in t.data.compressed&&Object(a.uncompress)(t.data),e.defaultProps)null==t[n]&&null!=e.defaultProps[n]&&(t[n]=e.defaultProps[n]);var r=l(t);if(!r)return t.fallback?t.fallback(null,t):null;var s=r.unified,p=r.custom,m=r.short_names,f=r.imageUrl,h={},v=t.children,g="emoji-mart-emoji",b=null;if(!s&&!p)return t.fallback?t.fallback(r,t):null;if(t.tooltip&&(b=m[0]),t.native&&s)g+=" emoji-mart-emoji-native",h={fontSize:t.size},v=Object(o.f)(s),t.forceSize&&(h.display="inline-block",h.width=t.size,h.height=t.size);else if(p)g+=" emoji-mart-emoji-custom",h={width:t.size,height:t.size,display:"inline-block",backgroundImage:"url("+f+")",backgroundSize:"contain"};else{if(!(null==r["has_img_"+t.set]||r["has_img_"+t.set]))return t.fallback?t.fallback(r,t):null;h={width:t.size,height:t.size,display:"inline-block",backgroundImage:"url("+t.backgroundImageFn(t.set,t.sheetSize)+")",backgroundSize:100*t.sheetColumns+"% "+100*t.sheetRows+"%",backgroundPosition:c(t)}}return t.html?"<span style='"+(h=function(e){var t=document.createElement("div");for(var n in e){var r=e[n];d(r)&&(r+="px"),t.style[n]=r}return t.getAttribute("style")}(h))+"' "+(b?"title='"+b+"'":"")+" class='"+g+"'>"+(v||"")+"</span>":i.a.createElement("span",{key:t.emoji.id||t.emoji,onClick:function(e){return function(e,t){t.onClick&&(0,t.onClick)(u(t),e)}(e,t)},onMouseEnter:function(e){return function(e,t){t.onOver&&(0,t.onOver)(u(t),e)}(e,t)},onMouseLeave:function(e){return function(e,t){t.onLeave&&(0,t.onLeave)(u(t),e)}(e,t)},title:b,className:g},i.a.createElement("span",{style:h},v))};p.defaultProps=s.a,t.default=p},"./node_modules/emoji-mart/dist-es/components/picker/nimble-picker.js":function(e,t,n){"use strict";n.r(t);var r={};n.r(r),n.d(r,"categories",(function(){return v})),n.d(r,"search",(function(){return g}));var i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=Object.getPrototypeOf||function(e){return"function"==typeof(e=Object(e)).constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Object.prototype:null},a=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),s=n.n(a),l=n("./node_modules/emoji-mart/dist-es/polyfills/createClass.js");function c(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var u=Object;function d(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=u.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(u.setPrototypeOf?u.setPrototypeOf(e,t):e.__proto__=t)}n("./node_modules/emoji-mart/dist-es/vendor/raf-polyfill.js");var p=n("./node_modules/react/index.js"),m=n.n(p),f=n("./node_modules/prop-types/index.js"),h=n.n(f),v={activity:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0C5.373 0 0 5.372 0 12c0 6.627 5.373 12 12 12 6.628 0 12-5.373 12-12 0-6.628-5.372-12-12-12m9.949 11H17.05c.224-2.527 1.232-4.773 1.968-6.113A9.966 9.966 0 0 1 21.949 11M13 11V2.051a9.945 9.945 0 0 1 4.432 1.564c-.858 1.491-2.156 4.22-2.392 7.385H13zm-2 0H8.961c-.238-3.165-1.536-5.894-2.393-7.385A9.95 9.95 0 0 1 11 2.051V11zm0 2v8.949a9.937 9.937 0 0 1-4.432-1.564c.857-1.492 2.155-4.221 2.393-7.385H11zm4.04 0c.236 3.164 1.534 5.893 2.392 7.385A9.92 9.92 0 0 1 13 21.949V13h2.04zM4.982 4.887C5.718 6.227 6.726 8.473 6.951 11h-4.9a9.977 9.977 0 0 1 2.931-6.113M2.051 13h4.9c-.226 2.527-1.233 4.771-1.969 6.113A9.972 9.972 0 0 1 2.051 13m16.967 6.113c-.735-1.342-1.744-3.586-1.968-6.113h4.899a9.961 9.961 0 0 1-2.931 6.113"}))},custom:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("g",{transform:"translate(2.000000, 1.000000)"},m.a.createElement("rect",{id:"Rectangle",x:"8",y:"0",width:"3",height:"21",rx:"1.5"}),m.a.createElement("rect",{id:"Rectangle",transform:"translate(9.843, 10.549) rotate(60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049",width:"3",height:"21",rx:"1.5"}),m.a.createElement("rect",{id:"Rectangle",transform:"translate(9.843, 10.549) rotate(-60) translate(-9.843, -10.549) ",x:"8.343",y:"0.049",width:"3",height:"21",rx:"1.5"})))},flags:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M0 0l6.084 24H8L1.916 0zM21 5h-4l-1-4H4l3 12h3l1 4h13L21 5zM6.563 3h7.875l2 8H8.563l-2-8zm8.832 10l-2.856 1.904L12.063 13h3.332zM19 13l-1.5-6h1.938l2 8H16l3-2z"}))},foods:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M17 4.978c-1.838 0-2.876.396-3.68.934.513-1.172 1.768-2.934 4.68-2.934a1 1 0 0 0 0-2c-2.921 0-4.629 1.365-5.547 2.512-.064.078-.119.162-.18.244C11.73 1.838 10.798.023 9.207.023 8.579.022 7.85.306 7 .978 5.027 2.54 5.329 3.902 6.492 4.999 3.609 5.222 0 7.352 0 12.969c0 4.582 4.961 11.009 9 11.009 1.975 0 2.371-.486 3-1 .629.514 1.025 1 3 1 4.039 0 9-6.418 9-11 0-5.953-4.055-8-7-8M8.242 2.546c.641-.508.943-.523.965-.523.426.169.975 1.405 1.357 3.055-1.527-.629-2.741-1.352-2.98-1.846.059-.112.241-.356.658-.686M15 21.978c-1.08 0-1.21-.109-1.559-.402l-.176-.146c-.367-.302-.816-.452-1.266-.452s-.898.15-1.266.452l-.176.146c-.347.292-.477.402-1.557.402-2.813 0-7-5.389-7-9.009 0-5.823 4.488-5.991 5-5.991 1.939 0 2.484.471 3.387 1.251l.323.276a1.995 1.995 0 0 0 2.58 0l.323-.276c.902-.78 1.447-1.251 3.387-1.251.512 0 5 .168 5 6 0 3.617-4.187 9-7 9"}))},nature:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M15.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 15.5 8M8.5 8a1.5 1.5 0 1 0 .001 3.001A1.5 1.5 0 0 0 8.5 8"}),m.a.createElement("path",{d:"M18.933 0h-.027c-.97 0-2.138.787-3.018 1.497-1.274-.374-2.612-.51-3.887-.51-1.285 0-2.616.133-3.874.517C7.245.79 6.069 0 5.093 0h-.027C3.352 0 .07 2.67.002 7.026c-.039 2.479.276 4.238 1.04 5.013.254.258.882.677 1.295.882.191 3.177.922 5.238 2.536 6.38.897.637 2.187.949 3.2 1.102C8.04 20.6 8 20.795 8 21c0 1.773 2.35 3 4 3 1.648 0 4-1.227 4-3 0-.201-.038-.393-.072-.586 2.573-.385 5.435-1.877 5.925-7.587.396-.22.887-.568 1.104-.788.763-.774 1.079-2.534 1.04-5.013C23.929 2.67 20.646 0 18.933 0M3.223 9.135c-.237.281-.837 1.155-.884 1.238-.15-.41-.368-1.349-.337-3.291.051-3.281 2.478-4.972 3.091-5.031.256.015.731.27 1.265.646-1.11 1.171-2.275 2.915-2.352 5.125-.133.546-.398.858-.783 1.313M12 22c-.901 0-1.954-.693-2-1 0-.654.475-1.236 1-1.602V20a1 1 0 1 0 2 0v-.602c.524.365 1 .947 1 1.602-.046.307-1.099 1-2 1m3-3.48v.02a4.752 4.752 0 0 0-1.262-1.02c1.092-.516 2.239-1.334 2.239-2.217 0-1.842-1.781-2.195-3.977-2.195-2.196 0-3.978.354-3.978 2.195 0 .883 1.148 1.701 2.238 2.217A4.8 4.8 0 0 0 9 18.539v-.025c-1-.076-2.182-.281-2.973-.842-1.301-.92-1.838-3.045-1.853-6.478l.023-.041c.496-.826 1.49-1.45 1.804-3.102 0-2.047 1.357-3.631 2.362-4.522C9.37 3.178 10.555 3 11.948 3c1.447 0 2.685.192 3.733.57 1 .9 2.316 2.465 2.316 4.48.313 1.651 1.307 2.275 1.803 3.102.035.058.068.117.102.178-.059 5.967-1.949 7.01-4.902 7.19m6.628-8.202c-.037-.065-.074-.13-.113-.195a7.587 7.587 0 0 0-.739-.987c-.385-.455-.648-.768-.782-1.313-.076-2.209-1.241-3.954-2.353-5.124.531-.376 1.004-.63 1.261-.647.636.071 3.044 1.764 3.096 5.031.027 1.81-.347 3.218-.37 3.235"}))},objects:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0a9 9 0 0 0-5 16.482V21s2.035 3 5 3 5-3 5-3v-4.518A9 9 0 0 0 12 0zm0 2c3.86 0 7 3.141 7 7s-3.14 7-7 7-7-3.141-7-7 3.14-7 7-7zM9 17.477c.94.332 1.946.523 3 .523s2.06-.19 3-.523v.834c-.91.436-1.925.689-3 .689a6.924 6.924 0 0 1-3-.69v-.833zm.236 3.07A8.854 8.854 0 0 0 12 21c.965 0 1.888-.167 2.758-.451C14.155 21.173 13.153 22 12 22c-1.102 0-2.117-.789-2.764-1.453z"}),m.a.createElement("path",{d:"M14.745 12.449h-.004c-.852-.024-1.188-.858-1.577-1.824-.421-1.061-.703-1.561-1.182-1.566h-.009c-.481 0-.783.497-1.235 1.537-.436.982-.801 1.811-1.636 1.791l-.276-.043c-.565-.171-.853-.691-1.284-1.794-.125-.313-.202-.632-.27-.913-.051-.213-.127-.53-.195-.634C7.067 9.004 7.039 9 6.99 9A1 1 0 0 1 7 7h.01c1.662.017 2.015 1.373 2.198 2.134.486-.981 1.304-2.058 2.797-2.075 1.531.018 2.28 1.153 2.731 2.141l.002-.008C14.944 8.424 15.327 7 16.979 7h.032A1 1 0 1 1 17 9h-.011c-.149.076-.256.474-.319.709a6.484 6.484 0 0 1-.311.951c-.429.973-.79 1.789-1.614 1.789"}))},people:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}),m.a.createElement("path",{d:"M8 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 8 7M16 7a2 2 0 1 0-.001 3.999A2 2 0 0 0 16 7M15.232 15c-.693 1.195-1.87 2-3.349 2-1.477 0-2.655-.805-3.347-2H15m3-2H6a6 6 0 1 0 12 0"}))},places:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M6.5 12C5.122 12 4 13.121 4 14.5S5.122 17 6.5 17 9 15.879 9 14.5 7.878 12 6.5 12m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5M17.5 12c-1.378 0-2.5 1.121-2.5 2.5s1.122 2.5 2.5 2.5 2.5-1.121 2.5-2.5-1.122-2.5-2.5-2.5m0 3c-.275 0-.5-.225-.5-.5s.225-.5.5-.5.5.225.5.5-.225.5-.5.5"}),m.a.createElement("path",{d:"M22.482 9.494l-1.039-.346L21.4 9h.6c.552 0 1-.439 1-.992 0-.006-.003-.008-.003-.008H23c0-1-.889-2-1.984-2h-.642l-.731-1.717C19.262 3.012 18.091 2 16.764 2H7.236C5.909 2 4.738 3.012 4.357 4.283L3.626 6h-.642C1.889 6 1 7 1 8h.003S1 8.002 1 8.008C1 8.561 1.448 9 2 9h.6l-.043.148-1.039.346a2.001 2.001 0 0 0-1.359 2.097l.751 7.508a1 1 0 0 0 .994.901H3v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h6v1c0 1.103.896 2 2 2h2c1.104 0 2-.897 2-2v-1h1.096a.999.999 0 0 0 .994-.901l.751-7.508a2.001 2.001 0 0 0-1.359-2.097M6.273 4.857C6.402 4.43 6.788 4 7.236 4h9.527c.448 0 .834.43.963.857L19.313 9H4.688l1.585-4.143zM7 21H5v-1h2v1zm12 0h-2v-1h2v1zm2.189-3H2.811l-.662-6.607L3 11h18l.852.393L21.189 18z"}))},recent:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M13 4h-2l-.001 7H9v2h2v2h2v-2h4v-2h-4z"}),m.a.createElement("path",{d:"M12 0C5.373 0 0 5.373 0 12s5.373 12 12 12 12-5.373 12-12S18.627 0 12 0m0 22C6.486 22 2 17.514 2 12S6.486 2 12 2s10 4.486 10 10-4.486 10-10 10"}))},symbols:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",width:"24",height:"24"},m.a.createElement("path",{d:"M0 0h11v2H0zM4 11h3V6h4V4H0v2h4zM15.5 17c1.381 0 2.5-1.116 2.5-2.493s-1.119-2.493-2.5-2.493S13 13.13 13 14.507 14.119 17 15.5 17m0-2.986c.276 0 .5.222.5.493 0 .272-.224.493-.5.493s-.5-.221-.5-.493.224-.493.5-.493M21.5 19.014c-1.381 0-2.5 1.116-2.5 2.493S20.119 24 21.5 24s2.5-1.116 2.5-2.493-1.119-2.493-2.5-2.493m0 2.986a.497.497 0 0 1-.5-.493c0-.271.224-.493.5-.493s.5.222.5.493a.497.497 0 0 1-.5.493M22 13l-9 9 1.513 1.5 8.99-9.009zM17 11c2.209 0 4-1.119 4-2.5V2s.985-.161 1.498.949C23.01 4.055 23 6 23 6s1-1.119 1-3.135C24-.02 21 0 21 0h-2v6.347A5.853 5.853 0 0 0 17 6c-2.209 0-4 1.119-4 2.5s1.791 2.5 4 2.5M10.297 20.482l-1.475-1.585a47.54 47.54 0 0 1-1.442 1.129c-.307-.288-.989-1.016-2.045-2.183.902-.836 1.479-1.466 1.729-1.892s.376-.871.376-1.336c0-.592-.273-1.178-.818-1.759-.546-.581-1.329-.871-2.349-.871-1.008 0-1.79.293-2.344.879-.556.587-.832 1.181-.832 1.784 0 .813.419 1.748 1.256 2.805-.847.614-1.444 1.208-1.794 1.784a3.465 3.465 0 0 0-.523 1.833c0 .857.308 1.56.924 2.107.616.549 1.423.823 2.42.823 1.173 0 2.444-.379 3.813-1.137L8.235 24h2.819l-2.09-2.383 1.333-1.135zm-6.736-6.389a1.02 1.02 0 0 1 .73-.286c.31 0 .559.085.747.254a.849.849 0 0 1 .283.659c0 .518-.419 1.112-1.257 1.784-.536-.651-.805-1.231-.805-1.742a.901.901 0 0 1 .302-.669M3.74 22c-.427 0-.778-.116-1.057-.349-.279-.232-.418-.487-.418-.766 0-.594.509-1.288 1.527-2.083.968 1.134 1.717 1.946 2.248 2.438-.921.507-1.686.76-2.3.76"}))}},g={search:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 20 20",opacity:"0.5"},m.a.createElement("path",{d:"M12.9 14.32a8 8 0 1 1 1.41-1.41l5.35 5.33-1.42 1.42-5.33-5.34zM8 14A6 6 0 1 0 8 2a6 6 0 0 0 0 12z"}))},delete:function(){return m.a.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"13",height:"13",viewBox:"0 0 20 20",opacity:"0.5"},m.a.createElement("path",{d:"M10 8.586L2.929 1.515 1.515 2.929 8.586 10l-7.071 7.071 1.414 1.414L10 11.414l7.071 7.071 1.414-1.414L11.414 10l7.071-7.071-1.414-1.414L10 8.586z"}))}},b="emoji-mart",y=JSON,k="undefined"!=typeof window&&"localStorage"in window,w=void 0,j=void 0;function _(e,t){if(j)j(e,t);else{if(!k)return;try{window.localStorage[b+"."+e]=y.stringify(t)}catch(e){}}}var x={update:function(e){for(var t in e){_(t,e[t])}},set:_,get:function(e){if(w)return w(e);if(k){try{var t=window.localStorage[b+"."+e]}catch(e){return}return t?JSON.parse(t):void 0}},setNamespace:function(e){b=e},setHandlers:function(e){e||(e={}),w=e.getter,j=e.setter}},C=["+1","grinning","kissing_heart","heart_eyes","laughing","stuck_out_tongue_winking_eye","sweat_smile","joy","scream","disappointed","unamused","weary","sob","sunglasses","heart","poop"],O=void 0,S=void 0,E={};function T(){S=!0,O=x.get("frequently")}var P={add:function(e){S||T();var t=e.id;O||(O=E),O[t]||(O[t]=0),O[t]+=1,x.set("last",t),x.set("frequently",O)},get:function(e){if(S||T(),!O){E={};for(var t=[],n=0;n<e;n++)E[C[n]]=e-n,t.push(C[n]);return t}var r=4*e,i=[];for(var o in O)O.hasOwnProperty(o)&&i.push(o);var a=i.sort((function(e,t){return O[e]-O[t]})).reverse().slice(0,r),s=x.get("last");return s&&-1==a.indexOf(s)&&(a.pop(),a.push(s)),a}},N=n("./node_modules/emoji-mart/dist-es/utils/index.js"),I=n("./node_modules/emoji-mart/dist-es/utils/data.js"),A=n("./node_modules/emoji-mart/dist-es/utils/shared-props.js"),D=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e)),r=e.categories.filter((function(e){return e.first}))[0];return n.state={selected:r.name},n.handleClick=n.handleClick.bind(n),n}return d(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){var t=e.currentTarget.getAttribute("data-index"),n=this.props,r=n.categories;(0,n.onAnchorClick)(r[t],t)}},{key:"render",value:function(){var e=this,t=this.props,n=t.categories,r=t.color,i=t.i18n,o=t.icons,a=this.state.selected;return m.a.createElement("div",{className:"emoji-mart-anchors"},n.map((function(t,n){var s=t.id,l=t.name,c=t.anchor,u=l==a;return!1===c?null:m.a.createElement("span",{key:s,title:i.categories[s],"data-index":n,onClick:e.handleClick,className:"emoji-mart-anchor "+(u?"emoji-mart-anchor-selected":""),style:{color:u?r:null}},m.a.createElement("div",{className:"emoji-mart-anchor-icon"},o.categories[s]()),m.a.createElement("span",{className:"emoji-mart-anchor-bar",style:{backgroundColor:r}}))})))}}]),t}(m.a.PureComponent),B=D;D.defaultProps={categories:[],onAnchorClick:function(){},icons:{}};var R=n("./node_modules/emoji-mart/dist-es/components/emoji/nimble-emoji.js"),L=function(e){function t(){return s()(this,t),c(this,(t.__proto__||o(t)).apply(this,arguments))}return d(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.props,t=e.data,n=e.emojiProps,r=e.i18n,o=e.notFound,a=e.notFoundEmoji;return o&&o()||m.a.createElement("div",{className:"emoji-mart-no-results"},Object(R.default)(i({data:t},n,{size:38,emoji:a,onOver:null,onLeave:null,onClick:null})),m.a.createElement("div",{className:"emoji-mart-no-results-label"},r.notfound))}}]),t}(m.a.PureComponent),M=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e));return n.data=e.data,n.setContainerRef=n.setContainerRef.bind(n),n.setLabelRef=n.setLabelRef.bind(n),n}return d(t,e),Object(l.a)(t,[{key:"componentDidMount",value:function(){this.parent=this.container.parentNode,this.margin=0,this.minMargin=0,this.memoizeSize()}},{key:"shouldComponentUpdate",value:function(e,t){var n=this.props,r=n.name,i=n.perLine,o=n.native,a=n.hasStickyPosition,s=n.emojis,l=n.emojiProps,c=l.skin,u=l.size,d=l.set,p=e.perLine,m=e.native,f=e.hasStickyPosition,h=e.emojis,v=e.emojiProps,g=v.skin,b=v.size,y=v.set,k=!1;return"Recent"==r&&i!=p&&(k=!0),"Search"==r&&(k=!(s==h)),c==g&&u==b&&o==m&&d==y&&a==f||(k=!0),k}},{key:"memoizeSize",value:function(){var e=this.container.getBoundingClientRect(),t=e.top,n=e.height,r=this.parent.getBoundingClientRect().top,i=this.label.getBoundingClientRect().height;this.top=t-r+this.parent.scrollTop,this.maxMargin=0==n?0:n-i}},{key:"handleScroll",value:function(e){var t=e-this.top;if((t=(t=t<this.minMargin?this.minMargin:t)>this.maxMargin?this.maxMargin:t)!=this.margin)return this.props.hasStickyPosition||(this.label.style.top=t+"px"),this.margin=t,!0}},{key:"getEmojis",value:function(){var e=this,t=this.props,n=t.name,r=t.emojis,i=t.recent,o=t.perLine;if("Recent"==n){var a=this.props.custom,s=i||P.get(o);if(s.length&&(r=s.map((function(e){var t=a.filter((function(t){return t.id===e}))[0];return t||e})).filter((function(t){return!!Object(N.b)(t,null,null,e.data)}))),0===r.length&&s.length>0)return null}return r&&(r=r.slice(0)),r}},{key:"updateDisplay",value:function(e){this.getEmojis()&&(this.container.style.display=e)}},{key:"setContainerRef",value:function(e){this.container=e}},{key:"setLabelRef",value:function(e){this.label=e}},{key:"render",value:function(){var e=this,t=this.props,n=t.id,r=t.name,o=t.hasStickyPosition,a=t.emojiProps,s=t.i18n,l=t.notFound,c=t.notFoundEmoji,u=this.getEmojis(),d={},p={},f={};return u||(f={display:"none"}),o||(d={height:28},p={position:"absolute"}),m.a.createElement("div",{ref:this.setContainerRef,className:"emoji-mart-category",style:f},m.a.createElement("div",{style:d,"data-name":r,className:"emoji-mart-category-label"},m.a.createElement("span",{style:p,ref:this.setLabelRef},s.categories[n])),u&&u.map((function(t){return Object(R.default)(i({emoji:t,data:e.data},a))})),u&&!u.length&&m.a.createElement(L,{i18n:s,notFound:l,notFoundEmoji:c,data:this.data,emojiProps:a}))}}]),t}(m.a.Component),F=M;M.defaultProps={emojis:[],hasStickyPosition:!0};var V=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e));return n.state={opened:!1},n}return d(t,e),Object(l.a)(t,[{key:"handleClick",value:function(e){var t=parseInt(e.currentTarget.getAttribute("data-skin")),n=this.props.onChange;this.state.opened?(this.setState({opened:!1}),t!=this.props.skin&&n(t)):this.setState({opened:!0})}},{key:"render",value:function(){return null}}]),t}(m.a.PureComponent),z=V;V.defaultProps={onChange:function(){}};var U=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return d(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.skin,n=e.emojiProps,r=e.data,i=e.skinEmoji,o=e.i18n,a=this.state.opened,s=[],l=1;l<=6;l++){var c=l===t;s.push(m.a.createElement("span",{key:"skin-tone-"+l,className:"emoji-mart-skin-swatch custom"+(c?" selected":"")},m.a.createElement("span",{onClick:this.handleClick,"data-skin":l,className:"emoji-mart-skin-tone-"+l},Object(R.default)({emoji:i,data:r,skin:l,backgroundImageFn:n.backgroundImageFn,native:n.native,set:n.set,sheetSize:n.sheetSize,size:23}))))}return m.a.createElement("div",{className:"emoji-mart-skin-swatches custom"+(a?" opened":"")},m.a.createElement("div",{className:"emoji-mart-skin-text"+(a?" opened":"")},o.skintext),s)}}]),t}(z),H=U;U.propTypes={onChange:h.a.func,skin:h.a.number.isRequired,emojiProps:h.a.object.isRequired,skinTone:h.a.number,skinEmoji:h.a.string.isRequired,i18n:h.a.object},U.defaultProps={onChange:function(){},skinTone:null};var W=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e));return n.handleClick=n.handleClick.bind(n),n}return d(t,e),Object(l.a)(t,[{key:"render",value:function(){for(var e=this.props,t=e.skin,n=(e.i18n,this.state.opened),r=[],i=1;i<=6;i++){var o=i===t;r.push(m.a.createElement("span",{key:"skin-tone-"+i,className:"emoji-mart-skin-swatch"+(o?" selected":"")},m.a.createElement("span",{onClick:this.handleClick,"data-skin":i,className:"emoji-mart-skin emoji-mart-skin-tone-"+i})))}return m.a.createElement("div",{className:"emoji-mart-skin-swatches"+(n?" opened":"")},r)}}]),t}(z),q=W;W.propTypes={onChange:h.a.func,skin:h.a.number.isRequired,i18n:h.a.object},W.defaultProps={onChange:function(){}};var G=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e));return n.data=e.data,n.state={emoji:null},n}return d(t,e),Object(l.a)(t,[{key:"render",value:function(){var e=this.state.emoji,t=this.props,n=t.emojiProps,r=t.skinsProps,o=t.showSkinTones,a=t.title,s=t.emoji,l=t.i18n;if(e){var c=Object(N.b)(e,null,null,this.data),u=c.emoticons,d=[],p=[];return(void 0===u?[]:u).forEach((function(e){d.indexOf(e.toLowerCase())>=0||(d.push(e.toLowerCase()),p.push(e))})),m.a.createElement("div",{className:"emoji-mart-preview"},m.a.createElement("div",{className:"emoji-mart-preview-emoji"},Object(R.default)(i({key:e.id,emoji:e,data:this.data},n))),m.a.createElement("div",{className:"emoji-mart-preview-data"},m.a.createElement("div",{className:"emoji-mart-preview-name"},e.name),m.a.createElement("div",{className:"emoji-mart-preview-shortnames"},c.short_names.map((function(e){return m.a.createElement("span",{key:e,className:"emoji-mart-preview-shortname"},":",e,":")}))),m.a.createElement("div",{className:"emoji-mart-preview-emoticons"},p.map((function(e){return m.a.createElement("span",{key:e,className:"emoji-mart-preview-emoticon"},e)})))))}return m.a.createElement("div",{className:"emoji-mart-preview"},m.a.createElement("div",{className:"emoji-mart-preview-emoji"},s&&s.length&&Object(R.default)(i({emoji:s,data:this.data},n))),m.a.createElement("div",{className:"emoji-mart-preview-data"},m.a.createElement("span",{className:"emoji-mart-title-label"},a)),o&&m.a.createElement("div",{className:"emoji-mart-preview-skins"+(r.skinEmoji?" custom":"")},r.skinEmoji?m.a.createElement(H,{skin:r.skin,emojiProps:n,data:this.data,skinEmoji:r.skinEmoji,i18n:l,onChange:r.onChange}):m.a.createElement(q,{skin:r.skin,i18n:l,onChange:r.onChange})))}}]),t}(m.a.PureComponent),$=G;G.defaultProps={showSkinTones:!0,onChange:function(){}};var K=n("./node_modules/emoji-mart/dist-es/utils/emoji-index/nimble-emoji-index.js"),Y=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e));return n.state={icon:g.search,isSearching:!1},n.data=e.data,n.emojiIndex=new K.default(n.data),n.setRef=n.setRef.bind(n),n.handleChange=n.handleChange.bind(n),n.clear=n.clear.bind(n),n.handleKeyUp=n.handleKeyUp.bind(n),n}return d(t,e),Object(l.a)(t,[{key:"search",value:function(e){""==e?this.setState({icon:g.search,isSearching:!1}):this.setState({icon:g.delete,isSearching:!0}),this.props.onSearch(this.emojiIndex.search(e,{emojisToShowFilter:this.props.emojisToShowFilter,maxResults:this.props.maxResults,include:this.props.include,exclude:this.props.exclude,custom:this.props.custom}))}},{key:"clear",value:function(){""!=this.input.value&&(this.input.value="",this.search(""))}},{key:"handleChange",value:function(){this.search(this.input.value)}},{key:"handleKeyUp",value:function(e){13===e.keyCode&&this.clear()}},{key:"setRef",value:function(e){this.input=e}},{key:"render",value:function(){var e=this.props,t=e.i18n,n=e.autoFocus,r=this.state,i=r.icon,o=r.isSearching;return m.a.createElement("div",{className:"emoji-mart-search"},m.a.createElement("input",{ref:this.setRef,type:"text",onChange:this.handleChange,placeholder:t.search,autoFocus:n}),m.a.createElement("button",{className:"emoji-mart-search-icon",onClick:this.clear,onKeyUp:this.handleKeyUp,disabled:!o},i()))}}]),t}(m.a.PureComponent),Z=Y;Y.defaultProps={onSearch:function(){},maxResults:75,emojisToShowFilter:null,autoFocus:!1};var J={search:"Search",notfound:"No Emoji Found",skintext:"Choose your default skin tone",categories:{search:"Search Results",recent:"Frequently Used",people:"Smileys & People",nature:"Animals & Nature",foods:"Food & Drink",activity:"Activity",places:"Travel & Places",objects:"Objects",symbols:"Symbols",flags:"Flags",custom:"Custom"}},Q=function(e){function t(e){s()(this,t);var n=c(this,(t.__proto__||o(t)).call(this,e));n.RECENT_CATEGORY={id:"recent",name:"Recent",emojis:null},n.CUSTOM_CATEGORY={id:"custom",name:"Custom",emojis:[]},n.SEARCH_CATEGORY={id:"search",name:"Search",emojis:null,anchor:!1},e.data.compressed&&Object(I.uncompress)(e.data),n.data=e.data,n.i18n=Object(N.a)(J,e.i18n),n.icons=Object(N.a)(r,e.icons),n.state={skin:e.skin||x.get("skin")||e.defaultSkin,firstRender:!0},n.categories=[];var a=[].concat(n.data.categories);e.custom.length>0&&(n.CUSTOM_CATEGORY.emojis=e.custom.map((function(e){return i({},e,{id:e.short_names[0],custom:!0})})),a.push(n.CUSTOM_CATEGORY)),n.hideRecent=!0,null!=e.include&&a.sort((function(t,n){return e.include.indexOf(t.id)>e.include.indexOf(n.id)?1:-1}));for(var l=0;l<a.length;l++){var u=a[l],d=!e.include||!e.include.length||e.include.indexOf(u.id)>-1,p=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(u.id)>-1;if(d&&!p)if(e.emojisToShowFilter){for(var m=[],f=u.emojis,h=0;h<f.length;h++){var v=f[h];e.emojisToShowFilter(n.data.emojis[v]||v)&&m.push(v)}if(m.length){var g={emojis:m,name:u.name,id:u.id};n.categories.push(g)}}else n.categories.push(u)}var b=!e.include||!e.include.length||e.include.indexOf(n.RECENT_CATEGORY.id)>-1,y=!(!e.exclude||!e.exclude.length)&&e.exclude.indexOf(n.RECENT_CATEGORY.id)>-1;return b&&!y&&(n.hideRecent=!1,n.categories.unshift(n.RECENT_CATEGORY)),n.categories[0]&&(n.categories[0].first=!0),n.categories.unshift(n.SEARCH_CATEGORY),n.setAnchorsRef=n.setAnchorsRef.bind(n),n.handleAnchorClick=n.handleAnchorClick.bind(n),n.setSearchRef=n.setSearchRef.bind(n),n.handleSearch=n.handleSearch.bind(n),n.setScrollRef=n.setScrollRef.bind(n),n.handleScroll=n.handleScroll.bind(n),n.handleScrollPaint=n.handleScrollPaint.bind(n),n.handleEmojiOver=n.handleEmojiOver.bind(n),n.handleEmojiLeave=n.handleEmojiLeave.bind(n),n.handleEmojiClick=n.handleEmojiClick.bind(n),n.handleEmojiSelect=n.handleEmojiSelect.bind(n),n.setPreviewRef=n.setPreviewRef.bind(n),n.handleSkinChange=n.handleSkinChange.bind(n),n.handleKeyDown=n.handleKeyDown.bind(n),n}return d(t,e),Object(l.a)(t,[{key:"componentWillReceiveProps",value:function(e){e.skin?this.setState({skin:e.skin}):e.defaultSkin&&!x.get("skin")&&this.setState({skin:e.defaultSkin})}},{key:"componentDidMount",value:function(){var e=this;this.state.firstRender&&(this.testStickyPosition(),this.firstRenderTimeout=setTimeout((function(){e.setState({firstRender:!1})}),60))}},{key:"componentDidUpdate",value:function(){this.updateCategoriesSize(),this.handleScroll()}},{key:"componentWillUnmount",value:function(){this.SEARCH_CATEGORY.emojis=null,clearTimeout(this.leaveTimeout),clearTimeout(this.firstRenderTimeout)}},{key:"testStickyPosition",value:function(){var e=document.createElement("div");["","-webkit-","-ms-","-moz-","-o-"].forEach((function(t){return e.style.position=t+"sticky"})),this.hasStickyPosition=!!e.style.position.length}},{key:"handleEmojiOver",value:function(e){var t=this.preview;if(t){var n=this.CUSTOM_CATEGORY.emojis.filter((function(t){return t.id===e.id}))[0];for(var r in n)n.hasOwnProperty(r)&&(e[r]=n[r]);t.setState({emoji:e}),clearTimeout(this.leaveTimeout)}}},{key:"handleEmojiLeave",value:function(e){var t=this.preview;t&&(this.leaveTimeout=setTimeout((function(){t.setState({emoji:null})}),16))}},{key:"handleEmojiClick",value:function(e,t){this.props.onClick(e,t),this.handleEmojiSelect(e)}},{key:"handleEmojiSelect",value:function(e){var t=this;this.props.onSelect(e),this.hideRecent||this.props.recent||P.add(e);var n=this.categoryRefs["category-1"];if(n){var r=n.maxMargin;n.forceUpdate(),window.requestAnimationFrame((function(){t.scroll&&(n.memoizeSize(),r!=n.maxMargin&&(t.updateCategoriesSize(),t.handleScrollPaint(),t.SEARCH_CATEGORY.emojis&&n.updateDisplay("none")))}))}}},{key:"handleScroll",value:function(){this.waitingForPaint||(this.waitingForPaint=!0,window.requestAnimationFrame(this.handleScrollPaint))}},{key:"handleScrollPaint",value:function(){if(this.waitingForPaint=!1,this.scroll){var e=null;if(this.SEARCH_CATEGORY.emojis)e=this.SEARCH_CATEGORY;else{for(var t=this.scroll.scrollTop,n=t>(this.scrollTop||0),r=0,i=0,o=this.categories.length;i<o;i++){var a=n?this.categories.length-1-i:i,s=this.categories[a],l=this.categoryRefs["category-"+a];if(l){var c=l.handleScroll(t);(!r||l.top<r)&&l.top>0&&(r=l.top),c&&!e&&(e=s)}}t<r?e=this.categories.filter((function(e){return!(!1===e.anchor)}))[0]:t+this.clientHeight>=this.scrollHeight&&(e=this.categories[this.categories.length-1])}if(e){var u=this.anchors,d=e.name;u.state.selected!=d&&u.setState({selected:d})}this.scrollTop=t}}},{key:"handleSearch",value:function(e){this.SEARCH_CATEGORY.emojis=e;for(var t=0,n=this.categories.length;t<n;t++){var r=this.categoryRefs["category-"+t];if(r&&"Search"!=r.props.name){var i=e?"none":"inherit";r.updateDisplay(i)}}this.forceUpdate(),this.scroll.scrollTop=0,this.handleScroll()}},{key:"handleAnchorClick",value:function(e,t){var n,r=this.categoryRefs["category-"+t],i=this.scroll;this.anchors;n=function(){if(r){var t=r.top;e.first?t=0:t+=1,i.scrollTop=t}},this.SEARCH_CATEGORY.emojis?(this.handleSearch(null),this.search.clear(),window.requestAnimationFrame(n)):n()}},{key:"handleSkinChange",value:function(e){var t={skin:e},n=this.props.onSkinChange;this.setState(t),x.update(t),n(e)}},{key:"handleKeyDown",value:function(e){var t=!1;switch(e.keyCode){case 13:var n=void 0;this.SEARCH_CATEGORY.emojis&&(n=this.SEARCH_CATEGORY.emojis[0])&&this.handleEmojiSelect(n),t=!0}t&&e.preventDefault()}},{key:"updateCategoriesSize",value:function(){for(var e=0,t=this.categories.length;e<t;e++){var n=this.categoryRefs["category-"+e];n&&n.memoizeSize()}if(this.scroll){var r=this.scroll;this.scrollHeight=r.scrollHeight,this.clientHeight=r.clientHeight}}},{key:"getCategories",value:function(){return this.state.firstRender?this.categories.slice(0,3):this.categories}},{key:"setAnchorsRef",value:function(e){this.anchors=e}},{key:"setSearchRef",value:function(e){this.search=e}},{key:"setPreviewRef",value:function(e){this.preview=e}},{key:"setScrollRef",value:function(e){this.scroll=e}},{key:"setCategoryRef",value:function(e,t){this.categoryRefs||(this.categoryRefs={}),this.categoryRefs[e]=t}},{key:"render",value:function(){var e=this,t=this.props,n=t.perLine,r=t.emojiSize,o=t.set,a=t.sheetSize,s=t.sheetColumns,l=t.sheetRows,c=t.style,u=t.title,d=t.emoji,p=t.color,f=t.native,h=t.backgroundImageFn,v=t.emojisToShowFilter,g=t.showPreview,b=t.showSkinTones,y=t.emojiTooltip,k=t.include,w=t.exclude,j=t.recent,_=t.autoFocus,x=t.skinEmoji,C=t.notFound,O=t.notFoundEmoji,S=this.state.skin,E=n*(r+12)+12+2+Object(N.e)();return m.a.createElement("div",{style:i({width:E},c),className:"emoji-mart",onKeyDown:this.handleKeyDown},m.a.createElement("div",{className:"emoji-mart-bar"},m.a.createElement(B,{ref:this.setAnchorsRef,data:this.data,i18n:this.i18n,color:p,categories:this.categories,onAnchorClick:this.handleAnchorClick,icons:this.icons})),m.a.createElement(Z,{ref:this.setSearchRef,onSearch:this.handleSearch,data:this.data,i18n:this.i18n,emojisToShowFilter:v,include:k,exclude:w,custom:this.CUSTOM_CATEGORY.emojis,autoFocus:_}),m.a.createElement("div",{ref:this.setScrollRef,className:"emoji-mart-scroll",onScroll:this.handleScroll},this.getCategories().map((function(t,i){return m.a.createElement(F,{ref:e.setCategoryRef.bind(e,"category-"+i),key:t.name,id:t.id,name:t.name,emojis:t.emojis,perLine:n,native:f,hasStickyPosition:e.hasStickyPosition,data:e.data,i18n:e.i18n,recent:t.id==e.RECENT_CATEGORY.id?j:void 0,custom:t.id==e.RECENT_CATEGORY.id?e.CUSTOM_CATEGORY.emojis:void 0,emojiProps:{native:f,skin:S,size:r,set:o,sheetSize:a,sheetColumns:s,sheetRows:l,forceSize:f,tooltip:y,backgroundImageFn:h,onOver:e.handleEmojiOver,onLeave:e.handleEmojiLeave,onClick:e.handleEmojiClick},notFound:C,notFoundEmoji:O})}))),g&&m.a.createElement("div",{className:"emoji-mart-bar"},m.a.createElement($,{ref:this.setPreviewRef,data:this.data,title:u,emoji:d,showSkinTones:b,emojiProps:{native:f,size:38,skin:S,set:o,sheetSize:a,sheetColumns:s,sheetRows:l,backgroundImageFn:h},skinsProps:{skin:S,onChange:this.handleSkinChange,skinEmoji:x},i18n:this.i18n})))}}]),t}(m.a.PureComponent);t.default=Q;Q.defaultProps=i({},A.b)},"./node_modules/emoji-mart/dist-es/polyfills/createClass.js":function(e,t,n){"use strict";var r=Object;t.a=function(){function e(e,t){for(var n=0;n<t.length;n++){var i=t[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),r.defineProperty(e,i.key,i)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}()},"./node_modules/emoji-mart/dist-es/utils/data.js":function(e,t,n){"use strict";n.r(t),n.d(t,"buildSearch",(function(){return i})),n.d(t,"compress",(function(){return o})),n.d(t,"uncompress",(function(){return a}));var r={name:"a",unified:"b",non_qualified:"c",has_img_apple:"d",has_img_google:"e",has_img_twitter:"f",has_img_emojione:"g",has_img_facebook:"h",has_img_messenger:"i",keywords:"j",sheet:"k",emoticons:"l",text:"m",short_names:"n",added_in:"o"},i=function(e){var t=[],n=function(e,n){e&&(Array.isArray(e)?e:[e]).forEach((function(e){(n?e.split(/[-|_|\s]+/):[e]).forEach((function(e){e=e.toLowerCase(),-1==t.indexOf(e)&&t.push(e)}))}))};return n(e.short_names,!0),n(e.name,!0),n(e.keywords,!1),n(e.emoticons,!1),t.join(",")},o=function(e){for(var t in e.short_names=e.short_names.filter((function(t){return t!==e.short_name})),delete e.short_name,e.sheet=[e.sheet_x,e.sheet_y],delete e.sheet_x,delete e.sheet_y,e.added_in=parseInt(e.added_in),6===e.added_in&&delete e.added_in,r)e[r[t]]=e[t],delete e[t];for(var n in e){var i=e[n];Array.isArray(i)&&!i.length?delete e[n]:"string"!=typeof i||i.length?null===i&&delete e[n]:delete e[n]}},a=function(e){for(var t in e.compressed=!1,e.emojis){var n=e.emojis[t];for(var o in r)n[o]=n[r[o]],delete n[r[o]];n.short_names||(n.short_names=[]),n.short_names.unshift(t),n.sheet_x=n.sheet[0],n.sheet_y=n.sheet[1],delete n.sheet,n.text||(n.text=""),n.added_in||(n.added_in=6),n.added_in=n.added_in.toFixed(1),n.search=i(n)}}},"./node_modules/emoji-mart/dist-es/utils/emoji-index/nimble-emoji-index.js":function(e,t,n){"use strict";n.r(t);var r=n("./node_modules/babel-runtime/helpers/classCallCheck.js"),i=n.n(r),o=n("./node_modules/emoji-mart/dist-es/polyfills/createClass.js"),a=n("./node_modules/emoji-mart/dist-es/utils/index.js"),s=n("./node_modules/emoji-mart/dist-es/utils/data.js"),l=function(){function e(t){i()(this,e),t.compressed&&Object(s.uncompress)(t),this.data=t||{},this.originalPool={},this.index={},this.emojis={},this.emoticons={},this.customEmojisList=[],this.buildIndex()}return Object(o.a)(e,[{key:"buildIndex",value:function(){var e=this,t=function(t){var n=e.data.emojis[t],r=n.short_names,i=n.emoticons,o=r[0];i&&i.forEach((function(t){e.emoticons[t]||(e.emoticons[t]=o)})),e.emojis[o]=Object(a.c)(o,null,null,e.data),e.originalPool[o]=n};for(var n in this.data.emojis)t(n)}},{key:"clearCustomEmojis",value:function(e){var t=this;this.customEmojisList.forEach((function(n){var r=n.id||n.short_names[0];delete e[r],delete t.emojis[r]}))}},{key:"addCustomToPool",value:function(e,t){var n=this;this.customEmojisList.length&&this.clearCustomEmojis(t),e.forEach((function(e){var r=e.id||e.short_names[0];r&&!t[r]&&(t[r]=Object(a.b)(e,null,null,n.data),n.emojis[r]=Object(a.c)(e,null,null,n.data))})),this.customEmojisList=e,this.index={}}},{key:"search",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.emojisToShowFilter,i=n.maxResults,o=n.include,s=n.exclude,l=n.custom,c=void 0===l?[]:l;this.customEmojisList!=c&&this.addCustomToPool(c,this.originalPool),i||(i=75),o||(o=[]),s||(s=[]);var u=null,d=this.originalPool;if(e.length){if("-"==e||"-1"==e)return[this.emojis[-1]];var p=e.toLowerCase().split(/[\s|,|\-|_]+/),m=[];if(p.length>2&&(p=[p[0],p[1]]),(o.length||s.length)&&(d={},this.data.categories.forEach((function(e){var n=!o||!o.length||o.indexOf(e.id)>-1,r=!(!s||!s.length)&&s.indexOf(e.id)>-1;n&&!r&&e.emojis.forEach((function(e){return d[e]=t.data.emojis[e]}))})),c.length)){var f=!o||!o.length||o.indexOf("custom")>-1,h=!(!s||!s.length)&&s.indexOf("custom")>-1;f&&!h&&this.addCustomToPool(c,d)}u=(m=p.map((function(e){for(var n=d,r=t.index,i=0,o=0;o<e.length;o++){var a=e[o];i++,r[a]||(r[a]={}),(r=r[a]).results||function(){var o={};for(var a in r.results=[],r.pool={},n){var s=n[a],l=s.search,c=e.substr(0,i),u=l.indexOf(c);if(-1!=u){var d=u+1;c==a&&(d=0),r.results.push(t.emojis[a]),r.pool[a]=s,o[a]=d}}r.results.sort((function(e,t){return o[e.id]-o[t.id]}))}(),n=r.pool}return r.results})).filter((function(e){return e}))).length>1?a.d.apply(null,m):m.length?m[0]:[]}return u&&(r&&(u=u.filter((function(e){return r(d[e.id])}))),u&&u.length>i&&(u=u.slice(0,i))),u}}]),e}();t.default=l},"./node_modules/emoji-mart/dist-es/utils/index.js":function(e,t,n){"use strict";n.d(t,"b",(function(){return m})),n.d(t,"c",(function(){return p})),n.d(t,"d",(function(){return h})),n.d(t,"a",(function(){return v})),n.d(t,"f",(function(){return u})),n.d(t,"e",(function(){return g}));var r=n("./node_modules/babel-runtime/core-js/object/keys.js"),i=n.n(r),o=n("./node_modules/emoji-mart/dist-es/utils/data.js"),a=String.fromCodePoint||function(){var e,t,n=16384,r=[],i=-1,o=arguments.length;if(!o)return"";for(var a="";++i<o;){var s=Number(arguments[i]);if(!isFinite(s)||s<0||s>1114111||Math.floor(s)!=s)throw RangeError("Invalid code point: "+s);s<=65535?r.push(s):(e=55296+((s-=65536)>>10),t=s%1024+56320,r.push(e,t)),(i+1===o||r.length>n)&&(a+=String.fromCharCode.apply(null,r),r.length=0)}return a},s=JSON,l=/^(?:\:([^\:]+)\:)(?:\:skin-tone-(\d)\:)?$/,c=["1F3FA","1F3FB","1F3FC","1F3FD","1F3FE","1F3FF"];function u(e){var t=e.split("-").map((function(e){return"0x"+e}));return a.apply(null,t)}function d(e){var t=e.name,n=e.short_names,r=e.skin_tone,i=e.skin_variations,o=e.emoticons,a=e.unified,s=e.custom,l=e.imageUrl,c=e.id||n[0],d=":"+c+":";return s?{id:c,name:t,colons:d,emoticons:o,custom:s,imageUrl:l}:(r&&(d+=":skin-tone-"+r+":"),{id:c,name:t,colons:d,emoticons:o,unified:a.toLowerCase(),skin:r||(i?1:null),native:u(a)})}function p(){return d(m.apply(void 0,arguments))}function m(e,t,n,r){var a={};if("string"==typeof e){var u=e.match(l);if(u&&(e=u[1],u[2]&&(t=parseInt(u[2],10))),r.aliases.hasOwnProperty(e)&&(e=r.aliases[e]),!r.emojis.hasOwnProperty(e))return null;a=r.emojis[e]}else e.id&&(r.aliases.hasOwnProperty(e.id)&&(e.id=r.aliases[e.id]),r.emojis.hasOwnProperty(e.id)&&(a=r.emojis[e.id],t||(t=e.skin)));if(i()(a).length||((a=e).custom=!0,a.search||(a.search=Object(o.buildSearch)(e))),a.emoticons||(a.emoticons=[]),a.variations||(a.variations=[]),a.skin_variations&&t>1&&n){a=JSON.parse(s.stringify(a));var d=c[t-1],p=a.skin_variations[d];if(!p.variations&&a.variations&&delete a.variations,null==p["has_img_"+n]||p["has_img_"+n])for(var m in a.skin_tone=t,p){var f=p[m];a[m]=f}}return a.variations&&a.variations.length&&((a=JSON.parse(s.stringify(a))).unified=a.variations.shift()),a}function f(e){return e.reduce((function(e,t){return-1===e.indexOf(t)&&e.push(t),e}),[])}function h(e,t){var n=f(e),r=f(t);return n.filter((function(e){return r.indexOf(e)>=0}))}function v(e,t){var n={};for(var r in e){var i=e[r],o=i;t.hasOwnProperty(r)&&(o=t[r]),"object"==typeof o&&(o=v(i,o)),n[r]=o}return n}function g(){if("undefined"==typeof document)return 0;var e=document.createElement("div");e.style.width="100px",e.style.height="100px",e.style.overflow="scroll",e.style.position="absolute",e.style.top="-9999px",document.body.appendChild(e);var t=e.offsetWidth-e.clientWidth;return document.body.removeChild(e),t}},"./node_modules/emoji-mart/dist-es/utils/shared-props.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return o})),n.d(t,"b",(function(){return a}));var r=n("./node_modules/prop-types/index.js"),i=n.n(r),o=(i.a.object.isRequired,i.a.func,i.a.func,i.a.func,i.a.func,i.a.func,i.a.bool,i.a.bool,i.a.bool,i.a.oneOf([1,2,3,4,5,6]),i.a.oneOf([16,20,32,64]),i.a.number,i.a.number,i.a.oneOf(["apple","google","twitter","emojione","messenger","facebook"]),i.a.number.isRequired,i.a.oneOfType([i.a.string,i.a.object]).isRequired,{skin:1,set:"apple",sheetSize:64,sheetColumns:52,sheetRows:52,native:!1,forceSize:!1,tooltip:!1,backgroundImageFn:function(e,t){return"https://unpkg.com/emoji-datasource-"+e+"@4.0.4/img/"+e+"/sheets-256/"+t+".png"},onOver:function(){},onLeave:function(){},onClick:function(){}}),a=(i.a.func,i.a.func,i.a.func,i.a.number,i.a.number,i.a.object,i.a.object,i.a.string,i.a.string,i.a.string,i.a.bool,i.a.func,i.a.bool,i.a.bool,i.a.arrayOf(i.a.string),i.a.arrayOf(i.a.string),i.a.arrayOf(i.a.string),i.a.bool,i.a.arrayOf(i.a.shape({name:i.a.string.isRequired,short_names:i.a.arrayOf(i.a.string).isRequired,emoticons:i.a.arrayOf(i.a.string),keywords:i.a.arrayOf(i.a.string),imageUrl:i.a.string.isRequired})),i.a.string,i.a.func,i.a.string,i.a.object,{onClick:function(){},onSelect:function(){},onSkinChange:function(){},emojiSize:24,perLine:9,i18n:{},style:{},title:"Emoji Mart™",emoji:"department_store",color:"#ae65c5",set:o.set,skin:null,defaultSkin:o.skin,native:o.native,sheetSize:o.sheetSize,backgroundImageFn:o.backgroundImageFn,emojisToShowFilter:null,showPreview:!0,showSkinTones:!0,emojiTooltip:o.tooltip,autoFocus:!1,custom:[],skinEmoji:"",notFound:function(){},notFoundEmoji:"sleuth_or_spy",icons:{}})},"./node_modules/emoji-mart/dist-es/vendor/raf-polyfill.js":function(e,t){"undefined"!=typeof window&&function(){for(var e=0,t=["ms","moz","webkit","o"],n=0;n<t.length&&!window.requestAnimationFrame;++n)window.requestAnimationFrame=window[t[n]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[t[n]+"CancelAnimationFrame"]||window[t[n]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(t,n){var r=(new Date).getTime(),i=Math.max(0,16-(r-e)),o=window.setTimeout((function(){t(r+i)}),i);return e=r+i,o}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(e){clearTimeout(e)})}()},"./node_modules/emotion/dist/index.esm.js":function(e,t,n){"use strict";(function(e){n.d(t,"b",(function(){return a})),n.d(t,"a",(function(){return s}));var r=n("./node_modules/create-emotion/dist/index.esm.js"),i=void 0!==e?e:{},o=Object(r.a)(i),a=(o.flush,o.hydrate,o.cx,o.merge,o.getRegisteredStyles,o.injectGlobal),s=(o.keyframes,o.css);o.sheet,o.caches}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/flexsearch/dist/flexsearch.min.js":function(e,t,n){"use strict";!function(t,n,r){let i;(i=r.define)&&i.amd?i([],(function(){return n})):(i=r.modules)?i["FlexSearch".toLowerCase()]=n:e.exports=n}(0,function e(t){function n(e,t){const n=t?t.id:e&&e.id;this.id=n||0===n?n:P++,this.init(e,t),s(this,"index",(function(){return this.a?Object.keys(this.a.index[this.a.keys[0]].c):Object.keys(this.c)})),s(this,"length",(function(){return this.index.length}))}function r(e,t,n,r){return this.u!==this.g&&(this.o=this.o.concat(n),this.u++,r&&this.o.length>=r&&(this.u=this.g),this.u===this.g&&(this.cache&&this.j.set(t,this.o),this.F&&this.F(this.o))),this}function i(e){const t=x();for(const n in e)if(e.hasOwnProperty(n)){const r=e[n];y(r)?t[n]=r.slice(0):w(r)?t[n]=i(r):t[n]=r}return t}function o(e,t){const n=e.length,r=k(t),i=[];for(let o=0,a=0;o<n;o++){const n=e[o];(r&&t(n)||!r&&!t[n])&&(i[a++]=n)}return i}function a(e,t,n,r,i,o,a,s,l,c){let u;if(n=g(n,a?0:i,s,o,t,l,c),s&&(s=n.page,u=n.next,n=n.result),a)t=this.where(a,null,i,n);else{for(t=n,n=this.l,i=t.length,o=Array(i),a=0;a<i;a++)o[a]=n[t[a]];t=o}return n=t,r&&(k(r)||(A=r.split(":"),1<A.length?r=h:(A=A[0],r=f)),n.sort(r)),n=v(s,u,n),this.cache&&this.j.set(e,n),n}function s(e,t,n){Object.defineProperty(e,t,{get:n})}function l(e){return new RegExp(e,"g")}function c(e,t){for(let n=0;n<t.length;n+=2)e=e.replace(t[n],t[n+1]);return e}function u(e,t,n,r,i,o,a,s){return t[n]?t[n]:(i=i?(s-(a||s/1.5))*o+(a||s/1.5)*i:o,t[n]=i,i>=a&&((e=(e=e[s-(i+.5>>0)])[n]||(e[n]=[]))[e.length]=r),i)}function d(e,t){if(e){const n=Object.keys(e);for(let r=0,i=n.length;r<i;r++){const i=n[r],o=e[i];if(o)for(let n=0,r=o.length;n<r;n++){if(o[n]===t){1===r?delete e[i]:o.splice(n,1);break}w(o[n])&&d(o[n],t)}}}}function p(e){let t="",n="";var r="";for(let i=0;i<e.length;i++){const o=e[i];o!==n&&(i&&"h"===o?(r="a"===r||"e"===r||"i"===r||"o"===r||"u"===r||"y"===r,(("a"===n||"e"===n||"i"===n||"o"===n||"u"===n||"y"===n)&&r||" "===n)&&(t+=o)):t+=o),r=i===e.length-1?"":e[i+1],n=o}return t}function m(e,t){return 0>(e=e.length-t.length)?1:e?-1:0}function f(e,t){return(e=e[A])<(t=t[A])?-1:e>t?1:0}function h(e,t){const n=A.length;for(let r=0;r<n;r++)e=e[A[r]],t=t[A[r]];return e<t?-1:e>t?1:0}function v(e,t,n){return e?{page:e,next:t?""+t:null,result:n}:n}function g(e,t,n,r,i,o,a){let s,l=[];if(!0===n){n="0";var c=""}else c=n&&n.split(":");const u=e.length;if(1<u){const y=x(),k=[];let w,_;var d,p=0;let C;var m=!0;let O,S,E,T,P,N,I=0;if(c&&(2===c.length?(T=c,c=!1):c=P=parseInt(c[0],10)),a){for(w=x();p<u;p++)if("not"===i[p])for(_=e[p],C=_.length,d=0;d<C;d++)w["@"+_[d]]=1;else E=p+1;if(j(E))return v(n,s,l);p=0}else S=b(i)&&i;for(;p<u;p++){const b=p===(E||u)-1;if(!S||!p)if((d=S||i&&i[p])&&"and"!==d){if("or"!==d)continue;N=!1}else N=o=!0;if(_=e[p],C=_.length){if(m){if(!O){O=_;continue}var f=O.length;for(d=0;d<f;d++){var h="@"+(m=O[d]);a&&w[h]||(y[h]=1,o||(l[I++]=m))}O=null,m=!1}for(h=!1,d=0;d<C;d++){var g="@"+(f=_[d]);const e=o?y[g]||0:p;if(!(!e&&!r||a&&w[g]||!o&&y[g]))if(e===p){if(b){if((!P||--P<I)&&(l[I++]=f,t&&I===t))return v(n,I+(c||0),l)}else y[g]=p+1;h=!0}else r&&((g=k[e]||(k[e]=[]))[g.length]=f)}if(N&&!h&&!r)break}else if(N&&!r)return v(n,s,_)}if(O)if(p=O.length,a)for(d=c?parseInt(c,10):0;d<p;d++)w["@"+(e=O[d])]||(l[I++]=e);else l=O;if(r)for(I=l.length,T?(p=parseInt(T[0],10)+1,d=parseInt(T[1],10)+1):(p=k.length,d=0);p--;)if(f=k[p]){for(C=f.length;d<C;d++)if(r=f[d],(!a||!w["@"+r])&&(l[I++]=r,t&&I===t))return v(n,p+":"+d,l);d=0}}else!u||i&&"not"===i[0]||(l=e[0],c&&(c=parseInt(c[0],10)));return t&&(a=l.length,c&&c>a&&(c=0),s=(c=c||0)+t,s<a?l=l.slice(c,s):(s=0,c&&(l=l.slice(c)))),v(n,s,l)}function b(e){return"string"==typeof e}function y(e){return e.constructor===Array}function k(e){return"function"==typeof e}function w(e){return"object"==typeof e}function j(e){return void 0===e}function _(e){const t=Array(e);for(let n=0;n<e;n++)t[n]=x();return t}function x(){return Object.create(null)}function C(){let e,t;self.onmessage=function(n){if(n=n.data)if(n.search){const r=t.search(n.content,n.threshold?{limit:n.limit,threshold:n.threshold,where:n.where}:n.limit);self.postMessage({id:e,content:n.content,limit:n.limit,result:r})}else n.add?t.add(n.id,n.content):n.update?t.update(n.id,n.content):n.remove?t.remove(n.id):n.clear?t.clear():n.info?((n=t.info()).worker=e,console.log(n)):n.register&&(e=n.id,n.options.cache=!1,n.options.async=!1,n.options.worker=!1,t=new Function(n.register.substring(n.register.indexOf("{")+1,n.register.lastIndexOf("}")))(),t=new t(n.options))}}function O(n,r,i,o){n=t("flexsearch","id"+n,C,(function(e){(e=e.data)&&e.result&&o(e.id,e.content,e.result,e.limit,e.where,e.cursor,e.suggest)}),r);const a=e.toString();return i.id=r,n.postMessage({register:a,options:i,id:r}),n}const S={encode:"icase",f:"forward",split:/\W+/,cache:!1,async:!1,g:!1,D:!1,a:!1,b:9,threshold:0,depth:0},E={memory:{encode:"extra",f:"strict",threshold:0,b:1},speed:{encode:"icase",f:"strict",threshold:1,b:3,depth:2},match:{encode:"extra",f:"full",threshold:1,b:3},score:{encode:"extra",f:"strict",threshold:1,b:9,depth:4},balance:{encode:"balance",f:"strict",threshold:0,b:3,depth:3},fast:{encode:"icase",f:"strict",threshold:8,b:9,depth:1}},T=[];let P=0;const N={},I={};let A;n.create=function(e,t){return new n(e,t)},n.registerMatcher=function(e){for(const t in e)e.hasOwnProperty(t)&&T.push(l(t),e[t]);return this},n.registerEncoder=function(e,t){return B[e]=t.bind(B),this},n.registerLanguage=function(e,t){return N[e]=t.filter,I[e]=t.stemmer,this},n.encode=function(e,t){return B[e](t)},n.prototype.init=function(e,t){if(this.v=[],t){var o=t.preset;e=t}else e||(e=S),o=e.preset;if(t={},b(e)?(t=E[e],e={}):o&&(t=E[o]),o=e.worker)if("undefined"==typeof Worker)e.worker=!1,this.m=null;else{var a=parseInt(o,10)||4;this.C=-1,this.u=0,this.o=[],this.F=null,this.m=Array(a);for(var s=0;s<a;s++)this.m[s]=O(this.id,s,e,r.bind(this))}if(this.f=e.tokenize||t.f||this.f||S.f,this.split=j(o=e.split)?this.split||S.split:b(o)?l(o):o,this.D=e.rtl||this.D||S.D,this.async="undefined"==typeof Promise||j(o=e.async)?this.async||S.async:o,this.g=j(o=e.worker)?this.g||S.g:o,this.threshold=j(o=e.threshold)?t.threshold||this.threshold||S.threshold:o,this.b=j(o=e.resolution)?o=t.b||this.b||S.b:o,o<=this.threshold&&(this.b=this.threshold+1),this.depth="strict"!==this.f||j(o=e.depth)?t.depth||this.depth||S.depth:o,this.w=(o=j(o=e.encode)?t.encode||S.encode:o)&&B[o]&&B[o].bind(B)||(k(o)?o:this.w||!1),(o=e.matcher)&&this.addMatcher(o),o=(t=e.lang)||e.filter){if(b(o)&&(o=N[o]),y(o)){a=this.w,s=x();for(var c=0;c<o.length;c++){var u=a?a(o[c]):o[c];s[u]=1}o=s}this.filter=o}if(o=t||e.stemmer){var d;for(d in t=b(o)?I[o]:o,a=this.w,s=[],t)t.hasOwnProperty(d)&&(c=a?a(d):d,s.push(l(c+"($|\\W)"),a?a(t[d]):t[d]));this.stemmer=d=s}if(this.a=s=(o=e.doc)?i(o):this.a||S.a,this.i=_(this.b-(this.threshold||0)),this.h=x(),this.c=x(),s){if(this.l=x(),e.doc=null,d=s.index={},t=s.keys=[],a=s.field,c=s.tag,u=s.store,y(s.id)||(s.id=s.id.split(":")),u){var p=x();if(b(u))p[u]=1;else if(y(u))for(let e=0;e<u.length;e++)p[u[e]]=1;else w(u)&&(p=u);s.store=p}if(c){if(this.G=x(),u=x(),a)if(b(a))u[a]=e;else if(y(a))for(p=0;p<a.length;p++)u[a[p]]=e;else w(a)&&(u=a);for(y(c)||(s.tag=c=[c]),a=0;a<c.length;a++)this.G[c[a]]=x();this.I=c,a=u}if(a){let r;for(y(a)||(w(a)?(r=a,s.field=a=Object.keys(a)):s.field=a=[a]),s=0;s<a.length;s++)y(c=a[s])||(r&&(e=r[c]),t[s]=c,a[s]=c.split(":")),d[c]=new n(e)}e.doc=o}return this.B=!0,this.j=!!(this.cache=o=j(o=e.cache)?this.cache||S.cache:o)&&new R(o),this},n.prototype.encode=function(e){return e&&(T.length&&(e=c(e,T)),this.v.length&&(e=c(e,this.v)),this.w&&(e=this.w(e)),this.stemmer&&(e=c(e,this.stemmer))),e},n.prototype.addMatcher=function(e){const t=this.v;for(const n in e)e.hasOwnProperty(n)&&t.push(l(n),e[n]);return this},n.prototype.add=function(e,t,n,r,i){if(this.a&&w(e))return this.A("add",e,t);if(t&&b(t)&&(e||0===e)){var a="@"+e;if(this.c[a]&&!r)return this.update(e,t);if(this.g)return++this.C>=this.m.length&&(this.C=0),this.m[this.C].postMessage({add:!0,id:e,content:t}),this.c[a]=""+this.C,n&&n(),this;if(!i){if(this.async&&"function"!=typeof importScripts){let i=this;return a=new Promise((function(n){setTimeout((function(){i.add(e,t,null,r,!0),i=null,n()}))})),n?(a.then(n),this):a}if(n)return this.add(e,t,null,r,!0),n(),this}if(!(t=this.encode(t)).length)return this;i=k(n=this.f)?n(t):t.split(this.split),this.filter&&(i=o(i,this.filter));const m=x();m._ctx=x();const f=i.length,h=this.threshold,v=this.depth,g=this.b,b=this.i,y=this.D;for(let t=0;t<f;t++){var s=i[t];if(s){var l=s.length,c=(y?t+1:f-t)/f,d="";switch(n){case"reverse":case"both":for(var p=l;--p;)u(b,m,d=s[p]+d,e,y?1:(l-p)/l,c,h,g-1);d="";case"forward":for(p=0;p<l;p++)u(b,m,d+=s[p],e,y?(p+1)/l:1,c,h,g-1);break;case"full":for(p=0;p<l;p++){const t=(y?p+1:l-p)/l;for(let n=l;n>p;n--)u(b,m,d=s.substring(p,n),e,t,c,h,g-1)}break;default:if(l=u(b,m,s,e,1,c,h,g-1),v&&1<f&&l>=h)for(l=m._ctx[s]||(m._ctx[s]=x()),s=this.h[s]||(this.h[s]=_(g-(h||0))),0>(c=t-v)&&(c=0),(d=t+v+1)>f&&(d=f);c<d;c++)c!==t&&u(s,l,i[c],e,0,g-(c<t?t-c:c-t),h,g-1)}}}this.c[a]=1,this.B=!1}return this},n.prototype.A=function(e,t,n){if(y(t)){var r=t.length;if(r--){for(var i=0;i<r;i++)this.A(e,t[i]);return this.A(e,t[r],n)}}else{var o,a=this.a.index,s=this.a.keys,l=this.a.tag;i=this.a.store;var c=this.a.id;r=t;for(var u=0;u<c.length;u++)r=r[c[u]];if("remove"===e&&(delete this.l[r],c=s.length,c--)){for(t=0;t<c;t++)a[s[t]].remove(r);return a[s[c]].remove(r,n)}if(l){for(o=0;o<l.length;o++){var d=l[o],p=t;for(c=d.split(":"),u=0;u<c.length;u++)p=p[c[u]];p="@"+p}o=(o=this.G[d])[p]||(o[p]=[])}for(let i=0,o=(c=this.a.field).length;i<o;i++){for(d=c[i],l=t,p=0;p<d.length;p++)l=l[d[p]];d=a[s[i]],p="add"===e?d.add:d.update,i===o-1?p.call(d,r,l,n):p.call(d,r,l)}if(i){for(n=Object.keys(i),e=x(),a=0;a<n.length;a++)if(i[s=n[a]]){let n,r;for(s=s.split(":"),c=0;c<s.length;c++)r=(r||t)[l=s[c]],n=(n||e)[l]=r}t=e}o&&(o[o.length]=t),this.l[r]=t}return this},n.prototype.update=function(e,t,n){return this.a&&w(e)?this.A("update",e,t):(this.c["@"+e]&&b(t)&&(this.remove(e),this.add(e,t,n,!0)),this)},n.prototype.remove=function(e,t,n){if(this.a&&w(e))return this.A("remove",e,t);var r="@"+e;if(this.c[r]){if(this.g)return this.m[this.c[r]].postMessage({remove:!0,id:e}),delete this.c[r],t&&t(),this;if(!n){if(this.async&&"function"!=typeof importScripts){let n=this;return r=new Promise((function(t){setTimeout((function(){n.remove(e,null,!0),n=null,t()}))})),t?(r.then(t),this):r}if(t)return this.remove(e,null,!0),t(),this}for(t=0;t<this.b-(this.threshold||0);t++)d(this.i[t],e);this.depth&&d(this.h,e),delete this.c[r],this.B=!1}return this},n.prototype.search=function(e,t,n,r){if(w(t)){if(y(t))for(var i=0;i<t.length;i++)t[i].query=e;else t.query=e;e=t,t=1e3}else t&&k(t)?(n=t,t=1e3):t||0===t||(t=1e3);let s,l,c,u=[],d=e;if(w(e)&&!y(e)){n||(n=e.callback)&&(d.callback=null),l=e.sort,s=e.page,t=e.limit;var p=e.threshold;c=e.suggest,e=e.query}if(this.a){p=this.a.index;const o=d.where;var f=d.bool||"or",h=d.field;let m,g,k=f;if(h)y(h)||(h=[h]);else if(y(d)){var v=d;h=[],k=[];for(var j=0;j<d.length;j++)i=(r=d[j]).bool||f,h[j]=r.field,k[j]=i,"not"===i?m=!0:"and"===i&&(g=!0)}else h=this.a.keys;for(f=h.length,j=0;j<f;j++)v&&(d=v[j]),s&&!b(d)&&(d.page=null,d.limit=0),u[j]=p[h[j]].search(d,0);if(n)return n(a.call(this,e,k,u,l,t,c,o,s,g,m));if(this.async){const n=this;return new Promise((function(r){Promise.all(u).then((function(i){r(a.call(n,e,k,i,l,t,c,o,s,g,m))}))}))}return a.call(this,e,k,u,l,t,c,o,s,g,m)}if(p||(p=this.threshold||0),!this.g){if(!r){if(this.async&&"function"!=typeof importScripts){let e=this;return p=new Promise((function(n){setTimeout((function(){n(e.search(d,t,null,!0)),e=null}))})),n?(p.then(n),this):p}if(n)return n(this.search(d,t,null,!0)),this}if(!e||!b(e))return u;if(d=e,this.cache)if(this.B){if(n=this.j.get(e))return n}else this.j.clear(),this.B=!0;if(d=this.encode(d),!d.length)return u;n=k(n=this.f)?n(d):d.split(this.split),this.filter&&(n=o(n,this.filter)),v=n.length,r=!0,i=[];var _=x(),C=0;if(1<v&&(this.depth&&"strict"===this.f?f=!0:n.sort(m)),!f||(j=this.h)){const e=this.b;for(;C<v;C++){let t=n[C];if(t){if(f){if(!h)if(j[t])h=t,_[t]=1;else if(!c)return u;if(c&&C===v-1&&!i.length)f=!1,t=h||t,_[t]=0;else if(!h)continue}if(!_[t]){const n=[];let o=!1,a=0;const s=f?j[h]:this.i;if(s){let r;for(let i=0;i<e-p;i++)(r=s[i]&&s[i][t])&&(n[a++]=r,o=!0)}if(o)h=t,i[i.length]=1<a?n.concat.apply([],n):n[0];else if(!c){r=!1;break}_[t]=1}}}}else r=!1;return r&&(u=g(i,t,s,c)),this.cache&&this.j.set(e,u),u}for(this.F=n,this.u=0,this.o=[],p=0;p<this.g;p++)this.m[p].postMessage({search:!0,limit:t,content:d})},n.prototype.find=function(e,t){return this.where(e,t,1)[0]||null},n.prototype.where=function(e,t,n,r){const i=this.l,o=[];let a,s=0;var l;let c;if(w(e)){n||(n=t);var u=Object.keys(e),d=u.length;if(a=!1,1===d&&"id"===u[0])return[i[e.id]];if((l=this.I)&&!r)for(var p=0;p<l.length;p++){var m=l[p],f=e[m];if(!j(f)){if(c=this.G[m]["@"+f],0==--d)return c;u.splice(u.indexOf(m),1),delete e[m];break}}for(l=Array(d),p=0;p<d;p++)l[p]=u[p].split(":")}else{if(k(e)){for(n=(t=r||Object.keys(i)).length,u=0;u<n;u++)e(d=i[t[u]])&&(o[s++]=d);return o}if(j(t))return[i[e]];if("id"===e)return[i[t]];u=[e],d=1,l=[e.split(":")],a=!0}for(p=(r=c||r||Object.keys(i)).length,m=0;m<p;m++){f=c?r[m]:i[r[m]];let p=!0;for(let n=0;n<d;n++){a||(t=e[u[n]]);const r=l[n],i=r.length;let o=f;if(1<i)for(let e=0;e<i;e++)o=o[r[e]];else o=o[r[0]];if(o!==t){p=!1;break}}if(p&&(o[s++]=f,n&&s===n))break}return o},n.prototype.info=function(){if(!this.g)return{id:this.id,items:this.length,cache:!(!this.cache||!this.cache.s)&&this.cache.s.length,matcher:T.length+(this.v?this.v.length:0),worker:this.g,threshold:this.threshold,depth:this.depth,resolution:this.b,contextual:this.depth&&"strict"===this.f};for(let e=0;e<this.g;e++)this.m[e].postMessage({info:!0,id:this.id})},n.prototype.clear=function(){return this.destroy().init()},n.prototype.destroy=function(){if(this.cache&&(this.j.clear(),this.j=null),this.i=this.h=this.c=null,this.a){const e=this.a.keys;for(let t=0;t<e.length;t++)this.a.index[e[t]].destroy();this.a=this.l=null}return this},n.prototype.export=function(e){const t=!e||j(e.serialize)||e.serialize;if(this.a){const t=!e||j(e.doc)||e.doc;var n=!e||j(e.index)||e.index;e=[];let r=0;if(n)for(n=this.a.keys;r<n.length;r++){const t=this.a.index[n[r]];e[r]=[t.i,t.h,Object.keys(t.c)]}t&&(e[r]=this.l)}else e=[this.i,this.h,Object.keys(this.c)];return t&&(e=JSON.stringify(e)),e},n.prototype.import=function(e,t){(!t||j(t.serialize)||t.serialize)&&(e=JSON.parse(e));const n=x();if(this.a){var r=!t||j(t.doc)||t.doc,i=0;if(!t||j(t.index)||t.index){const r=(t=this.a.keys).length;for(var o=e[0][2];i<o.length;i++)n[o[i]]=1;for(i=0;i<r;i++){o=this.a.index[t[i]];const r=e[i];r&&(o.i=r[0],o.h=r[1],o.c=n)}}r&&(this.l=w(r)?r:e[i])}else{for(r=e[2],i=0;i<r.length;i++)n[r[i]]=1;this.i=e[0],this.h=e[1],this.c=n}};const D=function(){const e=l("\\s+"),t=l("[^a-z0-9 ]"),n=[l("[-/]")," ",t,"",e," "];return function(e){return p(c(e.toLowerCase(),n))}}(),B={icase:function(e){return e.toLowerCase()},simple:function(){const e=l("\\s+"),t=l("[^a-z0-9 ]"),n=l("[-/]"),r=[l("[àáâãäå]"),"a",l("[èéêë]"),"e",l("[ìíîï]"),"i",l("[òóôõöő]"),"o",l("[ùúûüű]"),"u",l("[ýŷÿ]"),"y",l("ñ"),"n",l("[çc]"),"k",l("ß"),"s",l(" & ")," and ",n," ",t,"",e," "];return function(e){return" "===(e=c(e.toLowerCase(),r))?"":e}}(),advanced:function(){const e=l("ae"),t=l("ai"),n=l("ay"),r=l("ey"),i=l("oe"),o=l("ue"),a=l("ie"),s=l("sz"),u=l("zs"),d=l("ck"),m=l("cc"),f=[e,"a",t,"ei",n,"ei",r,"ei",i,"o",o,"u",a,"i",s,"s",u,"s",l("sh"),"s",d,"k",m,"k",l("th"),"t",l("dt"),"t",l("ph"),"f",l("pf"),"f",l("ou"),"o",l("uo"),"u"];return function(e,t){return e?(2<(e=this.simple(e)).length&&(e=c(e,f)),t||1<e.length&&(e=p(e)),e):e}}(),extra:function(){const e=[l("p"),"b",l("z"),"s",l("[cgq]"),"k",l("n"),"m",l("d"),"t",l("[vw]"),"f",l("[aeiouy]"),""];return function(t){if(!t)return t;if(1<(t=this.advanced(t,!0)).length){t=t.split(" ");for(let n=0;n<t.length;n++){const r=t[n];1<r.length&&(t[n]=r[0]+c(r.substring(1),e))}t=p(t=t.join(" "))}return t}}(),balance:D},R=function(){function e(e){this.clear(),this.H=!0!==e&&e}return e.prototype.clear=function(){this.cache=x(),this.count=x(),this.index=x(),this.s=[]},e.prototype.set=function(e,t){if(this.H&&j(this.cache[e])){let n=this.s.length;if(n===this.H){n--;const e=this.s[n];delete this.cache[e],delete this.count[e],delete this.index[e]}this.index[e]=n,this.s[n]=e,this.count[e]=-1,this.cache[e]=t,this.get(e)}else this.cache[e]=t},e.prototype.get=function(e){const t=this.cache[e];if(this.H&&t){var n=++this.count[e];const t=this.index;let i=t[e];if(0<i){const o=this.s;for(var r=i;this.count[o[--i]]<=n&&-1!==i;);if(i++,i!==r){for(n=r;n>i;n--)r=o[n-1],o[n]=r,t[r]=n;o[i]=e,t[e]=i}}}return t},e}();return n}(function(){const e={},t="undefined"!=typeof Blob&&"undefined"!=typeof URL&&URL.createObjectURL;return function(n,r,i,o,a){return i=t?URL.createObjectURL(new Blob(["("+i.toString()+")()"],{type:"text/javascript"})):n+".min.js",e[n+="-"+r]||(e[n]=[]),e[n][a]=new Worker(i),e[n][a].onmessage=o,e[n][a]}}()),this)},"./node_modules/flushable/dist/index.umd.js":function(e,t,n){e.exports=function(){"use strict";return function(e,t){var n=setTimeout((function(){n=null,e(!1)}),t),r=function(){n&&(clearTimeout(n),n=null)};return{cancel:r,flush:function(){n&&(r(),e(!0))},pending:function(){return Boolean(n)}}}}()},"./node_modules/intl-messageformat-parser/index.js":function(e,t,n){"use strict";(t=e.exports=n("./node_modules/intl-messageformat-parser/lib/parser.js").default).default=t},"./node_modules/intl-messageformat-parser/lib/parser.js":function(e,t,n){"use strict";t.default=function(){function e(t,n,r,i){this.message=t,this.expected=n,this.found=r,this.location=i,this.name="SyntaxError","function"==typeof Error.captureStackTrace&&Error.captureStackTrace(this,e)}return function(e,t){function n(){this.constructor=e}n.prototype=t.prototype,e.prototype=new n}(e,Error),{SyntaxError:e,parse:function(t){var n,r=arguments.length>1?arguments[1]:{},i={},o={start:Pe},a=Pe,s=function(e){return{type:"messageFormatPattern",elements:e,location:Ce()}},l=function(e){var t,n,r,i,o,a="";for(t=0,r=e.length;t<r;t+=1)for(n=0,o=(i=e[t]).length;n<o;n+=1)a+=i[n];return a},c=function(e){return{type:"messageTextElement",value:e,location:Ce()}},u=/^[^ \t\n\r,.+={}#]/,d={type:"class",value:"[^ \\t\\n\\r,.+={}#]",description:"[^ \\t\\n\\r,.+={}#]"},p="{",m={type:"literal",value:"{",description:'"{"'},f=",",h={type:"literal",value:",",description:'","'},v="}",g={type:"literal",value:"}",description:'"}"'},b=function(e,t){return{type:"argumentElement",id:e,format:t&&t[2],location:Ce()}},y="number",k={type:"literal",value:"number",description:'"number"'},w="date",j={type:"literal",value:"date",description:'"date"'},_="time",x={type:"literal",value:"time",description:'"time"'},C=function(e,t){return{type:e+"Format",style:t&&t[2],location:Ce()}},O="plural",S={type:"literal",value:"plural",description:'"plural"'},E=function(e){return{type:e.type,ordinal:!1,offset:e.offset||0,options:e.options,location:Ce()}},T="selectordinal",P={type:"literal",value:"selectordinal",description:'"selectordinal"'},N=function(e){return{type:e.type,ordinal:!0,offset:e.offset||0,options:e.options,location:Ce()}},I="select",A={type:"literal",value:"select",description:'"select"'},D=function(e){return{type:"selectFormat",options:e,location:Ce()}},B="=",R={type:"literal",value:"=",description:'"="'},L=function(e,t){return{type:"optionalFormatPattern",selector:e,value:t,location:Ce()}},M="offset:",F={type:"literal",value:"offset:",description:'"offset:"'},V=function(e){return e},z=function(e,t){return{type:"pluralFormat",offset:e,options:t,location:Ce()}},U={type:"other",description:"whitespace"},H=/^[ \t\n\r]/,W={type:"class",value:"[ \\t\\n\\r]",description:"[ \\t\\n\\r]"},q={type:"other",description:"optionalWhitespace"},G=/^[0-9]/,$={type:"class",value:"[0-9]",description:"[0-9]"},K=/^[0-9a-f]/i,Y={type:"class",value:"[0-9a-f]i",description:"[0-9a-f]i"},Z="0",J={type:"literal",value:"0",description:'"0"'},Q=/^[1-9]/,X={type:"class",value:"[1-9]",description:"[1-9]"},ee=function(e){return parseInt(e,10)},te=/^[^{}\\\0-\x1F \t\n\r]/,ne={type:"class",value:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]",description:"[^{}\\\\\\0-\\x1F\\x7f \\t\\n\\r]"},re="\\\\",ie={type:"literal",value:"\\\\",description:'"\\\\\\\\"'},oe=function(){return"\\"},ae="\\#",se={type:"literal",value:"\\#",description:'"\\\\#"'},le=function(){return"\\#"},ce="\\{",ue={type:"literal",value:"\\{",description:'"\\\\{"'},de=function(){return"{"},pe="\\}",me={type:"literal",value:"\\}",description:'"\\\\}"'},fe=function(){return"}"},he="\\u",ve={type:"literal",value:"\\u",description:'"\\\\u"'},ge=function(e){return String.fromCharCode(parseInt(e,16))},be=function(e){return e.join("")},ye=0,ke=0,we=[{line:1,column:1,seenCR:!1}],je=0,_e=[],xe=0;if("startRule"in r){if(!(r.startRule in o))throw new Error("Can't start parsing from rule \""+r.startRule+'".');a=o[r.startRule]}function Ce(){return Se(ke,ye)}function Oe(e){var n,r,i=we[e];if(i)return i;for(n=e-1;!we[n];)n--;for(i={line:(i=we[n]).line,column:i.column,seenCR:i.seenCR};n<e;)"\n"===(r=t.charAt(n))?(i.seenCR||i.line++,i.column=1,i.seenCR=!1):"\r"===r||"\u2028"===r||"\u2029"===r?(i.line++,i.column=1,i.seenCR=!0):(i.column++,i.seenCR=!1),n++;return we[e]=i,i}function Se(e,t){var n=Oe(e),r=Oe(t);return{start:{offset:e,line:n.line,column:n.column},end:{offset:t,line:r.line,column:r.column}}}function Ee(e){ye<je||(ye>je&&(je=ye,_e=[]),_e.push(e))}function Te(t,n,r,i){return null!==n&&function(e){var t=1;for(e.sort((function(e,t){return e.description<t.description?-1:e.description>t.description?1:0}));t<e.length;)e[t-1]===e[t]?e.splice(t,1):t++}(n),new e(null!==t?t:function(e,t){var n,r=new Array(e.length);for(n=0;n<e.length;n++)r[n]=e[n].description;return"Expected "+(e.length>1?r.slice(0,-1).join(", ")+" or "+r[e.length-1]:r[0])+" but "+(t?'"'+function(e){function t(e){return e.charCodeAt(0).toString(16).toUpperCase()}return e.replace(/\\/g,"\\\\").replace(/"/g,'\\"').replace(/\x08/g,"\\b").replace(/\t/g,"\\t").replace(/\n/g,"\\n").replace(/\f/g,"\\f").replace(/\r/g,"\\r").replace(/[\x00-\x07\x0B\x0E\x0F]/g,(function(e){return"\\x0"+t(e)})).replace(/[\x10-\x1F\x80-\xFF]/g,(function(e){return"\\x"+t(e)})).replace(/[\u0100-\u0FFF]/g,(function(e){return"\\u0"+t(e)})).replace(/[\u1000-\uFFFF]/g,(function(e){return"\\u"+t(e)}))}(t)+'"':"end of input")+" found."}(n,r),n,r,i)}function Pe(){return Ne()}function Ne(){var e,t,n;for(e=ye,t=[],n=Ie();n!==i;)t.push(n),n=Ie();return t!==i&&(ke=e,t=s(t)),e=t}function Ie(){var e;return(e=De())===i&&(e=Re()),e}function Ae(){var e,n,r,o,a,s;if(e=ye,n=[],r=ye,(o=$e())!==i&&(a=Qe())!==i&&(s=$e())!==i?r=o=[o,a,s]:(ye=r,r=i),r!==i)for(;r!==i;)n.push(r),r=ye,(o=$e())!==i&&(a=Qe())!==i&&(s=$e())!==i?r=o=[o,a,s]:(ye=r,r=i);else n=i;return n!==i&&(ke=e,n=l(n)),(e=n)===i&&(e=ye,e=(n=Ge())!==i?t.substring(e,ye):n),e}function De(){var e,t;return e=ye,(t=Ae())!==i&&(ke=e,t=c(t)),e=t}function Be(){var e,n,r;if((e=Ze())===i){if(e=ye,n=[],u.test(t.charAt(ye))?(r=t.charAt(ye),ye++):(r=i,0===xe&&Ee(d)),r!==i)for(;r!==i;)n.push(r),u.test(t.charAt(ye))?(r=t.charAt(ye),ye++):(r=i,0===xe&&Ee(d));else n=i;e=n!==i?t.substring(e,ye):n}return e}function Re(){var e,n,r,o,a,s,l;return e=ye,123===t.charCodeAt(ye)?(n=p,ye++):(n=i,0===xe&&Ee(m)),n!==i&&$e()!==i&&(r=Be())!==i&&$e()!==i?(o=ye,44===t.charCodeAt(ye)?(a=f,ye++):(a=i,0===xe&&Ee(h)),a!==i&&(s=$e())!==i&&(l=Le())!==i?o=a=[a,s,l]:(ye=o,o=i),o===i&&(o=null),o!==i&&(a=$e())!==i?(125===t.charCodeAt(ye)?(s=v,ye++):(s=i,0===xe&&Ee(g)),s!==i?(ke=e,e=n=b(r,o)):(ye=e,e=i)):(ye=e,e=i)):(ye=e,e=i),e}function Le(){var e;return(e=Me())===i&&(e=Fe())===i&&(e=Ve())===i&&(e=ze()),e}function Me(){var e,n,r,o,a,s;return e=ye,t.substr(ye,6)===y?(n=y,ye+=6):(n=i,0===xe&&Ee(k)),n===i&&(t.substr(ye,4)===w?(n=w,ye+=4):(n=i,0===xe&&Ee(j)),n===i&&(t.substr(ye,4)===_?(n=_,ye+=4):(n=i,0===xe&&Ee(x)))),n!==i&&$e()!==i?(r=ye,44===t.charCodeAt(ye)?(o=f,ye++):(o=i,0===xe&&Ee(h)),o!==i&&(a=$e())!==i&&(s=Qe())!==i?r=o=[o,a,s]:(ye=r,r=i),r===i&&(r=null),r!==i?(ke=e,e=n=C(n,r)):(ye=e,e=i)):(ye=e,e=i),e}function Fe(){var e,n,r,o;return e=ye,t.substr(ye,6)===O?(n=O,ye+=6):(n=i,0===xe&&Ee(S)),n!==i&&$e()!==i?(44===t.charCodeAt(ye)?(r=f,ye++):(r=i,0===xe&&Ee(h)),r!==i&&$e()!==i&&(o=qe())!==i?(ke=e,e=n=E(o)):(ye=e,e=i)):(ye=e,e=i),e}function Ve(){var e,n,r,o;return e=ye,t.substr(ye,13)===T?(n=T,ye+=13):(n=i,0===xe&&Ee(P)),n!==i&&$e()!==i?(44===t.charCodeAt(ye)?(r=f,ye++):(r=i,0===xe&&Ee(h)),r!==i&&$e()!==i&&(o=qe())!==i?(ke=e,e=n=N(o)):(ye=e,e=i)):(ye=e,e=i),e}function ze(){var e,n,r,o,a;if(e=ye,t.substr(ye,6)===I?(n=I,ye+=6):(n=i,0===xe&&Ee(A)),n!==i)if($e()!==i)if(44===t.charCodeAt(ye)?(r=f,ye++):(r=i,0===xe&&Ee(h)),r!==i)if($e()!==i){if(o=[],(a=He())!==i)for(;a!==i;)o.push(a),a=He();else o=i;o!==i?(ke=e,e=n=D(o)):(ye=e,e=i)}else ye=e,e=i;else ye=e,e=i;else ye=e,e=i;else ye=e,e=i;return e}function Ue(){var e,n,r,o;return e=ye,n=ye,61===t.charCodeAt(ye)?(r=B,ye++):(r=i,0===xe&&Ee(R)),r!==i&&(o=Ze())!==i?n=r=[r,o]:(ye=n,n=i),(e=n!==i?t.substring(e,ye):n)===i&&(e=Qe()),e}function He(){var e,n,r,o,a;return e=ye,$e()!==i&&(n=Ue())!==i&&$e()!==i?(123===t.charCodeAt(ye)?(r=p,ye++):(r=i,0===xe&&Ee(m)),r!==i&&$e()!==i&&(o=Ne())!==i&&$e()!==i?(125===t.charCodeAt(ye)?(a=v,ye++):(a=i,0===xe&&Ee(g)),a!==i?(ke=e,e=L(n,o)):(ye=e,e=i)):(ye=e,e=i)):(ye=e,e=i),e}function We(){var e,n,r;return e=ye,t.substr(ye,7)===M?(n=M,ye+=7):(n=i,0===xe&&Ee(F)),n!==i&&$e()!==i&&(r=Ze())!==i?(ke=e,e=n=V(r)):(ye=e,e=i),e}function qe(){var e,t,n,r;if(e=ye,(t=We())===i&&(t=null),t!==i)if($e()!==i){if(n=[],(r=He())!==i)for(;r!==i;)n.push(r),r=He();else n=i;n!==i?(ke=e,e=t=z(t,n)):(ye=e,e=i)}else ye=e,e=i;else ye=e,e=i;return e}function Ge(){var e,n;if(xe++,e=[],H.test(t.charAt(ye))?(n=t.charAt(ye),ye++):(n=i,0===xe&&Ee(W)),n!==i)for(;n!==i;)e.push(n),H.test(t.charAt(ye))?(n=t.charAt(ye),ye++):(n=i,0===xe&&Ee(W));else e=i;return xe--,e===i&&(n=i,0===xe&&Ee(U)),e}function $e(){var e,n,r;for(xe++,e=ye,n=[],r=Ge();r!==i;)n.push(r),r=Ge();return e=n!==i?t.substring(e,ye):n,xe--,e===i&&(n=i,0===xe&&Ee(q)),e}function Ke(){var e;return G.test(t.charAt(ye))?(e=t.charAt(ye),ye++):(e=i,0===xe&&Ee($)),e}function Ye(){var e;return K.test(t.charAt(ye))?(e=t.charAt(ye),ye++):(e=i,0===xe&&Ee(Y)),e}function Ze(){var e,n,r,o,a,s;if(e=ye,48===t.charCodeAt(ye)?(n=Z,ye++):(n=i,0===xe&&Ee(J)),n===i){if(n=ye,r=ye,Q.test(t.charAt(ye))?(o=t.charAt(ye),ye++):(o=i,0===xe&&Ee(X)),o!==i){for(a=[],s=Ke();s!==i;)a.push(s),s=Ke();a!==i?r=o=[o,a]:(ye=r,r=i)}else ye=r,r=i;n=r!==i?t.substring(n,ye):r}return n!==i&&(ke=e,n=ee(n)),e=n}function Je(){var e,n,r,o,a,s,l,c;return te.test(t.charAt(ye))?(e=t.charAt(ye),ye++):(e=i,0===xe&&Ee(ne)),e===i&&(e=ye,t.substr(ye,2)===re?(n=re,ye+=2):(n=i,0===xe&&Ee(ie)),n!==i&&(ke=e,n=oe()),(e=n)===i&&(e=ye,t.substr(ye,2)===ae?(n=ae,ye+=2):(n=i,0===xe&&Ee(se)),n!==i&&(ke=e,n=le()),(e=n)===i&&(e=ye,t.substr(ye,2)===ce?(n=ce,ye+=2):(n=i,0===xe&&Ee(ue)),n!==i&&(ke=e,n=de()),(e=n)===i&&(e=ye,t.substr(ye,2)===pe?(n=pe,ye+=2):(n=i,0===xe&&Ee(me)),n!==i&&(ke=e,n=fe()),(e=n)===i&&(e=ye,t.substr(ye,2)===he?(n=he,ye+=2):(n=i,0===xe&&Ee(ve)),n!==i?(r=ye,o=ye,(a=Ye())!==i&&(s=Ye())!==i&&(l=Ye())!==i&&(c=Ye())!==i?o=a=[a,s,l,c]:(ye=o,o=i),(r=o!==i?t.substring(r,ye):o)!==i?(ke=e,e=n=ge(r)):(ye=e,e=i)):(ye=e,e=i)))))),e}function Qe(){var e,t,n;if(e=ye,t=[],(n=Je())!==i)for(;n!==i;)t.push(n),n=Je();else t=i;return t!==i&&(ke=e,t=be(t)),e=t}if((n=a())!==i&&ye===t.length)return n;throw n!==i&&ye<t.length&&Ee({type:"end",description:"end of input"}),Te(null,_e,je<t.length?t.charAt(je):null,je<t.length?Se(je,je+1):Se(je,je))}}}()},"./node_modules/intl-messageformat/index.js":function(e,t,n){"use strict";var r=n("./node_modules/intl-messageformat/lib/main.js").default;n(3),(t=e.exports=r).default=t},"./node_modules/intl-messageformat/lib/compiler.js":function(e,t,n){"use strict";function r(e,t,n){this.locales=e,this.formats=t,this.pluralFn=n}function i(e){this.id=e}function o(e,t,n,r,i){this.id=e,this.useOrdinal=t,this.offset=n,this.options=r,this.pluralFn=i}function a(e,t,n,r){this.id=e,this.offset=t,this.numberFormat=n,this.string=r}function s(e,t){this.id=e,this.options=t}t.default=r,r.prototype.compile=function(e){return this.pluralStack=[],this.currentPlural=null,this.pluralNumberFormat=null,this.compileMessage(e)},r.prototype.compileMessage=function(e){if(!e||"messageFormatPattern"!==e.type)throw new Error('Message AST is not of type: "messageFormatPattern"');var t,n,r,i=e.elements,o=[];for(t=0,n=i.length;t<n;t+=1)switch((r=i[t]).type){case"messageTextElement":o.push(this.compileMessageText(r));break;case"argumentElement":o.push(this.compileArgument(r));break;default:throw new Error("Message element does not have a valid type")}return o},r.prototype.compileMessageText=function(e){return this.currentPlural&&/(^|[^\\])#/g.test(e.value)?(this.pluralNumberFormat||(this.pluralNumberFormat=new Intl.NumberFormat(this.locales)),new a(this.currentPlural.id,this.currentPlural.format.offset,this.pluralNumberFormat,e.value)):e.value.replace(/\\#/g,"#")},r.prototype.compileArgument=function(e){var t=e.format;if(!t)return new i(e.id);var n,r=this.formats,a=this.locales,l=this.pluralFn;switch(t.type){case"numberFormat":return n=r.number[t.style],{id:e.id,format:new Intl.NumberFormat(a,n).format};case"dateFormat":return n=r.date[t.style],{id:e.id,format:new Intl.DateTimeFormat(a,n).format};case"timeFormat":return n=r.time[t.style],{id:e.id,format:new Intl.DateTimeFormat(a,n).format};case"pluralFormat":return n=this.compileOptions(e),new o(e.id,t.ordinal,t.offset,n,l);case"selectFormat":return n=this.compileOptions(e),new s(e.id,n);default:throw new Error("Message element does not have a valid format type")}},r.prototype.compileOptions=function(e){var t,n,r,i=e.format,o=i.options,a={};for(this.pluralStack.push(this.currentPlural),this.currentPlural="pluralFormat"===i.type?e:null,t=0,n=o.length;t<n;t+=1)a[(r=o[t]).selector]=this.compileMessage(r.value);return this.currentPlural=this.pluralStack.pop(),a},i.prototype.format=function(e){return e||"number"==typeof e?"string"==typeof e?e:String(e):""},o.prototype.getOption=function(e){var t=this.options;return t["="+e]||t[this.pluralFn(e-this.offset,this.useOrdinal)]||t.other},a.prototype.format=function(e){var t=this.numberFormat.format(e-this.offset);return this.string.replace(/(^|[^\\])#/g,"$1"+t).replace(/\\#/g,"#")},s.prototype.getOption=function(e){var t=this.options;return t[e]||t.other}},"./node_modules/intl-messageformat/lib/core.js":function(e,t,n){"use strict";var r=n("./node_modules/intl-messageformat/lib/utils.js"),i=n("./node_modules/intl-messageformat/lib/es5.js"),o=n("./node_modules/intl-messageformat/lib/compiler.js"),a=n("./node_modules/intl-messageformat-parser/index.js");function s(e,t,n){var r="string"==typeof e?s.__parse(e):e;if(!r||"messageFormatPattern"!==r.type)throw new TypeError("A message must be provided as a String or AST.");n=this._mergeFormats(s.formats,n),i.defineProperty(this,"_locale",{value:this._resolveLocale(t)});var o=this._findPluralRuleFunction(this._locale),a=this._compilePattern(r,t,n,o),l=this;this.format=function(t){try{return l._format(a,t)}catch(t){throw t.variableId?new Error("The intl string context variable '"+t.variableId+"' was not provided to the string '"+e+"'"):t}}}t.default=s,i.defineProperty(s,"formats",{enumerable:!0,value:{number:{currency:{style:"currency"},percent:{style:"percent"}},date:{short:{month:"numeric",day:"numeric",year:"2-digit"},medium:{month:"short",day:"numeric",year:"numeric"},long:{month:"long",day:"numeric",year:"numeric"},full:{weekday:"long",month:"long",day:"numeric",year:"numeric"}},time:{short:{hour:"numeric",minute:"numeric"},medium:{hour:"numeric",minute:"numeric",second:"numeric"},long:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"},full:{hour:"numeric",minute:"numeric",second:"numeric",timeZoneName:"short"}}}}),i.defineProperty(s,"__localeData__",{value:i.objCreate(null)}),i.defineProperty(s,"__addLocaleData",{value:function(e){if(!e||!e.locale)throw new Error("Locale data provided to IntlMessageFormat is missing a `locale` property");s.__localeData__[e.locale.toLowerCase()]=e}}),i.defineProperty(s,"__parse",{value:a.default.parse}),i.defineProperty(s,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),s.prototype.resolvedOptions=function(){return{locale:this._locale}},s.prototype._compilePattern=function(e,t,n,r){return new o.default(t,n,r).compile(e)},s.prototype._findPluralRuleFunction=function(e){for(var t=s.__localeData__,n=t[e.toLowerCase()];n;){if(n.pluralRuleFunction)return n.pluralRuleFunction;n=n.parentLocale&&t[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlMessageFormat is missing a `pluralRuleFunction` for :"+e)},s.prototype._format=function(e,t){var n,i,o,a,s,l,c="";for(n=0,i=e.length;n<i;n+=1)if("string"!=typeof(o=e[n])){if(a=o.id,!t||!r.hop.call(t,a))throw(l=new Error("A value must be provided for: "+a)).variableId=a,l;s=t[a],o.options?c+=this._format(o.getOption(s),t):c+=o.format(s)}else c+=o;return c},s.prototype._mergeFormats=function(e,t){var n,o,a={};for(n in e)r.hop.call(e,n)&&(a[n]=o=i.objCreate(e[n]),t&&r.hop.call(t,n)&&r.extend(o,t[n]));return a},s.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(s.defaultLocale);var t,n,r,i,o=s.__localeData__;for(t=0,n=e.length;t<n;t+=1)for(r=e[t].toLowerCase().split("-");r.length;){if(i=o[r.join("-")])return i.locale;r.pop()}var a=e.pop();throw new Error("No locale data has been added to IntlMessageFormat for: "+e.join(", ")+", or the default locale: "+a)}},"./node_modules/intl-messageformat/lib/en.js":function(e,t,n){"use strict";t.default={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return t?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==e&&r?"one":"other"}}},"./node_modules/intl-messageformat/lib/es5.js":function(e,t,n){"use strict";var r=n("./node_modules/intl-messageformat/lib/utils.js"),i=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),o=(!i&&Object.prototype.__defineGetter__,i?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):r.hop.call(e,t)&&!("value"in n)||(e[t]=n.value)}),a=Object.create||function(e,t){var n,i;function a(){}for(i in a.prototype=e,n=new a,t)r.hop.call(t,i)&&o(n,i,t[i]);return n};t.defineProperty=o,t.objCreate=a},"./node_modules/intl-messageformat/lib/main.js":function(e,t,n){"use strict";var r=n("./node_modules/intl-messageformat/lib/core.js"),i=n("./node_modules/intl-messageformat/lib/en.js");r.default.__addLocaleData(i.default),r.default.defaultLocale="en",t.default=r.default},"./node_modules/intl-messageformat/lib/utils.js":function(e,t,n){"use strict";t.extend=function(e){var t,n,i,o,a=Array.prototype.slice.call(arguments,1);for(t=0,n=a.length;t<n;t+=1)if(i=a[t])for(o in i)r.call(i,o)&&(e[o]=i[o]);return e};var r=Object.prototype.hasOwnProperty;t.hop=r},"./node_modules/intl-relativeformat/index.js":function(e,t,n){"use strict";var r=n("./node_modules/intl-relativeformat/lib/main.js").default;n(4),(t=e.exports=r).default=t},"./node_modules/intl-relativeformat/lib/core.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/intl-messageformat/index.js"),i=n("./node_modules/intl-relativeformat/lib/diff.js"),o=n("./node_modules/intl-relativeformat/lib/es5.js");t.default=l;var a=["second","second-short","minute","minute-short","hour","hour-short","day","day-short","month","month-short","year","year-short"],s=["best fit","numeric"];function l(e,t){t=t||{},o.isArray(e)&&(e=e.concat()),o.defineProperty(this,"_locale",{value:this._resolveLocale(e)}),o.defineProperty(this,"_options",{value:{style:this._resolveStyle(t.style),units:this._isValidUnits(t.units)&&t.units}}),o.defineProperty(this,"_locales",{value:e}),o.defineProperty(this,"_fields",{value:this._findFields(this._locale)}),o.defineProperty(this,"_messages",{value:o.objCreate(null)});var n=this;this.format=function(e,t){return n._format(e,t)}}o.defineProperty(l,"__localeData__",{value:o.objCreate(null)}),o.defineProperty(l,"__addLocaleData",{value:function(){for(var e=0;e<arguments.length;e++){var t=arguments[e];if(!t||!t.locale)throw new Error("Locale data provided to IntlRelativeFormat is missing a `locale` property value");l.__localeData__[t.locale.toLowerCase()]=t,r.default.__addLocaleData(t)}}}),o.defineProperty(l,"defaultLocale",{enumerable:!0,writable:!0,value:void 0}),o.defineProperty(l,"thresholds",{enumerable:!0,value:{second:45,"second-short":45,minute:45,"minute-short":45,hour:22,"hour-short":22,day:26,"day-short":26,month:11,"month-short":11}}),l.prototype.resolvedOptions=function(){return{locale:this._locale,style:this._options.style,units:this._options.units}},l.prototype._compileMessage=function(e){var t,n=this._locales,i=(this._locale,this._fields[e].relativeTime),o="",a="";for(t in i.future)i.future.hasOwnProperty(t)&&(o+=" "+t+" {"+i.future[t].replace("{0}","#")+"}");for(t in i.past)i.past.hasOwnProperty(t)&&(a+=" "+t+" {"+i.past[t].replace("{0}","#")+"}");var s="{when, select, future {{0, plural, "+o+"}}past {{0, plural, "+a+"}}}";return new r.default(s,n)},l.prototype._getMessage=function(e){var t=this._messages;return t[e]||(t[e]=this._compileMessage(e)),t[e]},l.prototype._getRelativeUnits=function(e,t){var n=this._fields[t];if(n.relative)return n.relative[e]},l.prototype._findFields=function(e){for(var t=l.__localeData__,n=t[e.toLowerCase()];n;){if(n.fields)return n.fields;n=n.parentLocale&&t[n.parentLocale.toLowerCase()]}throw new Error("Locale data added to IntlRelativeFormat is missing `fields` for :"+e)},l.prototype._format=function(e,t){var n=t&&void 0!==t.now?t.now:o.dateNow();if(void 0===e&&(e=n),!isFinite(n))throw new RangeError("The `now` option provided to IntlRelativeFormat#format() is not in valid range.");if(!isFinite(e))throw new RangeError("The date value provided to IntlRelativeFormat#format() is not in valid range.");var r=i.default(n,e),a=this._options.units||this._selectUnits(r),s=r[a];if("numeric"!==this._options.style){var l=this._getRelativeUnits(s,a);if(l)return l}return this._getMessage(a).format({0:Math.abs(s),when:s<0?"past":"future"})},l.prototype._isValidUnits=function(e){if(!e||o.arrIndexOf.call(a,e)>=0)return!0;if("string"==typeof e){var t=/s$/.test(e)&&e.substr(0,e.length-1);if(t&&o.arrIndexOf.call(a,t)>=0)throw new Error('"'+e+'" is not a valid IntlRelativeFormat `units` value, did you mean: '+t)}throw new Error('"'+e+'" is not a valid IntlRelativeFormat `units` value, it must be one of: "'+a.join('", "')+'"')},l.prototype._resolveLocale=function(e){"string"==typeof e&&(e=[e]),e=(e||[]).concat(l.defaultLocale);var t,n,r,i,o=l.__localeData__;for(t=0,n=e.length;t<n;t+=1)for(r=e[t].toLowerCase().split("-");r.length;){if(i=o[r.join("-")])return i.locale;r.pop()}var a=e.pop();throw new Error("No locale data has been added to IntlRelativeFormat for: "+e.join(", ")+", or the default locale: "+a)},l.prototype._resolveStyle=function(e){if(!e)return s[0];if(o.arrIndexOf.call(s,e)>=0)return e;throw new Error('"'+e+'" is not a valid IntlRelativeFormat `style` value, it must be one of: "'+s.join('", "')+'"')},l.prototype._selectUnits=function(e){var t,n,r,i=a.filter((function(e){return e.indexOf("-short")<1}));for(t=0,n=i.length;t<n&&(r=i[t],!(Math.abs(e[r])<l.thresholds[r]));t+=1);return r}},"./node_modules/intl-relativeformat/lib/diff.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Math.round;function i(e){var t=new Date(e);return t.setHours(0,0,0,0),t}t.default=function(e,t){var n,o,a,s,l,c=r((t=+t)-(e=+e)),u=r(c/1e3),d=r(u/60),p=r(d/60),m=(n=e,o=i(t),a=i(n),s=o.getTime()-6e4*o.getTimezoneOffset(),l=a.getTime()-6e4*a.getTimezoneOffset(),Math.round((s-l)/864e5)),f=r(m/7),h=400*m/146097,v=r(12*h),g=r(h);return{millisecond:c,second:u,"second-short":u,minute:d,"minute-short":d,hour:p,"hour-short":p,day:m,"day-short":m,week:f,"week-short":f,month:v,"month-short":v,year:g,"year-short":g}}},"./node_modules/intl-relativeformat/lib/en.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return t?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==e&&r?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},"year-short":{displayName:"yr.",relative:{0:"this yr.",1:"next yr.","-1":"last yr."},relativeTime:{future:{one:"in {0} yr.",other:"in {0} yr."},past:{one:"{0} yr. ago",other:"{0} yr. ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},"month-short":{displayName:"mo.",relative:{0:"this mo.",1:"next mo.","-1":"last mo."},relativeTime:{future:{one:"in {0} mo.",other:"in {0} mo."},past:{one:"{0} mo. ago",other:"{0} mo. ago"}}},week:{displayName:"week",relativePeriod:"the week of {0}",relative:{0:"this week",1:"next week","-1":"last week"},relativeTime:{future:{one:"in {0} week",other:"in {0} weeks"},past:{one:"{0} week ago",other:"{0} weeks ago"}}},"week-short":{displayName:"wk.",relativePeriod:"the week of {0}",relative:{0:"this wk.",1:"next wk.","-1":"last wk."},relativeTime:{future:{one:"in {0} wk.",other:"in {0} wk."},past:{one:"{0} wk. ago",other:"{0} wk. ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},"day-short":{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},"hour-short":{displayName:"hr.",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hr.",other:"in {0} hr."},past:{one:"{0} hr. ago",other:"{0} hr. ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},"minute-short":{displayName:"min.",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} min.",other:"in {0} min."},past:{one:"{0} min. ago",other:"{0} min. ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}},"second-short":{displayName:"sec.",relative:{0:"now"},relativeTime:{future:{one:"in {0} sec.",other:"in {0} sec."},past:{one:"{0} sec. ago",other:"{0} sec. ago"}}}}}},"./node_modules/intl-relativeformat/lib/es5.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.prototype.hasOwnProperty,i=Object.prototype.toString,o=function(){try{return!!Object.defineProperty({},"a",{})}catch(e){return!1}}(),a=(!o&&Object.prototype.__defineGetter__,o?Object.defineProperty:function(e,t,n){"get"in n&&e.__defineGetter__?e.__defineGetter__(t,n.get):r.call(e,t)&&!("value"in n)||(e[t]=n.value)});t.defineProperty=a;var s=Object.create||function(e,t){var n,i;function o(){}for(i in o.prototype=e,n=new o,t)r.call(t,i)&&a(n,i,t[i]);return n};t.objCreate=s;var l=Array.prototype.indexOf||function(e,t){var n=this;if(!n.length)return-1;for(var r=t||0,i=n.length;r<i;r++)if(n[r]===e)return r;return-1};t.arrIndexOf=l;var c=Array.isArray||function(e){return"[object Array]"===i.call(e)};t.isArray=c;var u=Date.now||function(){return(new Date).getTime()};t.dateNow=u},"./node_modules/intl-relativeformat/lib/main.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/intl-relativeformat/lib/core.js"),i=n("./node_modules/intl-relativeformat/lib/en.js");r.default.__addLocaleData(i.default),r.default.defaultLocale="en",t.default=r.default},"./node_modules/invariant/browser.js":function(e,t,n){"use strict";e.exports=function(e,t,n,r,i,o,a,s){if(!e){var l;if(void 0===t)l=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var c=[n,r,i,o,a,s],u=0;(l=new Error(t.replace(/%s/g,(function(){return c[u++]})))).name="Invariant Violation"}throw l.framesToPop=1,l}}},"./node_modules/joinn/lib/joinn.js":function(e,t){(function(){e.exports=function(e,t,n){var r;switch(null==t&&(t=", "),null==n&&(n=" and "),e.length){case 0:return"";case 1:return e.pop();default:return r=e.pop(),e.join(t)+n+r}}}).call(this)},"./node_modules/lodash-es/_Symbol.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash-es/_root.js").a.Symbol;t.a=r},"./node_modules/lodash-es/_baseGetTag.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash-es/_Symbol.js"),i=Object.prototype,o=i.hasOwnProperty,a=i.toString,s=r.a?r.a.toStringTag:void 0;var l=function(e){var t=o.call(e,s),n=e[s];try{e[s]=void 0;var r=!0}catch(e){}var i=a.call(e);return r&&(t?e[s]=n:delete e[s]),i},c=Object.prototype.toString;var u=function(e){return c.call(e)},d=r.a?r.a.toStringTag:void 0;t.a=function(e){return null==e?void 0===e?"[object Undefined]":"[object Null]":d&&d in Object(e)?l(e):u(e)}},"./node_modules/lodash-es/_freeGlobal.js":function(e,t,n){"use strict";(function(e){var n="object"==typeof e&&e&&e.Object===Object&&e;t.a=n}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/lodash-es/_getPrototype.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash-es/_overArg.js"),i=Object(r.a)(Object.getPrototypeOf,Object);t.a=i},"./node_modules/lodash-es/_overArg.js":function(e,t,n){"use strict";t.a=function(e,t){return function(n){return e(t(n))}}},"./node_modules/lodash-es/_root.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash-es/_freeGlobal.js"),i="object"==typeof self&&self&&self.Object===Object&&self,o=r.a||i||Function("return this")();t.a=o},"./node_modules/lodash-es/isObjectLike.js":function(e,t,n){"use strict";t.a=function(e){return null!=e&&"object"==typeof e}},"./node_modules/lodash-es/isPlainObject.js":function(e,t,n){"use strict";var r=n("./node_modules/lodash-es/_baseGetTag.js"),i=n("./node_modules/lodash-es/_getPrototype.js"),o=n("./node_modules/lodash-es/isObjectLike.js"),a=Function.prototype,s=Object.prototype,l=a.toString,c=s.hasOwnProperty,u=l.call(Object);t.a=function(e){if(!Object(o.a)(e)||"[object Object]"!=Object(r.a)(e))return!1;var t=Object(i.a)(e);if(null===t)return!0;var n=c.call(t,"constructor")&&t.constructor;return"function"==typeof n&&n instanceof n&&l.call(n)==u}},"./node_modules/performance-now/lib/performance-now.js":function(e,t,n){(function(t){(function(){var n,r,i,o,a,s;"undefined"!=typeof performance&&null!==performance&&performance.now?e.exports=function(){return performance.now()}:null!=t&&t.hrtime?(e.exports=function(){return(n()-a)/1e6},r=t.hrtime,o=(n=function(){var e;return 1e9*(e=r())[0]+e[1]})(),s=1e9*t.uptime(),a=o-s):Date.now?(e.exports=function(){return Date.now()-i},i=Date.now()):(e.exports=function(){return(new Date).getTime()-i},i=(new Date).getTime())}).call(this)}).call(this,n("./node_modules/process/browser.js"))},"./node_modules/raf/index.js":function(e,t,n){(function(t){for(var r=n("./node_modules/performance-now/lib/performance-now.js"),i="undefined"==typeof window?t:window,o=["moz","webkit"],a="AnimationFrame",s=i["request"+a],l=i["cancel"+a]||i["cancelRequest"+a],c=0;!s&&c<o.length;c++)s=i[o[c]+"Request"+a],l=i[o[c]+"Cancel"+a]||i[o[c]+"CancelRequest"+a];if(!s||!l){var u=0,d=0,p=[];s=function(e){if(0===p.length){var t=r(),n=Math.max(0,16.666666666666668-(t-u));u=n+t,setTimeout((function(){var e=p.slice(0);p.length=0;for(var t=0;t<e.length;t++)if(!e[t].cancelled)try{e[t].callback(u)}catch(e){setTimeout((function(){throw e}),0)}}),Math.round(n))}return p.push({handle:++d,callback:e,cancelled:!1}),d},l=function(e){for(var t=0;t<p.length;t++)p[t].handle===e&&(p[t].cancelled=!0)}}e.exports=function(e){return s.call(i,e)},e.exports.cancel=function(){l.apply(i,arguments)},e.exports.polyfill=function(e){e||(e=i),e.requestAnimationFrame=s,e.cancelAnimationFrame=l}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/react-animate-height/lib/AnimateHeight.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},o=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),a=c(n("./node_modules/react/index.js")),s=c(n("./node_modules/prop-types/index.js")),l=c(n("./node_modules/classnames/index.js"));function c(e){return e&&e.__esModule?e:{default:e}}function u(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var d={animating:"rah-animating",animatingUp:"rah-animating--up",animatingDown:"rah-animating--down",animatingToHeightZero:"rah-animating--to-height-zero",animatingToHeightAuto:"rah-animating--to-height-auto",animatingToHeightSpecific:"rah-animating--to-height-specific",static:"rah-static",staticHeightZero:"rah-static--height-zero",staticHeightAuto:"rah-static--height-auto",staticHeightSpecific:"rah-static--height-specific"},p=["animateOpacity","animationStateClasses","applyInlineTransitions","children","contentClassName","delay","duration","easing","height","onAnimationEnd","onAnimationStart"];function m(e){for(var t=arguments.length,n=Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if(!n.length)return e;for(var i={},o=Object.keys(e),a=0;a<o.length;a++){var s=o[a];-1===n.indexOf(s)&&(i[s]=e[s])}return i}function f(e){e.forEach((function(e){return cancelAnimationFrame(e)}))}function h(e){return!isNaN(parseFloat(e))&&isFinite(e)}function v(e){return"string"==typeof e&&e.search("%")===e.length-1&&h(e.substr(0,e.length-1))}function g(e,t){e&&"function"==typeof e&&e(t)}var b=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));n.animationFrameIDs=[];var r="auto",o="visible";h(e.height)?(r=e.height<0||"0"===e.height?0:e.height,o="hidden"):v(e.height)&&(r="0%"===e.height?0:e.height,o="hidden"),n.animationStateClasses=i({},d,e.animationStateClasses);var a=n.getStaticStateClasses(r);return n.state={animationStateClasses:a,height:r,overflow:o,shouldUseTransitions:!1},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),o(t,[{key:"componentDidMount",value:function(){var e=this.state.height;this.contentElement&&this.contentElement.style&&this.hideContent(e)}},{key:"componentDidUpdate",value:function(e,t){var n,r,i=this,o=this.props,a=o.delay,s=o.duration,c=o.height,d=o.onAnimationEnd,p=o.onAnimationStart;if(this.contentElement&&c!==e.height){var m;this.showContent(t.height),this.contentElement.style.overflow="hidden";var b=this.contentElement.offsetHeight;this.contentElement.style.overflow="";var y=s+a,k=null,w={height:null,overflow:"hidden"},j="auto"===t.height;h(c)?(k=c<0||"0"===c?0:c,w.height=k):v(c)?(k="0%"===c?0:c,w.height=k):(k=b,w.height="auto",w.overflow=null),j&&(w.height=k,k=b);var _=(0,l.default)((u(m={},this.animationStateClasses.animating,!0),u(m,this.animationStateClasses.animatingUp,"auto"===e.height||c<e.height),u(m,this.animationStateClasses.animatingDown,"auto"===c||c>e.height),u(m,this.animationStateClasses.animatingToHeightZero,0===w.height),u(m,this.animationStateClasses.animatingToHeightAuto,"auto"===w.height),u(m,this.animationStateClasses.animatingToHeightSpecific,w.height>0),m)),x=this.getStaticStateClasses(w.height);this.setState({animationStateClasses:_,height:k,overflow:"hidden",shouldUseTransitions:!j}),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),j?(w.shouldUseTransitions=!0,f(this.animationFrameIDs),this.animationFrameIDs=(n=function(){i.setState(w),g(p,{newHeight:w.height})},(r=[])[0]=requestAnimationFrame((function(){r[1]=requestAnimationFrame((function(){n()}))})),r),this.animationClassesTimeoutID=setTimeout((function(){i.setState({animationStateClasses:x,shouldUseTransitions:!1}),i.hideContent(w.height),g(d,{newHeight:w.height})}),y)):(g(p,{newHeight:k}),this.timeoutID=setTimeout((function(){w.animationStateClasses=x,w.shouldUseTransitions=!1,i.setState(w),"auto"!==c&&i.hideContent(k),g(d,{newHeight:k})}),y))}}},{key:"componentWillUnmount",value:function(){f(this.animationFrameIDs),clearTimeout(this.timeoutID),clearTimeout(this.animationClassesTimeoutID),this.timeoutID=null,this.animationClassesTimeoutID=null,this.animationStateClasses=null}},{key:"showContent",value:function(e){0===e&&(this.contentElement.style.display="")}},{key:"hideContent",value:function(e){0===e&&(this.contentElement.style.display="none")}},{key:"getStaticStateClasses",value:function(e){var t;return(0,l.default)((u(t={},this.animationStateClasses.static,!0),u(t,this.animationStateClasses.staticHeightZero,0===e),u(t,this.animationStateClasses.staticHeightSpecific,e>0),u(t,this.animationStateClasses.staticHeightAuto,"auto"===e),t))}},{key:"render",value:function(){var e,t=this,n=this.props,r=n.animateOpacity,o=n.applyInlineTransitions,s=n.children,c=n.className,d=n.contentClassName,f=n.delay,h=n.duration,v=n.easing,g=n.id,b=n.style,y=this.state,k=y.height,w=y.overflow,j=y.animationStateClasses,_=y.shouldUseTransitions,x=i({},b,{height:k,overflow:w||b.overflow});_&&o&&(x.transition="height "+h+"ms "+v+" "+f+"ms",b.transition&&(x.transition=b.transition+", "+x.transition),x.WebkitTransition=x.transition);var C={};r&&(C.transition="opacity "+h+"ms "+v+" "+f+"ms",C.WebkitTransition=C.transition,0===k&&(C.opacity=0));var O=(0,l.default)((u(e={},j,!0),u(e,c,c),e)),S=void 0!==this.props["aria-hidden"]?this.props["aria-hidden"]:0===k;return a.default.createElement("div",i({},m.apply(void 0,[this.props].concat(p)),{"aria-hidden":S,className:O,id:g,style:x}),a.default.createElement("div",{className:d,style:C,ref:function(e){return t.contentElement=e}},s))}}]),t}(a.default.Component);b.propTypes={"aria-hidden":s.default.bool,animateOpacity:s.default.bool,animationStateClasses:s.default.object,applyInlineTransitions:s.default.bool,children:s.default.any.isRequired,className:s.default.string,contentClassName:s.default.string,delay:s.default.number,duration:s.default.number,easing:s.default.string,height:function(e,t,n){var i=e[t];return"number"==typeof i&&i>=0||v(i)||"auto"===i?null:new TypeError('value "'+i+'" of type "'+(void 0===i?"undefined":r(i))+'" is invalid type for '+t+" in "+n+'. It needs to be a positive number, string "auto" or percentage string (e.g. "15%").')},id:s.default.string,onAnimationEnd:s.default.func,onAnimationStart:s.default.func,style:s.default.object},b.defaultProps={animateOpacity:!1,animationStateClasses:d,applyInlineTransitions:!0,duration:250,delay:0,easing:"ease",style:{}},t.default=b},"./node_modules/react-dnd/dist/esm/common/DndContext.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return Ae})),n.d(t,"b",(function(){return De}));var r,i=n("./node_modules/react/index.js");!function(e){e.SOURCE="SOURCE",e.TARGET="TARGET"}(r||(r={}));var o=n("./node_modules/redux/es/redux.js"),a=n("./node_modules/invariant/browser.js"),s=n.n(a),l="dnd-core/INIT_COORDS",c="dnd-core/BEGIN_DRAG",u="dnd-core/PUBLISH_DRAG_SOURCE",d="dnd-core/HOVER",p="dnd-core/DROP",m="dnd-core/END_DRAG";function f(e,t){return{type:l,payload:{sourceClientOffset:t||null,clientOffset:e||null}}}function h(e){return(h="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function v(e,t,n){return t.split(".").reduce((function(e,t){return e&&e[t]?e[t]:n||null}),e)}function g(e,t){return e.filter((function(e){return e!==t}))}function b(e){return"object"===h(e)}function y(e,t){var n=new Map,r=function(e){return n.set(e,n.has(e)?n.get(e)+1:1)};e.forEach(r),t.forEach(r);var i=[];return n.forEach((function(e,t){1===e&&i.push(t)})),i}var k={type:l,payload:{clientOffset:null,sourceClientOffset:null}};function w(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{publishSource:!0},r=n.publishSource,i=void 0===r||r,o=n.clientOffset,a=n.getSourceClientOffset,s=e.getMonitor(),l=e.getRegistry();e.dispatch(f(o)),j(t,s,l);var u=C(t,s);if(null!==u){var d=null;o&&(_(a),d=a(u)),e.dispatch(f(o,d));var p=l.getSource(u),m=p.beginDrag(s,u);x(m),l.pinSource(u);var h=l.getSourceType(u);return{type:c,payload:{itemType:h,item:m,sourceId:u,clientOffset:o||null,sourceClientOffset:d||null,isSourcePublic:!!i}}}e.dispatch(k)}}function j(e,t,n){s()(!t.isDragging(),"Cannot call beginDrag while dragging."),e.forEach((function(e){s()(n.getSource(e),"Expected sourceIds to be registered.")}))}function _(e){s()("function"==typeof e,"When clientOffset is provided, getSourceClientOffset must be a function.")}function x(e){s()(b(e),"Item must be an object.")}function C(e,t){for(var n=null,r=e.length-1;r>=0;r--)if(t.canDragSource(e[r])){n=e[r];break}return n}function O(e){return function(){if(e.getMonitor().isDragging())return{type:u}}}function S(e,t){return null===t?null===e:Array.isArray(e)?e.some((function(e){return e===t})):e===t}function E(e){return function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=n.clientOffset;T(t);var i=t.slice(0),o=e.getMonitor(),a=e.getRegistry();P(i,o,a);var s=o.getItemType();return N(i,a,s),I(i,o,a),{type:d,payload:{targetIds:i,clientOffset:r||null}}}}function T(e){s()(Array.isArray(e),"Expected targetIds to be an array.")}function P(e,t,n){s()(t.isDragging(),"Cannot call hover while not dragging."),s()(!t.didDrop(),"Cannot call hover after drop.");for(var r=0;r<e.length;r++){var i=e[r];s()(e.lastIndexOf(i)===r,"Expected targetIds to be unique in the passed array.");var o=n.getTarget(i);s()(o,"Expected targetIds to be registered.")}}function N(e,t,n){for(var r=e.length-1;r>=0;r--){var i=e[r];S(t.getTargetType(i),n)||e.splice(r,1)}}function I(e,t,n){e.forEach((function(e){n.getTarget(e).hover(t,e)}))}function A(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function D(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?A(n,!0).forEach((function(t){B(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):A(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function B(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function R(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.getMonitor(),r=e.getRegistry();L(n);var i=F(n);i.forEach((function(i,o){var a=M(i,o,r,n),s={type:p,payload:{dropResult:D({},t,{},a)}};e.dispatch(s)}))}}function L(e){s()(e.isDragging(),"Cannot call drop while not dragging."),s()(!e.didDrop(),"Cannot call drop twice during one drag operation.")}function M(e,t,n,r){var i=n.getTarget(e),o=i?i.drop(r,e):void 0;return function(e){s()(void 0===e||b(e),"Drop result must either be an object or undefined.")}(o),void 0===o&&(o=0===t?{}:r.getDropResult()),o}function F(e){var t=e.getTargetIds().filter(e.canDropOnTarget,e);return t.reverse(),t}function V(e){return function(){var t=e.getMonitor(),n=e.getRegistry();!function(e){s()(e.isDragging(),"Cannot call endDrag while not dragging.")}(t);var r=t.getSourceId();return n.getSource(r,!0).endDrag(t,r),n.unpinSource(),{type:m}}}var z=function(e,t){return e===t};function U(e,t){return!e&&!t||!(!e||!t)&&(e.x===t.x&&e.y===t.y)}function H(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:z;if(e.length!==t.length)return!1;for(var r=0;r<e.length;++r)if(!n(e[r],t[r]))return!1;return!0}function W(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function q(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?W(n,!0).forEach((function(t){G(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):W(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function G(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var $={initialSourceClientOffset:null,initialClientOffset:null,clientOffset:null};function K(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case l:case c:return{initialSourceClientOffset:n.sourceClientOffset,initialClientOffset:n.clientOffset,clientOffset:n.clientOffset};case d:return U(e.clientOffset,n.clientOffset)?e:q({},e,{clientOffset:n.clientOffset});case m:case p:return $;default:return e}}var Y="dnd-core/ADD_SOURCE",Z="dnd-core/ADD_TARGET",J="dnd-core/REMOVE_SOURCE",Q="dnd-core/REMOVE_TARGET";function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ee(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(n,!0).forEach((function(t){te(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function te(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var ne={itemType:null,item:null,sourceId:null,targetIds:[],dropResult:null,didDrop:!1,isSourcePublic:null};function re(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ne,t=arguments.length>1?arguments[1]:void 0,n=t.payload;switch(t.type){case c:return ee({},e,{itemType:n.itemType,item:n.item,sourceId:n.sourceId,isSourcePublic:n.isSourcePublic,dropResult:null,didDrop:!1});case u:return ee({},e,{isSourcePublic:!0});case d:return ee({},e,{targetIds:n.targetIds});case Q:return-1===e.targetIds.indexOf(n.targetId)?e:ee({},e,{targetIds:g(e.targetIds,n.targetId)});case p:return ee({},e,{dropResult:n.dropResult,didDrop:!0,targetIds:[]});case m:return ee({},e,{itemType:null,item:null,sourceId:null,dropResult:null,didDrop:!1,isSourcePublic:null,targetIds:[]});default:return e}}function ie(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case Y:case Z:return e+1;case J:case Q:return e-1;default:return e}}var oe=[],ae=[];function se(e,t){return e!==oe&&(e===ae||void 0===t||(n=e,t.filter((function(e){return n.indexOf(e)>-1}))).length>0);var n}function le(){var e=arguments.length>1?arguments[1]:void 0;switch(e.type){case d:break;case Y:case Z:case Q:case J:return oe;case c:case u:case m:case p:default:return ae}var t=e.payload,n=t.targetIds,r=void 0===n?[]:n,i=t.prevTargetIds,o=void 0===i?[]:i,a=y(r,o),s=a.length>0||!H(r,o);if(!s)return oe;var l=o[o.length-1],f=r[r.length-1];return l!==f&&(l&&a.push(l),f&&a.push(f)),a}function ce(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;return e+1}function ue(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function de(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ue(n,!0).forEach((function(t){pe(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ue(n).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function me(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1?arguments[1]:void 0;return{dirtyHandlerIds:le(e.dirtyHandlerIds,{type:t.type,payload:de({},t.payload,{prevTargetIds:v(e,"dragOperation.targetIds",[])})}),dragOffset:K(e.dragOffset,t),refCount:ie(e.refCount,t),dragOperation:re(e.dragOperation,t),stateId:ce(e.stateId)}}function fe(e,t){return{x:e.x-t.x,y:e.y-t.y}}function he(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}oe.__IS_NONE__=!0,ae.__IS_ALL__=!0;var ve=function(){function e(t,n){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.store=t,this.registry=n}var t,n,r;return t=e,(n=[{key:"subscribeToStateChange",value:function(e){var t=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{handlerIds:void 0},r=n.handlerIds;s()("function"==typeof e,"listener must be a function."),s()(void 0===r||Array.isArray(r),"handlerIds, when specified, must be an array of strings.");var i=this.store.getState().stateId,o=function(){var n=t.store.getState(),o=n.stateId;try{o===i||o===i+1&&!se(n.dirtyHandlerIds,r)||e()}finally{i=o}};return this.store.subscribe(o)}},{key:"subscribeToOffsetChange",value:function(e){var t=this;s()("function"==typeof e,"listener must be a function.");var n=this.store.getState().dragOffset;return this.store.subscribe((function(){var r=t.store.getState().dragOffset;r!==n&&(n=r,e())}))}},{key:"canDragSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e);return s()(t,"Expected to find a valid source."),!this.isDragging()&&t.canDrag(this,e)}},{key:"canDropOnTarget",value:function(e){if(!e)return!1;var t=this.registry.getTarget(e);return s()(t,"Expected to find a valid target."),!(!this.isDragging()||this.didDrop())&&S(this.registry.getTargetType(e),this.getItemType())&&t.canDrop(this,e)}},{key:"isDragging",value:function(){return Boolean(this.getItemType())}},{key:"isDraggingSource",value:function(e){if(!e)return!1;var t=this.registry.getSource(e,!0);return s()(t,"Expected to find a valid source."),!(!this.isDragging()||!this.isSourcePublic())&&this.registry.getSourceType(e)===this.getItemType()&&t.isDragging(this,e)}},{key:"isOverTarget",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{shallow:!1};if(!e)return!1;var n=t.shallow;if(!this.isDragging())return!1;var r=this.registry.getTargetType(e),i=this.getItemType();if(i&&!S(r,i))return!1;var o=this.getTargetIds();if(!o.length)return!1;var a=o.indexOf(e);return n?a===o.length-1:a>-1}},{key:"getItemType",value:function(){return this.store.getState().dragOperation.itemType}},{key:"getItem",value:function(){return this.store.getState().dragOperation.item}},{key:"getSourceId",value:function(){return this.store.getState().dragOperation.sourceId}},{key:"getTargetIds",value:function(){return this.store.getState().dragOperation.targetIds}},{key:"getDropResult",value:function(){return this.store.getState().dragOperation.dropResult}},{key:"didDrop",value:function(){return this.store.getState().dragOperation.didDrop}},{key:"isSourcePublic",value:function(){return this.store.getState().dragOperation.isSourcePublic}},{key:"getInitialClientOffset",value:function(){return this.store.getState().dragOffset.initialClientOffset}},{key:"getInitialSourceClientOffset",value:function(){return this.store.getState().dragOffset.initialSourceClientOffset}},{key:"getClientOffset",value:function(){return this.store.getState().dragOffset.clientOffset}},{key:"getSourceClientOffset",value:function(){return e=this.store.getState().dragOffset,r=e.clientOffset,i=e.initialClientOffset,o=e.initialSourceClientOffset,r&&i&&o?fe((n=o,{x:(t=r).x+n.x,y:t.y+n.y}),i):null;var e,t,n,r,i,o}},{key:"getDifferenceFromInitialOffset",value:function(){return e=this.store.getState().dragOffset,t=e.clientOffset,n=e.initialClientOffset,t&&n?fe(t,n):null;var e,t,n}}])&&he(t.prototype,n),r&&he(t,r),e}(),ge=n("./node_modules/asap/browser-asap.js"),be=n.n(ge),ye=0;function ke(e){return(ke="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function we(e,t){t&&Array.isArray(e)?e.forEach((function(e){return we(e,!1)})):s()("string"==typeof e||"symbol"===ke(e),t?"Type can only be a string, a symbol, or an array of either.":"Type can only be a string or a symbol.")}function je(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function _e(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function xe(e){var t=(ye++).toString();switch(e){case r.SOURCE:return"S".concat(t);case r.TARGET:return"T".concat(t);default:throw new Error("Unknown Handler Role: ".concat(e))}}function Ce(e){switch(e[0]){case"S":return r.SOURCE;case"T":return r.TARGET;default:s()(!1,"Cannot parse handler ID: ".concat(e))}}function Oe(e,t){var n=e.entries(),r=!1;do{var i=n.next(),o=i.done;if(_e(i.value,2)[1]===t)return!0;r=!!o}while(!r);return!1}var Se=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.types=new Map,this.dragSources=new Map,this.dropTargets=new Map,this.pinnedSourceId=null,this.pinnedSource=null,this.store=t}var t,n,i;return t=e,(n=[{key:"addSource",value:function(e,t){we(e),function(e){s()("function"==typeof e.canDrag,"Expected canDrag to be a function."),s()("function"==typeof e.beginDrag,"Expected beginDrag to be a function."),s()("function"==typeof e.endDrag,"Expected endDrag to be a function.")}(t);var n=this.addHandler(r.SOURCE,e,t);return this.store.dispatch(function(e){return{type:Y,payload:{sourceId:e}}}(n)),n}},{key:"addTarget",value:function(e,t){we(e,!0),function(e){s()("function"==typeof e.canDrop,"Expected canDrop to be a function."),s()("function"==typeof e.hover,"Expected hover to be a function."),s()("function"==typeof e.drop,"Expected beginDrag to be a function.")}(t);var n=this.addHandler(r.TARGET,e,t);return this.store.dispatch(function(e){return{type:Z,payload:{targetId:e}}}(n)),n}},{key:"containsHandler",value:function(e){return Oe(this.dragSources,e)||Oe(this.dropTargets,e)}},{key:"getSource",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];s()(this.isSourceId(e),"Expected a valid source ID.");var n=t&&e===this.pinnedSourceId,r=n?this.pinnedSource:this.dragSources.get(e);return r}},{key:"getTarget",value:function(e){return s()(this.isTargetId(e),"Expected a valid target ID."),this.dropTargets.get(e)}},{key:"getSourceType",value:function(e){return s()(this.isSourceId(e),"Expected a valid source ID."),this.types.get(e)}},{key:"getTargetType",value:function(e){return s()(this.isTargetId(e),"Expected a valid target ID."),this.types.get(e)}},{key:"isSourceId",value:function(e){return Ce(e)===r.SOURCE}},{key:"isTargetId",value:function(e){return Ce(e)===r.TARGET}},{key:"removeSource",value:function(e){var t=this;s()(this.getSource(e),"Expected an existing source."),this.store.dispatch(function(e){return{type:J,payload:{sourceId:e}}}(e)),be()((function(){t.dragSources.delete(e),t.types.delete(e)}))}},{key:"removeTarget",value:function(e){s()(this.getTarget(e),"Expected an existing target."),this.store.dispatch(function(e){return{type:Q,payload:{targetId:e}}}(e)),this.dropTargets.delete(e),this.types.delete(e)}},{key:"pinSource",value:function(e){var t=this.getSource(e);s()(t,"Expected an existing source."),this.pinnedSourceId=e,this.pinnedSource=t}},{key:"unpinSource",value:function(){s()(this.pinnedSource,"No source is pinned at the time."),this.pinnedSourceId=null,this.pinnedSource=null}},{key:"addHandler",value:function(e,t,n){var i=xe(e);return this.types.set(i,t),e===r.SOURCE?this.dragSources.set(i,n):e===r.TARGET&&this.dropTargets.set(i,n),i}}])&&je(t.prototype,n),i&&je(t,i),e}();function Ee(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Te(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Pe(e){var t="undefined"!=typeof window&&window.__REDUX_DEVTOOLS_EXTENSION__;return Object(o.e)(me,e&&t&&t({name:"dnd-core",instanceId:"dnd-core"}))}var Ne=function(){function e(){var t=this,n=arguments.length>0&&void 0!==arguments[0]&&arguments[0];Ee(this,e),this.isSetUp=!1,this.handleRefCountChange=function(){var e=t.store.getState().refCount>0;t.backend&&(e&&!t.isSetUp?(t.backend.setup(),t.isSetUp=!0):!e&&t.isSetUp&&(t.backend.teardown(),t.isSetUp=!1))};var r=Pe(n);this.store=r,this.monitor=new ve(r,new Se(r)),r.subscribe(this.handleRefCountChange)}var t,n,r;return t=e,(n=[{key:"receiveBackend",value:function(e){this.backend=e}},{key:"getMonitor",value:function(){return this.monitor}},{key:"getBackend",value:function(){return this.backend}},{key:"getRegistry",value:function(){return this.monitor.registry}},{key:"getActions",value:function(){var e=this,t=this.store.dispatch,n=function(e){return{beginDrag:w(e),publishDragSource:O(e),hover:E(e),drop:R(e),endDrag:V(e)}}(this);return Object.keys(n).reduce((function(r,i){var o,a=n[i];return r[i]=(o=a,function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];var a=o.apply(e,r);void 0!==a&&t(a)}),r}),{})}},{key:"dispatch",value:function(e){this.store.dispatch(e)}}])&&Te(t.prototype,n),r&&Te(t,r),e}();function Ie(e,t,n,r){var i=new Ne(r),o=e(i,t,n);return i.receiveBackend(o),i}var Ae=i.createContext({dragDropManager:void 0});function De(e,t,n,r){return{dragDropManager:Ie(e,t,n,r)}}},"./node_modules/react-dnd/dist/esm/common/DndProvider.js":function(e,t,n){"use strict";(function(e){n.d(t,"a",(function(){return l}));var r=n("./node_modules/react/index.js"),i=n("./node_modules/react-dnd/dist/esm/common/DndContext.js");function o(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function a(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var s=0,l=Object(r.memo)((function(e){var t=e.children,n=o(function(e){if("manager"in e){return[{dragDropManager:e.manager},!1]}var t=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:u(),n=arguments.length>2?arguments[2]:void 0,r=arguments.length>3?arguments[3]:void 0,o=t;o[c]||(o[c]=Object(i.b)(e,t,n,r));return o[c]}(e.backend,e.context,e.options,e.debugMode),n=!e.context;return[t,n]}(a(e,["children"])),2),l=n[0],d=n[1];return r.useEffect((function(){return d&&s++,function(){d&&(0===--s&&(u()[c]=null))}}),[]),r.createElement(i.a.Provider,{value:l},t)}));l.displayName="DndProvider";var c=Symbol.for("__REACT_DND_CONTEXT_INSTANCE__");function u(){return void 0!==e?e:window}}).call(this,n("./node_modules/webpack/buildin/global.js"))},"./node_modules/react-dnd/dist/esm/index.js":function(e,t,n){"use strict";n.r(t),n.d(t,"DndContext",(function(){return r.a})),n.d(t,"createDndContext",(function(){return r.b})),n.d(t,"DndProvider",(function(){return i.a})),n.d(t,"DragPreviewImage",(function(){return a})),n.d(t,"useDrag",(function(){return D})),n.d(t,"useDrop",(function(){return U})),n.d(t,"useDragLayer",(function(){return W})),n.d(t,"DragSource",(function(){return ye})),n.d(t,"DropTarget",(function(){return xe})),n.d(t,"DragLayer",(function(){return Ae}));var r=n("./node_modules/react-dnd/dist/esm/common/DndContext.js"),i=n("./node_modules/react-dnd/dist/esm/common/DndProvider.js"),o=n("./node_modules/react/index.js"),a=o.memo((function(e){var t=e.connect,n=e.src;if("undefined"!=typeof Image){var r=new Image;r.src=n,r.onload=function(){return t(r)}}return null}));a.displayName="DragPreviewImage";var s=n("./node_modules/invariant/browser.js"),l=n.n(s),c="undefined"!=typeof window?o.useLayoutEffect:o.useEffect,u=n("./node_modules/shallowequal/index.js"),d=n.n(u);function p(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function m(e,t,n){var r=p(Object(o.useState)((function(){return t(e)})),2),i=r[0],a=r[1],s=Object(o.useCallback)((function(){var r=t(e);d()(i,r)||(a(r),n&&n())}),[i,e,n]);return c(s,[]),[i,s]}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function h(e,t,n){var r=f(m(e,t,n),2),i=r[0],o=r[1];return c((function(){var t=e.getHandlerId();if(null!=t)return e.subscribeToStateChange(o,{handlerIds:[t]})}),[e,o]),i}function v(e,t,n){var r=n.getRegistry(),i=r.addTarget(e,t);return[i,function(){return r.removeTarget(i)}]}function g(e,t,n){var r=n.getRegistry(),i=r.addSource(e,t);return[i,function(){return r.removeSource(i)}]}function b(){var e=Object(o.useContext)(r.a).dragDropManager;return l()(null!=e,"Expected drag drop context"),e}function y(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var k=!1,w=!1,j=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.sourceId=null,this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.sourceId=e}},{key:"getHandlerId",value:function(){return this.sourceId}},{key:"canDrag",value:function(){l()(!k,"You may not call monitor.canDrag() inside your canDrag() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return k=!0,this.internalMonitor.canDragSource(this.sourceId)}finally{k=!1}}},{key:"isDragging",value:function(){if(!this.sourceId)return!1;l()(!w,"You may not call monitor.isDragging() inside your isDragging() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source-monitor");try{return w=!0,this.internalMonitor.isDraggingSource(this.sourceId)}finally{w=!1}}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"isDraggingSource",value:function(e){return this.internalMonitor.isDraggingSource(e)}},{key:"isOverTarget",value:function(e,t){return this.internalMonitor.isOverTarget(e,t)}},{key:"getTargetIds",value:function(){return this.internalMonitor.getTargetIds()}},{key:"isSourcePublic",value:function(){return this.internalMonitor.isSourcePublic()}},{key:"getSourceId",value:function(){return this.internalMonitor.getSourceId()}},{key:"subscribeToOffsetChange",value:function(e){return this.internalMonitor.subscribeToOffsetChange(e)}},{key:"canDragSource",value:function(e){return this.internalMonitor.canDragSource(e)}},{key:"canDropOnTarget",value:function(e){return this.internalMonitor.canDropOnTarget(e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&y(t.prototype,n),r&&y(t,r),e}();function _(e,t){"function"==typeof e?e(t):e.current=t}function x(e,t){var n=e.ref;return l()("string"!=typeof n,"Cannot connect React DnD to an element with an existing string ref. Please convert it to use a callback ref instead, or wrap it into a <span> or <div>. Read more: https://facebook.github.io/react/docs/more-about-refs.html#the-ref-callback-attribute"),n?Object(o.cloneElement)(e,{ref:function(e){_(n,e),_(t,e)}}):Object(o.cloneElement)(e,{ref:t})}function C(e){if("string"!=typeof e.type){var t=e.type.displayName||e.type.name||"the component";throw new Error("Only native element nodes can now be passed to React DnD connectors."+"You can either wrap ".concat(t," into a <div>, or turn it into a ")+"drag source or a drop target itself.")}}function O(e){var t={};return Object.keys(e).forEach((function(n){var r=e[n];if(n.endsWith("Ref"))t[n]=e[n];else{var i=function(e){return function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(!Object(o.isValidElement)(t)){var r=t;return e(r,n),r}var i=t;return C(i),x(i,n?function(t){return e(t,n)}:e)}}(r);t[n]=function(){return i}}})),t}function S(e){return(S="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function E(e){return null!==e&&"object"===S(e)&&e.hasOwnProperty("current")}function T(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var P=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=O({dragSource:function(e,t){n.clearDragSource(),n.dragSourceOptions=t||null,E(e)?n.dragSourceRef=e:n.dragSourceNode=e,n.reconnectDragSource()},dragPreview:function(e,t){n.clearDragPreview(),n.dragPreviewOptions=t||null,E(e)?n.dragPreviewRef=e:n.dragPreviewNode=e,n.reconnectDragPreview()}}),this.handlerId=null,this.dragSourceRef=null,this.dragSourceOptionsInternal=null,this.dragPreviewRef=null,this.dragPreviewOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDragSource=null,this.lastConnectedDragSourceOptions=null,this.lastConnectedDragPreview=null,this.lastConnectedDragPreviewOptions=null,this.backend=t}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.handlerId!==e&&(this.handlerId=e,this.reconnect())}},{key:"reconnect",value:function(){this.reconnectDragSource(),this.reconnectDragPreview()}},{key:"reconnectDragSource",value:function(){var e=this.dragSource,t=this.didHandlerIdChange()||this.didConnectedDragSourceChange()||this.didDragSourceOptionsChange();t&&this.disconnectDragSource(),this.handlerId&&(e?t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragSource=e,this.lastConnectedDragSourceOptions=this.dragSourceOptions,this.dragSourceUnsubscribe=this.backend.connectDragSource(this.handlerId,e,this.dragSourceOptions)):this.lastConnectedDragSource=e)}},{key:"reconnectDragPreview",value:function(){var e=this.dragPreview,t=this.didHandlerIdChange()||this.didConnectedDragPreviewChange()||this.didDragPreviewOptionsChange();this.handlerId?this.dragPreview&&t&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDragPreview=e,this.lastConnectedDragPreviewOptions=this.dragPreviewOptions,this.disconnectDragPreview(),this.dragPreviewUnsubscribe=this.backend.connectDragPreview(this.handlerId,e,this.dragPreviewOptions)):this.disconnectDragPreview()}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didConnectedDragSourceChange",value:function(){return this.lastConnectedDragSource!==this.dragSource}},{key:"didConnectedDragPreviewChange",value:function(){return this.lastConnectedDragPreview!==this.dragPreview}},{key:"didDragSourceOptionsChange",value:function(){return!d()(this.lastConnectedDragSourceOptions,this.dragSourceOptions)}},{key:"didDragPreviewOptionsChange",value:function(){return!d()(this.lastConnectedDragPreviewOptions,this.dragPreviewOptions)}},{key:"disconnectDragSource",value:function(){this.dragSourceUnsubscribe&&(this.dragSourceUnsubscribe(),this.dragSourceUnsubscribe=void 0)}},{key:"disconnectDragPreview",value:function(){this.dragPreviewUnsubscribe&&(this.dragPreviewUnsubscribe(),this.dragPreviewUnsubscribe=void 0,this.dragPreviewNode=null,this.dragPreviewRef=null)}},{key:"clearDragSource",value:function(){this.dragSourceNode=null,this.dragSourceRef=null}},{key:"clearDragPreview",value:function(){this.dragPreviewNode=null,this.dragPreviewRef=null}},{key:"connectTarget",get:function(){return this.dragSource}},{key:"dragSourceOptions",get:function(){return this.dragSourceOptionsInternal},set:function(e){this.dragSourceOptionsInternal=e}},{key:"dragPreviewOptions",get:function(){return this.dragPreviewOptionsInternal},set:function(e){this.dragPreviewOptionsInternal=e}},{key:"dragSource",get:function(){return this.dragSourceNode||this.dragSourceRef&&this.dragSourceRef.current}},{key:"dragPreview",get:function(){return this.dragPreviewNode||this.dragPreviewRef&&this.dragPreviewRef.current}}])&&T(t.prototype,n),r&&T(t,r),e}();function N(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function I(e){return(I="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function A(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function D(e){var t=Object(o.useRef)(e);t.current=e,l()(null!=e.item,"item must be defined"),l()(null!=e.item.type,"item type must be defined");var n,r=A((n=b(),[Object(o.useMemo)((function(){return new j(n)}),[n]),Object(o.useMemo)((function(){return new P(n.getBackend())}),[n])]),2),i=r[0],a=r[1];!function(e,t,n){var r=b(),i=Object(o.useMemo)((function(){return{beginDrag:function(){var n=e.current,r=n.begin,i=n.item;if(r){var o=r(t);return l()(null==o||"object"===I(o),"dragSpec.begin() must either return an object, undefined, or null"),o||i||{}}return i||{}},canDrag:function(){return"boolean"==typeof e.current.canDrag?e.current.canDrag:"function"!=typeof e.current.canDrag||e.current.canDrag(t)},isDragging:function(n,r){var i=e.current.isDragging;return i?i(t):r===n.getSourceId()},endDrag:function(){var r=e.current.end;r&&r(t.getItem(),t),n.reconnect()}}}),[]);c((function(){var o=N(g(e.current.item.type,i,r),2),a=o[0],s=o[1];return t.receiveHandlerId(a),n.receiveHandlerId(a),s}),[])}(t,i,a);var s=h(i,t.current.collect||function(){return{}},(function(){return a.reconnect()})),u=Object(o.useMemo)((function(){return a.hooks.dragSource()}),[a]),d=Object(o.useMemo)((function(){return a.hooks.dragPreview()}),[a]);return c((function(){a.dragSourceOptions=t.current.options||null,a.reconnect()}),[a]),c((function(){a.dragPreviewOptions=t.current.previewOptions||null,a.reconnect()}),[a]),[s,u,d]}function B(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var R=function(){function e(t){var n=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.hooks=O({dropTarget:function(e,t){n.clearDropTarget(),n.dropTargetOptions=t,E(e)?n.dropTargetRef=e:n.dropTargetNode=e,n.reconnect()}}),this.handlerId=null,this.dropTargetRef=null,this.dropTargetOptionsInternal=null,this.lastConnectedHandlerId=null,this.lastConnectedDropTarget=null,this.lastConnectedDropTargetOptions=null,this.backend=t}var t,n,r;return t=e,(n=[{key:"reconnect",value:function(){var e=this.didHandlerIdChange()||this.didDropTargetChange()||this.didOptionsChange();e&&this.disconnectDropTarget();var t=this.dropTarget;this.handlerId&&(t?e&&(this.lastConnectedHandlerId=this.handlerId,this.lastConnectedDropTarget=t,this.lastConnectedDropTargetOptions=this.dropTargetOptions,this.unsubscribeDropTarget=this.backend.connectDropTarget(this.handlerId,t,this.dropTargetOptions)):this.lastConnectedDropTarget=t)}},{key:"receiveHandlerId",value:function(e){e!==this.handlerId&&(this.handlerId=e,this.reconnect())}},{key:"didHandlerIdChange",value:function(){return this.lastConnectedHandlerId!==this.handlerId}},{key:"didDropTargetChange",value:function(){return this.lastConnectedDropTarget!==this.dropTarget}},{key:"didOptionsChange",value:function(){return!d()(this.lastConnectedDropTargetOptions,this.dropTargetOptions)}},{key:"disconnectDropTarget",value:function(){this.unsubscribeDropTarget&&(this.unsubscribeDropTarget(),this.unsubscribeDropTarget=void 0)}},{key:"clearDropTarget",value:function(){this.dropTargetRef=null,this.dropTargetNode=null}},{key:"connectTarget",get:function(){return this.dropTarget}},{key:"dropTargetOptions",get:function(){return this.dropTargetOptionsInternal},set:function(e){this.dropTargetOptionsInternal=e}},{key:"dropTarget",get:function(){return this.dropTargetNode||this.dropTargetRef&&this.dropTargetRef.current}}])&&B(t.prototype,n),r&&B(t,r),e}();function L(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var M=!1,F=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.targetId=null,this.internalMonitor=t.getMonitor()}var t,n,r;return t=e,(n=[{key:"receiveHandlerId",value:function(e){this.targetId=e}},{key:"getHandlerId",value:function(){return this.targetId}},{key:"subscribeToStateChange",value:function(e,t){return this.internalMonitor.subscribeToStateChange(e,t)}},{key:"canDrop",value:function(){if(!this.targetId)return!1;l()(!M,"You may not call monitor.canDrop() inside your canDrop() implementation. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target-monitor");try{return M=!0,this.internalMonitor.canDropOnTarget(this.targetId)}finally{M=!1}}},{key:"isOver",value:function(e){return!!this.targetId&&this.internalMonitor.isOverTarget(this.targetId,e)}},{key:"getItemType",value:function(){return this.internalMonitor.getItemType()}},{key:"getItem",value:function(){return this.internalMonitor.getItem()}},{key:"getDropResult",value:function(){return this.internalMonitor.getDropResult()}},{key:"didDrop",value:function(){return this.internalMonitor.didDrop()}},{key:"getInitialClientOffset",value:function(){return this.internalMonitor.getInitialClientOffset()}},{key:"getInitialSourceClientOffset",value:function(){return this.internalMonitor.getInitialSourceClientOffset()}},{key:"getSourceClientOffset",value:function(){return this.internalMonitor.getSourceClientOffset()}},{key:"getClientOffset",value:function(){return this.internalMonitor.getClientOffset()}},{key:"getDifferenceFromInitialOffset",value:function(){return this.internalMonitor.getDifferenceFromInitialOffset()}}])&&L(t.prototype,n),r&&L(t,r),e}();function V(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function z(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function U(e){var t=Object(o.useRef)(e);t.current=e,l()(null!=e.accept,"accept must be defined");var n,r=z((n=b(),[Object(o.useMemo)((function(){return new F(n)}),[n]),Object(o.useMemo)((function(){return new R(n.getBackend())}),[n])]),2),i=r[0],a=r[1];!function(e,t,n){var r=b(),i=Object(o.useMemo)((function(){return{canDrop:function(){var n=e.current.canDrop;return!n||n(t.getItem(),t)},hover:function(){var n=e.current.hover;n&&n(t.getItem(),t)},drop:function(){var n=e.current.drop;if(n)return n(t.getItem(),t)}}}),[t]);c((function(){var o=V(v(e.current.accept,i,r),2),a=o[0],s=o[1];return t.receiveHandlerId(a),n.receiveHandlerId(a),s}),[t,n])}(t,i,a);var s=h(i,t.current.collect||function(){return{}},(function(){return a.reconnect()})),u=Object(o.useMemo)((function(){return a.hooks.dropTarget()}),[a]);return c((function(){a.dropTargetOptions=e.options||null,a.reconnect()}),[e.options]),[s,u]}function H(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function W(e){var t=b().getMonitor(),n=H(m(t,e),2),r=n[0],i=n[1];return Object(o.useEffect)((function(){return t.subscribeToOffsetChange(i)})),Object(o.useEffect)((function(){return t.subscribeToStateChange(i)})),r}function q(e){return(q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function G(e){return"function"==typeof e}function $(){}function K(e){if(!function(e){return"object"===q(e)&&null!==e}(e))return!1;if(null===Object.getPrototypeOf(e))return!0;for(var t=e;null!==Object.getPrototypeOf(t);)t=Object.getPrototypeOf(t);return Object.getPrototypeOf(e)===t}function Y(e){var t=e.current;return null==t?null:t.decoratedRef?t.decoratedRef.current:t}function Z(e){return(t=e)&&t.prototype&&"function"==typeof t.prototype.render||function(e){return e&&e.$$typeof&&"Symbol(react.forward_ref)"===e.$$typeof.toString()}(e);var t}var J=n("./node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),Q=n.n(J);function X(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function ee(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function te(e,t,n){return t&&ee(e.prototype,t),n&&ee(e,n),e}var ne=function(){function e(t){X(this,e),this.isDisposed=!1,this.action=G(t)?t:$}return te(e,[{key:"dispose",value:function(){this.isDisposed||(this.action(),this.isDisposed=!0)}}],[{key:"isDisposable",value:function(e){return e&&G(e.dispose)}},{key:"_fixup",value:function(t){return e.isDisposable(t)?t:e.empty}},{key:"create",value:function(t){return new e(t)}}]),e}();ne.empty={dispose:$};var re=function(){function e(){X(this,e),this.isDisposed=!1;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];this.disposables=n}return te(e,[{key:"add",value:function(e){this.isDisposed?e.dispose():this.disposables.push(e)}},{key:"remove",value:function(e){var t=!1;if(!this.isDisposed){var n=this.disposables.indexOf(e);-1!==n&&(t=!0,this.disposables.splice(n,1),e.dispose())}return t}},{key:"clear",value:function(){if(!this.isDisposed){for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;for(var e=this.disposables.length,t=new Array(e),n=0;n<e;n++)t[n]=this.disposables[n];this.disposables=[];for(var r=0;r<e;r++)t[r].dispose()}}}]),e}(),ie=function(){function e(){X(this,e),this.isDisposed=!1}return te(e,[{key:"getDisposable",value:function(){return this.current}},{key:"setDisposable",value:function(e){var t=this.isDisposed;if(!t){var n=this.current;this.current=e,n&&n.dispose()}t&&e&&e.dispose()}},{key:"dispose",value:function(){if(!this.isDisposed){this.isDisposed=!0;var e=this.current;this.current=void 0,e&&e.dispose()}}}]),e}();function oe(e){return(oe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function ae(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if(!(Symbol.iterator in Object(e))&&"[object Arguments]"!==Object.prototype.toString.call(e))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}function se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function le(e,t){return!t||"object"!==oe(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function ce(e){return(ce=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function ue(e,t){return(ue=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function de(e){var t=e.DecoratedComponent,n=e.createHandler,i=e.createMonitor,a=e.createConnector,s=e.registerHandler,c=e.containerDisplayName,u=e.getType,p=e.collect,m=e.options.arePropsEqual,f=void 0===m?d.a:m,h=t,v=t.displayName||t.name||"Component",g=function(e){function t(e){var n;return function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t),(n=le(this,ce(t).call(this,e))).decoratedRef=o.createRef(),n.handleChange=function(){var e=n.getCurrentState();d()(e,n.state)||n.setState(e)},n.disposable=new ie,n.receiveProps(e),n.dispose(),n}var c,m,g;return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ue(e,t)}(t,e),c=t,(m=[{key:"getHandlerId",value:function(){return this.handlerId}},{key:"getDecoratedComponentInstance",value:function(){return l()(this.decoratedRef.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.decoratedRef.current}},{key:"shouldComponentUpdate",value:function(e,t){return!f(e,this.props)||!d()(t,this.state)}},{key:"componentDidMount",value:function(){this.disposable=new ie,this.currentType=void 0,this.receiveProps(this.props),this.handleChange()}},{key:"componentDidUpdate",value:function(e){f(this.props,e)||(this.receiveProps(this.props),this.handleChange())}},{key:"componentWillUnmount",value:function(){this.dispose()}},{key:"receiveProps",value:function(e){this.handler&&(this.handler.receiveProps(e),this.receiveType(u(e)))}},{key:"receiveType",value:function(e){if(this.handlerMonitor&&this.manager&&this.handlerConnector&&e!==this.currentType){this.currentType=e;var t=ae(s(e,this.handler,this.manager),2),n=t[0],r=t[1];this.handlerId=n,this.handlerMonitor.receiveHandlerId(n),this.handlerConnector.receiveHandlerId(n);var i=this.manager.getMonitor().subscribeToStateChange(this.handleChange,{handlerIds:[n]});this.disposable.setDisposable(new re(new ne(i),new ne(r)))}}},{key:"dispose",value:function(){this.disposable.dispose(),this.handlerConnector&&this.handlerConnector.receiveHandlerId(null)}},{key:"getCurrentState",value:function(){return this.handlerConnector?p(this.handlerConnector.hooks,this.handlerMonitor,this.props):{}}},{key:"render",value:function(){var e=this;return o.createElement(r.a.Consumer,null,(function(t){var n=t.dragDropManager;return e.receiveDragDropManager(n),"undefined"!=typeof requestAnimationFrame&&requestAnimationFrame((function(){return e.handlerConnector.reconnect()})),o.createElement(h,Object.assign({},e.props,e.getCurrentState(),{ref:Z(h)?e.decoratedRef:null}))}))}},{key:"receiveDragDropManager",value:function(e){void 0===this.manager&&(l()(void 0!==e,"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",v,v),void 0!==e&&(this.manager=e,this.handlerMonitor=i(e),this.handlerConnector=a(e.getBackend()),this.handler=n(this.handlerMonitor,this.decoratedRef)))}}])&&se(c.prototype,m),g&&se(c,g),t}(o.Component);return g.DecoratedComponent=t,g.displayName="".concat(c,"(").concat(v,")"),Q()(g,t)}function pe(e){return(pe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function me(e,t){return"string"==typeof e||"symbol"===pe(e)||!!t&&Array.isArray(e)&&e.every((function(e){return me(e,!1)}))}function fe(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var he=["canDrag","beginDrag","isDragging","endDrag"],ve=["beginDrag"],ge=function(){function e(t,n,r){var i=this;!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.beginDrag=function(){if(i.props)return i.spec.beginDrag(i.props,i.monitor,i.ref.current)},this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"canDrag",value:function(){return!!this.props&&(!this.spec.canDrag||this.spec.canDrag(this.props,this.monitor))}},{key:"isDragging",value:function(e,t){return!!this.props&&(this.spec.isDragging?this.spec.isDragging(this.props,this.monitor):t===e.getSourceId())}},{key:"endDrag",value:function(){this.props&&this.spec.endDrag&&this.spec.endDrag(this.props,this.monitor,Y(this.ref))}}])&&fe(t.prototype,n),r&&fe(t,r),e}();function be(e){return Object.keys(e).forEach((function(t){l()(he.indexOf(t)>-1,'Expected the drag source specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',he.join(", "),t),l()("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),ve.forEach((function(t){l()("function"==typeof e[t],"Expected %s in the drag source specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source",t,t,e[t])})),function(t,n){return new ge(e,t,n)}}function ye(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e;"function"!=typeof e&&(l()(me(e),'Expected "type" provided as the first argument to DragSource to be a string, or a function that returns a string given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',e),i=function(){return e}),l()(K(t),'Expected "spec" provided as the second argument to DragSource to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',t);var o=be(t);return l()("function"==typeof n,'Expected "collect" provided as the third argument to DragSource to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),l()(K(r),'Expected "options" provided as the fourth argument to DragSource to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-source',n),function(e){return de({containerDisplayName:"DragSource",createHandler:o,registerHandler:g,createConnector:function(e){return new P(e)},createMonitor:function(e){return new j(e)},DecoratedComponent:e,getType:i,collect:n,options:r})}}function ke(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}var we=["canDrop","hover","drop"],je=function(){function e(t,n,r){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),this.props=null,this.spec=t,this.monitor=n,this.ref=r}var t,n,r;return t=e,(n=[{key:"receiveProps",value:function(e){this.props=e}},{key:"receiveMonitor",value:function(e){this.monitor=e}},{key:"canDrop",value:function(){return!this.spec.canDrop||this.spec.canDrop(this.props,this.monitor)}},{key:"hover",value:function(){this.spec.hover&&this.spec.hover(this.props,this.monitor,Y(this.ref))}},{key:"drop",value:function(){if(this.spec.drop)return this.spec.drop(this.props,this.monitor,this.ref.current)}}])&&ke(t.prototype,n),r&&ke(t,r),e}();function _e(e){return Object.keys(e).forEach((function(t){l()(we.indexOf(t)>-1,'Expected the drop target specification to only have some of the following keys: %s. Instead received a specification with an unexpected "%s" key. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',we.join(", "),t),l()("function"==typeof e[t],"Expected %s in the drop target specification to be a function. Instead received a specification with %s: %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target",t,t,e[t])})),function(t,n){return new je(e,t,n)}}function xe(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e;"function"!=typeof e&&(l()(me(e,!0),'Expected "type" provided as the first argument to DropTarget to be a string, an array of strings, or a function that returns either given the current props. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',e),i=function(){return e}),l()(K(t),'Expected "spec" provided as the second argument to DropTarget to be a plain object. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',t);var o=_e(t);return l()("function"==typeof n,'Expected "collect" provided as the third argument to DropTarget to be a function that returns a plain object of props to inject. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),l()(K(r),'Expected "options" provided as the fourth argument to DropTarget to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drop-target',n),function(e){return de({containerDisplayName:"DropTarget",createHandler:o,registerHandler:v,createMonitor:function(e){return new F(e)},createConnector:function(e){return new R(e)},DecoratedComponent:e,getType:i,collect:n,options:r})}}function Ce(e){return(Ce="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function Oe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function Se(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function Ee(e,t,n){return t&&Se(e.prototype,t),n&&Se(e,n),e}function Te(e,t){return!t||"object"!==Ce(t)&&"function"!=typeof t?function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(e):t}function Pe(e){return(Pe=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function Ne(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&Ie(e,t)}function Ie(e,t){return(Ie=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function Ae(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return l()("function"==typeof e,'Expected "collect" provided as the first argument to DragLayer to be a function that collects props to inject into the component. ',"Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer",e),l()(K(t),'Expected "options" provided as the second argument to DragLayer to be a plain object when specified. Instead, received %s. Read more: http://react-dnd.github.io/react-dnd/docs/api/drag-layer',t),function(n){var i=n,a=t.arePropsEqual,s=void 0===a?d.a:a,c=i.displayName||i.name||"Component",u=function(t){function n(){var e;return Oe(this,n),(e=Te(this,Pe(n).apply(this,arguments))).isCurrentlyMounted=!1,e.ref=o.createRef(),e.handleChange=function(){if(e.isCurrentlyMounted){var t=e.getCurrentState();d()(t,e.state)||e.setState(t)}},e}return Ne(n,t),Ee(n,[{key:"getDecoratedComponentInstance",value:function(){return l()(this.ref.current,"In order to access an instance of the decorated component, it must either be a class component or use React.forwardRef()"),this.ref.current}},{key:"shouldComponentUpdate",value:function(e,t){return!s(e,this.props)||!d()(t,this.state)}},{key:"componentDidMount",value:function(){this.isCurrentlyMounted=!0,this.handleChange()}},{key:"componentWillUnmount",value:function(){this.isCurrentlyMounted=!1,this.unsubscribeFromOffsetChange&&(this.unsubscribeFromOffsetChange(),this.unsubscribeFromOffsetChange=void 0),this.unsubscribeFromStateChange&&(this.unsubscribeFromStateChange(),this.unsubscribeFromStateChange=void 0)}},{key:"render",value:function(){var e=this;return o.createElement(r.a.Consumer,null,(function(t){var n=t.dragDropManager;return void 0===n?null:(e.receiveDragDropManager(n),e.isCurrentlyMounted?o.createElement(i,Object.assign({},e.props,e.state,{ref:Z(i)?e.ref:null})):null)}))}},{key:"receiveDragDropManager",value:function(e){if(void 0===this.manager){this.manager=e,l()("object"===Ce(e),"Could not find the drag and drop manager in the context of %s. Make sure to render a DndProvider component in your top-level component. Read more: http://react-dnd.github.io/react-dnd/docs/troubleshooting#could-not-find-the-drag-and-drop-manager-in-the-context",c,c);var t=this.manager.getMonitor();this.unsubscribeFromOffsetChange=t.subscribeToOffsetChange(this.handleChange),this.unsubscribeFromStateChange=t.subscribeToStateChange(this.handleChange)}}},{key:"getCurrentState",value:function(){if(!this.manager)return{};var t=this.manager.getMonitor();return e(t,this.props)}}]),n}(o.Component);return u.displayName="DragLayer(".concat(c,")"),u.DecoratedComponent=n,Q()(u,n)}}},"./node_modules/react-intl/lib/index.es.js":function(e,t,n){"use strict";n.d(t,"e",(function(){return oe})),n.d(t,"d",(function(){return ae})),n.d(t,"c",(function(){return je})),n.d(t,"b",(function(){return Se})),n.d(t,"a",(function(){return Ne}));var r=n(2),i=n.n(r),o=n("./node_modules/intl-messageformat/index.js"),a=n.n(o),s=n("./node_modules/intl-relativeformat/index.js"),l=n.n(s),c=n("./node_modules/prop-types/index.js"),u=n.n(c),d=n("./node_modules/react/index.js"),p=n.n(d),m=n("./node_modules/react-intl/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js"),f=n.n(m),h=n("./node_modules/invariant/browser.js"),v=n.n(h);function g(e){return JSON.stringify(e.map((function(e){return e&&"object"==typeof e?(t=e,Object.keys(t).sort().map((function(e){var n;return(n={})[e]=t[e],n}))):e;var t})))}var b=function(e,t){return void 0===t&&(t={}),function(){for(var n,r=[],i=0;i<arguments.length;i++)r[i]=arguments[i];var o=g(r),a=o&&t[o];return a||(a=new((n=e).bind.apply(n,[void 0].concat(r))),o&&(t[o]=a)),a}},y={locale:"en",pluralRuleFunction:function(e,t){var n=String(e).split("."),r=!n[1],i=Number(n[0])==e,o=i&&n[0].slice(-1),a=i&&n[0].slice(-2);return t?1==o&&11!=a?"one":2==o&&12!=a?"two":3==o&&13!=a?"few":"other":1==e&&r?"one":"other"},fields:{year:{displayName:"year",relative:{0:"this year",1:"next year","-1":"last year"},relativeTime:{future:{one:"in {0} year",other:"in {0} years"},past:{one:"{0} year ago",other:"{0} years ago"}}},month:{displayName:"month",relative:{0:"this month",1:"next month","-1":"last month"},relativeTime:{future:{one:"in {0} month",other:"in {0} months"},past:{one:"{0} month ago",other:"{0} months ago"}}},day:{displayName:"day",relative:{0:"today",1:"tomorrow","-1":"yesterday"},relativeTime:{future:{one:"in {0} day",other:"in {0} days"},past:{one:"{0} day ago",other:"{0} days ago"}}},hour:{displayName:"hour",relative:{0:"this hour"},relativeTime:{future:{one:"in {0} hour",other:"in {0} hours"},past:{one:"{0} hour ago",other:"{0} hours ago"}}},minute:{displayName:"minute",relative:{0:"this minute"},relativeTime:{future:{one:"in {0} minute",other:"in {0} minutes"},past:{one:"{0} minute ago",other:"{0} minutes ago"}}},second:{displayName:"second",relative:{0:"now"},relativeTime:{future:{one:"in {0} second",other:"in {0} seconds"},past:{one:"{0} second ago",other:"{0} seconds ago"}}}}};function k(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=Array.isArray(e)?e:[e];t.forEach((function(e){e&&e.locale&&(a.a.__addLocaleData(e),l.a.__addLocaleData(e))}))}function w(e){var t=e&&e.toLowerCase();return!(!a.a.__localeData__[t]||!l.a.__localeData__[t])}var j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_=(function(){function e(e){this.value=e}function t(t){var n,r;function i(n,r){try{var a=t[n](r),s=a.value;s instanceof e?Promise.resolve(s.value).then((function(e){i("next",e)}),(function(e){i("throw",e)})):o(a.done?"return":"normal",a.value)}catch(e){o("throw",e)}}function o(e,t){switch(e){case"return":n.resolve({value:t,done:!0});break;case"throw":n.reject(t);break;default:n.resolve({value:t,done:!1})}(n=n.next)?i(n.key,n.arg):r=null}this._invoke=function(e,t){return new Promise((function(o,a){var s={key:e,arg:t,resolve:o,reject:a,next:null};r?r=r.next=s:(n=r=s,i(e,t))}))},"function"!=typeof t.return&&(this.return=void 0)}"function"==typeof Symbol&&Symbol.asyncIterator&&(t.prototype[Symbol.asyncIterator]=function(){return this}),t.prototype.next=function(e){return this._invoke("next",e)},t.prototype.throw=function(e){return this._invoke("throw",e)},t.prototype.return=function(e){return this._invoke("return",e)}}(),function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}),x=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),C=function(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e},O=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},S=function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)},E=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t},T=function(e){if(Array.isArray(e)){for(var t=0,n=Array(e.length);t<e.length;t++)n[t]=e[t];return n}return Array.from(e)},P=u.a.bool,N=u.a.number,I=u.a.string,A=u.a.func,D=u.a.object,B=u.a.oneOf,R=u.a.shape,L=u.a.any,M=u.a.oneOfType,F=B(["best fit","lookup"]),V=B(["narrow","short","long"]),z=B(["numeric","2-digit"]),U=A.isRequired,H={locale:I,timeZone:I,formats:D,messages:D,textComponent:L,defaultLocale:I,defaultFormats:D},W={formatDate:U,formatTime:U,formatRelative:U,formatNumber:U,formatPlural:U,formatMessage:U,formatHTMLMessage:U},q=R(O({},H,W,{formatters:D,now:U})),G=(I.isRequired,M([I,D]),{localeMatcher:F,formatMatcher:B(["basic","best fit"]),timeZone:I,hour12:P,weekday:V,era:V,year:z,month:B(["numeric","2-digit","narrow","short","long"]),day:z,hour:z,minute:z,second:z,timeZoneName:B(["short","long"])}),$={localeMatcher:F,style:B(["decimal","currency","percent"]),currency:I,currencyDisplay:B(["symbol","code","name"]),useGrouping:P,minimumIntegerDigits:N,minimumFractionDigits:N,maximumFractionDigits:N,minimumSignificantDigits:N,maximumSignificantDigits:N},K={style:B(["best fit","numeric"]),units:B(["second","minute","hour","day","month","year","second-short","minute-short","hour-short","day-short","month-short","year-short"])},Y={style:B(["cardinal","ordinal"])},Z=Object.keys(H),J={"&":"&amp;",">":"&gt;","<":"&lt;",'"':"&quot;","'":"&#x27;"},Q=/[&><"']/g;function X(e){return(""+e).replace(Q,(function(e){return J[e]}))}function ee(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return t.reduce((function(t,r){return e.hasOwnProperty(r)?t[r]=e[r]:n.hasOwnProperty(r)&&(t[r]=n[r]),t}),{})}function te(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.intl;v()(t,"[React Intl] Could not find required `intl` object. <IntlProvider> needs to exist in the component ancestry.")}function ne(e,t){if(e===t)return!0;if("object"!==(void 0===e?"undefined":j(e))||null===e||"object"!==(void 0===t?"undefined":j(t))||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(var i=Object.prototype.hasOwnProperty.bind(t),o=0;o<n.length;o++)if(!i(n[o])||e[n[o]]!==t[n[o]])return!1;return!0}function re(e,t,n){var r=e.props,i=e.state,o=e.context,a=void 0===o?{}:o,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},l=a.intl,c=void 0===l?{}:l,u=s.intl,d=void 0===u?{}:u;return!ne(t,r)||!ne(n,i)||!(d===c||ne(ee(d,Z),ee(c,Z)))}function ie(e){return e.displayName||e.name||"Component"}function oe(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.intlPropName,r=void 0===n?"intl":n,i=t.withRef,o=void 0!==i&&i,a=function(t){function n(e,t){_(this,n);var r=E(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,e,t));return te(t),r}return S(n,t),x(n,[{key:"getWrappedInstance",value:function(){return v()(o,"[React Intl] To access the wrapped instance, the `{withRef: true}` option must be set when calling: `injectIntl()`"),this.refs.wrappedInstance}},{key:"render",value:function(){return p.a.createElement(e,O({},this.props,C({},r,this.context.intl),{ref:o?"wrappedInstance":null}))}}]),n}(d.Component);return a.displayName="InjectIntl("+ie(e)+")",a.contextTypes={intl:q},a.WrappedComponent=e,f()(a,e)}function ae(e){return e}function se(e){return a.a.prototype._resolveLocale(e)}function le(e){return a.a.prototype._findPluralRuleFunction(e)}var ce=function e(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(this,e);var r="ordinal"===n.style,i=le(se(t));this.format=function(e){return i(e,r)}},ue=Object.keys(G),de=Object.keys($),pe=Object.keys(K),me=Object.keys(Y),fe={second:60,minute:60,hour:24,day:30,month:12};function he(e){var t=l.a.thresholds;t.second=e.second,t.minute=e.minute,t.hour=e.hour,t.day=e.day,t.month=e.month,t["second-short"]=e["second-short"],t["minute-short"]=e["minute-short"],t["hour-short"]=e["hour-short"],t["day-short"]=e["day-short"],t["month-short"]=e["month-short"]}function ve(e,t,n){var r=e&&e[t]&&e[t][n];if(r)return r}function ge(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.locale,o=e.formats,a=e.messages,s=e.defaultLocale,l=e.defaultFormats,c=n.id,u=n.defaultMessage;v()(c,"[React Intl] An `id` must be provided to format a message.");var d=a&&a[c],p=Object.keys(r).length>0;if(!p)return d||u||c;var m=void 0;if(d)try{var f=t.getMessageFormat(d,i,o);m=f.format(r)}catch(e){0}else 0;if(!m&&u)try{var h=t.getMessageFormat(u,s,l);m=h.format(r)}catch(e){0}return m||d||u||c}var be=Object.freeze({formatDate:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.locale,o=e.formats,a=e.timeZone,s=r.format,l=new Date(n),c=O({},a&&{timeZone:a},s&&ve(o,"date",s)),u=ee(r,ue,c);try{return t.getDateTimeFormat(i,u).format(l)}catch(e){0}return String(l)},formatTime:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.locale,o=e.formats,a=e.timeZone,s=r.format,l=new Date(n),c=O({},a&&{timeZone:a},s&&ve(o,"time",s)),u=ee(r,ue,c);u.hour||u.minute||u.second||(u=O({},u,{hour:"numeric",minute:"numeric"}));try{return t.getDateTimeFormat(i,u).format(l)}catch(e){0}return String(l)},formatRelative:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.locale,o=e.formats,a=r.format,s=new Date(n),c=new Date(r.now),u=a&&ve(o,"relative",a),d=ee(r,pe,u),p=O({},l.a.thresholds);he(fe);try{return t.getRelativeFormat(i,d).format(s,{now:isFinite(c)?c:t.now()})}catch(e){0}finally{he(p)}return String(s)},formatNumber:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.locale,o=e.formats,a=r.format,s=a&&ve(o,"number",a),l=ee(r,de,s);try{return t.getNumberFormat(i,l).format(n)}catch(e){0}return String(n)},formatPlural:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=e.locale,o=ee(r,me);try{return t.getPluralFormat(i,o).format(n)}catch(e){0}return"other"},formatMessage:ge,formatHTMLMessage:function(e,t,n){var r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},i=Object.keys(r).reduce((function(e,t){var n=r[t];return e[t]="string"==typeof n?X(n):n,e}),{});return ge(e,t,n,i)}}),ye=Object.keys(H),ke=Object.keys(W),we={formats:{},messages:{},timeZone:null,textComponent:"span",defaultLocale:"en",defaultFormats:{}},je=function(e){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));v()("undefined"!=typeof Intl,"[React Intl] The `Intl` APIs must be available in the runtime, and do not appear to be built-in. An `Intl` polyfill should be loaded.\nSee: http://formatjs.io/guides/runtime-environments/");var i=n.intl,o=void 0;o=isFinite(e.initialNow)?Number(e.initialNow):i?i.now():Date.now();var s=i||{},c=s.formatters,u=void 0===c?{getDateTimeFormat:b(Intl.DateTimeFormat),getNumberFormat:b(Intl.NumberFormat),getMessageFormat:b(a.a),getRelativeFormat:b(l.a),getPluralFormat:b(ce)}:c;return r.state=O({},u,{now:function(){return r._didDisplay?Date.now():o}}),r}return S(t,e),x(t,[{key:"getConfig",value:function(){var e=this.context.intl,t=ee(this.props,ye,e);for(var n in we)void 0===t[n]&&(t[n]=we[n]);if(!function(e){for(var t=(e||"").split("-");t.length>0;){if(w(t.join("-")))return!0;t.pop()}return!1}(t.locale)){var r=t,i=(r.locale,r.defaultLocale),o=r.defaultFormats;0,t=O({},t,{locale:i,formats:o,messages:we.messages})}return t}},{key:"getBoundFormatFns",value:function(e,t){return ke.reduce((function(n,r){return n[r]=be[r].bind(null,e,t),n}),{})}},{key:"getChildContext",value:function(){var e=this.getConfig(),t=this.getBoundFormatFns(e,this.state),n=this.state,r=n.now,i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(n,["now"]);return{intl:O({},e,t,{formatters:i,now:r})}}},{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return re.apply(void 0,[this].concat(t))}},{key:"componentDidMount",value:function(){this._didDisplay=!0}},{key:"render",value:function(){return d.Children.only(this.props.children)}}]),t}(d.Component);je.displayName="IntlProvider",je.contextTypes={intl:q},je.childContextTypes={intl:q.isRequired};var _e=function(e){function t(e,n){_(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return te(n),r}return S(t,e),x(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return re.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatDate,n=e.textComponent,r=this.props,i=r.value,o=r.children,a=t(i,this.props);return"function"==typeof o?o(a):p.a.createElement(n,null,a)}}]),t}(d.Component);_e.displayName="FormattedDate",_e.contextTypes={intl:q};var xe=function(e){function t(e,n){_(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return te(n),r}return S(t,e),x(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return re.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatTime,n=e.textComponent,r=this.props,i=r.value,o=r.children,a=t(i,this.props);return"function"==typeof o?o(a):p.a.createElement(n,null,a)}}]),t}(d.Component);xe.displayName="FormattedTime",xe.contextTypes={intl:q};var Ce=36e5,Oe=864e5;var Se=function(e){function t(e,n){_(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));te(n);var i=isFinite(e.initialNow)?Number(e.initialNow):n.intl.now();return r.state={now:i},r}return S(t,e),x(t,[{key:"scheduleNextUpdate",value:function(e,t){var n=this;clearTimeout(this._timer);var r=e.value,i=e.units,o=e.updateInterval,a=new Date(r).getTime();if(o&&isFinite(a)){var s=a-t.now,l=function(e){switch(e){case"second":return 1e3;case"minute":return 6e4;case"hour":return Ce;case"day":return Oe;default:return 2147483647}}(i||function(e){var t=Math.abs(e);return t<6e4?"second":t<Ce?"minute":t<Oe?"hour":"day"}(s)),c=Math.abs(s%l),u=s<0?Math.max(o,l-c):Math.max(o,c);this._timer=setTimeout((function(){n.setState({now:n.context.intl.now()})}),u)}}},{key:"componentDidMount",value:function(){this.scheduleNextUpdate(this.props,this.state)}},{key:"componentWillReceiveProps",value:function(e){(function(e,t){if(e===t)return!0;var n=new Date(e).getTime(),r=new Date(t).getTime();return isFinite(n)&&isFinite(r)&&n===r})(e.value,this.props.value)||this.setState({now:this.context.intl.now()})}},{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return re.apply(void 0,[this].concat(t))}},{key:"componentWillUpdate",value:function(e,t){this.scheduleNextUpdate(e,t)}},{key:"componentWillUnmount",value:function(){clearTimeout(this._timer)}},{key:"render",value:function(){var e=this.context.intl,t=e.formatRelative,n=e.textComponent,r=this.props,i=r.value,o=r.children,a=t(i,O({},this.props,this.state));return"function"==typeof o?o(a):p.a.createElement(n,null,a)}}]),t}(d.Component);Se.displayName="FormattedRelative",Se.contextTypes={intl:q},Se.defaultProps={updateInterval:1e4};var Ee=function(e){function t(e,n){_(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return te(n),r}return S(t,e),x(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return re.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatNumber,n=e.textComponent,r=this.props,i=r.value,o=r.children,a=t(i,this.props);return"function"==typeof o?o(a):p.a.createElement(n,null,a)}}]),t}(d.Component);Ee.displayName="FormattedNumber",Ee.contextTypes={intl:q};var Te=function(e){function t(e,n){_(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return te(n),r}return S(t,e),x(t,[{key:"shouldComponentUpdate",value:function(){for(var e=arguments.length,t=Array(e),n=0;n<e;n++)t[n]=arguments[n];return re.apply(void 0,[this].concat(t))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatPlural,n=e.textComponent,r=this.props,i=r.value,o=r.other,a=r.children,s=t(i,this.props),l=this.props[s]||o;return"function"==typeof a?a(l):p.a.createElement(n,null,l)}}]),t}(d.Component);Te.displayName="FormattedPlural",Te.contextTypes={intl:q},Te.defaultProps={style:"cardinal"};var Pe=function(e,t){return ge({},{getMessageFormat:b(a.a)},e,t)},Ne=function(e){function t(e,n){_(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return e.defaultMessage||te(n),r}return S(t,e),x(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.values,n=e.values;if(!ne(n,t))return!0;for(var r=O({},e,{values:t}),i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return re.apply(void 0,[this,r].concat(o))}},{key:"render",value:function(){var e,t=this.context.intl||{},n=t.formatMessage,r=void 0===n?Pe:n,i=t.textComponent,o=void 0===i?"span":i,a=this.props,s=a.id,l=a.description,c=a.defaultMessage,u=a.values,p=a.tagName,m=void 0===p?o:p,f=a.children,h=void 0,v=void 0,g=void 0;if(u&&Object.keys(u).length>0){var b=Math.floor(1099511627776*Math.random()).toString(16),y=(e=0,function(){return"ELEMENT-"+b+"-"+(e+=1)});h="@__"+b+"__@",v={},g={},Object.keys(u).forEach((function(e){var t=u[e];if(Object(d.isValidElement)(t)){var n=y();v[e]=h+n+h,g[n]=t}else v[e]=t}))}var k=r({id:s,description:l,defaultMessage:c},v||u),w=void 0;return w=g&&Object.keys(g).length>0?k.split(h).filter((function(e){return!!e})).map((function(e){return g[e]||e})):[k],"function"==typeof f?f.apply(void 0,T(w)):d.createElement.apply(void 0,[m,null].concat(T(w)))}}]),t}(d.Component);Ne.displayName="FormattedMessage",Ne.contextTypes={intl:q},Ne.defaultProps={values:{}};var Ie=function(e){function t(e,n){_(this,t);var r=E(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e,n));return te(n),r}return S(t,e),x(t,[{key:"shouldComponentUpdate",value:function(e){var t=this.props.values,n=e.values;if(!ne(n,t))return!0;for(var r=O({},e,{values:t}),i=arguments.length,o=Array(i>1?i-1:0),a=1;a<i;a++)o[a-1]=arguments[a];return re.apply(void 0,[this,r].concat(o))}},{key:"render",value:function(){var e=this.context.intl,t=e.formatHTMLMessage,n=e.textComponent,r=this.props,i=r.id,o=r.description,a=r.defaultMessage,s=r.values,l=r.tagName,c=void 0===l?n:l,u=r.children,d=t({id:i,description:o,defaultMessage:a},s);if("function"==typeof u)return u(d);var m={__html:d};return p.a.createElement(c,{dangerouslySetInnerHTML:m})}}]),t}(d.Component);Ie.displayName="FormattedHTMLMessage",Ie.contextTypes={intl:q},Ie.defaultProps={values:{}},k(y),k(i.a)},"./node_modules/react-intl/node_modules/hoist-non-react-statics/dist/hoist-non-react-statics.cjs.js":function(e,t,n){"use strict";var r={childContextTypes:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},i={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},o=Object.defineProperty,a=Object.getOwnPropertyNames,s=Object.getOwnPropertySymbols,l=Object.getOwnPropertyDescriptor,c=Object.getPrototypeOf,u=c&&c(Object);e.exports=function e(t,n,d){if("string"!=typeof n){if(u){var p=c(n);p&&p!==u&&e(t,p,d)}var m=a(n);s&&(m=m.concat(s(n)));for(var f=0;f<m.length;++f){var h=m[f];if(!(r[h]||i[h]||d&&d[h])){var v=l(n,h);try{o(t,h,v)}catch(e){}}}return t}return t}},"./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js":function(e,t,n){"use strict";function r(){var e=this.constructor.getDerivedStateFromProps(this.props,this.state);null!=e&&this.setState(e)}function i(e){this.setState(function(t){var n=this.constructor.getDerivedStateFromProps(e,t);return null!=n?n:null}.bind(this))}function o(e,t){try{var n=this.props,r=this.state;this.props=e,this.state=t,this.__reactInternalSnapshotFlag=!0,this.__reactInternalSnapshot=this.getSnapshotBeforeUpdate(n,r)}finally{this.props=n,this.state=r}}function a(e){var t=e.prototype;if(!t||!t.isReactComponent)throw new Error("Can only polyfill class components");if("function"!=typeof e.getDerivedStateFromProps&&"function"!=typeof t.getSnapshotBeforeUpdate)return e;var n=null,a=null,s=null;if("function"==typeof t.componentWillMount?n="componentWillMount":"function"==typeof t.UNSAFE_componentWillMount&&(n="UNSAFE_componentWillMount"),"function"==typeof t.componentWillReceiveProps?a="componentWillReceiveProps":"function"==typeof t.UNSAFE_componentWillReceiveProps&&(a="UNSAFE_componentWillReceiveProps"),"function"==typeof t.componentWillUpdate?s="componentWillUpdate":"function"==typeof t.UNSAFE_componentWillUpdate&&(s="UNSAFE_componentWillUpdate"),null!==n||null!==a||null!==s){var l=e.displayName||e.name,c="function"==typeof e.getDerivedStateFromProps?"getDerivedStateFromProps()":"getSnapshotBeforeUpdate()";throw Error("Unsafe legacy lifecycles will not be called for components using new component APIs.\n\n"+l+" uses "+c+" but also contains the following legacy lifecycles:"+(null!==n?"\n  "+n:"")+(null!==a?"\n  "+a:"")+(null!==s?"\n  "+s:"")+"\n\nThe above lifecycles should be removed. Learn more about this warning here:\nhttps://fb.me/react-async-component-lifecycle-hooks")}if("function"==typeof e.getDerivedStateFromProps&&(t.componentWillMount=r,t.componentWillReceiveProps=i),"function"==typeof t.getSnapshotBeforeUpdate){if("function"!=typeof t.componentDidUpdate)throw new Error("Cannot polyfill getSnapshotBeforeUpdate() for components that do not define componentDidUpdate() on the prototype");t.componentWillUpdate=o;var u=t.componentDidUpdate;t.componentDidUpdate=function(e,t,n){var r=this.__reactInternalSnapshotFlag?this.__reactInternalSnapshot:n;u.call(this,e,t,r)}}return e}n.r(t),n.d(t,"polyfill",(function(){return a})),r.__suppressDeprecationWarning=!0,i.__suppressDeprecationWarning=!0,o.__suppressDeprecationWarning=!0},"./node_modules/react-loadable/lib/index.js":function(e,t,n){"use strict";var r="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e};function i(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function o(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}function a(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n("./node_modules/react/index.js"),l=n("./node_modules/prop-types/index.js"),c=[],u=[];function d(e){var t=e(),n={loading:!0,loaded:null,error:null};return n.promise=t.then((function(e){return n.loading=!1,n.loaded=e,e})).catch((function(e){throw n.loading=!1,n.error=e,e})),n}function p(e){var t={loading:!1,loaded:{},error:null},n=[];try{Object.keys(e).forEach((function(r){var i=d(e[r]);i.loading?t.loading=!0:(t.loaded[r]=i.loaded,t.error=i.error),n.push(i.promise),i.promise.then((function(e){t.loaded[r]=e})).catch((function(e){t.error=e}))}))}catch(e){t.error=e}return t.promise=Promise.all(n).then((function(e){return t.loading=!1,e})).catch((function(e){throw t.loading=!1,e})),t}function m(e,t){return s.createElement((n=e)&&n.__esModule?n.default:n,t);var n}function f(e,t){var d,p;if(!t.loading)throw new Error("react-loadable requires a `loading` component");var f=Object.assign({loader:null,loading:null,delay:200,timeout:null,render:m,webpack:null,modules:null},t),h=null;function v(){return h||(h=e(f.loader)),h.promise}return c.push(v),"function"==typeof f.webpack&&u.push((function(){if(e=f.webpack,"object"===r(n.m)&&e().every((function(e){return void 0!==e&&void 0!==n.m[e]})))return v();var e})),p=d=function(t){function n(r){i(this,n);var a=o(this,t.call(this,r));return a.retry=function(){a.setState({error:null,loading:!0,timedOut:!1}),h=e(f.loader),a._loadModule()},v(),a.state={error:h.error,pastDelay:!1,timedOut:!1,loading:h.loading,loaded:h.loaded},a}return a(n,t),n.preload=function(){return v()},n.prototype.componentWillMount=function(){this._mounted=!0,this._loadModule()},n.prototype._loadModule=function(){var e=this;if(this.context.loadable&&Array.isArray(f.modules)&&f.modules.forEach((function(t){e.context.loadable.report(t)})),h.loading){"number"==typeof f.delay&&(0===f.delay?this.setState({pastDelay:!0}):this._delay=setTimeout((function(){e.setState({pastDelay:!0})}),f.delay)),"number"==typeof f.timeout&&(this._timeout=setTimeout((function(){e.setState({timedOut:!0})}),f.timeout));var t=function(){e._mounted&&(e.setState({error:h.error,loaded:h.loaded,loading:h.loading}),e._clearTimeouts())};h.promise.then((function(){t()})).catch((function(e){t()}))}},n.prototype.componentWillUnmount=function(){this._mounted=!1,this._clearTimeouts()},n.prototype._clearTimeouts=function(){clearTimeout(this._delay),clearTimeout(this._timeout)},n.prototype.render=function(){return this.state.loading||this.state.error?s.createElement(f.loading,{isLoading:this.state.loading,pastDelay:this.state.pastDelay,timedOut:this.state.timedOut,error:this.state.error,retry:this.retry}):this.state.loaded?f.render(this.state.loaded,this.props):null},n}(s.Component),d.contextTypes={loadable:l.shape({report:l.func.isRequired})},p}function h(e){return f(d,e)}h.Map=function(e){if("function"!=typeof e.render)throw new Error("LoadableMap requires a `render(loaded, props)` function");return f(p,e)};var v=function(e){function t(){return i(this,t),o(this,e.apply(this,arguments))}return a(t,e),t.prototype.getChildContext=function(){return{loadable:{report:this.props.report}}},t.prototype.render=function(){return s.Children.only(this.props.children)},t}(s.Component);function g(e){for(var t=[];e.length;){var n=e.pop();t.push(n())}return Promise.all(t).then((function(){if(e.length)return g(e)}))}v.propTypes={report:l.func.isRequired},v.childContextTypes={loadable:l.shape({report:l.func.isRequired}).isRequired},h.Capture=v,h.preloadAll=function(){return new Promise((function(e,t){g(c).then(e,t)}))},h.preloadReady=function(){return new Promise((function(e,t){g(u).then(e,e)}))},e.exports=h},"./node_modules/react-node-resolver/lib/NodeResolver.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),i=n("./node_modules/react/index.js"),o=n("./node_modules/react-dom/index.js");function a(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function s(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}var l=function(e){function t(){return a(this,t),s(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),r(t,[{key:"componentDidMount",value:function(){this.props.innerRef((0,o.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(i.Component);t.default=l},"./node_modules/react-node-resolver/lib/index.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=n("./node_modules/react-node-resolver/lib/NodeResolver.js");Object.defineProperty(t,"default",{enumerable:!0,get:function(){return(e=r,e&&e.__esModule?e:{default:e}).default;var e}})},"./node_modules/react-select/dist/react-select.esm.js":function(e,t,n){"use strict";n.d(t,"a",(function(){return Fe}));var r=n("./node_modules/react/index.js"),i=n.n(r);function o(e,t){if(e.length!==t.length)return!1;for(var n=0;n<e.length;n++)if(e[n]!==t[n])return!1;return!0}var a=function(e,t){var n;void 0===t&&(t=o);var r,i=[],a=!1;return function(){for(var o=[],s=0;s<arguments.length;s++)o[s]=arguments[s];return a&&n===this&&t(o,i)||(r=e.apply(this,o),a=!0,n=this,i=o),r}},s=n("./node_modules/emotion/dist/index.esm.js"),l=n("./node_modules/react-dom/index.js"),c=n("./node_modules/prop-types/index.js"),u=n.n(c),d=n("./node_modules/raf/index.js"),p=n.n(d),m=n("./node_modules/react-select/node_modules/react-input-autosize/lib/AutosizeInput.js"),f=n.n(m),h=n("./node_modules/react-select/node_modules/react-transition-group/index.js");function v(e){return(v="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e})(e)}function g(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function b(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function y(e,t,n){return t&&b(e.prototype,t),n&&b(e,n),e}function k(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{},r=Object.keys(n);"function"==typeof Object.getOwnPropertySymbols&&(r=r.concat(Object.getOwnPropertySymbols(n).filter((function(e){return Object.getOwnPropertyDescriptor(n,e).enumerable})))),r.forEach((function(t){k(e,t,n[t])}))}return e}function _(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&C(e,t)}function x(e){return(x=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function C(e,t){return(C=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function O(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function S(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function E(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?S(e):t}function T(e){return function(e){if(Array.isArray(e)){for(var t=0,n=new Array(e.length);t<e.length;t++)n[t]=e[t];return n}}(e)||function(e){if(Symbol.iterator in Object(e)||"[object Arguments]"===Object.prototype.toString.call(e))return Array.from(e)}(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}var P=function(){};function N(e,t){return t?"-"===t[0]?e+t:e+"__"+t:e}function I(e,t,n,r){var i=[t,r];if(n&&e)for(var o in n)n.hasOwnProperty(o)&&n[o]&&i.push("".concat(N(e,o)));return i.filter((function(e){return e})).map((function(e){return String(e).trim()})).join(" ")}var A=function(e){return Array.isArray(e)?e.filter(Boolean):"object"===v(e)&&null!==e?[e]:[]};function D(e){return[document.documentElement,document.body,window].indexOf(e)>-1}function B(e){return D(e)?window.pageYOffset:e.scrollTop}function R(e,t){D(e)?window.scrollTo(0,t):e.scrollTop=t}function L(e,t,n,r){return n*((e=e/r-1)*e*e+1)+t}function M(e,t){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:P,i=B(e),o=t-i,a=10,s=0;function l(){var t=L(s+=a,i,o,n);R(e,t),s<n?p()(l):r(e)}l()}function F(){try{return document.createEvent("TouchEvent"),!0}catch(e){return!1}}function V(e){var t=e.maxHeight,n=e.menuEl,r=e.minHeight,i=e.placement,o=e.shouldScroll,a=e.isFixedPosition,s=e.theme.spacing,l=function(e){var t=getComputedStyle(e),n="absolute"===t.position,r=/(auto|scroll)/,i=document.documentElement;if("fixed"===t.position)return i;for(var o=e;o=o.parentElement;)if(t=getComputedStyle(o),(!n||"static"!==t.position)&&r.test(t.overflow+t.overflowY+t.overflowX))return o;return i}(n),c={placement:"bottom",maxHeight:t};if(!n||!n.offsetParent)return c;var u=l.getBoundingClientRect().height,d=n.getBoundingClientRect(),p=d.bottom,m=d.height,f=d.top,h=n.offsetParent.getBoundingClientRect().top,v=window.innerHeight,g=B(l),b=parseInt(getComputedStyle(n).marginBottom,10),y=parseInt(getComputedStyle(n).marginTop,10),k=h-y,w=v-f,j=k+g,_=u-g-f,x=p-v+g+b,C=g+f-y,O=160;switch(i){case"auto":case"bottom":if(w>=m)return{placement:"bottom",maxHeight:t};if(_>=m&&!a)return o&&M(l,x,O),{placement:"bottom",maxHeight:t};if(!a&&_>=r||a&&w>=r)return o&&M(l,x,O),{placement:"bottom",maxHeight:a?w-b:_-b};if("auto"===i||a){var S=t,E=a?k:j;return E>=r&&(S=Math.min(E-b-s.controlHeight,t)),{placement:"top",maxHeight:S}}if("bottom"===i)return R(l,x),{placement:"bottom",maxHeight:t};break;case"top":if(k>=m)return{placement:"top",maxHeight:t};if(j>=m&&!a)return o&&M(l,C,O),{placement:"top",maxHeight:t};if(!a&&j>=r||a&&k>=r){var T=t;return(!a&&j>=r||a&&k>=r)&&(T=a?k-y:j-y),o&&M(l,C,O),{placement:"top",maxHeight:T}}return{placement:"bottom",maxHeight:t};default:throw new Error('Invalid placement provided "'.concat(i,'".'))}return c}var z=function(e){return"auto"===e?"bottom":e},U=function(e){function t(){var e,n;g(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return k(S(S(n=E(this,(e=x(t)).call.apply(e,[this].concat(i))))),"state",{maxHeight:n.props.maxMenuHeight,placement:null}),k(S(S(n)),"getPlacement",(function(e){var t=n.props,r=t.minMenuHeight,i=t.maxMenuHeight,o=t.menuPlacement,a=t.menuPosition,s=t.menuShouldScrollIntoView,l=t.theme,c=n.context.getPortalPlacement;if(e){var u="fixed"===a,d=V({maxHeight:i,menuEl:e,minHeight:r,placement:o,shouldScroll:s&&!u,isFixedPosition:u,theme:l});c&&c(d),n.setState(d)}})),k(S(S(n)),"getUpdatedProps",(function(){var e=n.props.menuPlacement,t=n.state.placement||z(e);return j({},n.props,{placement:t,maxHeight:n.state.maxHeight})})),n}return _(t,e),y(t,[{key:"render",value:function(){return(0,this.props.children)({ref:this.getPlacement,placerProps:this.getUpdatedProps()})}}]),t}(r.Component);k(U,"contextTypes",{getPortalPlacement:u.a.func});var H=function(e){var t=e.theme,n=t.spacing.baseUnit;return{color:t.colors.neutral40,padding:"".concat(2*n,"px ").concat(3*n,"px"),textAlign:"center"}},W=H,q=H,G=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return i.a.createElement("div",w({className:r(Object(s.a)(o("noOptionsMessage",e)),{"menu-notice":!0,"menu-notice--no-options":!0},n)},a),t)};G.defaultProps={children:"No options"};var $=function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return i.a.createElement("div",w({className:r(Object(s.a)(o("loadingMessage",e)),{"menu-notice":!0,"menu-notice--loading":!0},n)},a),t)};$.defaultProps={children:"Loading..."};var K=function(e){function t(){var e,n;g(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return k(S(S(n=E(this,(e=x(t)).call.apply(e,[this].concat(i))))),"state",{placement:null}),k(S(S(n)),"getPortalPlacement",(function(e){var t=e.placement;t!==z(n.props.menuPlacement)&&n.setState({placement:t})})),n}return _(t,e),y(t,[{key:"getChildContext",value:function(){return{getPortalPlacement:this.getPortalPlacement}}},{key:"render",value:function(){var e=this.props,t=e.appendTo,n=e.children,r=e.controlElement,o=e.menuPlacement,a=e.menuPosition,c=e.getStyles,u="fixed"===a;if(!t&&!u||!r)return null;var d=this.state.placement||z(o),p=function(e){var t=e.getBoundingClientRect();return{bottom:t.bottom,height:t.height,left:t.left,right:t.right,top:t.top,width:t.width}}(r),m=u?0:window.pageYOffset,f={offset:p[d]+m,position:a,rect:p},h=i.a.createElement("div",{className:Object(s.a)(c("menuPortal",f))},n);return t?Object(l.createPortal)(h,t):h}}]),t}(r.Component);k(K,"childContextTypes",{getPortalPlacement:u.a.func});var Y=Array.isArray,Z=Object.keys,J=Object.prototype.hasOwnProperty;function Q(e,t){if(e===t)return!0;if(e&&t&&"object"==v(e)&&"object"==v(t)){var n,r,i,o=Y(e),a=Y(t);if(o&&a){if((r=e.length)!=t.length)return!1;for(n=r;0!=n--;)if(!Q(e[n],t[n]))return!1;return!0}if(o!=a)return!1;var s=e instanceof Date,l=t instanceof Date;if(s!=l)return!1;if(s&&l)return e.getTime()==t.getTime();var c=e instanceof RegExp,u=t instanceof RegExp;if(c!=u)return!1;if(c&&u)return e.toString()==t.toString();var d=Z(e);if((r=d.length)!==Z(t).length)return!1;for(n=r;0!=n--;)if(!J.call(t,d[n]))return!1;for(n=r;0!=n--;)if(!("_owner"===(i=d[n])&&e.$$typeof||Q(e[i],t[i])))return!1;return!0}return e!=e&&t!=t}function X(e,t){try{return Q(e,t)}catch(e){if(e.message&&e.message.match(/stack|recursion/i))return console.warn("Warning: react-fast-compare does not handle circular references.",e.name,e.message),!1;throw e}}var ee=[{base:"A",letters:/[\u0041\u24B6\uFF21\u00C0\u00C1\u00C2\u1EA6\u1EA4\u1EAA\u1EA8\u00C3\u0100\u0102\u1EB0\u1EAE\u1EB4\u1EB2\u0226\u01E0\u00C4\u01DE\u1EA2\u00C5\u01FA\u01CD\u0200\u0202\u1EA0\u1EAC\u1EB6\u1E00\u0104\u023A\u2C6F]/g},{base:"AA",letters:/[\uA732]/g},{base:"AE",letters:/[\u00C6\u01FC\u01E2]/g},{base:"AO",letters:/[\uA734]/g},{base:"AU",letters:/[\uA736]/g},{base:"AV",letters:/[\uA738\uA73A]/g},{base:"AY",letters:/[\uA73C]/g},{base:"B",letters:/[\u0042\u24B7\uFF22\u1E02\u1E04\u1E06\u0243\u0182\u0181]/g},{base:"C",letters:/[\u0043\u24B8\uFF23\u0106\u0108\u010A\u010C\u00C7\u1E08\u0187\u023B\uA73E]/g},{base:"D",letters:/[\u0044\u24B9\uFF24\u1E0A\u010E\u1E0C\u1E10\u1E12\u1E0E\u0110\u018B\u018A\u0189\uA779]/g},{base:"DZ",letters:/[\u01F1\u01C4]/g},{base:"Dz",letters:/[\u01F2\u01C5]/g},{base:"E",letters:/[\u0045\u24BA\uFF25\u00C8\u00C9\u00CA\u1EC0\u1EBE\u1EC4\u1EC2\u1EBC\u0112\u1E14\u1E16\u0114\u0116\u00CB\u1EBA\u011A\u0204\u0206\u1EB8\u1EC6\u0228\u1E1C\u0118\u1E18\u1E1A\u0190\u018E]/g},{base:"F",letters:/[\u0046\u24BB\uFF26\u1E1E\u0191\uA77B]/g},{base:"G",letters:/[\u0047\u24BC\uFF27\u01F4\u011C\u1E20\u011E\u0120\u01E6\u0122\u01E4\u0193\uA7A0\uA77D\uA77E]/g},{base:"H",letters:/[\u0048\u24BD\uFF28\u0124\u1E22\u1E26\u021E\u1E24\u1E28\u1E2A\u0126\u2C67\u2C75\uA78D]/g},{base:"I",letters:/[\u0049\u24BE\uFF29\u00CC\u00CD\u00CE\u0128\u012A\u012C\u0130\u00CF\u1E2E\u1EC8\u01CF\u0208\u020A\u1ECA\u012E\u1E2C\u0197]/g},{base:"J",letters:/[\u004A\u24BF\uFF2A\u0134\u0248]/g},{base:"K",letters:/[\u004B\u24C0\uFF2B\u1E30\u01E8\u1E32\u0136\u1E34\u0198\u2C69\uA740\uA742\uA744\uA7A2]/g},{base:"L",letters:/[\u004C\u24C1\uFF2C\u013F\u0139\u013D\u1E36\u1E38\u013B\u1E3C\u1E3A\u0141\u023D\u2C62\u2C60\uA748\uA746\uA780]/g},{base:"LJ",letters:/[\u01C7]/g},{base:"Lj",letters:/[\u01C8]/g},{base:"M",letters:/[\u004D\u24C2\uFF2D\u1E3E\u1E40\u1E42\u2C6E\u019C]/g},{base:"N",letters:/[\u004E\u24C3\uFF2E\u01F8\u0143\u00D1\u1E44\u0147\u1E46\u0145\u1E4A\u1E48\u0220\u019D\uA790\uA7A4]/g},{base:"NJ",letters:/[\u01CA]/g},{base:"Nj",letters:/[\u01CB]/g},{base:"O",letters:/[\u004F\u24C4\uFF2F\u00D2\u00D3\u00D4\u1ED2\u1ED0\u1ED6\u1ED4\u00D5\u1E4C\u022C\u1E4E\u014C\u1E50\u1E52\u014E\u022E\u0230\u00D6\u022A\u1ECE\u0150\u01D1\u020C\u020E\u01A0\u1EDC\u1EDA\u1EE0\u1EDE\u1EE2\u1ECC\u1ED8\u01EA\u01EC\u00D8\u01FE\u0186\u019F\uA74A\uA74C]/g},{base:"OI",letters:/[\u01A2]/g},{base:"OO",letters:/[\uA74E]/g},{base:"OU",letters:/[\u0222]/g},{base:"P",letters:/[\u0050\u24C5\uFF30\u1E54\u1E56\u01A4\u2C63\uA750\uA752\uA754]/g},{base:"Q",letters:/[\u0051\u24C6\uFF31\uA756\uA758\u024A]/g},{base:"R",letters:/[\u0052\u24C7\uFF32\u0154\u1E58\u0158\u0210\u0212\u1E5A\u1E5C\u0156\u1E5E\u024C\u2C64\uA75A\uA7A6\uA782]/g},{base:"S",letters:/[\u0053\u24C8\uFF33\u1E9E\u015A\u1E64\u015C\u1E60\u0160\u1E66\u1E62\u1E68\u0218\u015E\u2C7E\uA7A8\uA784]/g},{base:"T",letters:/[\u0054\u24C9\uFF34\u1E6A\u0164\u1E6C\u021A\u0162\u1E70\u1E6E\u0166\u01AC\u01AE\u023E\uA786]/g},{base:"TZ",letters:/[\uA728]/g},{base:"U",letters:/[\u0055\u24CA\uFF35\u00D9\u00DA\u00DB\u0168\u1E78\u016A\u1E7A\u016C\u00DC\u01DB\u01D7\u01D5\u01D9\u1EE6\u016E\u0170\u01D3\u0214\u0216\u01AF\u1EEA\u1EE8\u1EEE\u1EEC\u1EF0\u1EE4\u1E72\u0172\u1E76\u1E74\u0244]/g},{base:"V",letters:/[\u0056\u24CB\uFF36\u1E7C\u1E7E\u01B2\uA75E\u0245]/g},{base:"VY",letters:/[\uA760]/g},{base:"W",letters:/[\u0057\u24CC\uFF37\u1E80\u1E82\u0174\u1E86\u1E84\u1E88\u2C72]/g},{base:"X",letters:/[\u0058\u24CD\uFF38\u1E8A\u1E8C]/g},{base:"Y",letters:/[\u0059\u24CE\uFF39\u1EF2\u00DD\u0176\u1EF8\u0232\u1E8E\u0178\u1EF6\u1EF4\u01B3\u024E\u1EFE]/g},{base:"Z",letters:/[\u005A\u24CF\uFF3A\u0179\u1E90\u017B\u017D\u1E92\u1E94\u01B5\u0224\u2C7F\u2C6B\uA762]/g},{base:"a",letters:/[\u0061\u24D0\uFF41\u1E9A\u00E0\u00E1\u00E2\u1EA7\u1EA5\u1EAB\u1EA9\u00E3\u0101\u0103\u1EB1\u1EAF\u1EB5\u1EB3\u0227\u01E1\u00E4\u01DF\u1EA3\u00E5\u01FB\u01CE\u0201\u0203\u1EA1\u1EAD\u1EB7\u1E01\u0105\u2C65\u0250]/g},{base:"aa",letters:/[\uA733]/g},{base:"ae",letters:/[\u00E6\u01FD\u01E3]/g},{base:"ao",letters:/[\uA735]/g},{base:"au",letters:/[\uA737]/g},{base:"av",letters:/[\uA739\uA73B]/g},{base:"ay",letters:/[\uA73D]/g},{base:"b",letters:/[\u0062\u24D1\uFF42\u1E03\u1E05\u1E07\u0180\u0183\u0253]/g},{base:"c",letters:/[\u0063\u24D2\uFF43\u0107\u0109\u010B\u010D\u00E7\u1E09\u0188\u023C\uA73F\u2184]/g},{base:"d",letters:/[\u0064\u24D3\uFF44\u1E0B\u010F\u1E0D\u1E11\u1E13\u1E0F\u0111\u018C\u0256\u0257\uA77A]/g},{base:"dz",letters:/[\u01F3\u01C6]/g},{base:"e",letters:/[\u0065\u24D4\uFF45\u00E8\u00E9\u00EA\u1EC1\u1EBF\u1EC5\u1EC3\u1EBD\u0113\u1E15\u1E17\u0115\u0117\u00EB\u1EBB\u011B\u0205\u0207\u1EB9\u1EC7\u0229\u1E1D\u0119\u1E19\u1E1B\u0247\u025B\u01DD]/g},{base:"f",letters:/[\u0066\u24D5\uFF46\u1E1F\u0192\uA77C]/g},{base:"g",letters:/[\u0067\u24D6\uFF47\u01F5\u011D\u1E21\u011F\u0121\u01E7\u0123\u01E5\u0260\uA7A1\u1D79\uA77F]/g},{base:"h",letters:/[\u0068\u24D7\uFF48\u0125\u1E23\u1E27\u021F\u1E25\u1E29\u1E2B\u1E96\u0127\u2C68\u2C76\u0265]/g},{base:"hv",letters:/[\u0195]/g},{base:"i",letters:/[\u0069\u24D8\uFF49\u00EC\u00ED\u00EE\u0129\u012B\u012D\u00EF\u1E2F\u1EC9\u01D0\u0209\u020B\u1ECB\u012F\u1E2D\u0268\u0131]/g},{base:"j",letters:/[\u006A\u24D9\uFF4A\u0135\u01F0\u0249]/g},{base:"k",letters:/[\u006B\u24DA\uFF4B\u1E31\u01E9\u1E33\u0137\u1E35\u0199\u2C6A\uA741\uA743\uA745\uA7A3]/g},{base:"l",letters:/[\u006C\u24DB\uFF4C\u0140\u013A\u013E\u1E37\u1E39\u013C\u1E3D\u1E3B\u017F\u0142\u019A\u026B\u2C61\uA749\uA781\uA747]/g},{base:"lj",letters:/[\u01C9]/g},{base:"m",letters:/[\u006D\u24DC\uFF4D\u1E3F\u1E41\u1E43\u0271\u026F]/g},{base:"n",letters:/[\u006E\u24DD\uFF4E\u01F9\u0144\u00F1\u1E45\u0148\u1E47\u0146\u1E4B\u1E49\u019E\u0272\u0149\uA791\uA7A5]/g},{base:"nj",letters:/[\u01CC]/g},{base:"o",letters:/[\u006F\u24DE\uFF4F\u00F2\u00F3\u00F4\u1ED3\u1ED1\u1ED7\u1ED5\u00F5\u1E4D\u022D\u1E4F\u014D\u1E51\u1E53\u014F\u022F\u0231\u00F6\u022B\u1ECF\u0151\u01D2\u020D\u020F\u01A1\u1EDD\u1EDB\u1EE1\u1EDF\u1EE3\u1ECD\u1ED9\u01EB\u01ED\u00F8\u01FF\u0254\uA74B\uA74D\u0275]/g},{base:"oi",letters:/[\u01A3]/g},{base:"ou",letters:/[\u0223]/g},{base:"oo",letters:/[\uA74F]/g},{base:"p",letters:/[\u0070\u24DF\uFF50\u1E55\u1E57\u01A5\u1D7D\uA751\uA753\uA755]/g},{base:"q",letters:/[\u0071\u24E0\uFF51\u024B\uA757\uA759]/g},{base:"r",letters:/[\u0072\u24E1\uFF52\u0155\u1E59\u0159\u0211\u0213\u1E5B\u1E5D\u0157\u1E5F\u024D\u027D\uA75B\uA7A7\uA783]/g},{base:"s",letters:/[\u0073\u24E2\uFF53\u00DF\u015B\u1E65\u015D\u1E61\u0161\u1E67\u1E63\u1E69\u0219\u015F\u023F\uA7A9\uA785\u1E9B]/g},{base:"t",letters:/[\u0074\u24E3\uFF54\u1E6B\u1E97\u0165\u1E6D\u021B\u0163\u1E71\u1E6F\u0167\u01AD\u0288\u2C66\uA787]/g},{base:"tz",letters:/[\uA729]/g},{base:"u",letters:/[\u0075\u24E4\uFF55\u00F9\u00FA\u00FB\u0169\u1E79\u016B\u1E7B\u016D\u00FC\u01DC\u01D8\u01D6\u01DA\u1EE7\u016F\u0171\u01D4\u0215\u0217\u01B0\u1EEB\u1EE9\u1EEF\u1EED\u1EF1\u1EE5\u1E73\u0173\u1E77\u1E75\u0289]/g},{base:"v",letters:/[\u0076\u24E5\uFF56\u1E7D\u1E7F\u028B\uA75F\u028C]/g},{base:"vy",letters:/[\uA761]/g},{base:"w",letters:/[\u0077\u24E6\uFF57\u1E81\u1E83\u0175\u1E87\u1E85\u1E98\u1E89\u2C73]/g},{base:"x",letters:/[\u0078\u24E7\uFF58\u1E8B\u1E8D]/g},{base:"y",letters:/[\u0079\u24E8\uFF59\u1EF3\u00FD\u0177\u1EF9\u0233\u1E8F\u00FF\u1EF7\u1E99\u1EF5\u01B4\u024F\u1EFF]/g},{base:"z",letters:/[\u007A\u24E9\uFF5A\u017A\u1E91\u017C\u017E\u1E93\u1E95\u01B6\u0225\u0240\u2C6C\uA763]/g}],te=function(e){for(var t=0;t<ee.length;t++)e=e.replace(ee[t].letters,ee[t].base);return e},ne=function(e){return e.replace(/^\s+|\s+$/g,"")},re=function(e){return"".concat(e.label," ").concat(e.value)},ie=function(e){return i.a.createElement("span",w({className:Object(s.a)({label:"a11yText",zIndex:9999,border:0,clip:"rect(1px, 1px, 1px, 1px)",height:1,width:1,position:"absolute",overflow:"hidden",padding:0,whiteSpace:"nowrap",backgroundColor:"red",color:"blue"})},e))},oe=function(e){function t(){return g(this,t),E(this,x(t).apply(this,arguments))}return _(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=(e.in,e.out,e.onExited,e.appear,e.enter,e.exit,e.innerRef),n=(e.emotion,O(e,["in","out","onExited","appear","enter","exit","innerRef","emotion"]));return i.a.createElement("input",w({ref:t},n,{className:Object(s.a)({label:"dummyInput",background:0,border:0,fontSize:"inherit",outline:0,padding:0,width:1,color:"transparent",left:-100,opacity:0,position:"relative",transform:"scale(0)"})}))}}]),t}(r.Component),ae=function(e){function t(){return g(this,t),E(this,x(t).apply(this,arguments))}return _(t,e),y(t,[{key:"componentDidMount",value:function(){this.props.innerRef(Object(l.findDOMNode)(this))}},{key:"componentWillUnmount",value:function(){this.props.innerRef(null)}},{key:"render",value:function(){return this.props.children}}]),t}(r.Component),se=["boxSizing","height","overflow","paddingRight","position"],le={boxSizing:"border-box",overflow:"hidden",position:"relative",height:"100%"};function ce(e){e.preventDefault()}function ue(e){e.stopPropagation()}function de(){var e=this.scrollTop,t=this.scrollHeight,n=e+this.offsetHeight;0===e?this.scrollTop=1:n===t&&(this.scrollTop=e-1)}function pe(){return"ontouchstart"in window||navigator.maxTouchPoints}var me=!("undefined"==typeof window||!window.document||!window.document.createElement),fe=0,he=function(e){function t(){var e,n;g(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return k(S(S(n=E(this,(e=x(t)).call.apply(e,[this].concat(i))))),"originalStyles",{}),k(S(S(n)),"listenerOptions",{capture:!1,passive:!1}),n}return _(t,e),y(t,[{key:"componentDidMount",value:function(){var e=this;if(me){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,i=document.body,o=i&&i.style;if(n&&se.forEach((function(t){var n=o&&o[t];e.originalStyles[t]=n})),n&&fe<1){var a=parseInt(this.originalStyles.paddingRight,10)||0,s=document.body?document.body.clientWidth:0,l=window.innerWidth-s+a||0;Object.keys(le).forEach((function(e){var t=le[e];o&&(o[e]=t)})),o&&(o.paddingRight="".concat(l,"px"))}i&&pe()&&(i.addEventListener("touchmove",ce,this.listenerOptions),r&&(r.addEventListener("touchstart",de,this.listenerOptions),r.addEventListener("touchmove",ue,this.listenerOptions))),fe+=1}}},{key:"componentWillUnmount",value:function(){var e=this;if(me){var t=this.props,n=t.accountForScrollbars,r=t.touchScrollTarget,i=document.body,o=i&&i.style;fe=Math.max(fe-1,0),n&&fe<1&&se.forEach((function(t){var n=e.originalStyles[t];o&&(o[t]=n)})),i&&pe()&&(i.removeEventListener("touchmove",ce,this.listenerOptions),r&&(r.removeEventListener("touchstart",de,this.listenerOptions),r.removeEventListener("touchmove",ue,this.listenerOptions)))}}},{key:"render",value:function(){return null}}]),t}(r.Component);k(he,"defaultProps",{accountForScrollbars:!0});var ve=function(e){function t(){var e,n;g(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return k(S(S(n=E(this,(e=x(t)).call.apply(e,[this].concat(i))))),"state",{touchScrollTarget:null}),k(S(S(n)),"getScrollTarget",(function(e){e!==n.state.touchScrollTarget&&n.setState({touchScrollTarget:e})})),k(S(S(n)),"blurSelectInput",(function(){document.activeElement&&document.activeElement.blur()})),n}return _(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.isEnabled,r=this.state.touchScrollTarget;return n?i.a.createElement("div",null,i.a.createElement("div",{onClick:this.blurSelectInput,className:Object(s.a)({position:"fixed",left:0,bottom:0,right:0,top:0})}),i.a.createElement(ae,{innerRef:this.getScrollTarget},t),r?i.a.createElement(he,{touchScrollTarget:r}):null):t}}]),t}(r.PureComponent),ge=function(e){function t(){var e,n;g(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return k(S(S(n=E(this,(e=x(t)).call.apply(e,[this].concat(i))))),"isBottom",!1),k(S(S(n)),"isTop",!1),k(S(S(n)),"scrollTarget",void 0),k(S(S(n)),"touchStart",void 0),k(S(S(n)),"cancelScroll",(function(e){e.preventDefault(),e.stopPropagation()})),k(S(S(n)),"handleEventDelta",(function(e,t){var r=n.props,i=r.onBottomArrive,o=r.onBottomLeave,a=r.onTopArrive,s=r.onTopLeave,l=n.scrollTarget,c=l.scrollTop,u=l.scrollHeight,d=l.clientHeight,p=n.scrollTarget,m=t>0,f=u-d-c,h=!1;f>t&&n.isBottom&&(o&&o(e),n.isBottom=!1),m&&n.isTop&&(s&&s(e),n.isTop=!1),m&&t>f?(i&&!n.isBottom&&i(e),p.scrollTop=u,h=!0,n.isBottom=!0):!m&&-t>c&&(a&&!n.isTop&&a(e),p.scrollTop=0,h=!0,n.isTop=!0),h&&n.cancelScroll(e)})),k(S(S(n)),"onWheel",(function(e){n.handleEventDelta(e,e.deltaY)})),k(S(S(n)),"onTouchStart",(function(e){n.touchStart=e.changedTouches[0].clientY})),k(S(S(n)),"onTouchMove",(function(e){var t=n.touchStart-e.changedTouches[0].clientY;n.handleEventDelta(e,t)})),k(S(S(n)),"getScrollTarget",(function(e){n.scrollTarget=e})),n}return _(t,e),y(t,[{key:"componentDidMount",value:function(){this.startListening(this.scrollTarget)}},{key:"componentWillUnmount",value:function(){this.stopListening(this.scrollTarget)}},{key:"startListening",value:function(e){e&&(e.scrollHeight<=e.clientHeight||("function"==typeof e.addEventListener&&e.addEventListener("wheel",this.onWheel,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.addEventListener&&e.addEventListener("touchmove",this.onTouchMove,!1)))}},{key:"stopListening",value:function(e){e.scrollHeight<=e.clientHeight||("function"==typeof e.removeEventListener&&e.removeEventListener("wheel",this.onWheel,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchstart",this.onTouchStart,!1),"function"==typeof e.removeEventListener&&e.removeEventListener("touchmove",this.onTouchMove,!1))}},{key:"render",value:function(){return i.a.createElement(ae,{innerRef:this.getScrollTarget},this.props.children)}}]),t}(r.Component),be=function(e){function t(){return g(this,t),E(this,x(t).apply(this,arguments))}return _(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.isEnabled,n=O(e,["isEnabled"]);return t?i.a.createElement(ge,n):this.props.children}}]),t}(r.Component);k(be,"defaultProps",{isEnabled:!0});var ye=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.isSearchable,r=t.isMulti,i=t.label,o=t.isDisabled;switch(e){case"menu":return"Use Up and Down to choose options".concat(o?"":", press Enter to select the currently focused option",", press Escape to exit the menu, press Tab to select the option and exit the menu.");case"input":return"".concat(i||"Select"," is focused ").concat(n?",type to refine list":"",", press Down to open the menu, ").concat(r?" press left to focus selected values":"");case"value":return"Use left and right to toggle between focused values, press Backspace to remove the currently focused value"}},ke=function(e,t){var n=t.value,r=t.isDisabled;if(n)switch(e){case"deselect-option":case"pop-value":case"remove-value":return"option ".concat(n,", deselected.");case"select-option":return"option ".concat(n,r?" is disabled. Select another option.":", selected.")}},we=function(e){return!!e.isDisabled},je=function(e){function t(){return g(this,t),E(this,x(t).apply(this,arguments))}return _(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.cx,o=e.isMulti,a=e.getStyles,l=e.hasValue;return i.a.createElement("div",{className:r(Object(s.a)(a("valueContainer",this.props)),{"value-container":!0,"value-container--is-multi":o,"value-container--has-value":l},n)},t)}}]),t}(r.Component),_e=function(e){var t=e.size,n=O(e,["size"]);return i.a.createElement("svg",w({height:t,width:t,viewBox:"0 0 20 20","aria-hidden":"true",focusable:"false",className:Object(s.a)({display:"inline-block",fill:"currentColor",lineHeight:1,stroke:"currentColor",strokeWidth:0})},n))},xe=function(e){return i.a.createElement(_e,w({size:20},e),i.a.createElement("path",{d:"M14.348 14.849c-0.469 0.469-1.229 0.469-1.697 0l-2.651-3.030-2.651 3.029c-0.469 0.469-1.229 0.469-1.697 0-0.469-0.469-0.469-1.229 0-1.697l2.758-3.15-2.759-3.152c-0.469-0.469-0.469-1.228 0-1.697s1.228-0.469 1.697 0l2.652 3.031 2.651-3.031c0.469-0.469 1.228-0.469 1.697 0s0.469 1.229 0 1.697l-2.758 3.152 2.758 3.15c0.469 0.469 0.469 1.229 0 1.698z"}))},Ce=function(e){return i.a.createElement(_e,w({size:20},e),i.a.createElement("path",{d:"M4.516 7.548c0.436-0.446 1.043-0.481 1.576 0l3.908 3.747 3.908-3.747c0.533-0.481 1.141-0.446 1.574 0 0.436 0.445 0.408 1.197 0 1.615-0.406 0.418-4.695 4.502-4.695 4.502-0.217 0.223-0.502 0.335-0.787 0.335s-0.57-0.112-0.789-0.335c0 0-4.287-4.084-4.695-4.502s-0.436-1.17 0-1.615z"}))},Oe=function(e){var t=e.isFocused,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorContainer",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*r,transition:"color 150ms",":hover":{color:t?i.neutral80:i.neutral40}}},Se=Oe,Ee=Oe,Te="react-select-loading-indicator",Pe=!1,Ne=function(e){var t=e.color,n=e.delay,r=e.offset;return i.a.createElement("span",{className:Object(s.a)({animationDuration:"1s",animationDelay:"".concat(n,"ms"),animationIterationCount:"infinite",animationName:Te,animationTimingFunction:"ease-in-out",backgroundColor:t,borderRadius:"1em",display:"inline-block",marginLeft:r?"1em":null,height:"1em",verticalAlign:"top",width:"1em"})})},Ie=function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerProps,a=e.isFocused,l=e.isRtl,c=e.theme.colors,u=a?c.neutral80:c.neutral20;return Pe||(Object(s.b)("@keyframes ",Te,"{0%,80%,100%{opacity:0;}40%{opacity:1;}};"),Pe=!0),i.a.createElement("div",w({},o,{className:n(Object(s.a)(r("loadingIndicator",e)),{indicator:!0,"loading-indicator":!0},t)}),i.a.createElement(Ne,{color:u,delay:0,offset:l}),i.a.createElement(Ne,{color:u,delay:160,offset:!0}),i.a.createElement(Ne,{color:u,delay:320,offset:!l}))};Ie.defaultProps={size:4};var Ae=function(e){return{label:"input",background:0,border:0,fontSize:"inherit",opacity:e?0:1,outline:0,padding:0,color:"inherit"}},De=function(e){var t=e.children,n=e.innerProps;return i.a.createElement("div",n,t)},Be=De,Re=De,Le=function(e){function t(){return g(this,t),E(this,x(t).apply(this,arguments))}return _(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.innerProps;return i.a.createElement("div",n,t||i.a.createElement(xe,{size:14}))}}]),t}(r.Component),Me=function(e){function t(){return g(this,t),E(this,x(t).apply(this,arguments))}return _(t,e),y(t,[{key:"render",value:function(){var e=this.props,t=e.children,n=e.className,r=e.components,o=e.cx,a=e.data,l=e.getStyles,c=e.innerProps,u=e.isDisabled,d=e.removeProps,p=e.selectProps,m=r.Container,f=r.Label,h=r.Remove,v=j({className:o(Object(s.a)(l("multiValue",this.props)),{"multi-value":!0,"multi-value--is-disabled":u},n)},c),g={className:o(Object(s.a)(l("multiValueLabel",this.props)),{"multi-value__label":!0},n)},b=j({className:o(Object(s.a)(l("multiValueRemove",this.props)),{"multi-value__remove":!0},n)},d);return i.a.createElement(m,{data:a,innerProps:v,selectProps:p},i.a.createElement(f,{data:a,innerProps:g,selectProps:p},t),i.a.createElement(h,{data:a,innerProps:b,selectProps:p}))}}]),t}(r.Component);k(Me,"defaultProps",{cropWithEllipsis:!0});var Fe={ClearIndicator:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return i.a.createElement("div",w({},a,{className:r(Object(s.a)(o("clearIndicator",e)),{indicator:!0,"clear-indicator":!0},n)}),t||i.a.createElement(xe,null))},Control:function(e){var t=e.children,n=e.cx,r=e.getStyles,o=e.className,a=e.isDisabled,l=e.isFocused,c=e.innerRef,u=e.innerProps,d=e.menuIsOpen;return i.a.createElement("div",w({ref:c,className:n(Object(s.a)(r("control",e)),{control:!0,"control--is-disabled":a,"control--is-focused":l,"control--menu-is-open":d},o)},u),t)},DropdownIndicator:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return i.a.createElement("div",w({},a,{className:r(Object(s.a)(o("dropdownIndicator",e)),{indicator:!0,"dropdown-indicator":!0},n)}),t||i.a.createElement(Ce,null))},DownChevron:Ce,CrossIcon:xe,Group:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.Heading,l=e.headingProps,c=e.label,u=e.theme,d=e.selectProps;return i.a.createElement("div",{className:r(Object(s.a)(o("group",e)),{group:!0},n)},i.a.createElement(a,w({},l,{selectProps:d,theme:u,getStyles:o,cx:r}),c),i.a.createElement("div",null,t))},GroupHeading:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.theme,a=(e.selectProps,O(e,["className","cx","getStyles","theme","selectProps"]));return i.a.createElement("div",w({className:n(Object(s.a)(r("groupHeading",j({theme:o},a))),{"group-heading":!0},t)},a))},IndicatorsContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles;return i.a.createElement("div",{className:r(Object(s.a)(o("indicatorsContainer",e)),{indicators:!0},n)},t)},IndicatorSeparator:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerProps;return i.a.createElement("span",w({},o,{className:n(Object(s.a)(r("indicatorSeparator",e)),{"indicator-separator":!0},t)}))},Input:function(e){var t=e.className,n=e.cx,r=e.getStyles,o=e.innerRef,a=e.isHidden,l=e.isDisabled,c=e.theme,u=(e.selectProps,O(e,["className","cx","getStyles","innerRef","isHidden","isDisabled","theme","selectProps"]));return i.a.createElement("div",{className:Object(s.a)(r("input",j({theme:c},u)))},i.a.createElement(f.a,w({className:n(null,{input:!0},t),inputRef:o,inputStyle:Ae(a),disabled:l},u)))},LoadingIndicator:Ie,Menu:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerRef,l=e.innerProps,c=r(Object(s.a)(o("menu",e)),{menu:!0},n);return i.a.createElement("div",w({className:c},l,{ref:a}),t)},MenuList:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.isMulti,l=e.innerRef;return i.a.createElement("div",{className:r(Object(s.a)(o("menuList",e)),{"menu-list":!0,"menu-list--is-multi":a},n),ref:l},t)},MenuPortal:K,LoadingMessage:$,NoOptionsMessage:G,MultiValue:Me,MultiValueContainer:Be,MultiValueLabel:Re,MultiValueRemove:Le,Option:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.isDisabled,l=e.isFocused,c=e.isSelected,u=e.innerRef,d=e.innerProps;return i.a.createElement("div",w({ref:u,className:r(Object(s.a)(o("option",e)),{option:!0,"option--is-disabled":a,"option--is-focused":l,"option--is-selected":c},n)},d),t)},Placeholder:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps;return i.a.createElement("div",w({className:r(Object(s.a)(o("placeholder",e)),{placeholder:!0},n)},a),t)},SelectContainer:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.innerProps,l=e.isDisabled,c=e.isRtl;return i.a.createElement("div",w({className:r(Object(s.a)(o("container",e)),{"--is-disabled":l,"--is-rtl":c},n)},a),t)},SingleValue:function(e){var t=e.children,n=e.className,r=e.cx,o=e.getStyles,a=e.isDisabled,l=e.innerProps;return i.a.createElement("div",w({className:r(Object(s.a)(o("singleValue",e)),{"single-value":!0,"single-value--is-disabled":a},n)},l),t)},ValueContainer:je},Ve=function(e){return j({},Fe,e.components)},ze={clearIndicator:Ee,container:function(e){var t=e.isDisabled;return{label:"container",direction:e.isRtl?"rtl":null,pointerEvents:t?"none":null,position:"relative"}},control:function(e){var t=e.isDisabled,n=e.isFocused,r=e.theme,i=r.colors,o=r.borderRadius,a=r.spacing;return{label:"control",alignItems:"center",backgroundColor:t?i.neutral5:i.neutral0,borderColor:t?i.neutral10:n?i.primary:i.neutral20,borderRadius:o,borderStyle:"solid",borderWidth:1,boxShadow:n?"0 0 0 1px ".concat(i.primary):null,cursor:"default",display:"flex",flexWrap:"wrap",justifyContent:"space-between",minHeight:a.controlHeight,outline:"0 !important",position:"relative",transition:"all 100ms","&:hover":{borderColor:n?i.primary:i.neutral30}}},dropdownIndicator:Se,group:function(e){var t=e.theme.spacing;return{paddingBottom:2*t.baseUnit,paddingTop:2*t.baseUnit}},groupHeading:function(e){var t=e.theme.spacing;return{label:"group",color:"#999",cursor:"default",display:"block",fontSize:"75%",fontWeight:"500",marginBottom:"0.25em",paddingLeft:3*t.baseUnit,paddingRight:3*t.baseUnit,textTransform:"uppercase"}},indicatorsContainer:function(){return{alignItems:"center",alignSelf:"stretch",display:"flex",flexShrink:0}},indicatorSeparator:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing.baseUnit,i=n.colors;return{label:"indicatorSeparator",alignSelf:"stretch",backgroundColor:t?i.neutral10:i.neutral20,marginBottom:2*r,marginTop:2*r,width:1}},input:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{margin:r.baseUnit/2,paddingBottom:r.baseUnit/2,paddingTop:r.baseUnit/2,visibility:t?"hidden":"visible",color:i.neutral80}},loadingIndicator:function(e){var t=e.isFocused,n=e.size,r=e.theme,i=r.colors,o=r.spacing.baseUnit;return{label:"loadingIndicator",color:t?i.neutral60:i.neutral20,display:"flex",padding:2*o,transition:"color 150ms",alignSelf:"center",fontSize:n,lineHeight:1,marginRight:n,textAlign:"center",verticalAlign:"middle"}},loadingMessage:q,menu:function(e){var t,n=e.placement,r=e.theme,i=r.borderRadius,o=r.spacing,a=r.colors;return k(t={label:"menu"},function(e){return e?{bottom:"top",top:"bottom"}[e]:"bottom"}(n),"100%"),k(t,"backgroundColor",a.neutral0),k(t,"borderRadius",i),k(t,"boxShadow","0 0 0 1px hsla(0, 0%, 0%, 0.1), 0 4px 11px hsla(0, 0%, 0%, 0.1)"),k(t,"marginBottom",o.menuGutter),k(t,"marginTop",o.menuGutter),k(t,"position","absolute"),k(t,"width","100%"),k(t,"zIndex",1),t},menuList:function(e){var t=e.maxHeight,n=e.theme.spacing.baseUnit;return{maxHeight:t,overflowY:"auto",paddingBottom:n,paddingTop:n,position:"relative",WebkitOverflowScrolling:"touch"}},menuPortal:function(e){var t=e.rect,n=e.offset,r=e.position;return{left:t.left,position:r,top:n,width:t.width,zIndex:1}},multiValue:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius;return{label:"multiValue",backgroundColor:t.colors.neutral10,borderRadius:r/2,display:"flex",margin:n.baseUnit/2,minWidth:0}},multiValueLabel:function(e){var t=e.theme,n=t.borderRadius,r=t.colors,i=e.cropWithEllipsis;return{borderRadius:n/2,color:r.neutral80,fontSize:"85%",overflow:"hidden",padding:3,paddingLeft:6,textOverflow:i?"ellipsis":null,whiteSpace:"nowrap"}},multiValueRemove:function(e){var t=e.theme,n=t.spacing,r=t.borderRadius,i=t.colors;return{alignItems:"center",borderRadius:r/2,backgroundColor:e.isFocused&&i.dangerLight,display:"flex",paddingLeft:n.baseUnit,paddingRight:n.baseUnit,":hover":{backgroundColor:i.dangerLight,color:i.danger}}},noOptionsMessage:W,option:function(e){var t=e.isDisabled,n=e.isFocused,r=e.isSelected,i=e.theme,o=i.spacing,a=i.colors;return{label:"option",backgroundColor:r?a.primary:n?a.primary25:"transparent",color:t?a.neutral20:r?a.neutral0:"inherit",cursor:"default",display:"block",fontSize:"inherit",padding:"".concat(2*o.baseUnit,"px ").concat(3*o.baseUnit,"px"),width:"100%",userSelect:"none",WebkitTapHighlightColor:"rgba(0, 0, 0, 0)",":active":{backgroundColor:!t&&(r?a.primary:a.primary50)}}},placeholder:function(e){var t=e.theme,n=t.spacing;return{label:"placeholder",color:t.colors.neutral50,marginLeft:n.baseUnit/2,marginRight:n.baseUnit/2,position:"absolute",top:"50%",transform:"translateY(-50%)"}},singleValue:function(e){var t=e.isDisabled,n=e.theme,r=n.spacing,i=n.colors;return{label:"singleValue",color:t?i.neutral40:i.neutral80,marginLeft:r.baseUnit/2,marginRight:r.baseUnit/2,maxWidth:"calc(100% - ".concat(2*r.baseUnit,"px)"),overflow:"hidden",position:"absolute",textOverflow:"ellipsis",whiteSpace:"nowrap",top:"50%",transform:"translateY(-50%)"}},valueContainer:function(e){var t=e.theme.spacing;return{alignItems:"center",display:"flex",flex:1,flexWrap:"wrap",padding:"".concat(t.baseUnit/2,"px ").concat(2*t.baseUnit,"px"),WebkitOverflowScrolling:"touch",position:"relative",overflow:"hidden"}}};var Ue,He={borderRadius:4,colors:{primary:"#2684FF",primary75:"#4C9AFF",primary50:"#B2D4FF",primary25:"#DEEBFF",danger:"#DE350B",dangerLight:"#FFBDAD",neutral0:"hsl(0, 0%, 100%)",neutral5:"hsl(0, 0%, 95%)",neutral10:"hsl(0, 0%, 90%)",neutral20:"hsl(0, 0%, 80%)",neutral30:"hsl(0, 0%, 70%)",neutral40:"hsl(0, 0%, 60%)",neutral50:"hsl(0, 0%, 50%)",neutral60:"hsl(0, 0%, 40%)",neutral70:"hsl(0, 0%, 30%)",neutral80:"hsl(0, 0%, 20%)",neutral90:"hsl(0, 0%, 10%)"},spacing:{baseUnit:4,controlHeight:38,menuGutter:8}},We={backspaceRemovesValue:!0,blurInputOnSelect:F(),captureMenuScroll:!F(),closeMenuOnSelect:!0,closeMenuOnScroll:!1,components:{},controlShouldRenderValue:!0,escapeClearsValue:!1,filterOption:function(e,t){var n=j({ignoreCase:!0,ignoreAccents:!0,stringify:re,trim:!0,matchFrom:"any"},Ue),r=n.ignoreCase,i=n.ignoreAccents,o=n.stringify,a=n.trim,s=n.matchFrom,l=a?ne(t):t,c=a?ne(o(e)):o(e);return r&&(l=l.toLowerCase(),c=c.toLowerCase()),i&&(l=te(l),c=te(c)),"start"===s?c.substr(0,l.length)===l:c.indexOf(l)>-1},formatGroupLabel:function(e){return e.label},getOptionLabel:function(e){return e.label},getOptionValue:function(e){return e.value},isDisabled:!1,isLoading:!1,isMulti:!1,isRtl:!1,isSearchable:!0,isOptionDisabled:we,loadingMessage:function(){return"Loading..."},maxMenuHeight:300,minMenuHeight:140,menuIsOpen:!1,menuPlacement:"bottom",menuPosition:"absolute",menuShouldBlockScroll:!1,menuShouldScrollIntoView:!function(){try{return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)}catch(e){return!1}}(),noOptionsMessage:function(){return"No options"},openMenuOnFocus:!1,openMenuOnClick:!0,options:[],pageSize:5,placeholder:"Select...",screenReaderStatus:function(e){var t=e.count;return"".concat(t," result").concat(1!==t?"s":""," available")},styles:{},tabIndex:"0",tabSelectsValue:!0},qe=1,Ge=function(e){function t(e){var n;g(this,t),k(S(S(n=E(this,x(t).call(this,e)))),"state",{ariaLiveSelection:"",ariaLiveContext:"",focusedOption:null,focusedValue:null,inputIsHidden:!1,isFocused:!1,menuOptions:{render:[],focusable:[]},selectValue:[]}),k(S(S(n)),"blockOptionHover",!1),k(S(S(n)),"isComposing",!1),k(S(S(n)),"clearFocusValueOnUpdate",!1),k(S(S(n)),"commonProps",void 0),k(S(S(n)),"components",void 0),k(S(S(n)),"hasGroups",!1),k(S(S(n)),"initialTouchX",0),k(S(S(n)),"initialTouchY",0),k(S(S(n)),"inputIsHiddenAfterUpdate",void 0),k(S(S(n)),"instancePrefix",""),k(S(S(n)),"openAfterFocus",!1),k(S(S(n)),"scrollToFocusedOptionOnUpdate",!1),k(S(S(n)),"userIsDragging",void 0),k(S(S(n)),"controlRef",null),k(S(S(n)),"getControlRef",(function(e){n.controlRef=e})),k(S(S(n)),"focusedOptionRef",null),k(S(S(n)),"getFocusedOptionRef",(function(e){n.focusedOptionRef=e})),k(S(S(n)),"menuListRef",null),k(S(S(n)),"getMenuListRef",(function(e){n.menuListRef=e})),k(S(S(n)),"inputRef",null),k(S(S(n)),"getInputRef",(function(e){n.inputRef=e})),k(S(S(n)),"cacheComponents",(function(e){n.components=Ve({components:e})})),k(S(S(n)),"focus",n.focusInput),k(S(S(n)),"blur",n.blurInput),k(S(S(n)),"onChange",(function(e,t){var r=n.props;(0,r.onChange)(e,j({},t,{name:r.name}))})),k(S(S(n)),"setValue",(function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"set-value",r=arguments.length>2?arguments[2]:void 0,i=n.props,o=i.closeMenuOnSelect,a=i.isMulti;n.onInputChange("",{action:"set-value"}),o&&(n.inputIsHiddenAfterUpdate=!a,n.onMenuClose()),n.clearFocusValueOnUpdate=!0,n.onChange(e,{action:t,option:r})})),k(S(S(n)),"selectOption",(function(e){var t=n.props,r=t.blurInputOnSelect,i=t.isMulti,o=n.state.selectValue;if(i)if(n.isOptionSelected(e,o)){var a=n.getOptionValue(e);n.setValue(o.filter((function(e){return n.getOptionValue(e)!==a})),"deselect-option",e),n.announceAriaLiveSelection({event:"deselect-option",context:{value:n.getOptionLabel(e)}})}else n.isOptionDisabled(e,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue([].concat(T(o),[e]),"select-option",e),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e)}}));else n.isOptionDisabled(e,o)?n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e),isDisabled:!0}}):(n.setValue(e,"select-option"),n.announceAriaLiveSelection({event:"select-option",context:{value:n.getOptionLabel(e)}}));r&&n.blurInput()})),k(S(S(n)),"removeValue",(function(e){var t=n.state.selectValue,r=n.getOptionValue(e);n.onChange(t.filter((function(e){return n.getOptionValue(e)!==r})),{action:"remove-value",removedValue:e}),n.announceAriaLiveSelection({event:"remove-value",context:{value:e?n.getOptionLabel(e):""}}),n.focusInput()})),k(S(S(n)),"clearValue",(function(){var e=n.props.isMulti;n.onChange(e?[]:null,{action:"clear"})})),k(S(S(n)),"popValue",(function(){var e=n.state.selectValue,t=e[e.length-1];n.announceAriaLiveSelection({event:"pop-value",context:{value:t?n.getOptionLabel(t):""}}),n.onChange(e.slice(0,e.length-1),{action:"pop-value",removedValue:t})})),k(S(S(n)),"getOptionLabel",(function(e){return n.props.getOptionLabel(e)})),k(S(S(n)),"getOptionValue",(function(e){return n.props.getOptionValue(e)})),k(S(S(n)),"getStyles",(function(e,t){var r=ze[e](t);r.boxSizing="border-box";var i=n.props.styles[e];return i?i(r,t):r})),k(S(S(n)),"getElementId",(function(e){return"".concat(n.instancePrefix,"-").concat(e)})),k(S(S(n)),"getActiveDescendentId",(function(){var e=n.props.menuIsOpen,t=n.state,r=t.menuOptions,i=t.focusedOption;if(i&&e){var o=r.focusable.indexOf(i),a=r.render[o];return a&&a.key}})),k(S(S(n)),"announceAriaLiveSelection",(function(e){var t=e.event,r=e.context;n.setState({ariaLiveSelection:ke(t,r)})})),k(S(S(n)),"announceAriaLiveContext",(function(e){var t=e.event,r=e.context;n.setState({ariaLiveContext:ye(t,j({},r,{label:n.props["aria-label"]}))})})),k(S(S(n)),"onMenuMouseDown",(function(e){0===e.button&&(e.stopPropagation(),e.preventDefault(),n.focusInput())})),k(S(S(n)),"onMenuMouseMove",(function(e){n.blockOptionHover=!1})),k(S(S(n)),"onControlMouseDown",(function(e){var t=n.props.openMenuOnClick;n.state.isFocused?n.props.menuIsOpen?"INPUT"!==e.target.tagName&&n.onMenuClose():t&&n.openMenu("first"):(t&&(n.openAfterFocus=!0),n.focusInput()),"INPUT"!==e.target.tagName&&e.preventDefault()})),k(S(S(n)),"onDropdownIndicatorMouseDown",(function(e){if(!(e&&"mousedown"===e.type&&0!==e.button||n.props.isDisabled)){var t=n.props,r=t.isMulti,i=t.menuIsOpen;n.focusInput(),i?(n.inputIsHiddenAfterUpdate=!r,n.onMenuClose()):n.openMenu("first"),e.preventDefault(),e.stopPropagation()}})),k(S(S(n)),"onClearIndicatorMouseDown",(function(e){e&&"mousedown"===e.type&&0!==e.button||(n.clearValue(),e.stopPropagation(),n.openAfterFocus=!1,setTimeout((function(){return n.focusInput()})))})),k(S(S(n)),"onScroll",(function(e){"boolean"==typeof n.props.closeMenuOnScroll?e.target instanceof HTMLElement&&D(e.target)&&n.props.onMenuClose():"function"==typeof n.props.closeMenuOnScroll&&n.props.closeMenuOnScroll(e)&&n.props.onMenuClose()})),k(S(S(n)),"onCompositionStart",(function(){n.isComposing=!0})),k(S(S(n)),"onCompositionEnd",(function(){n.isComposing=!1})),k(S(S(n)),"onTouchStart",(function(e){var t=e.touches.item(0);t&&(n.initialTouchX=t.clientX,n.initialTouchY=t.clientY,n.userIsDragging=!1)})),k(S(S(n)),"onTouchMove",(function(e){var t=e.touches.item(0);if(t){var r=Math.abs(t.clientX-n.initialTouchX),i=Math.abs(t.clientY-n.initialTouchY);n.userIsDragging=r>5||i>5}})),k(S(S(n)),"onTouchEnd",(function(e){n.userIsDragging||(n.controlRef&&!n.controlRef.contains(e.target)&&n.menuListRef&&!n.menuListRef.contains(e.target)&&n.blurInput(),n.initialTouchX=0,n.initialTouchY=0)})),k(S(S(n)),"onControlTouchEnd",(function(e){n.userIsDragging||n.onControlMouseDown(e)})),k(S(S(n)),"onClearIndicatorTouchEnd",(function(e){n.userIsDragging||n.onClearIndicatorMouseDown(e)})),k(S(S(n)),"onDropdownIndicatorTouchEnd",(function(e){n.userIsDragging||n.onDropdownIndicatorMouseDown(e)})),k(S(S(n)),"handleInputChange",(function(e){var t=e.currentTarget.value;n.inputIsHiddenAfterUpdate=!1,n.onInputChange(t,{action:"input-change"}),n.onMenuOpen()})),k(S(S(n)),"onInputFocus",(function(e){var t=n.props,r=t.isSearchable,i=t.isMulti;n.props.onFocus&&n.props.onFocus(e),n.inputIsHiddenAfterUpdate=!1,n.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:i}}),n.setState({isFocused:!0}),(n.openAfterFocus||n.props.openMenuOnFocus)&&n.openMenu("first"),n.openAfterFocus=!1})),k(S(S(n)),"onInputBlur",(function(e){n.menuListRef&&n.menuListRef.contains(document.activeElement)?n.inputRef.focus():(n.props.onBlur&&n.props.onBlur(e),n.onInputChange("",{action:"input-blur"}),n.onMenuClose(),n.setState({focusedValue:null,isFocused:!1}))})),k(S(S(n)),"onOptionHover",(function(e){n.blockOptionHover||n.state.focusedOption===e||n.setState({focusedOption:e})})),k(S(S(n)),"shouldHideSelectedOptions",(function(){var e=n.props,t=e.hideSelectedOptions,r=e.isMulti;return void 0===t?r:t})),k(S(S(n)),"onKeyDown",(function(e){var t=n.props,r=t.isMulti,i=t.backspaceRemovesValue,o=t.escapeClearsValue,a=t.inputValue,s=t.isClearable,l=t.isDisabled,c=t.menuIsOpen,u=t.onKeyDown,d=t.tabSelectsValue,p=t.openMenuOnFocus,m=n.state,f=m.focusedOption,h=m.focusedValue,v=m.selectValue;if(!(l||"function"==typeof u&&(u(e),e.defaultPrevented))){switch(n.blockOptionHover=!0,e.key){case"ArrowLeft":if(!r||a)return;n.focusValue("previous");break;case"ArrowRight":if(!r||a)return;n.focusValue("next");break;case"Delete":case"Backspace":if(a)return;if(h)n.removeValue(h);else{if(!i)return;r?n.popValue():s&&n.clearValue()}break;case"Tab":if(n.isComposing)return;if(e.shiftKey||!c||!d||!f||p&&n.isOptionSelected(f,v))return;n.selectOption(f);break;case"Enter":if(229===e.keyCode)break;if(c){if(!f)return;if(n.isComposing)return;n.selectOption(f);break}return;case"Escape":c?(n.inputIsHiddenAfterUpdate=!1,n.onInputChange("",{action:"menu-close"}),n.onMenuClose()):s&&o&&n.clearValue();break;case" ":if(a)return;if(!c){n.openMenu("first");break}if(!f)return;n.selectOption(f);break;case"ArrowUp":c?n.focusOption("up"):n.openMenu("last");break;case"ArrowDown":c?n.focusOption("down"):n.openMenu("first");break;case"PageUp":if(!c)return;n.focusOption("pageup");break;case"PageDown":if(!c)return;n.focusOption("pagedown");break;case"Home":if(!c)return;n.focusOption("first");break;case"End":if(!c)return;n.focusOption("last");break;default:return}e.preventDefault()}}));var r=e.value;n.cacheComponents=a(n.cacheComponents,X).bind(S(S(n))),n.cacheComponents(e.components),n.instancePrefix="react-select-"+(n.props.instanceId||++qe);var i=A(r),o=n.buildMenuOptions(e,i);return n.state.menuOptions=o,n.state.selectValue=i,n}return _(t,e),y(t,[{key:"componentDidMount",value:function(){this.startListeningComposition(),this.startListeningToTouch(),this.props.closeMenuOnScroll&&document&&document.addEventListener&&document.addEventListener("scroll",this.onScroll,!0),this.props.autoFocus&&this.focusInput()}},{key:"componentWillReceiveProps",value:function(e){var t=this.props,n=t.options,r=t.value,i=t.inputValue;if(this.cacheComponents(e.components),e.value!==r||e.options!==n||e.inputValue!==i){var o=A(e.value),a=this.buildMenuOptions(e,o),s=this.getNextFocusedValue(o),l=this.getNextFocusedOption(a.focusable);this.setState({menuOptions:a,selectValue:o,focusedOption:l,focusedValue:s})}null!=this.inputIsHiddenAfterUpdate&&(this.setState({inputIsHidden:this.inputIsHiddenAfterUpdate}),delete this.inputIsHiddenAfterUpdate)}},{key:"componentDidUpdate",value:function(e){var t,n,r,i,o,a=this.props,s=a.isDisabled,l=a.menuIsOpen,c=this.state.isFocused;(c&&!s&&e.isDisabled||c&&l&&!e.menuIsOpen)&&this.focusInput(),this.menuListRef&&this.focusedOptionRef&&this.scrollToFocusedOptionOnUpdate&&(t=this.menuListRef,n=this.focusedOptionRef,r=t.getBoundingClientRect(),i=n.getBoundingClientRect(),o=n.offsetHeight/3,i.bottom+o>r.bottom?R(t,Math.min(n.offsetTop+n.clientHeight-t.offsetHeight+o,t.scrollHeight)):i.top-o<r.top&&R(t,Math.max(n.offsetTop-o,0))),this.scrollToFocusedOptionOnUpdate=!1}},{key:"componentWillUnmount",value:function(){this.stopListeningComposition(),this.stopListeningToTouch(),document.removeEventListener("scroll",this.onScroll,!0)}},{key:"onMenuOpen",value:function(){this.props.onMenuOpen()}},{key:"onMenuClose",value:function(){var e=this.props,t=e.isSearchable,n=e.isMulti;this.announceAriaLiveContext({event:"input",context:{isSearchable:t,isMulti:n}}),this.onInputChange("",{action:"menu-close"}),this.props.onMenuClose()}},{key:"onInputChange",value:function(e,t){this.props.onInputChange(e,t)}},{key:"focusInput",value:function(){this.inputRef&&this.inputRef.focus()}},{key:"blurInput",value:function(){this.inputRef&&this.inputRef.blur()}},{key:"openMenu",value:function(e){var t=this.state,n=t.menuOptions,r=t.selectValue,i=t.isFocused,o=this.props.isMulti,a="first"===e?0:n.focusable.length-1;if(!o){var s=n.focusable.indexOf(r[0]);s>-1&&(a=s)}this.scrollToFocusedOptionOnUpdate=!(i&&this.menuListRef),this.inputIsHiddenAfterUpdate=!1,this.onMenuOpen(),this.setState({focusedValue:null,focusedOption:n.focusable[a]}),this.announceAriaLiveContext({event:"menu"})}},{key:"focusValue",value:function(e){var t=this.props,n=t.isMulti,r=t.isSearchable,i=this.state,o=i.selectValue,a=i.focusedValue;if(n){this.setState({focusedOption:null});var s=o.indexOf(a);a||(s=-1,this.announceAriaLiveContext({event:"value"}));var l=o.length-1,c=-1;if(o.length){switch(e){case"previous":c=0===s?0:-1===s?l:s-1;break;case"next":s>-1&&s<l&&(c=s+1)}-1===c&&this.announceAriaLiveContext({event:"input",context:{isSearchable:r,isMulti:n}}),this.setState({inputIsHidden:-1!==c,focusedValue:o[c]})}}}},{key:"focusOption",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"first",t=this.props.pageSize,n=this.state,r=n.focusedOption,i=n.menuOptions,o=i.focusable;if(o.length){var a=0,s=o.indexOf(r);r||(s=-1,this.announceAriaLiveContext({event:"menu"})),"up"===e?a=s>0?s-1:o.length-1:"down"===e?a=(s+1)%o.length:"pageup"===e?(a=s-t)<0&&(a=0):"pagedown"===e?(a=s+t)>o.length-1&&(a=o.length-1):"last"===e&&(a=o.length-1),this.scrollToFocusedOptionOnUpdate=!0,this.setState({focusedOption:o[a],focusedValue:null}),this.announceAriaLiveContext({event:"menu",context:{isDisabled:we(o[a])}})}}},{key:"getTheme",value:function(){return this.props.theme?"function"==typeof this.props.theme?this.props.theme(He):j({},He,this.props.theme):He}},{key:"getCommonProps",value:function(){var e=this.clearValue,t=this.getStyles,n=this.setValue,r=this.selectOption,i=this.props,o=i.classNamePrefix,a=i.isMulti,s=i.isRtl,l=i.options,c=this.state.selectValue,u=this.hasValue();return{cx:I.bind(null,o),clearValue:e,getStyles:t,getValue:function(){return c},hasValue:u,isMulti:a,isRtl:s,options:l,selectOption:r,setValue:n,selectProps:i,theme:this.getTheme()}}},{key:"getNextFocusedValue",value:function(e){if(this.clearFocusValueOnUpdate)return this.clearFocusValueOnUpdate=!1,null;var t=this.state,n=t.focusedValue,r=t.selectValue.indexOf(n);if(r>-1){if(e.indexOf(n)>-1)return n;if(r<e.length)return e[r]}return null}},{key:"getNextFocusedOption",value:function(e){var t=this.state.focusedOption;return t&&e.indexOf(t)>-1?t:e[0]}},{key:"hasValue",value:function(){return this.state.selectValue.length>0}},{key:"hasOptions",value:function(){return!!this.state.menuOptions.render.length}},{key:"countOptions",value:function(){return this.state.menuOptions.focusable.length}},{key:"isClearable",value:function(){var e=this.props,t=e.isClearable,n=e.isMulti;return void 0===t?n:t}},{key:"isOptionDisabled",value:function(e,t){return"function"==typeof this.props.isOptionDisabled&&this.props.isOptionDisabled(e,t)}},{key:"isOptionSelected",value:function(e,t){var n=this;if(t.indexOf(e)>-1)return!0;if("function"==typeof this.props.isOptionSelected)return this.props.isOptionSelected(e,t);var r=this.getOptionValue(e);return t.some((function(e){return n.getOptionValue(e)===r}))}},{key:"filterOption",value:function(e,t){return!this.props.filterOption||this.props.filterOption(e,t)}},{key:"formatOptionLabel",value:function(e,t){if("function"==typeof this.props.formatOptionLabel){var n=this.props.inputValue,r=this.state.selectValue;return this.props.formatOptionLabel(e,{context:t,inputValue:n,selectValue:r})}return this.getOptionLabel(e)}},{key:"formatGroupLabel",value:function(e){return this.props.formatGroupLabel(e)}},{key:"startListeningComposition",value:function(){document&&document.addEventListener&&(document.addEventListener("compositionstart",this.onCompositionStart,!1),document.addEventListener("compositionend",this.onCompositionEnd,!1))}},{key:"stopListeningComposition",value:function(){document&&document.removeEventListener&&(document.removeEventListener("compositionstart",this.onCompositionStart),document.removeEventListener("compositionend",this.onCompositionEnd))}},{key:"startListeningToTouch",value:function(){document&&document.addEventListener&&(document.addEventListener("touchstart",this.onTouchStart,!1),document.addEventListener("touchmove",this.onTouchMove,!1),document.addEventListener("touchend",this.onTouchEnd,!1))}},{key:"stopListeningToTouch",value:function(){document&&document.removeEventListener&&(document.removeEventListener("touchstart",this.onTouchStart),document.removeEventListener("touchmove",this.onTouchMove),document.removeEventListener("touchend",this.onTouchEnd))}},{key:"buildMenuOptions",value:function(e,t){var n=this,r=e.inputValue,i=void 0===r?"":r,o=e.options,a=function(e,r){var o=n.isOptionDisabled(e,t),a=n.isOptionSelected(e,t),s=n.getOptionLabel(e),l=n.getOptionValue(e);if(!(n.shouldHideSelectedOptions()&&a||!n.filterOption({label:s,value:l,data:e},i))){var c=o?void 0:function(){return n.onOptionHover(e)},u=o?void 0:function(){return n.selectOption(e)},d="".concat(n.getElementId("option"),"-").concat(r);return{innerProps:{id:d,onClick:u,onMouseMove:c,onMouseOver:c,tabIndex:-1},data:e,isDisabled:o,isSelected:a,key:d,label:s,type:"option",value:l}}};return o.reduce((function(e,t,r){if(t.options){n.hasGroups||(n.hasGroups=!0);var i=t.options.map((function(t,n){var i=a(t,"".concat(r,"-").concat(n));return i&&e.focusable.push(t),i})).filter(Boolean);if(i.length){var o="".concat(n.getElementId("group"),"-").concat(r);e.render.push({type:"group",key:o,data:t,options:i})}}else{var s=a(t,"".concat(r));s&&(e.render.push(s),e.focusable.push(t))}return e}),{render:[],focusable:[]})}},{key:"constructAriaLiveMessage",value:function(){var e=this.state,t=e.ariaLiveContext,n=e.selectValue,r=e.focusedValue,i=e.focusedOption,o=this.props,a=o.options,s=o.menuIsOpen,l=o.inputValue,c=o.screenReaderStatus,u=r?function(e){var t=e.focusedValue,n=e.getOptionLabel,r=e.selectValue;return"value ".concat(n(t)," focused, ").concat(r.indexOf(t)+1," of ").concat(r.length,".")}({focusedValue:r,getOptionLabel:this.getOptionLabel,selectValue:n}):"",d=i&&s?function(e){var t=e.focusedOption,n=e.getOptionLabel,r=e.options;return"option ".concat(n(t)," focused").concat(t.isDisabled?" disabled":"",", ").concat(r.indexOf(t)+1," of ").concat(r.length,".")}({focusedOption:i,getOptionLabel:this.getOptionLabel,options:a}):"",p=function(e){var t=e.inputValue,n=e.screenReaderMessage;return"".concat(n).concat(t?" for search term "+t:"",".")}({inputValue:l,screenReaderMessage:c({count:this.countOptions()})});return"".concat(u," ").concat(d," ").concat(p," ").concat(t)}},{key:"renderInput",value:function(){var e=this.props,t=e.isDisabled,n=e.isSearchable,r=e.inputId,o=e.inputValue,a=e.tabIndex,s=this.components.Input,l=this.state.inputIsHidden,c=r||this.getElementId("input");if(!n)return i.a.createElement(oe,{id:c,innerRef:this.getInputRef,onBlur:this.onInputBlur,onChange:P,onFocus:this.onInputFocus,readOnly:!0,disabled:t,tabIndex:a,value:""});var u={"aria-autocomplete":"list","aria-label":this.props["aria-label"],"aria-labelledby":this.props["aria-labelledby"]},d=this.commonProps,p=d.cx,m=d.theme,f=d.selectProps;return i.a.createElement(s,w({autoCapitalize:"none",autoComplete:"off",autoCorrect:"off",cx:p,getStyles:this.getStyles,id:c,innerRef:this.getInputRef,isDisabled:t,isHidden:l,onBlur:this.onInputBlur,onChange:this.handleInputChange,onFocus:this.onInputFocus,selectProps:f,spellCheck:"false",tabIndex:a,theme:m,type:"text",value:o},u))}},{key:"renderPlaceholderOrValue",value:function(){var e=this,t=this.components,n=t.MultiValue,r=t.MultiValueContainer,o=t.MultiValueLabel,a=t.MultiValueRemove,s=t.SingleValue,l=t.Placeholder,c=this.commonProps,u=this.props,d=u.controlShouldRenderValue,p=u.isDisabled,m=u.isMulti,f=u.inputValue,h=u.placeholder,v=this.state,g=v.selectValue,b=v.focusedValue,y=v.isFocused;if(!this.hasValue()||!d)return f?null:i.a.createElement(l,w({},c,{key:"placeholder",isDisabled:p,isFocused:y}),h);if(m)return g.map((function(t){var s=t===b;return i.a.createElement(n,w({},c,{components:{Container:r,Label:o,Remove:a},isFocused:s,isDisabled:p,key:e.getOptionValue(t),removeProps:{onClick:function(){return e.removeValue(t)},onTouchEnd:function(){return e.removeValue(t)},onMouseDown:function(e){e.preventDefault(),e.stopPropagation()}},data:t}),e.formatOptionLabel(t,"value"))}));if(f)return null;var k=g[0];return i.a.createElement(s,w({},c,{data:k,isDisabled:p}),this.formatOptionLabel(k,"value"))}},{key:"renderClearIndicator",value:function(){var e=this.components.ClearIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,a=this.state.isFocused;if(!this.isClearable()||!e||r||!this.hasValue()||o)return null;var s={onMouseDown:this.onClearIndicatorMouseDown,onTouchEnd:this.onClearIndicatorTouchEnd,"aria-hidden":"true"};return i.a.createElement(e,w({},t,{innerProps:s,isFocused:a}))}},{key:"renderLoadingIndicator",value:function(){var e=this.components.LoadingIndicator,t=this.commonProps,n=this.props,r=n.isDisabled,o=n.isLoading,a=this.state.isFocused;if(!e||!o)return null;return i.a.createElement(e,w({},t,{innerProps:{"aria-hidden":"true"},isDisabled:r,isFocused:a}))}},{key:"renderIndicatorSeparator",value:function(){var e=this.components,t=e.DropdownIndicator,n=e.IndicatorSeparator;if(!t||!n)return null;var r=this.commonProps,o=this.props.isDisabled,a=this.state.isFocused;return i.a.createElement(n,w({},r,{isDisabled:o,isFocused:a}))}},{key:"renderDropdownIndicator",value:function(){var e=this.components.DropdownIndicator;if(!e)return null;var t=this.commonProps,n=this.props.isDisabled,r=this.state.isFocused,o={onMouseDown:this.onDropdownIndicatorMouseDown,onTouchEnd:this.onDropdownIndicatorTouchEnd,"aria-hidden":"true"};return i.a.createElement(e,w({},t,{innerProps:o,isDisabled:n,isFocused:r}))}},{key:"renderMenu",value:function(){var e=this,t=this.components,n=t.Group,r=t.GroupHeading,o=t.Menu,a=t.MenuList,s=t.MenuPortal,l=t.LoadingMessage,c=t.NoOptionsMessage,u=t.Option,d=this.commonProps,p=this.state,m=p.focusedOption,f=p.menuOptions,h=this.props,v=h.captureMenuScroll,g=h.inputValue,b=h.isLoading,y=h.loadingMessage,k=h.minMenuHeight,j=h.maxMenuHeight,_=h.menuIsOpen,x=h.menuPlacement,C=h.menuPosition,S=h.menuPortalTarget,E=h.menuShouldBlockScroll,T=h.menuShouldScrollIntoView,P=h.noOptionsMessage,N=h.onMenuScrollToTop,I=h.onMenuScrollToBottom;if(!_)return null;var A,D=function(t){var n=m===t.data;return t.innerRef=n?e.getFocusedOptionRef:void 0,i.a.createElement(u,w({},d,t,{isFocused:n}),e.formatOptionLabel(t.data,"menu"))};if(this.hasOptions())A=f.render.map((function(t){if("group"===t.type){t.type;var o=O(t,["type"]),a="".concat(t.key,"-heading");return i.a.createElement(n,w({},d,o,{Heading:r,headingProps:{id:a},label:e.formatGroupLabel(t.data)}),t.options.map((function(e){return D(e)})))}if("option"===t.type)return D(t)}));else if(b){var B=y({inputValue:g});if(null===B)return null;A=i.a.createElement(l,d,B)}else{var R=P({inputValue:g});if(null===R)return null;A=i.a.createElement(c,d,R)}var L={minMenuHeight:k,maxMenuHeight:j,menuPlacement:x,menuPosition:C,menuShouldScrollIntoView:T},M=i.a.createElement(U,w({},d,L),(function(t){var n=t.ref,r=t.placerProps,s=r.placement,l=r.maxHeight;return i.a.createElement(o,w({},d,L,{innerRef:n,innerProps:{onMouseDown:e.onMenuMouseDown,onMouseMove:e.onMenuMouseMove},isLoading:b,placement:s}),i.a.createElement(be,{isEnabled:v,onTopArrive:N,onBottomArrive:I},i.a.createElement(ve,{isEnabled:E},i.a.createElement(a,w({},d,{innerRef:e.getMenuListRef,isLoading:b,maxHeight:l}),A))))}));return S||"fixed"===C?i.a.createElement(s,w({},d,{appendTo:S,controlElement:this.controlRef,menuPlacement:x,menuPosition:C}),M):M}},{key:"renderFormField",value:function(){var e=this,t=this.props,n=t.delimiter,r=t.isDisabled,o=t.isMulti,a=t.name,s=this.state.selectValue;if(a&&!r){if(o){if(n){var l=s.map((function(t){return e.getOptionValue(t)})).join(n);return i.a.createElement("input",{name:a,type:"hidden",value:l})}var c=s.length>0?s.map((function(t,n){return i.a.createElement("input",{key:"i-".concat(n),name:a,type:"hidden",value:e.getOptionValue(t)})})):i.a.createElement("input",{name:a,type:"hidden"});return i.a.createElement("div",null,c)}var u=s[0]?this.getOptionValue(s[0]):"";return i.a.createElement("input",{name:a,type:"hidden",value:u})}}},{key:"renderLiveRegion",value:function(){return this.state.isFocused?i.a.createElement(ie,{"aria-live":"assertive"},i.a.createElement("p",{id:"aria-selection-event"}," ",this.state.ariaLiveSelection),i.a.createElement("p",{id:"aria-context"}," ",this.constructAriaLiveMessage())):null}},{key:"render",value:function(){var e=this.components,t=e.Control,n=e.IndicatorsContainer,r=e.SelectContainer,o=e.ValueContainer,a=this.props,s=a.className,l=a.id,c=a.isDisabled,u=a.menuIsOpen,d=this.state.isFocused,p=this.commonProps=this.getCommonProps();return i.a.createElement(r,w({},p,{className:s,innerProps:{id:l,onKeyDown:this.onKeyDown},isDisabled:c,isFocused:d}),this.renderLiveRegion(),i.a.createElement(t,w({},p,{innerRef:this.getControlRef,innerProps:{onMouseDown:this.onControlMouseDown,onTouchEnd:this.onControlTouchEnd},isDisabled:c,isFocused:d,menuIsOpen:u}),i.a.createElement(o,w({},p,{isDisabled:c}),this.renderPlaceholderOrValue(),this.renderInput()),i.a.createElement(n,w({},p,{isDisabled:c}),this.renderClearIndicator(),this.renderLoadingIndicator(),this.renderIndicatorSeparator(),this.renderDropdownIndicator())),this.renderMenu(),this.renderFormField())}}]),t}(r.Component);k(Ge,"defaultProps",We);var $e={defaultInputValue:"",defaultMenuIsOpen:!1,defaultValue:null},Ke=function(e){var t,n;return n=t=function(t){function n(){var e,t;g(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return k(S(S(t=E(this,(e=x(n)).call.apply(e,[this].concat(i))))),"select",void 0),k(S(S(t)),"state",{inputValue:void 0!==t.props.inputValue?t.props.inputValue:t.props.defaultInputValue,menuIsOpen:void 0!==t.props.menuIsOpen?t.props.menuIsOpen:t.props.defaultMenuIsOpen,value:void 0!==t.props.value?t.props.value:t.props.defaultValue}),k(S(S(t)),"onChange",(function(e,n){t.callProp("onChange",e,n),t.setState({value:e})})),k(S(S(t)),"onInputChange",(function(e,n){var r=t.callProp("onInputChange",e,n);t.setState({inputValue:void 0!==r?r:e})})),k(S(S(t)),"onMenuOpen",(function(){t.callProp("onMenuOpen"),t.setState({menuIsOpen:!0})})),k(S(S(t)),"onMenuClose",(function(){t.callProp("onMenuClose"),t.setState({menuIsOpen:!1})})),t}return _(n,t),y(n,[{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"getProp",value:function(e){return void 0!==this.props[e]?this.props[e]:this.state[e]}},{key:"callProp",value:function(e){if("function"==typeof this.props[e]){for(var t,n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return(t=this.props)[e].apply(t,r)}}},{key:"render",value:function(){var t=this,n=this.props,r=(n.defaultInputValue,n.defaultMenuIsOpen,n.defaultValue,O(n,["defaultInputValue","defaultMenuIsOpen","defaultValue"]));return i.a.createElement(e,w({},r,{ref:function(e){t.select=e},inputValue:this.getProp("inputValue"),menuIsOpen:this.getProp("menuIsOpen"),onChange:this.onChange,onInputChange:this.onInputChange,onMenuClose:this.onMenuClose,onMenuOpen:this.onMenuOpen,value:this.getProp("value")}))}}]),n}(r.Component),k(t,"defaultProps",$e),n},Ye={cacheOptions:!1,defaultOptions:!1,filterOption:null},Ze=function(e){var t,n;return n=t=function(t){function n(e){var t;return g(this,n),k(S(S(t=E(this,x(n).call(this)))),"select",void 0),k(S(S(t)),"lastRequest",void 0),k(S(S(t)),"mounted",!1),k(S(S(t)),"optionsCache",{}),k(S(S(t)),"handleInputChange",(function(e,n){var r=t.props,i=r.cacheOptions,o=function(e,t,n){if(n){var r=n(e,t);if("string"==typeof r)return r}return e}(e,n,r.onInputChange);if(!o)return delete t.lastRequest,void t.setState({inputValue:"",loadedInputValue:"",loadedOptions:[],isLoading:!1,passEmptyOptions:!1});if(i&&t.optionsCache[o])t.setState({inputValue:o,loadedInputValue:o,loadedOptions:t.optionsCache[o],isLoading:!1,passEmptyOptions:!1});else{var a=t.lastRequest={};t.setState({inputValue:o,isLoading:!0,passEmptyOptions:!t.state.loadedInputValue},(function(){t.loadOptions(o,(function(e){t.mounted&&(e&&(t.optionsCache[o]=e),a===t.lastRequest&&(delete t.lastRequest,t.setState({isLoading:!1,loadedInputValue:o,loadedOptions:e||[],passEmptyOptions:!1})))}))}))}return o})),t.state={defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0,inputValue:void 0!==e.inputValue?e.inputValue:"",isLoading:!0===e.defaultOptions,loadedOptions:[],passEmptyOptions:!1},t}return _(n,t),y(n,[{key:"componentDidMount",value:function(){var e=this;this.mounted=!0;var t=this.props.defaultOptions,n=this.state.inputValue;!0===t&&this.loadOptions(n,(function(t){if(e.mounted){var n=!!e.lastRequest;e.setState({defaultOptions:t||[],isLoading:n})}}))}},{key:"componentWillReceiveProps",value:function(e){e.cacheOptions!==this.props.cacheOptions&&(this.optionsCache={}),e.defaultOptions!==this.props.defaultOptions&&this.setState({defaultOptions:Array.isArray(e.defaultOptions)?e.defaultOptions:void 0})}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"loadOptions",value:function(e,t){var n=this.props.loadOptions;if(!n)return t();var r=n(e,t);r&&"function"==typeof r.then&&r.then(t,(function(){return t()}))}},{key:"render",value:function(){var t=this,n=this.props,r=(n.loadOptions,O(n,["loadOptions"])),o=this.state,a=o.defaultOptions,s=o.inputValue,l=o.isLoading,c=o.loadedInputValue,u=o.loadedOptions,d=o.passEmptyOptions?[]:s&&c?u:a||[];return i.a.createElement(e,w({},r,{ref:function(e){t.select=e},options:d,isLoading:l,onInputChange:this.handleInputChange}))}}]),n}(r.Component),k(t,"defaultProps",Ye),n},Je=(Ze(Ke(Ge)),function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1?arguments[1]:void 0,n=String(e).toLowerCase(),r=String(t.value).toLowerCase(),i=String(t.label).toLowerCase();return r===n||i===n}),Qe=j({allowCreateWhileLoading:!1,createOptionPosition:"last"},{formatCreateLabel:function(e){return'Create "'.concat(e,'"')},isValidNewOption:function(e,t,n){return!(!e||t.some((function(t){return Je(e,t)}))||n.some((function(t){return Je(e,t)})))},getNewOptionData:function(e,t){return{label:t,value:e,__isNew__:!0}}}),Xe=function(e){var t,n;return n=t=function(t){function n(e){var t;g(this,n),k(S(S(t=E(this,x(n).call(this,e)))),"select",void 0),k(S(S(t)),"onChange",(function(e,n){var r=t.props,i=r.getNewOptionData,o=r.inputValue,a=r.isMulti,s=r.onChange,l=r.onCreateOption,c=r.value;if("select-option"!==n.action)return s(e,n);var u=t.state.newOption,d=Array.isArray(e)?e:[e];if(d[d.length-1]!==u)s(e,n);else if(l)l(o);else{var p=i(o,o),m={action:"create-option"};s(a?[].concat(T(A(c)),[p]):p,m)}}));var r=e.options||[];return t.state={newOption:void 0,options:r},t}return _(n,t),y(n,[{key:"componentWillReceiveProps",value:function(e){var t=e.allowCreateWhileLoading,n=e.createOptionPosition,r=e.formatCreateLabel,i=e.getNewOptionData,o=e.inputValue,a=e.isLoading,s=e.isValidNewOption,l=e.value,c=e.options||[],u=this.state.newOption;u=s(o,A(l),c)?i(o,r(o)):void 0,this.setState({newOption:u,options:!t&&a||!u?c:"first"===n?[u].concat(T(c)):[].concat(T(c),[u])})}},{key:"focus",value:function(){this.select.focus()}},{key:"blur",value:function(){this.select.blur()}},{key:"render",value:function(){var t=this,n=w({},this.props),r=this.state.options;return i.a.createElement(e,w({},n,{ref:function(e){t.select=e},options:r,onChange:this.onChange}))}}]),n}(r.Component),k(t,"defaultProps",Qe),n},et=(Ke(Xe(Ge)),Ze(Ke(Xe(Ge))),function(e){return function(t){t.in,t.onExited,t.appear,t.enter,t.exit;var n=O(t,["in","onExited","appear","enter","exit"]);return i.a.createElement(e,n)}}),tt=function(e){var t=e.component,n=e.duration,r=void 0===n?1:n,o=e.in,a=(e.onExited,O(e,["component","duration","in","onExited"])),s={entering:{opacity:0},entered:{opacity:1,transition:"opacity ".concat(r,"ms")},exiting:{opacity:0},exited:{opacity:0}};return i.a.createElement(h.Transition,{mountOnEnter:!0,unmountOnExit:!0,in:o,timeout:r},(function(e){var n={style:j({},s[e])};return i.a.createElement(t,w({innerProps:n},a))}))},nt=function(e){function t(){var e,n;g(this,t);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return k(S(S(n=E(this,(e=x(t)).call.apply(e,[this].concat(i))))),"duration",260),k(S(S(n)),"rafID",void 0),k(S(S(n)),"state",{width:"auto"}),k(S(S(n)),"transition",{exiting:{width:0,transition:"width ".concat(n.duration,"ms ease-out")},exited:{width:0}}),k(S(S(n)),"getWidth",(function(e){e&&isNaN(n.state.width)&&(n.rafID=window.requestAnimationFrame((function(){var t=e.getBoundingClientRect().width;n.setState({width:t})})))})),k(S(S(n)),"getStyle",(function(e){return{overflow:"hidden",whiteSpace:"nowrap",width:e}})),k(S(S(n)),"getTransition",(function(e){return n.transition[e]})),n}return _(t,e),y(t,[{key:"componentWillUnmount",value:function(){this.rafID&&window.cancelAnimationFrame(this.rafID)}},{key:"render",value:function(){var e=this,t=this.props,n=t.children,r=t.in,o=this.state.width;return i.a.createElement(h.Transition,{enter:!1,mountOnEnter:!0,unmountOnExit:!0,in:r,timeout:this.duration},(function(t){var r=j({},e.getStyle(o),e.getTransition(t));return i.a.createElement("div",{ref:e.getWidth,style:r},n)}))}}]),t}(r.Component),rt=function(e){return function(t){var n=t.in,r=t.onExited,o=O(t,["in","onExited"]);return i.a.createElement(nt,{in:n,onExited:r},i.a.createElement(e,w({cropWithEllipsis:n},o)))}},it=function(e){return function(t){return i.a.createElement(tt,w({component:e,duration:t.isMulti?260:1},t))}},ot=function(e){return function(t){return i.a.createElement(tt,w({component:e},t))}},at=function(e){return function(t){return i.a.createElement(h.TransitionGroup,w({component:e},t))}},st=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=Ve({components:e}),n=t.Input,r=t.MultiValue,i=t.Placeholder,o=t.SingleValue,a=t.ValueContainer,s=O(t,["Input","MultiValue","Placeholder","SingleValue","ValueContainer"]);return j({Input:et(n),MultiValue:rt(r),Placeholder:it(i),SingleValue:ot(o),ValueContainer:at(a)},s)},lt=st(),ct=(lt.Input,lt.MultiValue,lt.Placeholder,lt.SingleValue,lt.ValueContainer,a(st,X),Ke(Ge));t.b=ct},"./node_modules/react-select/node_modules/dom-helpers/class/addClass.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/interopRequireDefault.js");t.__esModule=!0,t.default=function(e,t){e.classList?e.classList.add(t):(0,i.default)(e,t)||("string"==typeof e.className?e.className=e.className+" "+t:e.setAttribute("class",(e.className&&e.className.baseVal||"")+" "+t))};var i=r(n("./node_modules/react-select/node_modules/dom-helpers/class/hasClass.js"));e.exports=t.default},"./node_modules/react-select/node_modules/dom-helpers/class/hasClass.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")},e.exports=t.default},"./node_modules/react-select/node_modules/dom-helpers/class/removeClass.js":function(e,t,n){"use strict";function r(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}e.exports=function(e,t){e.classList?e.classList.remove(t):"string"==typeof e.className?e.className=r(e.className,t):e.setAttribute("class",r(e.className&&e.className.baseVal||"",t))}},"./node_modules/react-select/node_modules/react-input-autosize/lib/AutosizeInput.js":function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var r=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},i=function(){function e(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}return function(t,n,r){return n&&e(t.prototype,n),r&&e(t,r),t}}(),o=n("./node_modules/react/index.js"),a=l(o),s=l(n("./node_modules/prop-types/index.js"));function l(e){return e&&e.__esModule?e:{default:e}}var c={position:"absolute",top:0,left:0,visibility:"hidden",height:0,overflow:"scroll",whiteSpace:"pre"},u=["extraWidth","injectStyles","inputClassName","inputRef","inputStyle","minWidth","onAutosize","placeholderIsMinWidth"],d=function(e,t){t.style.fontSize=e.fontSize,t.style.fontFamily=e.fontFamily,t.style.fontWeight=e.fontWeight,t.style.fontStyle=e.fontStyle,t.style.letterSpacing=e.letterSpacing,t.style.textTransform=e.textTransform},p=!("undefined"==typeof window||!window.navigator)&&/MSIE |Trident\/|Edge\//.test(window.navigator.userAgent),m=function(){return p?"_"+Math.random().toString(36).substr(2,12):void 0},f=function(e){function t(e){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,t);var n=function(e,t){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||"object"!=typeof t&&"function"!=typeof t?e:t}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,e));return n.inputRef=function(e){n.input=e,"function"==typeof n.props.inputRef&&n.props.inputRef(e)},n.placeHolderSizerRef=function(e){n.placeHolderSizer=e},n.sizerRef=function(e){n.sizer=e},n.state={inputWidth:e.minWidth,inputId:e.id||m()},n}return function(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function, not "+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}(t,e),i(t,[{key:"componentDidMount",value:function(){this.mounted=!0,this.copyInputStyles(),this.updateInputWidth()}},{key:"componentWillReceiveProps",value:function(e){var t=e.id;t!==this.props.id&&this.setState({inputId:t||m()})}},{key:"componentDidUpdate",value:function(e,t){t.inputWidth!==this.state.inputWidth&&"function"==typeof this.props.onAutosize&&this.props.onAutosize(this.state.inputWidth),this.updateInputWidth()}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"copyInputStyles",value:function(){if(this.mounted&&window.getComputedStyle){var e=this.input&&window.getComputedStyle(this.input);e&&(d(e,this.sizer),this.placeHolderSizer&&d(e,this.placeHolderSizer))}}},{key:"updateInputWidth",value:function(){if(this.mounted&&this.sizer&&void 0!==this.sizer.scrollWidth){var e=void 0;e=this.props.placeholder&&(!this.props.value||this.props.value&&this.props.placeholderIsMinWidth)?Math.max(this.sizer.scrollWidth,this.placeHolderSizer.scrollWidth)+2:this.sizer.scrollWidth+2,(e+="number"===this.props.type&&void 0===this.props.extraWidth?16:parseInt(this.props.extraWidth)||0)<this.props.minWidth&&(e=this.props.minWidth),e!==this.state.inputWidth&&this.setState({inputWidth:e})}}},{key:"getInput",value:function(){return this.input}},{key:"focus",value:function(){this.input.focus()}},{key:"blur",value:function(){this.input.blur()}},{key:"select",value:function(){this.input.select()}},{key:"renderStyles",value:function(){var e=this.props.injectStyles;return p&&e?a.default.createElement("style",{dangerouslySetInnerHTML:{__html:"input#"+this.state.inputId+"::-ms-clear {display: none;}"}}):null}},{key:"render",value:function(){var e=[this.props.defaultValue,this.props.value,""].reduce((function(e,t){return null!=e?e:t})),t=r({},this.props.style);t.display||(t.display="inline-block");var n=r({boxSizing:"content-box",width:this.state.inputWidth+"px"},this.props.inputStyle),i=function(e,t){var n={};for(var r in e)t.indexOf(r)>=0||Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r]);return n}(this.props,[]);return function(e){u.forEach((function(t){return delete e[t]}))}(i),i.className=this.props.inputClassName,i.id=this.state.inputId,i.style=n,a.default.createElement("div",{className:this.props.className,style:t},this.renderStyles(),a.default.createElement("input",r({},i,{ref:this.inputRef})),a.default.createElement("div",{ref:this.sizerRef,style:c},e),this.props.placeholder?a.default.createElement("div",{ref:this.placeHolderSizerRef,style:c},this.props.placeholder):null)}}]),t}(o.Component);f.propTypes={className:s.default.string,defaultValue:s.default.any,extraWidth:s.default.oneOfType([s.default.number,s.default.string]),id:s.default.string,injectStyles:s.default.bool,inputClassName:s.default.string,inputRef:s.default.func,inputStyle:s.default.object,minWidth:s.default.oneOfType([s.default.number,s.default.string]),onAutosize:s.default.func,onChange:s.default.func,placeholder:s.default.string,placeholderIsMinWidth:s.default.bool,style:s.default.object,value:s.default.any},f.defaultProps={minWidth:1,injectStyles:!0},t.default=f},"./node_modules/react-select/node_modules/react-transition-group/CSSTransition.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;!function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}t.default=e}(n("./node_modules/prop-types/index.js"));var r=s(n("./node_modules/react-select/node_modules/dom-helpers/class/addClass.js")),i=s(n("./node_modules/react-select/node_modules/dom-helpers/class/removeClass.js")),o=s(n("./node_modules/react/index.js")),a=s(n("./node_modules/react-select/node_modules/react-transition-group/Transition.js"));n("./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js");function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var c=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,r.default)(e,t)}))},u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return(0,i.default)(e,t)}))},d=function(e){var t,n;function r(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).onEnter=function(e,n){var r=t.getClassNames(n?"appear":"enter").className;t.removeClasses(e,"exit"),c(e,r),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=t.getClassNames(n?"appear":"enter").activeClassName;t.reflowAndAddClass(e,r),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=t.getClassNames("appear").doneClassName,i=t.getClassNames("enter").doneClassName,o=n?r+" "+i:i;t.removeClasses(e,n?"appear":"enter"),c(e,o),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){var n=t.getClassNames("exit").className;t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),c(e,n),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){var n=t.getClassNames("exit").activeClassName;t.reflowAndAddClass(e,n),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){var n=t.getClassNames("exit").doneClassName;t.removeClasses(e,"exit"),c(e,n),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?(r&&n?n+"-":"")+e:n[e];return{className:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.removeClasses=function(e,t){var n=this.getClassNames(t),r=n.className,i=n.activeClassName,o=n.doneClassName;r&&u(e,r),i&&u(e,i),o&&u(e,o)},i.reflowAndAddClass=function(e,t){t&&(e&&e.scrollTop,c(e,t))},i.render=function(){var e=l({},this.props);return delete e.classNames,o.default.createElement(a.default,l({},e,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},r}(o.default.Component);d.defaultProps={classNames:""},d.propTypes={};var p=d;t.default=p,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/ReplaceTransition.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;a(n("./node_modules/prop-types/index.js"));var r=a(n("./node_modules/react/index.js")),i=n("./node_modules/react-dom/index.js"),o=a(n("./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js"));function a(e){return e&&e.__esModule?e:{default:e}}var s=function(e){var t,n;function a(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).handleEnter=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEnter",0,n)},t.handleEntering=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntering",0,n)},t.handleEntered=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onEntered",0,n)},t.handleExit=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExit",1,n)},t.handleExiting=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExiting",1,n)},t.handleExited=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return t.handleLifecycle("onExited",1,n)},t}n=e,(t=a).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var s=a.prototype;return s.handleLifecycle=function(e,t,n){var o,a=this.props.children,s=r.default.Children.toArray(a)[t];s.props[e]&&(o=s.props)[e].apply(o,n),this.props[e]&&this.props[e]((0,i.findDOMNode)(this))},s.render=function(){var e=this.props,t=e.children,n=e.in,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["children","in"]),a=r.default.Children.toArray(t),s=a[0],l=a[1];return delete i.onEnter,delete i.onEntering,delete i.onEntered,delete i.onExit,delete i.onExiting,delete i.onExited,r.default.createElement(o.default,i,n?r.default.cloneElement(s,{key:"first",onEnter:this.handleEnter,onEntering:this.handleEntering,onEntered:this.handleEntered}):r.default.cloneElement(l,{key:"second",onEnter:this.handleExit,onEntering:this.handleExiting,onEntered:this.handleExited}))},a}(r.default.Component);s.propTypes={};var l=s;t.default=l,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/Transition.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=t.EXITING=t.ENTERED=t.ENTERING=t.EXITED=t.UNMOUNTED=void 0;var r=function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r=Object.defineProperty&&Object.getOwnPropertyDescriptor?Object.getOwnPropertyDescriptor(e,n):{};r.get||r.set?Object.defineProperty(t,n,r):t[n]=e[n]}return t.default=e,t}(n("./node_modules/prop-types/index.js")),i=s(n("./node_modules/react/index.js")),o=s(n("./node_modules/react-dom/index.js")),a=n("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js");n("./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js");function s(e){return e&&e.__esModule?e:{default:e}}var l="unmounted";t.UNMOUNTED=l;var c="exited";t.EXITED=c;var u="entering";t.ENTERING=u;var d="entered";t.ENTERED=d;var p="exiting";t.EXITING=p;var m=function(e){var t,n;function r(t,n){var r;r=e.call(this,t,n)||this;var i,o=n.transitionGroup,a=o&&!o.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?a?(i=c,r.appearStatus=u):i=d:i=t.unmountOnExit||t.mountOnEnter?l:c,r.state={status:i},r.nextCallback=null,r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var a=r.prototype;return a.getChildContext=function(){return{transitionGroup:null}},r.getDerivedStateFromProps=function(e,t){return e.in&&t.status===l?{status:c}:null},a.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},a.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==u&&n!==d&&(t=u):n!==u&&n!==d||(t=p)}this.updateStatus(!1,t)},a.componentWillUnmount=function(){this.cancelNextCallback()},a.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},a.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t){this.cancelNextCallback();var n=o.default.findDOMNode(this);t===u?this.performEnter(n,e):this.performExit(n)}else this.props.unmountOnExit&&this.state.status===c&&this.setState({status:l})},a.performEnter=function(e,t){var n=this,r=this.props.enter,i=this.context.transitionGroup?this.context.transitionGroup.isMounting:t,o=this.getTimeouts(),a=i?o.appear:o.enter;t||r?(this.props.onEnter(e,i),this.safeSetState({status:u},(function(){n.props.onEntering(e,i),n.onTransitionEnd(e,a,(function(){n.safeSetState({status:d},(function(){n.props.onEntered(e,i)}))}))}))):this.safeSetState({status:d},(function(){n.props.onEntered(e)}))},a.performExit=function(e){var t=this,n=this.props.exit,r=this.getTimeouts();n?(this.props.onExit(e),this.safeSetState({status:p},(function(){t.props.onExiting(e),t.onTransitionEnd(e,r.exit,(function(){t.safeSetState({status:c},(function(){t.props.onExited(e)}))}))}))):this.safeSetState({status:c},(function(){t.props.onExited(e)}))},a.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},a.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},a.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},a.onTransitionEnd=function(e,t,n){this.setNextCallback(n);var r=null==t&&!this.props.addEndListener;e&&!r?(this.props.addEndListener&&this.props.addEndListener(e,this.nextCallback),null!=t&&setTimeout(this.nextCallback,t)):setTimeout(this.nextCallback,0)},a.render=function(){var e=this.state.status;if(e===l)return null;var t=this.props,n=t.children,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(t,["children"]);if(delete r.in,delete r.mountOnEnter,delete r.unmountOnExit,delete r.appear,delete r.enter,delete r.exit,delete r.timeout,delete r.addEndListener,delete r.onEnter,delete r.onEntering,delete r.onEntered,delete r.onExit,delete r.onExiting,delete r.onExited,"function"==typeof n)return n(e,r);var o=i.default.Children.only(n);return i.default.cloneElement(o,r)},r}(i.default.Component);function f(){}m.contextTypes={transitionGroup:r.object},m.childContextTypes={transitionGroup:function(){}},m.propTypes={},m.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:f,onEntering:f,onEntered:f,onExit:f,onExiting:f,onExited:f},m.UNMOUNTED=0,m.EXITED=1,m.ENTERING=2,m.ENTERED=3,m.EXITING=4;var h=(0,a.polyfill)(m);t.default=h},"./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js":function(e,t,n){"use strict";t.__esModule=!0,t.default=void 0;var r=s(n("./node_modules/prop-types/index.js")),i=s(n("./node_modules/react/index.js")),o=n("./node_modules/react-lifecycles-compat/react-lifecycles-compat.es.js"),a=n("./node_modules/react-select/node_modules/react-transition-group/utils/ChildMapping.js");function s(e){return e&&e.__esModule?e:{default:e}}function l(){return(l=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function c(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}var u=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},d=function(e){var t,n;function r(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(c(c(r)));return r.state={handleExited:i,firstRender:!0},r}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var o=r.prototype;return o.getChildContext=function(){return{transitionGroup:{isMounting:!this.appeared}}},o.componentDidMount=function(){this.appeared=!0,this.mounted=!0},o.componentWillUnmount=function(){this.mounted=!1},r.getDerivedStateFromProps=function(e,t){var n=t.children,r=t.handleExited;return{children:t.firstRender?(0,a.getInitialChildMapping)(e,r):(0,a.getNextChildMapping)(e,n,r),firstRender:!1}},o.handleExited=function(e,t){var n=(0,a.getChildMapping)(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=l({},t.children);return delete n[e.key],{children:n}})))},o.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,["component","childFactory"]),o=u(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?o:i.default.createElement(t,r,o)},r}(i.default.Component);d.childContextTypes={transitionGroup:r.default.object.isRequired},d.propTypes={},d.defaultProps={component:"div",childFactory:function(e){return e}};var p=(0,o.polyfill)(d);t.default=p,e.exports=t.default},"./node_modules/react-select/node_modules/react-transition-group/index.js":function(e,t,n){"use strict";var r=s(n("./node_modules/react-select/node_modules/react-transition-group/CSSTransition.js")),i=s(n("./node_modules/react-select/node_modules/react-transition-group/ReplaceTransition.js")),o=s(n("./node_modules/react-select/node_modules/react-transition-group/TransitionGroup.js")),a=s(n("./node_modules/react-select/node_modules/react-transition-group/Transition.js"));function s(e){return e&&e.__esModule?e:{default:e}}e.exports={Transition:a.default,TransitionGroup:o.default,ReplaceTransition:i.default,CSSTransition:r.default}},"./node_modules/react-select/node_modules/react-transition-group/utils/ChildMapping.js":function(e,t,n){"use strict";t.__esModule=!0,t.getChildMapping=i,t.mergeChildMappings=o,t.getInitialChildMapping=function(e,t){return i(e.children,(function(n){return(0,r.cloneElement)(n,{onExited:t.bind(null,n),in:!0,appear:a(n,"appear",e),enter:a(n,"enter",e),exit:a(n,"exit",e)})}))},t.getNextChildMapping=function(e,t,n){var s=i(e.children),l=o(t,s);return Object.keys(l).forEach((function(i){var o=l[i];if((0,r.isValidElement)(o)){var c=i in t,u=i in s,d=t[i],p=(0,r.isValidElement)(d)&&!d.props.in;!u||c&&!p?u||!c||p?u&&c&&(0,r.isValidElement)(d)&&(l[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:d.props.in,exit:a(o,"exit",e),enter:a(o,"enter",e)})):l[i]=(0,r.cloneElement)(o,{in:!1}):l[i]=(0,r.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:a(o,"exit",e),enter:a(o,"enter",e)})}})),l};var r=n("./node_modules/react/index.js");function i(e,t){var n=Object.create(null);return e&&r.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,r.isValidElement)(e)?t(e):e}(e)})),n}function o(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}function a(e,t,n){return null!=n[t]?n[t]:e.props[t]}},"./node_modules/react-select/node_modules/react-transition-group/utils/PropTypes.js":function(e,t,n){"use strict";t.__esModule=!0,t.classNamesShape=t.timeoutsShape=void 0;var r;(r=n("./node_modules/prop-types/index.js"))&&r.__esModule;t.timeoutsShape=null;t.classNamesShape=null},"./node_modules/react-transition-group/esm/CSSTransition.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),i=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),o=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js");n("./node_modules/prop-types/index.js");function a(e,t){return e.replace(new RegExp("(^|\\s)"+t+"(?:\\s|$)","g"),"$1").replace(/\s+/g," ").replace(/^\s*|\s*$/g,"")}var s=n("./node_modules/react/index.js"),l=n.n(s),c=n("./node_modules/react-transition-group/esm/Transition.js"),u=function(e,t){return e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.remove(r):"string"==typeof n.className?n.className=a(n.className,r):n.setAttribute("class",a(n.className&&n.className.baseVal||"",r)));var n,r}))},d=function(e){function t(){for(var t,n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(t=e.call.apply(e,[this].concat(r))||this).appliedClasses={appear:{},enter:{},exit:{}},t.onEnter=function(e,n){t.removeClasses(e,"exit"),t.addClass(e,n?"appear":"enter","base"),t.props.onEnter&&t.props.onEnter(e,n)},t.onEntering=function(e,n){var r=n?"appear":"enter";t.addClass(e,r,"active"),t.props.onEntering&&t.props.onEntering(e,n)},t.onEntered=function(e,n){var r=n?"appear":"enter";t.removeClasses(e,r),t.addClass(e,r,"done"),t.props.onEntered&&t.props.onEntered(e,n)},t.onExit=function(e){t.removeClasses(e,"appear"),t.removeClasses(e,"enter"),t.addClass(e,"exit","base"),t.props.onExit&&t.props.onExit(e)},t.onExiting=function(e){t.addClass(e,"exit","active"),t.props.onExiting&&t.props.onExiting(e)},t.onExited=function(e){t.removeClasses(e,"exit"),t.addClass(e,"exit","done"),t.props.onExited&&t.props.onExited(e)},t.getClassNames=function(e){var n=t.props.classNames,r="string"==typeof n,i=r?""+(r&&n?n+"-":"")+e:n[e];return{baseClassName:i,activeClassName:r?i+"-active":n[e+"Active"],doneClassName:r?i+"-done":n[e+"Done"]}},t}Object(o.a)(t,e);var n=t.prototype;return n.addClass=function(e,t,n){var r=this.getClassNames(t)[n+"ClassName"];"appear"===t&&"done"===n&&(r+=" "+this.getClassNames("enter").doneClassName),"active"===n&&e&&e.scrollTop,this.appliedClasses[t][n]=r,function(e,t){e&&t&&t.split(" ").forEach((function(t){return r=t,void((n=e).classList?n.classList.add(r):function(e,t){return e.classList?!!t&&e.classList.contains(t):-1!==(" "+(e.className.baseVal||e.className)+" ").indexOf(" "+t+" ")}(n,r)||("string"==typeof n.className?n.className=n.className+" "+r:n.setAttribute("class",(n.className&&n.className.baseVal||"")+" "+r)));var n,r}))}(e,r)},n.removeClasses=function(e,t){var n=this.appliedClasses[t],r=n.base,i=n.active,o=n.done;this.appliedClasses[t]={},r&&u(e,r),i&&u(e,i),o&&u(e,o)},n.render=function(){var e=this.props,t=(e.classNames,Object(i.a)(e,["classNames"]));return l.a.createElement(c.a,Object(r.a)({},t,{onEnter:this.onEnter,onEntered:this.onEntered,onEntering:this.onEntering,onExit:this.onExit,onExiting:this.onExiting,onExited:this.onExited}))},t}(l.a.Component);d.defaultProps={classNames:""},d.propTypes={};t.a=d},"./node_modules/react-transition-group/esm/TransitionGroup.js":function(e,t,n){"use strict";var r=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),i=n("./node_modules/@babel/runtime/helpers/esm/extends.js"),o=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),a=n("./node_modules/@babel/runtime/helpers/esm/assertThisInitialized.js"),s=(n("./node_modules/prop-types/index.js"),n("./node_modules/react/index.js")),l=n.n(s),c=n("./node_modules/react-transition-group/esm/TransitionGroupContext.js");function u(e,t){var n=Object.create(null);return e&&s.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&Object(s.isValidElement)(e)?t(e):e}(e)})),n}function d(e,t,n){return null!=n[t]?n[t]:e.props[t]}function p(e,t,n){var r=u(e.children),i=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),o=[];for(var a in e)a in t?o.length&&(i[a]=o,o=[]):o.push(a);var s={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];s[i[l][r]]=n(c)}s[l]=n(l)}for(r=0;r<o.length;r++)s[o[r]]=n(o[r]);return s}(t,r);return Object.keys(i).forEach((function(o){var a=i[o];if(Object(s.isValidElement)(a)){var l=o in t,c=o in r,u=t[o],p=Object(s.isValidElement)(u)&&!u.props.in;!c||l&&!p?c||!l||p?c&&l&&Object(s.isValidElement)(u)&&(i[o]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:u.props.in,exit:d(a,"exit",e),enter:d(a,"enter",e)})):i[o]=Object(s.cloneElement)(a,{in:!1}):i[o]=Object(s.cloneElement)(a,{onExited:n.bind(null,a),in:!0,exit:d(a,"exit",e),enter:d(a,"enter",e)})}})),i}var m=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},f=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(Object(a.a)(Object(a.a)(r)));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}Object(o.a)(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,i=t.children,o=t.handleExited;return{children:t.firstRender?(n=e,r=o,u(n.children,(function(e){return Object(s.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:d(e,"appear",n),enter:d(e,"enter",n),exit:d(e,"exit",n)})}))):p(e,i,o),firstRender:!1}},n.handleExited=function(e,t){var n=u(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Object(i.a)({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,i=Object(r.a)(e,["component","childFactory"]),o=this.state.contextValue,a=m(this.state.children).map(n);return delete i.appear,delete i.enter,delete i.exit,null===t?l.a.createElement(c.a.Provider,{value:o},a):l.a.createElement(c.a.Provider,{value:o},l.a.createElement(t,i,a))},t}(l.a.Component);f.propTypes={},f.defaultProps={component:"div",childFactory:function(e){return e}};t.a=f},"./node_modules/retry/index.js":function(e,t,n){e.exports=n("./node_modules/retry/lib/retry.js")},"./node_modules/retry/lib/retry.js":function(e,t,n){var r=n("./node_modules/retry/lib/retry_operation.js");t.operation=function(e){var n=t.timeouts(e);return new r(n,{forever:e&&e.forever,unref:e&&e.unref,maxRetryTime:e&&e.maxRetryTime})},t.timeouts=function(e){if(e instanceof Array)return[].concat(e);var t={retries:10,factor:2,minTimeout:1e3,maxTimeout:1/0,randomize:!1};for(var n in e)t[n]=e[n];if(t.minTimeout>t.maxTimeout)throw new Error("minTimeout is greater than maxTimeout");for(var r=[],i=0;i<t.retries;i++)r.push(this.createTimeout(i,t));return e&&e.forever&&!r.length&&r.push(this.createTimeout(i,t)),r.sort((function(e,t){return e-t})),r},t.createTimeout=function(e,t){var n=t.randomize?Math.random()+1:1,r=Math.round(n*t.minTimeout*Math.pow(t.factor,e));return r=Math.min(r,t.maxTimeout)},t.wrap=function(e,n,r){if(n instanceof Array&&(r=n,n=null),!r)for(var i in r=[],e)"function"==typeof e[i]&&r.push(i);for(var o=0;o<r.length;o++){var a=r[o],s=e[a];e[a]=function(r){var i=t.operation(n),o=Array.prototype.slice.call(arguments,1),a=o.pop();o.push((function(e){i.retry(e)||(e&&(arguments[0]=i.mainError()),a.apply(this,arguments))})),i.attempt((function(){r.apply(e,o)}))}.bind(e,s),e[a].options=n}}},"./node_modules/retry/lib/retry_operation.js":function(e,t){function n(e,t){"boolean"==typeof t&&(t={forever:t}),this._originalTimeouts=JSON.parse(JSON.stringify(e)),this._timeouts=e,this._options=t||{},this._maxRetryTime=t&&t.maxRetryTime||1/0,this._fn=null,this._errors=[],this._attempts=1,this._operationTimeout=null,this._operationTimeoutCb=null,this._timeout=null,this._operationStart=null,this._options.forever&&(this._cachedTimeouts=this._timeouts.slice(0))}e.exports=n,n.prototype.reset=function(){this._attempts=1,this._timeouts=this._originalTimeouts},n.prototype.stop=function(){this._timeout&&clearTimeout(this._timeout),this._timeouts=[],this._cachedTimeouts=null},n.prototype.retry=function(e){if(this._timeout&&clearTimeout(this._timeout),!e)return!1;var t=(new Date).getTime();if(e&&t-this._operationStart>=this._maxRetryTime)return this._errors.unshift(new Error("RetryOperation timeout occurred")),!1;this._errors.push(e);var n=this._timeouts.shift();if(void 0===n){if(!this._cachedTimeouts)return!1;this._errors.splice(this._errors.length-1,this._errors.length),this._timeouts=this._cachedTimeouts.slice(0),n=this._timeouts.shift()}var r=this,i=setTimeout((function(){r._attempts++,r._operationTimeoutCb&&(r._timeout=setTimeout((function(){r._operationTimeoutCb(r._attempts)}),r._operationTimeout),r._options.unref&&r._timeout.unref()),r._fn(r._attempts)}),n);return this._options.unref&&i.unref(),!0},n.prototype.attempt=function(e,t){this._fn=e,t&&(t.timeout&&(this._operationTimeout=t.timeout),t.cb&&(this._operationTimeoutCb=t.cb));var n=this;this._operationTimeoutCb&&(this._timeout=setTimeout((function(){n._operationTimeoutCb()}),n._operationTimeout)),this._operationStart=(new Date).getTime(),this._fn(this._attempts)},n.prototype.try=function(e){console.log("Using RetryOperation.try() is deprecated"),this.attempt(e)},n.prototype.start=function(e){console.log("Using RetryOperation.start() is deprecated"),this.attempt(e)},n.prototype.start=n.prototype.try,n.prototype.errors=function(){return this._errors},n.prototype.attempts=function(){return this._attempts},n.prototype.mainError=function(){if(0===this._errors.length)return null;for(var e={},t=null,n=0,r=0;r<this._errors.length;r++){var i=this._errors[r],o=i.message,a=(e[o]||0)+1;e[o]=a,a>=n&&(t=i,n=a)}return t}},"./node_modules/shallowequal/index.js":function(e,t){e.exports=function(e,t,n,r){var i=n?n.call(r,e,t):void 0;if(void 0!==i)return!!i;if(e===t)return!0;if("object"!=typeof e||!e||"object"!=typeof t||!t)return!1;var o=Object.keys(e),a=Object.keys(t);if(o.length!==a.length)return!1;for(var s=Object.prototype.hasOwnProperty.bind(t),l=0;l<o.length;l++){var c=o[l];if(!s(c))return!1;var u=e[c],d=t[c];if(!1===(i=n?n.call(r,u,d,c):void 0)||void 0===i&&u!==d)return!1}return!0}},"./packages/nachos/checkbox.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return w}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./node_modules/@react-aria/focus/dist/module.js"),l=n("./packages/nachos/tokens.ts"),c=n("./packages/nachos/src/components/makeComponentClasses.ts"),u=n("./packages/nachos/src/components/Checkbox/Checkbox.less"),d=n.n(u);function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function m(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function f(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||v(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(e){return function(e){if(Array.isArray(e))return g(e)}(e)||function(e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e))return Array.from(e)}(e)||v(e)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function v(e,t){if(e){if("string"==typeof e)return g(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);return"Object"===n&&e.constructor&&(n=e.constructor.name),"Map"===n||"Set"===n?Array.from(n):"Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)?g(e,t):void 0}}function g(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}var b=function(e,t){var n,i,o,a,s,c=t||{},u=c.isChecked,d=c.defaultChecked,p=c.isDisabled,m=c.isIndeterminate,f=c.isInvalid,v=c.onChange,g=c.isRequired,b=c.value,y=c.checkboxState,k=c.setCheckboxState,w=Object(r.useRef)(v),j=void 0!==(n={isChecked:u,value:b,checkboxState:y,defaultChecked:d}).isChecked?n.isChecked:n.defaultChecked?void 0:n.value?-1!==(Array.isArray(n.checkboxState)?n.checkboxState:[]).indexOf(n.value):!!n.checkboxState;i=u,o="checked",a="NachosCheckbox",s=Object(r.useMemo)((function(){return void 0!==i}),[i]),Object(r.useRef)(s),Object(r.useEffect)((function(){}),[a,o,s]),Object(r.useLayoutEffect)((function(){w.current=v})),Object(r.useLayoutEffect)((function(){var t=e.current;t?m||y===l.ComponentStateIndeterminate?t.indeterminate=!0:t.indeterminate=!1:m||l.ComponentStateIndeterminate}),[m,y,e]);return{"aria-checked":y===l.ComponentStateIndeterminate?"mixed":j,"aria-disabled":p,"aria-invalid":f||!0===g&&!j,checked:j,defaultChecked:d,disabled:p,onChange:function(e){if(p)return e.stopPropagation(),void e.preventDefault();if(w.current&&w.current(e),b){var t=Array.isArray(y)?y:[],n=t.indexOf(b);if(-1===n)k([].concat(h(t),[b]));else{var r=t.filter((function(e,t){return t!==n}));k(r)}}else k(!j)},ref:e,required:g,value:b}},y=function(){return i.a.createElement("svg",{width:l.CheckboxDefaultWidth,height:l.CheckboxDefaultHeight,viewBox:"-3 -4 16 16",fill:"none",xmlns:"http://www.w3.org/2000/svg",focusable:"false",role:"presentation"},i.a.createElement("path",{d:"M1.49022 3.21486C1.2407 2.94412 0.818938 2.92692 0.548195 3.17644C0.277453 3.42597 0.260252 3.84773 0.509776 4.11847L2.91785 6.73131C3.2762 7.08204 3.80964 7.08204 4.14076 6.75092C4.18159 6.71082 4.18159 6.71082 4.38359 6.51218C4.57995 6.31903 4.79875 6.1037 5.03438 5.87167C5.70762 5.20868 6.38087 4.54459 7.00931 3.92318L7.0362 3.89659C8.15272 2.79246 9.00025 1.9491 9.47463 1.46815C9.73318 1.20602 9.73029 0.783922 9.46815 0.525367C9.20602 0.266812 8.78392 0.269712 8.52537 0.531843C8.05616 1.00754 7.21125 1.84829 6.09866 2.94854L6.07182 2.97508C5.4441 3.59578 4.77147 4.25926 4.09883 4.92165C3.90522 5.11231 3.72299 5.29168 3.55525 5.4567L1.49022 3.21486Z"}))},k=function(){return i.a.createElement("svg",{width:l.CheckboxDefaultWidth,height:l.CheckboxDefaultHeight,viewBox:"0 0 16 16",focusable:"false",role:"presentation"},i.a.createElement("g",{fillRule:"evenodd"},i.a.createElement("rect",{fill:"inherit",x:"4",y:"7",width:"8",height:"2",rx:"1"})))},w=function e(t){var n,o,u,h,v=t.className,g=t.defaultChecked,w=t.label,j=t.isChecked,_=t.isDisabled,x=void 0!==_&&_,C=t.isIndeterminate,O=void 0!==C&&C,S=t.isInvalid,E=void 0!==S&&S,T=t.isRequired,P=void 0!==T&&T,N=t.onChange,I=t.value,A=t.checkboxState,D=t.setCheckboxState,B=t.testId,R=m(t,["className","defaultChecked","label","isChecked","isDisabled","isIndeterminate","isInvalid","isRequired","onChange","value","checkboxState","setCheckboxState","testId"]),L=i.a.useRef(null),M=Object(s.a)(),F=M.isFocusVisible,V=M.focusProps,z=(n={checkboxState:O?l.ComponentStateIndeterminate:g||j||!1},o=f(Object(r.useState)(n),1)[0].checkboxState,u=void 0!==o&&o,{checkboxState:(h=f(Object(r.useState)(u),2))[0],setCheckboxState:h[1]}),U=b(L,{defaultChecked:g,isChecked:j,isDisabled:x,isIndeterminate:O,isInvalid:E,isRequired:P,onChange:N,value:I,checkboxState:A||z.checkboxState,setCheckboxState:D||z.setCheckboxState}),H=O||A===l.ComponentStateIndeterminate,W=Object(c.a)(e.displayName).componentCx;return i.a.createElement("label",{className:a()(d.a[W()],d.a[W("label")],{[d.a[W("","disabled")]]:x,[d.a[W("",l.ComponentStateIndeterminate)]]:H},v)},i.a.createElement("input",p({className:d.a[W("input")],type:"checkbox","data-test-id":B},R,U,V)),i.a.createElement("span",{className:a()(d.a[W("box")],{[d.a[W("box","focusVisible")]]:F,[d.a[W("box","invalid")]]:U["aria-invalid"]})},i.a.createElement("span",{className:d.a[W("checkIcon")]},H?i.a.createElement(k,null):i.a.createElement(y,null))),i.a.createElement("span",{className:d.a[W("labelContent")]},w))};w.displayName="Checkbox"},"./packages/nachos/icons/admin-chevron.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.707 6.293a1 1 0 00-1.414 0L6.7 10.886a.99.99 0 101.4 1.4l3.9-3.9 3.9 3.9a.99.99 0 101.4-1.4l-4.593-4.593zm4.593 9.593l-4.593-4.593a1 1 0 00-1.414 0L6.7 15.886a.99.99 0 101.4 1.4l3.9-3.9 3.9 3.9a.99.99 0 101.4-1.4z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"AdminChevronIcon",glyph:a})}},"./packages/nachos/icons/business-class.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"BusinessClassIcon",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5a2 2 0 012-2h6a2 2 0 012 2v1h2v14H5V6h2V5zm2 1h6V5H9v1zM7 9a1 1 0 011-1h2a1 1 0 011 1v7a1 1 0 01-1 1H8a1 1 0 01-1-1V9zm7-1a1 1 0 00-1 1v5a1 1 0 001 1h2a1 1 0 001-1V9a1 1 0 00-1-1h-2z",fill:"currentColor"}),i.a.createElement("path",{d:"M4 6a2 2 0 00-2 2v10a2 2 0 002 2V6zm16 14V6a2 2 0 012 2v10a2 2 0 01-2 2z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"BusinessClassIcon",glyph:a})}},"./packages/nachos/icons/butler-bot.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M13 3a1 1 0 11-2 0 1 1 0 012 0zM4 7h16v10H4V7zM2 7a2 2 0 012-2h16a2 2 0 012 2v10a2 2 0 01-2 2H4a2 2 0 01-2-2V7zm6 2a1 1 0 012 0v2a1 1 0 11-2 0V9zm6 0a1 1 0 112 0v2a1 1 0 11-2 0V9zm-2 7a1 1 0 100-2 1 1 0 000 2z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"ButlerBotIcon",glyph:a})}},"./packages/nachos/icons/calendar.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"CalendarIcon",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4v1H4.995A1.994 1.994 0 003 6.994v12.012C3 20.106 3.893 21 4.995 21h14.01A1.994 1.994 0 0021 19.006V6.994A1.996 1.996 0 0019.005 5H18V4a1 1 0 00-2 0v1H8V4a1 1 0 00-2 0zm-.75 5.571v8.147c0 .555.444.996.993.996h11.515a.998.998 0 00.992-.996V9.571H5.25zM9 13v-2.001H7V13h2zm8-2.001V13h-2v-2.001h2zM11 13h2.001v-2.001H11V13zm-4 4v-2h2v2H7zm4 0h2.001v-2H11v2zm6-2v2h-2v-2h2z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"CalendarIcon",glyph:a})}},"./packages/nachos/icons/checklist.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2v-5a1 1 0 10-2 0v5H6V6h10a1 1 0 100-2H6zm2.735 6.322a1 1 0 10-1.47 1.356l3.612 3.919c.537.526 1.337.526 1.834.03l.364-.359.977-.96c1.01-.995 2.02-1.991 2.962-2.923l.04-.04a493.191 493.191 0 003.658-3.643 1 1 0 00-1.424-1.404 518.42 518.42 0 01-3.64 3.625l-.04.04c-.942.93-1.95 1.926-2.96 2.92l-.815.802-3.098-3.363z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"ChecklistIcon",glyph:a})}},"./packages/nachos/icons/collection.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"CollectionIcon",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5a2 2 0 012-2h6a2 2 0 012 2H7zm0 1a2 2 0 00-2 2h14a2 2 0 00-2-2H7zm-2 5h14v8H5v-8zm-2 0a2 2 0 012-2h14a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8zm12 4H9v-1a1 1 0 10-2 0v2a1 1 0 001 1h8a1 1 0 001-1v-2a1 1 0 10-2 0v1z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"CollectionIcon",glyph:a})}},"./packages/nachos/icons/dashboard.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"DashboardIcon",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M18.159 10.67c.536.99.841 2.124.841 3.33v1a1 1 0 01-1 1H6a1 1 0 01-1-1v-1a7 7 0 0110.33-6.159l.912-.911c.205-.206.444-.357.698-.454A9 9 0 003 14v2a2 2 0 002 2h14a2 2 0 002-2v-2a8.958 8.958 0 00-1.476-4.94 1.993 1.993 0 01-.454.698l-.911.912zM13 9a1 1 0 11-2 0 1 1 0 012 0zm3.199 2.215l-3.492 3.492a1 1 0 11-1.414-1.414l5.656-5.656a1 1 0 111.414 1.414l-2.148 2.148-.016.016zM18 14a1 1 0 11-2 0 1 1 0 012 0zM7 15a1 1 0 100-2 1 1 0 000 2zm2.5-4.5a1 1 0 11-2 0 1 1 0 012 0z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"DashboardIcon",glyph:a})}},"./packages/nachos/icons/download.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"DownloadIcon",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M16.062 5.48c.256-.04.516-.062.777-.062C19.644 5.419 22 7.62 22 10.498 22 13.409 19.615 16 16.9 16h-2.881v-1.993H16.9c1.657 0 3.115-1.663 3.115-3.508 0-1.779-1.469-3.087-3.104-3.087h-.012c-.389 0-.686.051-.97.15l-.17.063c-.605.248-.875-.246-.875-.246l-.15-.267c-.73-1.347-2.201-2.096-3.716-2.119a4.139 4.139 0 00-4.069 3.644l-.046.34s-.071.525-.665.525a.022.022 0 00-.013.003.019.019 0 01-.01.003h-.254c-1.136 0-1.976.958-1.976 2.158 0 1.205.987 2.341 2.07 2.341h3.964V16H6.055C3.895 16 2 13.955 2 11.665c0-2 1.312-3.663 3.138-4.074.707-2.707 3.053-4.552 5.886-4.59 1.975.02 3.901.9 5.038 2.48z",fill:"currentColor"}),i.a.createElement("path",{d:"M9.29 17.291a.983.983 0 011.397 0l.314.317v-7.601C11 9.45 11.447 9 12 9s1 .45 1 1.006v7.647l.313-.315a.983.983 0 011.398 0 1 1 0 010 1.408l-1.92 1.933a1.08 1.08 0 01-.78.32l-.01.001a.99.99 0 01-.475-.12 1.084 1.084 0 01-.272-.2L9.289 18.7a1 1 0 010-1.409z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"DownloadIcon",glyph:a})}},"./packages/nachos/icons/edit.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7.82 14.49l2.121 2.12 8.49-8.489-2.122-2.12h-.002L7.82 14.488zm9.903-9.905l2.121 2.122a2 2 0 010 2.828l-9.757 9.758-4.95-4.95 9.757-9.758c.391-.39.903-.585 1.415-.585.511 0 1.023.195 1.414.585zM5.201 20.41a1 1 0 01-1.18-1.18l.78-3.81 4.209 4.21-3.81.78z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"EditIcon",glyph:a})}},"./packages/nachos/icons/external-link.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.745 8.608a1.03 1.03 0 011.031-1.036h.004l4.161.02a1.053 1.053 0 011.045 1.044l.019 4.161a1.03 1.03 0 01-1.036 1.035 1.05 1.05 0 01-1.045-1.044l-.008-1.712-6.723 6.723c-.391.39-1.025.39-1.415 0a1.002 1.002 0 010-1.415l6.723-6.723-1.712-.008a1.05 1.05 0 01-1.044-1.045z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"ExternalLinkIcon",glyph:a})}},"./packages/nachos/icons/heart.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6.182 8.232a2.5 2.5 0 000 3.536l6.01 6.01 6.01-6.01a2.5 2.5 0 00-3.535-3.536L12.9 10a1 1 0 01-1.414 0L9.717 8.232a2.5 2.5 0 00-3.535 0zm-1.414 4.95a4.5 4.5 0 016.364-6.364l1.06 1.06 1.061-1.06a4.5 4.5 0 016.364 6.364l-6.718 6.717a1 1 0 01-1.414 0l-6.717-6.717z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"HeartIcon",glyph:a})}},"./packages/nachos/icons/image.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M19 6H5v12h14V6zM5 4a2 2 0 00-2 2v12a2 2 0 002 2h14a2 2 0 002-2V6a2 2 0 00-2-2H5zm9.293 7.293a1 1 0 011.414 0l2 2a1 1 0 01-1.414 1.414L15 13.414l-2.293 2.293a1 1 0 01-1.414 0L10 14.414l-2.293 2.293a1 1 0 01-1.414-1.414l3-3a1 1 0 011.414 0L12 13.586l2.293-2.293zM9 11a2 2 0 100-4 2 2 0 000 4z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"ImageIcon",glyph:a})}},"./packages/nachos/icons/list.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"ListIcon",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M2 7v8a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2H4a2 2 0 00-2 2zm2 0v8h2V7H4zm5 0v6a2 2 0 002 2h2a2 2 0 002-2V7a2 2 0 00-2-2h-2a2 2 0 00-2 2zm2 0v6h2V7h-2zm5 10V7a2 2 0 012-2h2a2 2 0 012 2v10a2 2 0 01-2 2h-2a2 2 0 01-2-2zm2 0V7h2v10h-2z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"ListIcon",glyph:a})}},"./packages/nachos/icons/location.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"LocationIcon",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 21c2.28 0 6-8.686 6-12A6 6 0 006 9c0 3.314 3.72 12 6 12zm0-9a2.912 2.912 0 100-5.824A2.912 2.912 0 0012 12z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"LocationIcon",glyph:a})}},"./packages/nachos/icons/member.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"MemberIcon",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.025 3a5.007 5.007 0 00-5.014 5c0 2.761 2.245 5 5.014 5a5.007 5.007 0 005.014-5c0-2.761-2.244-5-5.014-5zM9.017 8c0 1.657 1.347 3 3.008 3a3.004 3.004 0 003.009-3c0-1.657-1.347-3-3.009-3a3.004 3.004 0 00-3.008 3z",fill:"currentColor"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12.025 11c4.755 0 8.652 3.667 9 8.32a2.004 2.004 0 01-1.98 1.68H5.006a2.004 2.004 0 01-1.98-1.68c.348-4.653 4.244-8.32 9-8.32zm-6.948 8h13.897a7.015 7.015 0 00-6.949-6 7.015 7.015 0 00-6.948 6zm13.968.977z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"MemberIcon",glyph:a})}},"./packages/nachos/icons/power-up.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M17.5 2.655c.997-.11 2.035.152 2.864.981L18.95 5.05c-.33-.33-.735-.467-1.24-.411-.55.06-1.214.323-1.961.746-.737.417-1.477.944-2.181 1.46l-.32.235c-.568.42-1.131.835-1.593 1.109-.494.293-1.019.28-1.335.25-.332-.034-1.12-.042-2.376.38-.778.26-1.728.88-2.538 1.499l-.062.047c.247.052.507.1.769.143a29.181 29.181 0 001.916.247l.03.003h.008l.899 1.102v.006l-.003.022a10.071 10.071 0 00-.039.44c-.021.294-.043.688-.044 1.098 0 .416.02.818.073 1.137.037.225.078.333.092.37l.005.017a.1.1 0 00.016.005c.038.014.146.055.371.092.32.053.72.073 1.137.072.41 0 .804-.022 1.097-.043l.468-.042 1.102.899.063.591c.042.365.105.855.188 1.363.043.262.091.522.143.77l.047-.063c.618-.81 1.239-1.76 1.5-2.538.42-1.255.413-2.044.38-2.376-.032-.316-.044-.84.25-1.335.273-.462.688-1.024 1.108-1.594l.235-.319c.517-.704 1.043-1.444 1.46-2.18.423-.748.686-1.411.746-1.963.056-.504-.08-.908-.411-1.239l1.414-1.414c.829.829 1.09 1.867.98 2.863-.104.95-.52 1.892-.994 2.73-.48.848-1.068 1.671-1.588 2.38l-.255.346c-.412.56-.745 1.012-.963 1.373a.747.747 0 00.004.145c.062.627.032 1.7-.474 3.21-.372 1.11-1.168 2.28-1.807 3.117a22.826 22.826 0 01-1.213 1.456l-.027.03-.003.003a.994.994 0 01-1.435.028 2.305 2.305 0 01-.453-.7 5.743 5.743 0 01-.26-.745 15.5 15.5 0 01-.353-1.652c-.066-.405-.12-.795-.162-1.126-.241.012-.511.02-.792.021-.465.001-.99-.02-1.464-.098-.413-.068-1.052-.237-1.469-.653-.416-.417-.585-1.056-.653-1.469a9.188 9.188 0 01-.098-1.464c0-.28.01-.55.021-.792a30.003 30.003 0 01-1.126-.162 15.5 15.5 0 01-1.652-.352 5.74 5.74 0 01-.746-.261 2.306 2.306 0 01-.699-.453.994.994 0 01-.29-.722c.005-.27.12-.528.318-.713l.003-.003.007-.006.023-.021a12.449 12.449 0 01.393-.35c.262-.225.63-.533 1.063-.863.838-.64 2.008-1.435 3.117-1.806 1.51-.507 2.583-.537 3.21-.475.074.008.12.007.145.004.361-.217.813-.55 1.373-.963l.347-.255c.708-.52 1.53-1.108 2.38-1.588.837-.474 1.78-.89 2.729-.995z",fill:"currentColor"}),i.a.createElement("path",{d:"M15.414 8.586a1 1 0 101.414-1.414 1 1 0 00-1.414 1.414z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"PowerUpIcon",glyph:a})}},"./packages/nachos/icons/private.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 3C9.795 3 8 4.792 8 7.002V9H7a2 2 0 00-2 2v8a2 2 0 002 2h10a2 2 0 002-2v-8a2 2 0 00-2-2h-1V7.002A4 4 0 0012 3zm2 8h3v8H7v-8h7zm0-2V7.002A2.001 2.001 0 0012 5c-1.102 0-2 .898-2 2.002V9h4zm0 6a2 2 0 11-4 0 2 2 0 014 0z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"PrivateIcon",glyph:a})}},"./packages/nachos/icons/public.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11 18.93V18a1 1 0 00-1-1 1 1 0 01-1-1v-1l-3.938-3.938A7.001 7.001 0 0011 18.93zm3.993-13.26A2 2 0 0113 7.5h-2V9a1 1 0 01-1 1H8v2h5a2 2 0 012 2v2h1a1 1 0 01.995.904A7 7 0 0014.993 5.67zM21 12a9 9 0 11-18 0 9 9 0 0118 0z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"PublicIcon",glyph:a})}},"./packages/nachos/icons/search.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M10.5 18a7.5 7.5 0 115.936-2.915l3.94 4.01a1 1 0 01-1.425 1.402l-3.938-4.006A7.467 7.467 0 0110.5 18zm5.5-7.5a5.5 5.5 0 11-11 0 5.5 5.5 0 0111 0z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"SearchIcon",glyph:a})}},"./packages/nachos/icons/sticker.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M11.991 22C6.472 21.995 2 17.52 2 12 2 6.477 6.477 2 12 2c5.52 0 9.994 4.472 10 9.99a1 1 0 01-.293.717l-9 9a1 1 0 01-.716.293zM4 12a8 8 0 0115.901-1.262 10.572 10.572 0 00-1.526-.113c-1.654 0-3.828.414-5.582 2.168-1.754 1.754-2.168 3.928-2.168 5.582 0 .57.049 1.09.113 1.526A8.002 8.002 0 014 12zm10.207 2.207c1.246-1.246 2.822-1.582 4.168-1.582.196 0 .386.007.566.02l-6.296 6.296a8.26 8.26 0 01-.02-.566c0-1.346.336-2.922 1.582-4.168z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"StickerIcon",glyph:a})}},"./packages/nachos/icons/subscribe.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M12 18c-4.536 0-7.999-4.26-7.999-6 0-2.001 3.459-6 8-6 4.377 0 7.998 3.973 7.998 6 0 1.74-3.462 6-7.998 6zm0-14C6.48 4 2 8.841 2 12c0 3.086 4.577 8 10 8 5.424 0 10-4.914 10-8 0-3.159-4.479-8-10-8zm-.023 9.984c-1.103 0-2-.897-2-2s.897-2 2-2c1.104 0 2 .897 2 2s-.896 2-2 2zm0-6c-2.205 0-4 1.794-4 4s1.795 4 4 4c2.207 0 4-1.794 4-4s-1.793-4-4-4z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"SubscribeIcon",glyph:a})}},"./packages/nachos/icons/template-board.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{d:"M7 3a1 1 0 011-1h1a1 1 0 010 2H8a1 1 0 01-1-1zM3 7a1 1 0 00-1 1v1a1 1 0 002 0V8a1 1 0 00-1-1zm-1 5a1 1 0 112 0v1a1 1 0 11-2 0v-1zm0 4a1 1 0 112 0v3a2 2 0 01-2-2v-1zM12 2a1 1 0 100 2h1a1 1 0 100-2h-1zm3 1a1 1 0 011-1h1a2 2 0 012 2h-3a1 1 0 01-1-1zM4 2a2 2 0 00-2 2v1a1 1 0 002 0V4h1a1 1 0 000-2H4z",fill:"currentColor"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M7 5a2 2 0 00-2 2v12a2 2 0 002 2h12a2 2 0 002-2V7a2 2 0 00-2-2H7zm1 2a1 1 0 00-1 1v9a1 1 0 001 1h3a1 1 0 001-1V8a1 1 0 00-1-1H8zm6 1a1 1 0 011-1h3a1 1 0 011 1v5a1 1 0 01-1 1h-3a1 1 0 01-1-1V8z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"TemplateBoardIcon",glyph:a})}},"./packages/nachos/icons/timeline.tsx":function(e,t,n){"use strict";n.r(t),n.d(t,"TimelineIcon",(function(){return s}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/nachos/src/components/Icon/index.ts"),a=function(){return i.a.createElement("svg",{width:"24",height:"24",role:"presentation",focusable:"false",viewBox:"0 0 24 24"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M4.5 4h7a2.5 2.5 0 010 5h-7a2.5 2.5 0 010-5zm7 3a.5.5 0 000-1h-7a.5.5 0 000 1h7zm-5 3h7a2.5 2.5 0 010 5h-7a2.5 2.5 0 010-5zm7 3a.5.5 0 000-1h-7a.5.5 0 000 1h7zm5 3h-7a2.5 2.5 0 000 5h7a2.5 2.5 0 000-5zm-7 3a.5.5 0 010-1h7a.5.5 0 010 1h-7zm6-15h2a2.5 2.5 0 010 5h-2a2.5 2.5 0 010-5zm2 3a.5.5 0 000-1h-2a.5.5 0 000 1h2z",fill:"currentColor"}))},s=function(e){var t=e.testId,n=e.dangerous_className,r=e.size,s=e.color,l=e.label,c=e.block;return i.a.createElement(o.a,{testId:t,size:r,dangerous_className:n,color:s,block:c,label:l||"TimelineIcon",glyph:a})}},"./packages/nachos/select.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return r.a})),n.d(t,"b",(function(){return r.b}));var r=n("./packages/nachos/src/components/Select/Select.tsx")},"./packages/nachos/src/components/Checkbox/Checkbox.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Checkbox/Checkbox.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./packages/nachos/src/components/List/List.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/List/List.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./packages/nachos/src/components/Select/Select.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/nachos/src/components/Select/Select.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./packages/nachos/src/components/Select/Select.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return U})),n.d(t,"b",(function(){return H}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/react-select/dist/react-select.esm.js"),a=n("./node_modules/classnames/index.js"),s=n.n(a),l=n("./packages/keybindings/index.ts"),c=n("./packages/layer-manager/index.ts"),u=n("./packages/test-ids/index.ts"),d=n("./packages/nachos/tokens.ts"),p=n("./packages/nachos/src/components/List/List.less"),m=n.n(p);function f(){return(f=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.ListClassnameBase);var h="".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.ListClassnameBase,"__").concat(d.ListClassnameItem),v={BASE:"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.ListClassnameBase,"__").concat(d.ListClassnameCell),IMAGE:"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.ListClassnameBase,"__").concat(d.ListClassnameCell,"-").concat(d.ListClassnameImage),META:{BASE:"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.ListClassnameBase,"__").concat(d.ListClassnameCell,"-").concat(d.ListClassnameMeta),SELECTED:"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.ListClassnameBase,"__").concat(d.ListClassnameCell,"-").concat(d.ListClassnameMeta,"--").concat(d.ComponentStateSelected)},LABEL:"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.ListClassnameBase,"__").concat(d.ListClassnameCell,"-").concat(d.ListClassnameLabel),CONTENT:"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.ListClassnameBase,"__").concat(d.ListClassnameCell,"-").concat(d.ListClassnameContent)},g=("".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.ListClassnameBase,"--").concat(d.ComponentAppearanceStatic),function(e){return i.a.createElement("li",f({className:m.a[h]},e),e.children)}),b=function(e){var t=e.meta,n=e.image,r=e.label,o=e.isSelected,a=null;n&&("string"==typeof n&&(a=i.a.createElement("img",{className:m.a[v.IMAGE],alt:r,src:n})),i.a.isValidElement(n)&&(a=i.a.createElement("div",{className:m.a[v.IMAGE]},n)));var l=s()({[m.a[v.META.BASE]]:!0,[m.a[v.META.SELECTED]]:o});return i.a.createElement("li",f({className:m.a[v.BASE]},e),a&&a,i.a.createElement("div",{className:m.a[v.CONTENT]},i.a.createElement("div",{className:m.a[v.LABEL]},r),t&&i.a.createElement("div",{className:l},t)))};function y(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function k(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?y(Object(n),!0).forEach((function(t){w(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):y(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function w(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var j=function(){var e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return k({},e&&{textOverflow:"ellipsis"},{overflow:"hidden",whiteSpace:"nowrap"})},_=n("./packages/nachos/src/components/Select/Select.less"),x=n.n(_);function C(e,t){return function(e){if(Array.isArray(e))return e}(e)||function(e,t){if("undefined"==typeof Symbol||!(Symbol.iterator in Object(e)))return;var n=[],r=!0,i=!1,o=void 0;try{for(var a,s=e[Symbol.iterator]();!(r=(a=s.next()).done)&&(n.push(a.value),!t||n.length!==t);r=!0);}catch(e){i=!0,o=e}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}return n}(e,t)||function(e,t){if(!e)return;if("string"==typeof e)return O(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(n);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return O(e,t)}(e,t)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function O(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function T(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){P(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function N(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var I="".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.SelectClassnameBase),A=("".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.SelectClassnameBase,"-").concat(d.SelectClassnameContainer),{BASE:"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.SelectClassnameBase,"__").concat(d.SelectClassnameControl),FOCUS:"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.SelectClassnameBase,"__").concat(d.SelectClassnameControl,"--").concat(d.ComponentStateFocus),COMPACT:"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.SelectClassnameBase,"__").concat(d.SelectClassnameControl,"--").concat(d.ComponentAppearanceCompact),SUBTLE:"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.SelectClassnameBase,"__").concat(d.SelectClassnameControl,"--").concat(d.ComponentAppearanceSubtle)}),D="".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.SelectClassnameBase,"__").concat(d.SelectClassnameMenu),B={BASE:"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.SelectClassnameBase,"__").concat(d.SelectClassnameOption),ACTIVE:"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.SelectClassnameBase,"__").concat(d.SelectClassnameOption,"--").concat(d.ComponentStateActive),DISABLED:"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.SelectClassnameBase,"__").concat(d.SelectClassnameOption,"--").concat(d.ComponentStateDisabled),SELECTED:"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.SelectClassnameBase,"__").concat(d.SelectClassnameOption,"--").concat(d.ComponentStateSelected)},R=("".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.SelectClassnameBase,"__").concat(d.SelectClassnameVal),"".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.SelectClassnameBase,"__").concat(d.SelectClassnameLabel)),L=("".concat(d.GLOBAL_NAMESPACE_PREFIX).concat(d.SelectClassnameBase,"--").concat(d.ComponentAppearanceStatic),function(e){var t=e.selectProps,n=t.isDisabled,r=t.isFocused,a=e.isSelected,l=e.data,c=l.label,d=l.meta,p=l.image,m=l.testId,f=N(e,["selectProps","isSelected","data"]),h=s()({[x.a[B.BASE]]:!0,[x.a[B.SELECTED]]:a,[x.a[B.DISABLED]]:n,[x.a[B.ACTIVE]]:r});return i.a.createElement("div",{[u.TEST_ID_ATTR]:m},i.a.createElement(o.a.Option,S({className:h},f),d||p?i.a.createElement(b,{label:c,meta:d,image:p,isSelected:a}):i.a.createElement(g,null,c)))}),M=function(e){var t,n,r=null!==(t=null==e||null===(n=e.selectProps)||void 0===n?void 0:n.menuElevation)&&void 0!==t?t:0;return i.a.createElement("div",{[c.ELEVATION_ATTR]:r},i.a.createElement(o.a.Menu,S({className:x.a[D]},e)))},F=function(e){var t,n,r=s()({[x.a[A.BASE]]:!0,[x.a[A.FOCUS]]:e.isFocused,[x.a[A.COMPACT]]:"compact"===e.selectProps.spacing,[x.a[A.SUBTLE]]:"subtle"===e.selectProps.appearance}),a=null!==(t=null==e||null===(n=e.selectProps)||void 0===n?void 0:n.testId)&&void 0!==t?t:null;return i.a.createElement("div",{[u.TEST_ID_ATTR]:a},i.a.createElement(o.a.Control,S({className:r},e)))},V=function(){return null},z=function(e){e.key===l.Key.Escape&&(e.nativeEvent.stopImmediatePropagation(),e.preventDefault())},U=function(e){var t=e.className,n=e.containerClassName,a=e.containerStyle,l=e.defaultValue,u=e.value,p=e.label,m=e.options,f=e.testId,h=e.isSearchable,v=void 0!==h&&h,g=e.scrollIntoViewSelectedOption,b=void 0===g||g,y=e.menuPosition,k=void 0===y?"fixed":y,w=N(e,["className","containerClassName","containerStyle","defaultValue","value","label","options","testId","isSearchable","scrollIntoViewSelectedOption","menuPosition"]),_=Object(r.useRef)(null),O=C(Object(c.useCallbackRef)(),2),E=O[0],P=O[1],A=Object(c.useCurrentElevation)(E)+1,D=s()({[I]:!0,[x.a[I]]:!0},t),B=p;"string"==typeof p&&(B=i.a.createElement("label",{className:x.a[R]},p)),m.forEach((function(e,t,n){"string"==typeof e&&(n[t]={value:e,label:e})}));var U=u;"string"==typeof u&&(U={value:u,label:u});var H=l;"string"==typeof l&&(H={value:l,label:l});var W,q,G,$,K;return _&&_.current&&(_.current.select.openMenu=function(e){var t=_.current.select,n=t.state,r=n.menuOptions,i=n.selectValue,o=n.isFocused,a=w.isMulti,s="first"===e?0:r.focusable.length-1;if(!a&&i[0]&&b){var l=r.focusable.findIndex((function(e){return e.value===i[0].value}));l>-1&&(s=l)}t.scrollToFocusedOptionOnUpdate=!(o&&t.menuListRef),t.inputIsHiddenAfterUpdate=!1,t.onMenuOpen(),t.setState({focusedValue:null,focusedOption:r.focusable[s]}),t.announceAriaLiveContext({event:"menu"})}),i.a.createElement("div",{ref:P,className:n,style:a},B,i.a.createElement(o.b,S({ref:_,onKeyDown:z,className:D,styles:(W={isCompact:"compact"===w.spacing,isLoading:w.isLoading},q=W.isCompact,G=void 0!==q&&q,$=W.isLoading,K=void 0!==$&&$,{control:function(e){e.backgroundColor,e.border,e.borderColor,e.borderWidth,e.borderStyle,e.boxShadow;var t=N(e,["backgroundColor","border","borderColor","borderWidth","borderStyle","boxShadow"]),n=G?{height:d.SelectControlCompactHeight,minHeight:d.SelectControlCompactHeight,padding:"".concat(d.SelectControlCompactPaddingY," ").concat(d.SelectControlCompactPaddingX)}:{};return T({},t,{borderRadius:d.SelectControlDefaultBorderRadius,border:d.SelectControlDefaultBorder,height:d.SelectControlDefaultHeight,minHeight:d.SelectControlDefaultHeight,position:"relative",padding:"".concat(d.SelectControlDefaultPaddingY," ").concat(d.SelectControlDefaultPaddingX)},n)},valueContainer:function(){return{padding:d.SelectValueContainerDefaultPadding,position:"initial",display:"inherit",width:"100%",maxWidth:K?d.SelectValueContainerDefaultLoadingMaxWidth:d.SelectValueContainerDefaultMaxWidth,maxHeight:"100%"}},input:function(){return T({position:"absolute",top:G?d.SelectInputCompactTop:d.SelectInputDefaultTop,left:G?d.SelectInputCompactLeft:d.SelectInputDefaultLeft,maxWidth:d.SelectInputDefaultMaxWidth},j(!1))},option:function(e,t){return{cursor:t.isDisabled?"initial":"pointer"}},singleValue:function(){return T({marginLeft:d.SelectSingleValueDefaultMarginLeft,width:"100%"},j())},groupHeading:function(e){return T({},e,{color:d.SelectGroupHeadingDefaultColor,fontSize:d.SelectGroupHeadingDefaultFontSize,fontWeight:d.SelectGroupHeadingDefaultFontWeight,lineHeight:d.SelectGroupHeadingDefaultLineHeight,marginBottom:d.SelectGroupHeadingDefaultMarginBottom})},indicatorsContainer:function(e){return T({},e,{paddingRight:d.SelectIndicatorsContainerDefaultPaddingRight})}}),value:U,defaultValue:H,options:m,isOptionDisabled:function(e){return e.isDisabled},menuPortalTarget:document.body,menuPosition:k,isSearchable:v,components:T({Menu:M,Option:L,Control:F,IndicatorSeparator:V,DropdownIndicator:V},w.components),testId:f,menuElevation:A},w)))},H=o.a},"./packages/nachos/tooltip.ts":function(e,t,n){"use strict";n.d(t,"a",(function(){return be})),n.d(t,"b",(function(){return we}));var r=n("./node_modules/tslib/tslib.es6.js"),i=n("./node_modules/react/index.js"),o=n.n(i),a=n("./node_modules/flushable/dist/index.umd.js"),s=n.n(a),l=n("./node_modules/react-node-resolver/lib/index.js"),c=n.n(l),u=n("./node_modules/@atlaskit/analytics-next/dist/esm/createAndFireEvent.js"),d=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsContext.js"),p=n("./node_modules/@atlaskit/analytics-next/dist/esm/withAnalyticsEvents.js"),m=n("./node_modules/@atlaskit/popper/dist/esm/Popper.js"),f=n("./node_modules/exenv/index.js"),h=n("./node_modules/react-dom/index.js"),v=n.n(h),g=n("./node_modules/tiny-invariant/dist/tiny-invariant.esm.js"),b=n("./node_modules/styled-components/dist/styled-components.browser.es.js"),y=["light","dark"];function k(e){if(e&&e.theme){if("__ATLASKIT_THEME__"in e.theme)return e.theme.__ATLASKIT_THEME__;if("mode"in e.theme&&y.includes(e.theme.mode))return e.theme}return{mode:"light"}}function w(e,t){if("string"==typeof e)return n=e,r=t,function(e){var t=k(e);if(e&&e[n]&&r){var i=r[e[n]];if(i&&i[t.mode]){var o=i[t.mode];if(o)return o}}return""};var n,r,i=e;return function(e){var t=k(e);if(t.mode in i){var n=i[t.mode];if(n)return n}return""}}var j,_,x,C="#FF5630",O="#FFAB00",S="#36B37E",E="#4C9AFF",T="#2684FF",P="#0052CC",N="#FFFFFF",I="#6B778C",A="#172B4D",D="#B8C7E0",B="#8C9CB8",R="#283447",L=(w({light:N,dark:"#1B2638"}),w({light:"#DEEBFF",dark:"#B3D4FF"}),w({light:"#EBECF0",dark:"#3B475C"}),w({light:N,dark:R}),w({light:"#091E42",dark:D}),w({light:A,dark:D}),w({light:P,dark:P}),w({light:I,dark:B}),w({light:"#7A869A",dark:"#7988A3"}),w({light:A,dark:D}),w({light:I,dark:B}),w({light:"#F4F5F7",dark:R}),w({light:P,dark:E}),w({light:"#0065FF",dark:T}),w({light:"#0747A6",dark:E}),w({light:E,dark:T}),w({light:P,dark:E}),w({light:P,dark:E}),w({light:"#00B8D9",dark:"#00C7E6"}),w({light:"#6554C0",dark:"#998DD9"}),w({light:C,dark:C}),w({light:O,dark:O}),w({light:S,dark:S}),{card:function(){return 100},dialog:function(){return 300},navigation:function(){return 200},layer:function(){return 400},blanket:function(){return 500},modal:function(){return 510},flag:function(){return 600},spotlight:function(){return 700},tooltip:function(){return 800}}),M=function(e){var t=document.createElement("div");return t.setAttribute("class","atlaskit-portal"),t.setAttribute("style","z-index: "+e+";"),t},F=function(){return Object(g.a)(document&&document.body,"cannot find document.body"),document.body},V=Object.keys(L).reduce((function(e,t){var n=t;return e[L[n]()]=n,e}),{}),z=function(e){return Object.prototype.hasOwnProperty.call(V,e)?V[e]:null},U=function(e,t){var n=function(e,t){var n={layer:z(Number(t)),zIndex:t};if("function"==typeof CustomEvent)return new CustomEvent(e,{detail:n});var r=document.createEvent("CustomEvent"),i={bubbles:!0,cancellable:!0,detail:n};return r.initCustomEvent(e,i.bubbles,i.cancellable,i.detail),r}(e,t);window.dispatchEvent(n)},H=function(){var e=document.querySelector("body > .atlaskit-portal-container");if(!e){var t=document.createElement("div");return t.setAttribute("class","atlaskit-portal-container"),t.setAttribute("style","display: flex;"),F().appendChild(t),t}return e},W=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.state={container:f.canUseDOM?M(t.props.zIndex):void 0,portalIsMounted:!1},t}return Object(r.__extends)(t,e),t.prototype.componentDidUpdate=function(e,t){var n=this.state.container,r=this.props.zIndex;if(n&&e.zIndex!==r){var i=M(r);H().replaceChild(n,i),this.setState({container:i})}else!t.container&&n&&H().appendChild(n)},t.prototype.componentDidMount=function(){var e=this.state.container,t=this.props.zIndex;if(e)H().appendChild(e);else{var n=M(t);this.setState({container:n})}this.setState({portalIsMounted:!0}),U("akPortalMount",Number(t))},t.prototype.componentWillUnmount=function(){var e=this.state.container,t=this.props.zIndex;e&&(H().removeChild(e),!!document.querySelector("body > .atlaskit-portal-container > .atlaskit-portal")||F().removeChild(H()));U("akPortalUnmount",Number(t))},t.prototype.render=function(){var e=this.state,t=e.container,n=e.portalIsMounted;return t&&n?v.a.createPortal(this.props.children,t):null},t.defaultProps={zIndex:0},t}(o.a.Component),q=w({light:A,dark:"#0D1424"}),G=w({light:N,dark:D}),$=b.default.div(j||(j=Object(r.__makeTemplateObject)(["\n  z-index: ",";\n  pointer-events: none;\n  position: fixed;\n"],["\n  z-index: ",";\n  pointer-events: none;\n  position: fixed;\n"])),L.tooltip),K=Object(b.default)($)(_||(_=Object(r.__makeTemplateObject)(["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  color: ",";\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  /* Edge does not support overflow-wrap */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n\n  ","\n"],["\n  background-color: ",";\n  border-radius: ","px;\n  box-sizing: border-box;\n  color: ",";\n  font-size: 12px;\n  left: 0;\n  line-height: 1.3;\n  max-width: 240px;\n  padding: 2px 6px;\n  top: 0;\n  /* Edge does not support overflow-wrap */\n  word-wrap: break-word;\n  overflow-wrap: break-word;\n\n  ","\n"])),q,(function(){return 3}),G,(function(e){return e.truncate&&"\n      max-width: 420px;\n      overflow: hidden;\n      text-overflow: ellipsis;\n      white-space: nowrap;\n    "})),Y=(b.default.div(x||(x=Object(r.__makeTemplateObject)(["\n  display: inline-block;\n"],["\n  display: inline-block;\n"]))),n("./node_modules/@atlaskit/tooltip/dist/esm/version.json")),Z=n("./node_modules/@babel/runtime/helpers/esm/objectWithoutPropertiesLoose.js"),J=n("./node_modules/@babel/runtime/helpers/esm/inheritsLoose.js"),Q=(n("./node_modules/prop-types/index.js"),!1),X=o.a.createContext(null),ee="unmounted",te="exited",ne="entering",re="entered",ie="exiting",oe=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,o=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?o?(i=te,r.appearStatus=ne):i=re:i=t.unmountOnExit||t.mountOnEnter?ee:te,r.state={status:i},r.nextCallback=null,r}Object(J.a)(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===ee?{status:te}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==ne&&n!==re&&(t=ne):n!==ne&&n!==re||(t=ie)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!=typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){void 0===e&&(e=!1),null!==t?(this.cancelNextCallback(),t===ne?this.performEnter(e):this.performExit()):this.props.unmountOnExit&&this.state.status===te&&this.setState({status:ee})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[v.a.findDOMNode(this),r],o=i[0],a=i[1],s=this.getTimeouts(),l=r?s.appear:s.enter;!e&&!n||Q?this.safeSetState({status:re},(function(){t.props.onEntered(o)})):(this.props.onEnter(o,a),this.safeSetState({status:ne},(function(){t.props.onEntering(o,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:re},(function(){t.props.onEntered(o,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:v.a.findDOMNode(this);t&&!Q?(this.props.onExit(r),this.safeSetState({status:ie},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:te},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:te},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:v.a.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],o=i[0],a=i[1];this.props.addEndListener(o,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===ee)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,Object(Z.a)(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return o.a.createElement(X.Provider,{value:null},"function"==typeof n?n(e,r):o.a.cloneElement(o.a.Children.only(n),r))},t}(o.a.Component);function ae(){}oe.contextType=X,oe.propTypes={},oe.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:ae,onEntering:ae,onEntered:ae,onExit:ae,onExiting:ae,onExited:ae},oe.UNMOUNTED=ee,oe.EXITED=te,oe.ENTERING=ne,oe.ENTERED=re,oe.EXITING=ie;var se,le=oe,ce=function(e){var t=e.children,n=e.immediatelyHide,i=e.immediatelyShow,a=e.onExited,s=e.in,l={enter:i?0:120,exit:n?0:80};return o.a.createElement(le,{timeout:l,in:s,onExited:a,unmountOnExit:!0,appear:!0},(function(e){return t(function(e,t){return function(){return Object(r.__assign)(Object(r.__assign)({},function(e){return{transition:"transform "+e.enter+"ms cubic-bezier(0.23, 1, 0.32, 1), opacity "+e.enter+"ms linear",opacity:0}}(e)),function(e){return{entering:{},entered:{opacity:1},exiting:{opacity:0}}[e]}(t))}}(l,e))}))},ue={action:"displayed",actionSubject:"tooltip",attributes:{componentName:"tooltip",packageName:Y.name,packageVersion:Y.version}},de={action:"hidden",actionSubject:"tooltip",attributes:{componentName:"tooltip",packageName:Y.name,packageVersion:Y.version}},pe={capture:!0,passive:!0};function me(e){var t=e||{top:0,left:0};return{getBoundingClientRect:function(){return{top:t.top,left:t.left,bottom:t.top,right:t.left,width:0,height:0}},clientWidth:0,clientHeight:0}}var fe=function(e,t){var n=se&&se.pending();return n&&se.flush(),s()((function(){return e(n)}),n?0:t).cancel},he=function(e,t){return(se=s()((function(t){return e(t)}),t)).cancel},ve=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t.wrapperRef=null,t.targetRef=null,t.cancelPendingSetState=function(){},t.userInteraction="mouse",t.state={immediatelyHide:!1,immediatelyShow:!1,isVisible:!1,renderTooltip:!1},t.handleWindowScroll=function(){t.state.isVisible&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseClick=function(){t.props.hideTooltipOnClick&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseDown=function(){t.props.hideTooltipOnMouseDown&&(t.cancelPendingSetState(),t.setState({isVisible:!1,immediatelyHide:!0}))},t.handleMouseOver=function(e){e.target!==t.wrapperRef&&(t.userInteraction="mouse",t.fakeMouseElement||(t.fakeMouseElement=me({left:e.clientX,top:e.clientY})),t.handleShowTooltip())},t.handleFocus=function(){t.userInteraction="keyboard",t.fakeMouseElement||(t.fakeMouseElement=me({left:0,top:0})),t.handleShowTooltip()},t.handleShowTooltip=function(){t.cancelPendingSetState(),Boolean(t.props.content)&&!t.state.isVisible&&(t.cancelPendingSetState=fe((function(e){t.setState({isVisible:!0,renderTooltip:!0,immediatelyShow:e})}),t.props.delay||0))},t.handleHideTooltip=function(e){e.target!==t.wrapperRef&&(t.cancelPendingSetState(),t.state.isVisible&&(t.cancelPendingSetState=he((function(e){t.setState({isVisible:!1,immediatelyHide:e})}),t.props.delay||0)))},t.handleMouseMove=function(e){t.state.renderTooltip||(t.fakeMouseElement=me({left:e.clientX,top:e.clientY}))},t}return Object(r.__extends)(t,e),t.prototype.componentWillUnmount=function(){this.cancelPendingSetState(),this.removeScrollListener()},t.prototype.componentDidUpdate=function(e,t){!t.isVisible&&this.state.isVisible?(this.props.onShow&&this.props.onShow(),window.addEventListener("scroll",this.handleWindowScroll,pe)):t.isVisible&&!this.state.isVisible&&(this.props.onHide&&this.props.onHide(),this.removeScrollListener())},t.prototype.removeScrollListener=function(){window.removeEventListener("scroll",this.handleWindowScroll,pe)},t.prototype.shouldPositionTooltipNearMouse=function(){return"mouse"===this.props.position&&"mouse"===this.userInteraction},t.prototype.render=function(){var e=this,t=this.props,n=t.children,i=t.position,a=t.mousePosition,s=t.content,l=t.truncate,u=t.component,d=t.tag,p=t.testId,f=this.state,h=f.isVisible,v=f.renderTooltip,g=f.immediatelyShow,b=f.immediatelyHide,y="mouse"===i?a:i;return o.a.createElement(o.a.Fragment,null,d&&o.a.createElement(d,{onClick:this.handleMouseClick,onMouseOver:this.handleMouseOver,onMouseOut:this.handleHideTooltip,onMouseMove:this.handleMouseMove,onMouseDown:this.handleMouseDown,onFocus:this.handleFocus,onBlur:this.handleHideTooltip,ref:function(t){e.wrapperRef=t}},o.a.createElement(c.a,{innerRef:function(t){e.targetRef=t}},o.a.Children.only(n))),v&&this.targetRef&&this.fakeMouseElement?o.a.createElement(W,{zIndex:L.tooltip()},o.a.createElement(m.a,{placement:y,referenceElement:this.shouldPositionTooltipNearMouse()?this.fakeMouseElement:this.targetRef},(function(t){var n=t.ref,i=t.style;return u&&o.a.createElement(ce,{immediatelyShow:g,immediatelyHide:b,onExited:function(){return e.setState({renderTooltip:!1})},in:h},(function(e){return o.a.createElement(u,{innerRef:n||void 0,className:"Tooltip",style:Object(r.__assign)(Object(r.__assign)({},e()),i),truncate:l||!1,"data-placement":y,"data-testid":p},s)}))}))):null)},t.defaultProps={component:K,delay:300,mousePosition:"bottom",position:"bottom",tag:"div"},t}(o.a.Component),ge=Object(u.a)("atlaskit"),be=Object(d.a)({componentName:"tooltip",packageName:Y.name,packageVersion:Y.version})(Object(p.a)({onHide:de,onShow:ge(Object(r.__assign)({},ue))})(ve)),ye=n("./packages/colors/index.ts");function ke(){var e=function(e,t){t||(t=e.slice(0));return Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}(["\n  background: ",";\n  border-radius: 4px;\n  box-shadow: 0 1px 2px ",";\n  box-sizing: content-box;\n  color: ",";\n  max-height: 300px;\n  max-width: 300px;\n  padding: 8px 12px;\n"]);return ke=function(){return e},e}var we=Object(b.default)($)(ke(),ye.N0,ye.OpacityDark2,ye.N800)},"./packages/trello-canonical-components/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"CanonicalBoard",(function(){return r})),n.d(t,"CanonicalCard",(function(){return S})),n.d(t,"CanonicalBoardCard",(function(){return i})),n.d(t,"CanonicalDetail",(function(){return o})),n.d(t,"CanonicalAvatar",(function(){return zt}));var r={};n.r(r),n.d(r,"Board",(function(){return h})),n.d(r,"BoardLists",(function(){return v})),n.d(r,"TeamName",(function(){return g})),n.d(r,"BoardName",(function(){return b})),n.d(r,"ErrorMessage",(function(){return y})),n.d(r,"BoardTile",(function(){return O})),n.d(r,"List",(function(){return w})),n.d(r,"PlaceholderBoardTile",(function(){return C})),n.d(r,"ProportionalBoardLists",(function(){return x})),n.d(r,"Card",(function(){return j}));var i={};n.r(i),n.d(i,"ActionPanelRow",(function(){return D})),n.d(i,"ActionPanel",(function(){return B})),n.d(i,"ActionButtons",(function(){return R})),n.d(i,"ActionButton",(function(){return L})),n.d(i,"IconButton",(function(){return M})),n.d(i,"JoinButton",(function(){return F})),n.d(i,"SubscribeButton",(function(){return V})),n.d(i,"VoteButton",(function(){return z})),n.d(i,"Board",(function(){return ne})),n.d(i,"ListNameOnly",(function(){return re})),n.d(i,"BoardAndListName",(function(){return ie})),n.d(i,"TeamBoardAndListName",(function(){return oe})),n.d(i,"PlaceholderCard",(function(){return ae}));var o={};n.r(o),n.d(o,"BoardAndDetailContainer",(function(){return he})),n.d(o,"Header",(function(){return ge})),n.d(o,"DetailActions",(function(){return be})),n.d(o,"CommentText",(function(){return ye})),n.d(o,"ReactionContainer",(function(){return ke})),n.d(o,"DetailInfo",(function(){return xe})),n.d(o,"DetailContainer",(function(){return ve})),n.d(o,"DetailInfoPrimary",(function(){return je})),n.d(o,"DetailInfoSecondary",(function(){return _e})),n.d(o,"DetailInfoUserName",(function(){return we})),n.d(o,"DueInfo",(function(){return Ce})),n.d(o,"Spacer",(function(){return Oe})),n.d(o,"Button",(function(){return Ae})),n.d(o,"ButtonLink",(function(){return De})),n.d(o,"Icon",(function(){return Be})),n.d(o,"IconButton",(function(){return Re})),n.d(o,"OverflowButton",(function(){return Le})),n.d(o,"ReplyContainer",(function(){return jt})),n.d(o,"ReplyActions",(function(){return _t})),n.d(o,"ReplyColumnAvatar",(function(){return Ct})),n.d(o,"ReplyColumnContent",(function(){return Ot})),n.d(o,"ReplyColumns",(function(){return xt})),n.d(o,"ReplyLink",(function(){return St})),n.d(o,"ReplySentText",(function(){return Et})),n.d(o,"ReplyTextarea",(function(){return Tt})),n.d(o,"ClockIcon",(function(){return Nt})),n.d(o,"CompleteIcon",(function(){return At})),n.d(o,"DismissIcon",(function(){return Bt})),n.d(o,"ForwardIcon",(function(){return Lt})),n.d(o,"SendIcon",(function(){return Ft}));var a=n("./node_modules/react/index.js"),s=n.n(a),l=n("./node_modules/classnames/index.js"),c=n.n(l),u=n("./packages/trello-canonical-components/src/board/Board.less"),d=n.n(u),p=n("./packages/colors/index.ts");function m(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function f(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var h=function(e){var t=e.bgColor,n=e.bgImage,r=e.borderColor,i=e.hasError,o=e.headerBgColor,a=e.children,l=e.className,u=e.loading,h=e.numLists,v=void 0===h?5:h,g=e.widthPx,b=e.style,y=void 0===b?{}:b,k=c()(d.a.board,l,i&&d.a.boardError,u&&d.a.boardLoading),w=function(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?m(Object(n),!0).forEach((function(t){f(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):m(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}({},y);if(t&&(w.backgroundColor=t),n&&!o)w.backgroundImage="url(".concat(n,")"),w.backgroundSize="cover";else if(o){var j=Object(p.makeRGBA)(o,.7),_="linear-gradient(0deg, ".concat(j," 50%, ").concat(j," 0%)");w.backgroundImage="".concat(_,", url(").concat(n,")"),w.backgroundSize="100% 64px, cover"}var x=o||t||p.TrelloBlue500;return w.color=Object(p.useLightText)(x)&&!i?p.N0:p.N800,5!==v&&(w.width="".concat(48*v+8,"px")),r&&(w.border="1px solid ".concat(r)),g&&(w.width="".concat(g,"px")),s.a.createElement("div",{className:k,style:w},a)},v=function(e){var t=e.children;return s.a.createElement("div",{className:d.a.boardLists},t)},g=function(e){var t=e.children;return s.a.createElement("h2",{className:d.a.teamName},t)},b=function(e){var t=e.children;return s.a.createElement("h1",{className:d.a.boardName},t)},y=function(e){var t=e.children;return s.a.createElement("h1",{className:c()(d.a.boardName,d.a.errorMessage)},t)},k=n("./node_modules/underscore/underscore.js"),w=function(e){var t=e.children;return s.a.createElement("div",{className:d.a.list},t)},j=function(e){var t=e.children;return s.a.createElement("div",{className:d.a.card},t)},_=function(e){var t=e.size,n=e.id,r=Math.min(t||0,3);return s.a.createElement(w,{key:n},Object(k.range)(r).map((function(e,t){return s.a.createElement(j,{key:t})})))},x=function(e){var t=e.lists,n=e.numLists,r=function(e,t){if(e&&0!==e.length){if(1===e.length)return[e[0].size];var n=Object(k.sortBy)(e,"size"),r=n[n.length-1],i=n[0],o=i.size/r.size*100;if(o<80)return e.slice(0,t).map((function(e){if(0===e.size)return 0;var t=n.findIndex((function(t){return t.id===e.id}));return t<n.length/3?1:t<n.length/3*2?2:3}));if(o<90){var a=1,s=2;return i.size>8&&(a=2,s=3),e.slice(0,t).map((function(e){return 0===e.size?0:n.findIndex((function(t){return t.id===e.id}))<n.length/2?a:s}))}return e.slice(0,t).map((function(e){var t=e.size;return t?t<9?1:t<17?2:3:0}))}return[]}(t,n);return s.a.createElement(v,null,r.map((function(e,n){return s.a.createElement(_,{size:e,id:t[n].id,key:t[n].id})})))},C=function(e){var t=e.numLists,n=e.className;return s.a.createElement(h,{className:n,bgColor:p.N40A,loading:!0,numLists:t},s.a.createElement("span",{className:d.a.placeholderTopBar}),s.a.createElement(x,{lists:[{id:"1",size:2},{id:"2",size:3},{id:"3",size:1},{id:"4",size:2},{id:"5",size:2},{id:"6",size:1}],numLists:t}))},O=function(e){var t,n=e.board,r=void 0===n?{}:n,i=e.error,o=e.loading,a=e.numLists,l=void 0===a?5:a,c=l<4||l>6?5:l;if(o)return s.a.createElement(C,{numLists:l});if(i)return s.a.createElement(h,{className:"board-background",hasError:!0,numLists:c},s.a.createElement(y,null,i),s.a.createElement(x,{lists:[{id:"1",size:2},{id:"2",size:3},{id:"3",size:1},{id:"4",size:2},{id:"5",size:2},{id:"6",size:1}],numLists:c}));r.prefs&&r.prefs.backgroundColor&&(t=r.prefs.backgroundColor);var u,d=t;if(r.prefs&&r.prefs.backgroundImage&&(u=r.prefs.backgroundImage,d="light"===r.prefs.backgroundBrightness?p.N30:p.N800,r.prefs.backgroundImageScaled)){var m=Object(k.sortBy)(r.prefs.backgroundImageScaled,"width").filter((function(e){return e.width>248&&e.height>158}));m.length>0&&(u=m[0].url)}var f=r.lists||[];return s.a.createElement(h,{className:"board-background",bgColor:t,bgImage:u,headerBgColor:d,numLists:c},s.a.createElement(b,null,r.name),r.organization&&s.a.createElement(g,null,r.organization.displayName),s.a.createElement(x,{lists:f,numLists:l}))},S=n("./packages/trello-canonical-components/src/card-front/index.ts"),E=n("./packages/trello-canonical-components/src/board-card/ActionPanel.less"),T=n.n(E);function P(){return(P=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var N=function(e){return s.a.createElement("svg",P({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M15 8C15 9.65685 13.6569 11 12 11C10.3431 11 9 9.65685 9 8C9 6.34315 10.3431 5 12 5C13.6569 5 15 6.34315 15 8ZM12 13C14.7614 13 17 10.7614 17 8C17 5.23858 14.7614 3 12 3C9.23858 3 7 5.23858 7 8C7 9.44777 7.61532 10.7518 8.59871 11.6649C5.31433 13.0065 3 16.233 3 20C3 20.5523 3.44772 21 4 21H12C12.5523 21 13 20.5523 13 20C13 19.4477 12.5523 19 12 19H5.07089C5.55612 15.6077 8.47353 13 12 13ZM17 14C17 13.4477 17.4477 13 18 13C18.5523 13 19 13.4477 19 14V16H21C21.5523 16 22 16.4477 22 17C22 17.5523 21.5523 18 21 18H19V20C19 20.5523 18.5523 21 18 21C17.4477 21 17 20.5523 17 20V18H15C14.4477 18 14 17.5523 14 17C14 16.4477 14.4477 16 15 16H17V14Z"}))},I=n("./packages/trello-canonical-components/src/icons/SubscribeIcon.js"),A=n("./packages/trello-canonical-components/src/icons/VoteIcon.js");var D=function(e){var t=e.alignRight,n=e.slim,r=e.children,i=c()(T.a.actionPanelRow,n&&T.a.slim,t&&T.a.alignRight);return s.a.createElement("div",{className:i},r)},B=function(e){var t=e.hideBorder,n=e.className,r=e.children,i=c()(T.a.actionPanel,n,t&&T.a.hideBorder);return s.a.createElement("div",{className:i},r)},R=function(e){var t=e.children,n=c()(T.a.actionButtons,s.a.Children.count(t)<3&&T.a.alignStart);return s.a.createElement("div",{className:n},t)},L=function(e){var t=e.children,n=e.className;return s.a.createElement("button",{className:c()(T.a.actionButton,n)},t)},M=function(e){var t=e.icon,n=e.children,r=e.className;return s.a.createElement(L,{className:r},s.a.createElement("span",{className:T.a.icon},t),s.a.createElement("span",{className:T.a.actionButtonLabel},n))},F=function(e){var t=e.className;return s.a.createElement(M,{className:t,icon:s.a.createElement(N,{color:p.N200})},"Join")},V=function(e){var t=e.className;return s.a.createElement(M,{className:t,icon:s.a.createElement(I.a,{color:p.N200})},"Subscribe")},z=function(e){var t=e.className;return s.a.createElement(M,{className:t,icon:s.a.createElement(A.a,{color:p.N200})},"Vote")},U=n("./packages/test-ids/index.ts");function H(){return(H=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var W=function(e){return s.a.createElement("svg",H({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5ZM5 6C5 5.44772 5.44772 5 6 5H10C10.5523 5 11 5.44772 11 6V16C11 16.5523 10.5523 17 10 17H6C5.44772 17 5 16.5523 5 16V6ZM14 5C13.4477 5 13 5.44772 13 6V12C13 12.5523 13.4477 13 14 13H18C18.5523 13 19 12.5523 19 12V6C19 5.44772 18.5523 5 18 5H14Z"}))},q=n("./packages/trello-canonical-components/src/board-card/BoardCard.less"),G=n.n(q),$=n("./packages/trello-canonical-components/src/card-front/Card.less"),K=n.n($);function Y(){return(Y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Z(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var J=function(e){var t=e.linkComponent,n=Z(e,["linkComponent"]);return t?s.a.createElement(t,Y({className:G.a.nameUrl},n)):s.a.createElement("a",Y({className:G.a.nameUrl},n))},Q=function(e){var t=e.displayLogo,n=e.children;return s.a.createElement("div",{className:c()(G.a.nameSection,t&&G.a.displayLogo)},n)},X=Q,ee=Q,te=function(e){return s.a.createElement("span",Y({className:G.a.trelloLogo},e),s.a.createElement(W,{height:16,width:16}))},ne=function(e){var t=e.children,n=e.className,r=Z(e,["children","className"]),i=c()(G.a.board,K.a.boardCard,T.a.boardCard,n,r.headerBgColor&&G.a.headerBgColor),o=r.headerBgColor||r.bgColor||p.TrelloBlue500,a={color:Object(p.useLightText)(o)?p.N0:p.N800};return s.a.createElement(h,Y({className:i},r,{style:a}),t)},re=function(e){var t=e.listName,n=Z(e,["listName"]);return s.a.createElement(Q,n,s.a.createElement("div",{className:G.a.listName},t))},ie=function(e){var t=e.boardName,n=e.boardUrl,r=e.displayLogo,i=void 0!==r&&r,o=e.listName,a=e.linkComponent,l=Z(e,["boardName","boardUrl","displayLogo","listName","linkComponent"]);return s.a.createElement(ee,Y({displayLogo:i},l),i&&s.a.createElement(te,null),s.a.createElement("div",{className:G.a.boardName,"data-test-class":U.CanonicalCard.BoardName},n?s.a.createElement(J,{href:n,linkComponent:a},t):t,o?":":null," "),s.a.createElement("div",{className:G.a.listName,"data-test-class":U.CanonicalCard.ListName},o))},oe=function(e){var t=e.boardName,n=e.boardUrl,r=e.teamName,i=e.teamUrl,o=e.displayLogo,a=void 0!==o&&o,l=e.listName,c=e.onClick,u=e.linkComponent,d=Z(e,["boardName","boardUrl","teamName","teamUrl","displayLogo","listName","onClick","linkComponent"]);return s.a.createElement(X,Y({displayLogo:a},d),a&&s.a.createElement(te,null),s.a.createElement("div",{className:G.a.teamName},i?s.a.createElement(J,{href:i,linkComponent:u},r):r,r?" |":null," "),s.a.createElement("div",{className:G.a.boardName},n?s.a.createElement(J,{href:n,onClick:c,linkComponent:u},t):t,l?":":null," "),s.a.createElement("div",{className:G.a.listName},l))},ae=function(){return s.a.createElement(ne,{className:G.a.placeholderBoard,bgColor:p.N40A},s.a.createElement("div",{className:c()(G.a.placeholderBar,G.a.topPlaceholderBar)}),s.a.createElement("div",{className:c()(G.a.placeholderBar,G.a.bottomPlaceholderBar)}))},se=n("./packages/trello-canonical-components/src/detail/Detail.less"),le=n.n(se),ce=n("./packages/trello-canonical-components/src/avatar/Avatar.less"),ue=n.n(ce),de=n("./packages/trello-canonical-components/src/detail/Buttons.less"),pe=n.n(de);function me(){return(me=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function fe(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var he=function(e){var t,n=e.width,r=e.children,i=fe(e,["width","children"]);return n&&(t={width:"".concat(n,"px")}),s.a.createElement("div",me({className:c()(le.a.boardAndDetailContainer,G.a.detailContainer)},i,{style:t}),r)},ve=function(e){return s.a.createElement("div",me({className:le.a.detailContainer},e))},ge=function(e){var t=e.children;return s.a.createElement("div",{className:c()(le.a.header,ue.a.detailHeader,pe.a.detailHeader)},t)},be=function(e){return s.a.createElement("div",me({className:le.a.detailActions},e))},ye=function(e){return s.a.createElement("div",me({className:le.a.commentText},e))},ke=function(e){return s.a.createElement("div",me({className:le.a.reactionContainer},e))},we=function(e){return s.a.createElement("div",me({className:le.a.primary},e))},je=we,_e=function(e){return s.a.createElement("div",me({className:le.a.secondary},e))},xe=function(e){var t=e.name,n=e.date,r=e.children,i=fe(e,["name","date","children"]);return s.a.createElement("div",me({className:le.a.detailInfo},i),t&&s.a.createElement(je,null,t),n&&s.a.createElement(_e,null,n),r)},Ce=function(e){var t=e.className,n=e.cardTitle,r=e.dueText;return s.a.createElement("span",{className:c()(le.a.dueInfo,t)},s.a.createElement("b",null,n)," ",r)},Oe=function(e){return s.a.createElement("div",me({className:le.a.spacer},e))};function Se(){return(Se=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ee=function(e){return s.a.createElement("svg",Se({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M5 14C6.10457 14 7 13.1046 7 12C7 10.8954 6.10457 10 5 10C3.89543 10 3 10.8954 3 12C3 13.1046 3.89543 14 5 14ZM12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14ZM21 12C21 13.1046 20.1046 14 19 14C17.8954 14 17 13.1046 17 12C17 10.8954 17.8954 10 19 10C20.1046 10 21 10.8954 21 12Z"}))};function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Pe=function(e){return s.a.createElement("svg",Te({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M14 5C14 6.10457 13.1046 7 12 7C10.8954 7 10 6.10457 10 5C10 3.89543 10.8954 3 12 3C13.1046 3 14 3.89543 14 5ZM12 14C13.1046 14 14 13.1046 14 12C14 10.8954 13.1046 10 12 10C10.8954 10 10 10.8954 10 12C10 13.1046 10.8954 14 12 14ZM12 21C13.1046 21 14 20.1046 14 19C14 17.8954 13.1046 17 12 17C10.8954 17 10 17.8954 10 19C10 20.1046 10.8954 21 12 21Z"}))};function Ne(){return(Ne=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ie(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}var Ae=function(e){var t=e.className,n=Ie(e,["className"]);return s.a.createElement("button",Ne({className:c()(pe.a.button,t)},n))},De=function(e){return s.a.createElement("span",{className:pe.a.linkButtonContainer},s.a.createElement("button",Ne({className:pe.a.linkButton},e)))},Be=function(e){return s.a.createElement("span",Ne({className:pe.a.icon},e))},Re=function(e){var t=e.children,n=e.icon,r=Ie(e,["children","icon"]);return s.a.createElement(Ae,r,s.a.createElement("span",{className:pe.a.iconContainer},n),t)},Le=function(e){var t=e.isVertical,n=e.className,r=Ie(e,["isVertical","className"]);return s.a.createElement(Ae,Ne({className:c()(pe.a.overflowButton,n),"data-test-class":U.CanonicalCard.OverflowDetailsButton},r),s.a.createElement("span",{className:pe.a.overflowIcon},t?s.a.createElement(Pe,null):s.a.createElement(Ee,null)))},Me=n("./node_modules/react-transition-group/esm/TransitionGroup.js"),Fe=n("./node_modules/react-transition-group/esm/CSSTransition.js"),Ve=n("./node_modules/prop-types/index.js"),ze=n.n(Ve);function Ue(){return(Ue=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var He=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e};"object"==typeof Reflect&&Reflect.construct;var We="undefined"!=typeof window&&"undefined"!=typeof document,qe=!!We&&!!document.documentElement.currentStyle,Ge={"min-height":"0","max-height":"none",height:"0",visibility:"hidden",overflow:"hidden",position:"absolute","z-index":"-1000",top:"0",right:"0"},$e=["letter-spacing","line-height","font-family","font-weight","font-size","font-style","tab-size","text-rendering","text-transform","width","text-indent","padding-top","padding-right","padding-bottom","padding-left","border-top-width","border-right-width","border-bottom-width","border-left-width","box-sizing"],Ke={},Ye=We&&document.createElement("textarea"),Ze=function(e){Object.keys(Ge).forEach((function(t){e.style.setProperty(t,Ge[t],"important")}))};function Je(e,t,n,r,i){void 0===n&&(n=!1),void 0===r&&(r=null),void 0===i&&(i=null),null===Ye.parentNode&&document.body.appendChild(Ye);var o=function(e,t,n){void 0===n&&(n=!1);if(n&&Ke[t])return Ke[t];var r=window.getComputedStyle(e);if(null===r)return null;var i=$e.reduce((function(e,t){return e[t]=r.getPropertyValue(t),e}),{}),o=i["box-sizing"];if(""===o)return null;qe&&"border-box"===o&&(i.width=parseFloat(i.width)+parseFloat(r["border-right-width"])+parseFloat(r["border-left-width"])+parseFloat(r["padding-right"])+parseFloat(r["padding-left"])+"px");var a=parseFloat(i["padding-bottom"])+parseFloat(i["padding-top"]),s=parseFloat(i["border-bottom-width"])+parseFloat(i["border-top-width"]),l={sizingStyle:i,paddingSize:a,borderSize:s,boxSizing:o};n&&(Ke[t]=l);return l}(e,t,n);if(null===o)return null;var a=o.paddingSize,s=o.borderSize,l=o.boxSizing,c=o.sizingStyle;Object.keys(c).forEach((function(e){Ye.style[e]=c[e]})),Ze(Ye),Ye.value=e.value||e.placeholder||"x";var u=-1/0,d=1/0,p=Ye.scrollHeight;"border-box"===l?p+=s:"content-box"===l&&(p-=a),Ye.value="x";var m=Ye.scrollHeight-a;return null===r&&null===i||(null!==r&&(u=m*r,"border-box"===l&&(u=u+a+s),p=Math.max(u,p)),null!==i&&(d=m*i,"border-box"===l&&(d=d+a+s),p=Math.min(d,p))),{height:p,minHeight:u,maxHeight:d,rowCount:Math.floor(p/m)}}We&&Ze(Ye);var Qe,Xe=(void 0===Qe&&(Qe=0),function(){return++Qe}),et=function(){},tt=We&&window.requestAnimationFrame?[window.requestAnimationFrame,window.cancelAnimationFrame]:[setTimeout,clearTimeout],nt=tt[0],rt=tt[1],it=function(e){var t,n;function r(t){var n;return(n=e.call(this,t)||this)._resizeLock=!1,n._onRootDOMNode=function(e){n._rootDOMNode=e,n.props.inputRef(e)},n._onChange=function(e){n._controlled||n._resizeComponent(),n.props.onChange(e)},n._resizeComponent=function(e){if(void 0===e&&(e=et),void 0!==n._rootDOMNode){var t=Je(n._rootDOMNode,n._uid,n.props.useCacheForDOMMeasurements,n.props.minRows,n.props.maxRows);if(null!==t){var r=t.height,i=t.minHeight,o=t.maxHeight,a=t.rowCount;n.rowCount=a,n.state.height===r&&n.state.minHeight===i&&n.state.maxHeight===o?e():n.setState({height:r,minHeight:i,maxHeight:o},e)}else e()}else e()},n.state={height:t.style&&t.style.height||0,minHeight:-1/0,maxHeight:1/0},n._uid=Xe(),n._controlled="string"==typeof t.value,n}n=e,(t=r).prototype=Object.create(n.prototype),t.prototype.constructor=t,t.__proto__=n;var i=r.prototype;return i.render=function(){var e=this.props,t=(e.inputRef,e.maxRows,e.minRows,e.onHeightChange,e.useCacheForDOMMeasurements,function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);for(r=0;r<a.length;r++)n=a[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}(e,["inputRef","maxRows","minRows","onHeightChange","useCacheForDOMMeasurements"]));return t.style=Ue({},t.style,{height:this.state.height}),Math.max(t.style.maxHeight||1/0,this.state.maxHeight)<this.state.height&&(t.style.overflow="hidden"),s.a.createElement("textarea",Ue({},t,{onChange:this._onChange,ref:this._onRootDOMNode}))},i.componentDidMount=function(){var e=this;this._resizeComponent(),this._resizeListener=function(){e._resizeLock||(e._resizeLock=!0,e._resizeComponent((function(){return e._resizeLock=!1})))},window.addEventListener("resize",this._resizeListener)},i.componentDidUpdate=function(e,t){var n=this;e!==this.props&&(this._clearNextFrame(),this._onNextFrameActionId=nt((function(){return n._resizeComponent()}))),this.state.height!==t.height&&this.props.onHeightChange(this.state.height,this)},i.componentWillUnmount=function(){this._clearNextFrame(),window.removeEventListener("resize",this._resizeListener),function(e){delete Ke[e]}(this._uid)},i._clearNextFrame=function(){rt(this._onNextFrameActionId)},r}(s.a.Component);it.propTypes={inputRef:ze.a.func,maxRows:ze.a.number,minRows:ze.a.number,onChange:ze.a.func,onHeightChange:ze.a.func,useCacheForDOMMeasurements:ze.a.bool,value:ze.a.string},it.defaultProps={inputRef:et,onChange:et,onHeightChange:et,useCacheForDOMMeasurements:!1};var ot=it,at=n("./packages/trello-canonical-components/src/detail/Reply.less"),st=n.n(at);function lt(){return(lt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ct(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function ut(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function dt(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function pt(e,t,n){return t&&dt(e.prototype,t),n&&dt(e,n),e}function mt(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Super expression must either be null or a function");e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,writable:!0,configurable:!0}}),t&&ft(e,t)}function ft(e,t){return(ft=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e})(e,t)}function ht(e){return function(){var t,n=yt(e);if(bt()){var r=yt(this).constructor;t=Reflect.construct(n,arguments,r)}else t=n.apply(this,arguments);return vt(this,t)}}function vt(e,t){return!t||"object"!=typeof t&&"function"!=typeof t?gt(e):t}function gt(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}function bt(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],(function(){}))),!0}catch(e){return!1}}function yt(e){return(yt=Object.setPrototypeOf?Object.getPrototypeOf:function(e){return e.__proto__||Object.getPrototypeOf(e)})(e)}function kt(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var wt=function(e){mt(n,e);var t=ht(n);function n(){var e;ut(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return kt(gt(e=t.call.apply(t,[this].concat(i))),"state",{height:"auto",isAnimating:!1}),kt(gt(e),"setInitialHeight",(function(t){e.setState({height:t,isAnimating:!0})})),kt(gt(e),"setTargetHeight",(function(t){(window.requestAnimationFrame||window.setTimeout)((function(){e.setState({height:t})}))})),kt(gt(e),"endAnimation",(function(){e.setState({isAnimating:!1})})),e}return pt(n,[{key:"render",value:function(){var e=this.state,t=e.isAnimating,n=e.height,r={height:t?n:"auto",transition:"200ms height"};return s.a.createElement("div",{style:r},this.props.render(this.setInitialHeight,this.setTargetHeight,this.endAnimation))}}]),n}(s.a.Component),jt=function(e){var t=e.children,n=ct(e,["children"]);return s.a.createElement("div",lt({className:st.a.replyContainer},n),s.a.createElement(wt,{render:function(e,n,r){return s.a.createElement(Me.a,null,s.a.Children.map(t,(function(t,i){return s.a.createElement(Fe.a,{key:t.key||i,timeout:400,classNames:"slide",unmountOnExit:!0,onExit:function(t){return e(t.offsetHeight)},onEnter:function(e){return n(e.offsetHeight)},onExited:function(){return r()}},s.a.createElement("div",{className:st.a.slideIn},t))})))}}))},_t=function(e){var t=e.centered,n=ct(e,["centered"]);return s.a.createElement("div",lt({className:c()(st.a.replyActions,t&&st.a.centered)},n))},xt=function(e){return s.a.createElement("div",lt({className:st.a.replyColumns},e))},Ct=function(e){return s.a.createElement("div",lt({className:st.a.replyColumnAvatar},e))},Ot=function(e){return s.a.createElement("div",lt({className:st.a.replyColumnContent},e))},St=function(e){return s.a.createElement("a",lt({className:st.a.replyLink},e))},Et=function(e){var t=e.centered,n=ct(e,["centered"]);return s.a.createElement("div",lt({className:c()(st.a.replySentText,t&&st.a.centered)},n))},Tt=function(e){mt(n,e);var t=ht(n);function n(){var e;ut(this,n);for(var r=arguments.length,i=new Array(r),o=0;o<r;o++)i[o]=arguments[o];return kt(gt(e=t.call.apply(t,[this].concat(i))),"inputRef",null),e}return pt(n,[{key:"componentDidMount",value:function(){if(this.inputRef){var e=this.inputRef.value.length;this.inputRef.focus(),this.inputRef.setSelectionRange(e,e)}}},{key:"render",value:function(){var e=this;return s.a.createElement(ot,lt({className:st.a.replyTextArea,inputRef:function(t){return e.inputRef=t}},this.props))}}]),n}(s.a.Component);function Pt(){return(Pt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Nt=function(e){return s.a.createElement("svg",Pt({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("g",{fill:e.color||"currentColor",fillRule:"evenodd"},s.a.createElement("path",{d:"M13 6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V12C11 12.2652 11.1054 12.5196 11.2929 12.7071L13.7929 15.2071C14.1834 15.5976 14.8166 15.5976 15.2071 15.2071C15.5976 14.8166 15.5976 14.1834 15.2071 13.7929L13 11.5858V6Z"}),s.a.createElement("path",{d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z"})))};function It(){return(It=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var At=function(e){return s.a.createElement("svg",It({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",d:"M6.73534 12.3223C6.36105 11.9162 5.72841 11.8904 5.3223 12.2647C4.91619 12.639 4.89039 13.2716 5.26467 13.6777L8.87678 17.597C9.41431 18.1231 10.2145 18.1231 10.7111 17.6264C10.7724 17.5662 10.7724 17.5662 11.0754 17.2683C11.3699 16.9785 11.6981 16.6556 12.0516 16.3075C13.0614 15.313 14.0713 14.3169 15.014 13.3848L15.0543 13.3449C16.7291 11.6887 18.0004 10.4236 18.712 9.70223C19.0998 9.30904 19.0954 8.67589 18.7022 8.28805C18.309 7.90022 17.6759 7.90457 17.2881 8.29777C16.5843 9.01131 15.3169 10.2724 13.648 11.9228L13.6077 11.9626C12.6662 12.8937 11.6572 13.8889 10.6483 14.8825C10.3578 15.1685 10.0845 15.4375 9.83288 15.6851L6.73534 12.3223Z"}))};function Dt(){return(Dt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Bt=function(e){return s.a.createElement("svg",Dt({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M10.5858 12L5.29289 6.70711C4.90237 6.31658 4.90237 5.68342 5.29289 5.29289C5.68342 4.90237 6.31658 4.90237 6.70711 5.29289L12 10.5858L17.2929 5.29289C17.6834 4.90237 18.3166 4.90237 18.7071 5.29289C19.0976 5.68342 19.0976 6.31658 18.7071 6.70711L13.4142 12L18.7071 17.2929C19.0976 17.6834 19.0976 18.3166 18.7071 18.7071C18.3166 19.0976 17.6834 19.0976 17.2929 18.7071L12 13.4142L6.70711 18.7071C6.31658 19.0976 5.68342 19.0976 5.29289 18.7071C4.90237 18.3166 4.90237 17.6834 5.29289 17.2929L10.5858 12Z"}))};function Rt(){return(Rt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Lt=function(e){return s.a.createElement("svg",Rt({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12.292 4.2915C11.903 4.6795 11.903 5.3165 12.292 5.7055L17.586 10.9995H4C3.45 10.9995 3 11.4495 3 11.9995C3 12.5505 3.45 13.0005 4 13.0005H17.586L12.289 18.2965C11.9 18.6855 11.9 19.3215 12.289 19.7105C12.678 20.1005 13.315 20.1005 13.703 19.7105L20.702 12.7125C20.704 12.7115 20.706 12.7095 20.709 12.7075C20.903 12.5145 21 12.2565 21 11.9995C21 11.7425 20.903 11.4855 20.709 11.2915C20.706 11.2905 20.703 11.2885 20.701 11.2865L13.706 4.2915C13.512 4.0975 13.255 4.0005 12.999 4.0005C12.743 4.0005 12.486 4.0975 12.292 4.2915Z"}))};function Mt(){return(Mt=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var Ft=function(e){return s.a.createElement("svg",Mt({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M6.97825 19.4775C6.97825 20.8483 8.62306 21.5185 9.55451 20.5262L21.5578 7.72363C22.5185 6.69516 21.8025 5 20.409 5H3.49575C2.1784 5 1.50464 6.6071 2.41801 7.57211L6.97825 12.3997V19.4775ZM8.9711 12.6314V18.2121L19.4591 7.02581H4.66483L8.18175 10.7489L11.5762 9.09818C12.073 8.85657 12.6659 9.07559 12.9004 9.58737C13.135 10.0991 12.9223 10.7099 12.4255 10.9515L8.9711 12.6314Z"}))},Vt=n("./packages/browser/index.ts"),zt=function(e){var t=e.avatarSource,n=e.children,r=e.className,i=e.deactivated,o=e.img,a=e.img2x,l=e.initials,u=e.lightBackground,d=e.size,p=void 0===d?28:d,m=c()(ue.a.avatar,i&&ue.a.deactivated,u&&ue.a.lightBackground,"atlassianAccount"===t&&ue.a.atlassianAccount,r),f={};if(a&&Object(Vt.isHighDPI)())f.backgroundImage="url(".concat(a,")");else if(o)f.backgroundImage="url(".concat(o,")");else if(l&&l.length){var h=p/2-2;l.length>=4?h*=.5:3===l.length&&(h*=.66),p<=20&&(h-=2),f.fontSize="".concat(Math.floor(h),"px")}return(o||a)&&i&&(f.opacity=.2),p&&(f.height="".concat(p,"px"),f.width="".concat(p,"px")),(p||u)&&(f.lineHeight="".concat(u?p?p-2:"26":p||"28","px")),s.a.createElement("span",{className:m,style:f},!o&&!a&&l,n)}},"./packages/trello-canonical-components/src/avatar/Avatar.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/avatar/Avatar.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./packages/trello-canonical-components/src/board-card/ActionPanel.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/board-card/ActionPanel.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./packages/trello-canonical-components/src/board-card/BoardCard.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/board-card/BoardCard.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./packages/trello-canonical-components/src/board/Board.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/board/Board.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./packages/trello-canonical-components/src/card-front/Badge.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/Badge.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./packages/trello-canonical-components/src/card-front/Badge.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return c})),n.d(t,"b",(function(){return u}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./packages/trello-canonical-components/src/card-front/Badge.less"),l=n.n(s),c=function(e){var t=e.bgColor,n=e.className,r=e.fontColor,o=e.children,s={};return t&&(s.backgroundColor=t),r&&(s.color=r),i.a.createElement("span",{className:a()(l.a.badge,n),style:s},o)},u=function(e){var t=e.bgColor,n=void 0===t?"":t,r=e.children,o=e.className,s=void 0===o?"":o,u=e.iconClassName,d=void 0===u?"":u,p=e.fontColor,m=void 0===p?"":p,f=e.icon,h=e.dataTestClass;return i.a.createElement(c,{bgColor:n,className:s,fontColor:m},i.a.createElement("div",{className:l.a.flex,"data-test-class":h},i.a.createElement("span",{className:a()(l.a.badgeIcon,d)},f),r&&i.a.createElement("span",{className:l.a.badgeIconLabel,"data-test-class":h},r)))}},"./packages/trello-canonical-components/src/card-front/Badges.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return F})),n.d(t,"b",(function(){return V})),n.d(t,"c",(function(){return z})),n.d(t,"d",(function(){return U})),n.d(t,"e",(function(){return H})),n.d(t,"f",(function(){return W})),n.d(t,"g",(function(){return q})),n.d(t,"h",(function(){return G})),n.d(t,"i",(function(){return $})),n.d(t,"j",(function(){return K})),n.d(t,"k",(function(){return Y}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./packages/colors/index.ts"),a=n("./packages/dates/index.ts"),s=n("./packages/test-ids/index.ts"),l=n("./node_modules/classnames/index.js"),c=n.n(l),u=n("./packages/trello-canonical-components/src/card-front/Badge.less"),d=n.n(u),p=n("./packages/trello-canonical-components/src/card-front/Badge.tsx");function m(){return(m=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var f=function(e){return i.a.createElement("svg",m({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("g",{fill:e.color||"currentColor",fillRule:"evenodd"},i.a.createElement("path",{d:"M3.03418 5.59623C2.98604 5.04604 3.39303 4.56101 3.94322 4.51287L19.8823 3.11838C20.4325 3.07025 20.9175 3.47724 20.9657 4.02742L21.0528 5.02362L3.12133 6.59242L3.03418 5.59623Z"}),i.a.createElement("path",{d:"M9 12.9999C9 12.4477 9.44772 11.9999 10 11.9999H14C14.5523 11.9999 15 12.4477 15 12.9999C15 13.5522 14.5523 13.9999 14 13.9999H10C9.44772 13.9999 9 13.5522 9 12.9999Z"}),i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M3 18.9999V7.99994H21V18.9999C21 20.1045 20.1046 20.9999 19 20.9999H5C3.89543 20.9999 3 20.1045 3 18.9999ZM5 9.99994H19V18.9999H5L5 9.99994Z"})))};function h(){return(h=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var v=function(e){return i.a.createElement("svg",h({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",d:"M11.6426 17.9647C10.1123 19.46 7.62736 19.4606 6.10092 17.9691C4.57505 16.478 4.57769 14.0467 6.10253 12.5566L13.2505 5.57184C14.1476 4.6952 15.5861 4.69251 16.4832 5.56921C17.3763 6.44184 17.3778 7.85135 16.4869 8.72199L9.78361 15.2722C9.53288 15.5172 9.12807 15.5163 8.86954 15.2636C8.61073 15.0107 8.60963 14.6158 8.86954 14.3618L15.0989 8.27463C15.4812 7.90109 15.4812 7.29546 15.0989 6.92192C14.7167 6.54838 14.0969 6.54838 13.7146 6.92192L7.48523 13.0091C6.45911 14.0118 6.46356 15.618 7.48523 16.6163C8.50674 17.6145 10.1511 17.6186 11.1679 16.6249L17.8712 10.0747C19.5274 8.45632 19.5244 5.83555 17.8676 4.2165C16.2047 2.59156 13.5266 2.59657 11.8662 4.21913L4.71822 11.2039C2.42951 13.4404 2.42555 17.083 4.71661 19.3218C7.00774 21.5606 10.7323 21.5597 13.0269 19.3174L19.7133 12.7837C20.0956 12.4101 20.0956 11.8045 19.7133 11.431C19.331 11.0574 18.7113 11.0574 18.329 11.431L11.6426 17.9647Z"}))};function g(){return(g=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var b=function(e){return i.a.createElement("svg",g({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("g",{fill:e.color||"currentColor"},i.a.createElement("path",{d:"M6 4C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V13C20 12.4477 19.5523 12 19 12C18.4477 12 18 12.4477 18 13V18H6V6L16 6C16.5523 6 17 5.55228 17 5C17 4.44772 16.5523 4 16 4H6ZM8.73534 10.3223C8.36105 9.91618 7.72841 9.89038 7.3223 10.2647C6.91619 10.639 6.89039 11.2716 7.26467 11.6777L10.8768 15.597C11.4143 16.1231 12.2145 16.1231 12.7111 15.6264L13.0754 15.2683C13.3699 14.9785 13.6981 14.6556 14.0516 14.3075C15.0614 13.313 16.0713 12.3169 17.014 11.3848L17.0543 11.3449C18.7291 9.68869 20.0004 8.42365 20.712 7.70223C21.0998 7.30904 21.0954 6.67589 20.7022 6.28805C20.309 5.90022 19.6759 5.90457 19.2881 6.29777C18.5843 7.01131 17.3169 8.27244 15.648 9.92281L15.6077 9.96263C14.6662 10.8937 13.6572 11.8889 12.6483 12.8825L11.8329 13.6851L8.73534 10.3223Z",fillRule:"evenodd",clipRule:"evenodd"})))};function y(){return(y=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var k=function(e){return i.a.createElement("svg",y({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("g",{fill:e.color||"currentColor"},i.a.createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M6 4C4.89543 4 4 4.89543 4 6V18C4 19.1046 4.89543 20 6 20H18C19.1046 20 20 19.1046 20 18V13C20 12.4477 19.5523 12 19 12C18.4477 12 18 12.4477 18 13V18H6V6L16 6C16.5523 6 17 5.55228 17 5C17 4.44772 16.5523 4 16 4H6ZM8.73534 10.3223C8.36105 9.91618 7.72841 9.89038 7.3223 10.2647C6.91619 10.639 6.89039 11.2716 7.26467 11.6777L10.8768 15.597C11.4143 16.1231 12.2145 16.1231 12.7111 15.6264L13.0754 15.2683C13.3699 14.9785 13.6981 14.6556 14.0516 14.3075C15.0614 13.313 16.0713 12.3169 17.014 11.3848L17.0543 11.3449C18.7291 9.68869 20.0004 8.42365 20.712 7.70223C21.0998 7.30904 21.0954 6.67589 20.7022 6.28805C20.309 5.90022 19.6759 5.90457 19.2881 6.29777C18.5843 7.01131 17.3169 8.27244 15.648 9.92281L15.6077 9.96263C14.6662 10.8937 13.6572 11.8889 12.6483 12.8825L11.8329 13.6851L8.73534 10.3223Z"})))};function w(){return(w=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var j=function(e){return i.a.createElement("svg",w({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M16 17H12.5L8.28037 20.4014C6.97772 21.4869 5 20.5606 5 18.865V16.1973C3.2066 15.1599 2 13.2208 2 11C2 7.68629 4.68629 5 8 5H16C19.3137 5 22 7.68629 22 11C22 14.3137 19.3137 17 16 17ZM16 7H8C5.79086 7 4 8.79086 4 11C4 12.8638 5.27477 14.4299 7 14.874V19L12 15H16C18.2091 15 20 13.2091 20 11C20 8.79086 18.2091 7 16 7Z"}))};function _(){return(_=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var x=function(e){return i.a.createElement("svg",_({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4 5C3.44772 5 3 5.44772 3 6C3 6.55228 3.44772 7 4 7H20C20.5523 7 21 6.55228 21 6C21 5.44772 20.5523 5 20 5H4ZM4 9C3.44772 9 3 9.44772 3 10C3 10.5523 3.44772 11 4 11H20C20.5523 11 21 10.5523 21 10C21 9.44772 20.5523 9 20 9H4ZM3 14C3 13.4477 3.44772 13 4 13H20C20.5523 13 21 13.4477 21 14C21 14.5523 20.5523 15 20 15H4C3.44772 15 3 14.5523 3 14ZM4 17C3.44772 17 3 17.4477 3 18C3 18.5523 3.44772 19 4 19H14C14.5523 19 15 18.5523 15 18C15 17.4477 14.5523 17 14 17H4Z"}))};function C(){return(C=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var O=function(e){return i.a.createElement("svg",C({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("g",{fill:e.color||"currentColor",fillRule:"evenodd"},i.a.createElement("path",{d:"M13 6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V12C11 12.2652 11.1054 12.5196 11.2929 12.7071L13.7929 15.2071C14.1834 15.5976 14.8166 15.5976 15.2071 15.2071C15.5976 14.8166 15.5976 14.1834 15.2071 13.7929L13 11.5858V6Z"}),i.a.createElement("path",{d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z"})))};function S(){return(S=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var E=function(e){return i.a.createElement("svg",S({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("g",{fill:e.color||"currentColor",fillRule:"evenodd"},i.a.createElement("path",{d:"M13 6C13 5.44772 12.5523 5 12 5C11.4477 5 11 5.44772 11 6V12C11 12.2652 11.1054 12.5196 11.2929 12.7071L13.7929 15.2071C14.1834 15.5976 14.8166 15.5976 15.2071 15.2071C15.5976 14.8166 15.5976 14.1834 15.2071 13.7929L13 11.5858V6Z"}),i.a.createElement("path",{d:"M22 12C22 17.5228 17.5228 22 12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20Z"})))};function T(){return(T=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var P=function(e){return i.a.createElement("svg",T({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12 2C11.4477 2 11 2.44772 11 3V3.078C10.2728 3.19668 9.65318 3.44603 9.1328 3.79295C8.39456 4.28511 7.91489 4.93416 7.60557 5.55279C7.29822 6.1675 7.14952 6.77011 7.07611 7.2106C7.039 7.43322 7.02007 7.62092 7.01035 7.75688C7.00549 7.82503 7.0029 7.88067 7.00153 7.92176C7.00085 7.94232 7.00046 7.95929 7.00025 7.9724L7.00005 7.98916L7.00001 7.99533L7 7.99786L7 7.99898C7 7.9995 7 8 8 8H7V11.723L4.14251 16.4855C3.95715 16.7944 3.95229 17.1792 4.1298 17.4927C4.30731 17.8062 4.63973 18 5 18H19C19.3603 18 19.6927 17.8062 19.8702 17.4927C20.0477 17.1792 20.0429 16.7944 19.8575 16.4855L17 11.723V8H16C17 8 17 7.9995 17 7.99898L17 7.99786L17 7.99533L17 7.98916L16.9997 7.9724C16.9995 7.95929 16.9992 7.94232 16.9985 7.92176C16.9971 7.88067 16.9945 7.82503 16.9896 7.75688C16.9799 7.62092 16.961 7.43322 16.9239 7.2106C16.8505 6.77011 16.7018 6.1675 16.3944 5.55279C16.0851 4.93416 15.6054 4.28511 14.8672 3.79295C14.3468 3.44603 13.7272 3.19668 13 3.078V3C13 2.44772 12.5523 2 12 2ZM9.00042 7.98839L9 8.00435V12C9 12.1812 8.95074 12.3591 8.85749 12.5145L6.76619 16H17.2338L15.1425 12.5145C15.0493 12.3591 15 12.1812 15 12V8.00436L14.9996 7.98839C14.999 7.97089 14.9977 7.9406 14.9947 7.89937C14.9888 7.81658 14.9765 7.69178 14.9511 7.5394C14.8995 7.22989 14.7982 6.8325 14.6056 6.44721C14.4149 6.06584 14.1446 5.71489 13.7578 5.45705C13.3773 5.20338 12.825 5 12 5C11.175 5 10.6227 5.20338 10.2422 5.45705C9.85544 5.71489 9.58511 6.06584 9.39443 6.44721C9.20178 6.8325 9.10048 7.22989 9.04889 7.5394C9.0235 7.69178 9.01118 7.81658 9.00527 7.89937C9.00233 7.9406 9.001 7.97089 9.00042 7.98839ZM14 19C14 20.1046 13.1046 21 12 21C10.8954 21 10 20.1046 10 19H14Z"}))},N=n("./packages/trello-canonical-components/src/icons/SubscribeIcon.js");function I(){return(I=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var A=function(e){return i.a.createElement("svg",I({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",d:"M3 6V5C3 3.89543 3.89543 3 5 3H6C6.55228 3 7 3.44772 7 4C7 4.55228 6.55228 5 6 5H5V6C5 6.55228 4.55228 7 4 7C3.44772 7 3 6.55228 3 6Z"}),i.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M6 8C6 6.89543 6.89543 6 8 6H19C20.1046 6 21 6.89543 21 8V18C21 19.1046 20.1046 20 19 20H8C6.89543 20 6 19.1046 6 18V8ZM8 8H19V14H8V8ZM18 18C17.4477 18 17 17.5523 17 17C17 16.4477 17.4477 16 18 16C18.5523 16 19 16.4477 19 17C19 17.5523 18.5523 18 18 18ZM8 17C8 17.5523 8.44772 18 9 18H12C12.5523 18 13 17.5523 13 17C13 16.4477 12.5523 16 12 16H9C8.44772 16 8 16.4477 8 17Z"}),i.a.createElement("path",{fill:e.color||"currentColor",d:"M4 14C3.44772 14 3 14.4477 3 15V16C3 17.1046 3.89543 18 5 18V15C5 14.4477 4.55228 14 4 14Z"}),i.a.createElement("path",{fill:e.color||"currentColor",d:"M3 9C3 8.44772 3.44772 8 4 8C4.55228 8 5 8.44772 5 9V12C5 12.5523 4.55228 13 4 13C3.44772 13 3 12.5523 3 12V9Z"}),i.a.createElement("path",{fill:e.color||"currentColor",d:"M8 4C8 3.44772 8.44772 3 9 3H13C13.5523 3 14 3.44772 14 4C14 4.55228 13.5523 5 13 5H9C8.44772 5 8 4.55228 8 4Z"}),i.a.createElement("path",{fill:e.color||"currentColor",d:"M16 3C15.4477 3 15 3.44772 15 4C15 4.55228 15.4477 5 16 5H19C19 3.89543 18.1046 3 17 3H16Z"}))};function D(){return(D=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var B=function(e){return i.a.createElement("svg",D({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M3 5C3 3.89543 3.89543 3 5 3H19C20.1046 3 21 3.89543 21 5V19C21 20.1046 20.1046 21 19 21H5C3.89543 21 3 20.1046 3 19V5ZM5 6C5 5.44772 5.44772 5 6 5H10C10.5523 5 11 5.44772 11 6V16C11 16.5523 10.5523 17 10 17H6C5.44772 17 5 16.5523 5 16V6ZM14 5C13.4477 5 13 5.44772 13 6V12C13 12.5523 13.4477 13 14 13H18C18.5523 13 19 12.5523 19 12V6C19 5.44772 18.5523 5 18 5H14Z"}))},R=n("./packages/trello-canonical-components/src/icons/VoteIcon.js"),L=864e5,M=1296e5,F=function(e){var t=e.className,n=e.children;return i.a.createElement(p.b,{className:t,icon:i.a.createElement(f,null)},n)},V=function(e){var t=e.numAttachments,n=void 0===t?0:t,r=e.className;return i.a.createElement(p.b,{className:r,icon:i.a.createElement(v,null)},i.a.createElement("span",{"data-test-class":s.BadgesTestIds.CardAttachmentsCount},n))},z=function(e){var t=e.className,n=e.children;return i.a.createElement(p.b,{className:c()(t,d.a.isTemplate),icon:i.a.createElement(A,null)},n)},U=function(e){var t=e.numComplete,n=void 0===t?0:t,r=e.numItems,l=void 0===r?0:r,c=e.checkItemsEarliestDue,u=e.className,d=e.iconClassName,m=n===l,f=m?o.Green500:void 0,h=m?o.N0:void 0,v=m?i.a.createElement(b,null):i.a.createElement(k,null),g="".concat(n,"/").concat(l);if(c){var y=Date.now(),w=c.getTime(),j=w-L<=y&&w>y,_=w<=y&&w+M>y;w+M<=y?(f=o.Red300,h=o.N0):_?(f=o.Red500,h=o.N0):j?(f=o.Yellow500,h=o.N0):m&&(f=o.Green500,h=o.N0),g+=" • ".concat(Object(a.b)(c))}return i.a.createElement(p.b,{className:u,iconClassName:d,bgColor:f,fontColor:h,icon:v,dataTestClass:s.BadgesTestIds.ChecklistBadge},g)},H=function(e){var t=e.numComments,n=void 0===t?0:t,r=e.className;return i.a.createElement(p.b,{className:r,icon:i.a.createElement(j,null)},n)},W=function(e){var t=e.className;return i.a.createElement(p.b,{className:t,icon:i.a.createElement(x,null)})},q=function(e){var t,n,r,a=e.children,l=e.className,u=e.dueDate,m=e.clickable,f=void 0!==m&&m,h=e.isComplete,v=void 0!==h&&h,g=Date.now();if(u){var b=null==u?void 0:u.getTime();t=b-L<=g&&b>g,n=b<=g&&b+M>g,r=b+M<=g}var y=f?c()(d.a.dueDateBadge,{[d.a.isPastDue]:!v&&r,[d.a.isDueNow]:!v&&n,[d.a.isDueSoon]:!v&&t,[d.a.isComplete]:v}):void 0,k=f?void 0:v?o.Green500:t?o.Yellow500:n?o.Red500:r?o.Red300:"transparent",w=f?void 0:v||t||n||r?o.N0:o.N400;return i.a.createElement(p.b,{className:c()(y,l),bgColor:k,fontColor:w,icon:v?i.a.createElement(O,null):i.a.createElement(E,null),dataTestClass:v?s.BadgesTestIds.DueDateBadgeCompleted:s.BadgesTestIds.DueDateBadgeNotCompleted},a)},G=function(e){var t=e.numUnread,n=void 0===t?0:t,r=e.className;return i.a.createElement(p.b,{className:r,bgColor:o.Red500,fontColor:o.N0,icon:i.a.createElement(P,null)},n)},$=function(e){var t=e.className;return i.a.createElement(p.b,{className:t,dataTestClass:s.BadgesTestIds.CardSubscribed,icon:i.a.createElement(N.a,null)})},K=function(e){var t=e.numAttachments,n=void 0===t?0:t,r=e.className;return i.a.createElement(p.b,{className:r,icon:i.a.createElement(B,null)},n)},Y=function(e){var t=e.className,n=e.numVotes,r=void 0===n?0:n,a=e.voted,l=void 0!==a&&a;return i.a.createElement(p.b,{className:t,bgColor:l?o.N40A:"transparent",fontColor:o.N100,icon:i.a.createElement(R.a,null)},i.a.createElement("span",{"data-test-class":s.BadgesTestIds.CardSubscribed},r))}},"./packages/trello-canonical-components/src/card-front/Card.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/Card.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./packages/trello-canonical-components/src/card-front/Card.tsx":function(e,t,n){"use strict";n.d(t,"a",(function(){return C})),n.d(t,"f",(function(){return O})),n.d(t,"h",(function(){return S})),n.d(t,"c",(function(){return E})),n.d(t,"d",(function(){return T})),n.d(t,"i",(function(){return P})),n.d(t,"e",(function(){return N})),n.d(t,"b",(function(){return I})),n.d(t,"g",(function(){return A}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./packages/trello-canonical-components/src/card-front/Card.less"),l=n.n(s),c=n("./packages/trello-canonical-components/src/card-front/CardLabel.less"),u=n.n(c),d=n("./packages/trello-canonical-components/src/card-front/Badge.less"),p=n.n(d),m=n("./packages/trello-canonical-components/src/avatar/Avatar.less"),f=n.n(m),h=n("./packages/unsplash/index.ts"),v=n("./app/common/lib/util/preview.ts"),g=n("./packages/browser/index.ts");function b(){return(b=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function y(e,t){if(null==e)return{};var n,r,i=function(e,t){if(null==e)return{};var n,r,i={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(i[n]=e[n]);return i}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function w(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){j(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function j(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}var _={red:"DotsChecker",blue:"StripeHorizontal",green:"StripeDiagonal",orange:"StripeVertical",purple:"GrooveDiagonal",yellow:"WaveSquare",pink:"BrickHorizontal",sky:"BrickDiagonal",lime:"Scale",black:"BrickVertical"};function x(e){var t=e.cover,n=e.colorBlind,r=e.truncateNameForFullCover,i=e.coverHeight,o=e.hasStickers,s=void 0,c={},u=t||{},d=u.color,p=u.size,m=u.brightness,f="full"===p,h=Boolean(f&&d),b=t?Object(v.smallestPreviewBiggerThan)(t.previews,Object(g.isHighDPI)()?600:300)||Object(v.biggestPreview)(t.previews):null;if(f&&b){if(b){c.backgroundImage='url("'.concat(b.url,'")'),c.backgroundSize="cover";var y=Math.min(b.height,i?2*i:260),k=245*b.height/b.width;c.height=k<=y?k:y,s=a()(l.a.fullCover,l.a.fullImageCover,"dark"===m&&l.a.fullCoverDark,r&&l.a.truncateNameForFullCover)}}else h&&(s=a()(w({[l.a.fullCover]:f,[l.a.fullCoverColorBlind]:h&&n,[l.a.fullCoverDark]:"dark"===m},h?function(e){return{[l.a.colorCardCoverBlue]:"blue"===e,[l.a.colorCardCoverGreen]:"green"===e,[l.a.colorCardCoverOrange]:"orange"===e,[l.a.colorCardCoverRed]:"red"===e,[l.a.colorCardCoverPurple]:"purple"===e,[l.a.colorCardCoverYellow]:"yellow"===e,[l.a.colorCardCoverPink]:"pink"===e,[l.a.colorCardCoverSky]:"sky"===e,[l.a.colorCardCoverLime]:"lime"===e,[l.a.colorCardCoverBlack]:"black"===e}}(d):{},{[l.a.fullColorCoverWithStickers]:o}),h&&n&&function(e){switch(_[e]){case"StripeDiagonal":return l.a.StripeDiagonal;case"WaveSquare":return l.a.WaveSquare;case"StripeVertical":return l.a.StripeVertical;case"DotsChecker":return l.a.DotsChecker;case"GrooveDiagonal":return l.a.GrooveDiagonal;case"StripeHorizontal":return l.a.StripeHorizontal;case"BrickHorizontal":return l.a.BrickHorizontal;case"BrickDiagonal":return l.a.BrickDiagonal;case"Scale":return l.a.Scale;case"BrickVertical":return l.a.BrickVertical;default:return}}(d),r&&l.a.truncateNameForFullCover));return{classNames:s,style:c}}var C=function(e){var t=e.className,n=e.children,r=e.style,o=e.cover,s=e.colorBlind,c=e.coverHeight,u=e.truncateNameForFullCover,d=e.hasStickers,p=a()(t,l.a.card),m=x({cover:o,colorBlind:s,coverHeight:c,truncateNameForFullCover:u,hasStickers:d}),f=m.classNames,h=m.style;return i.a.createElement("div",{className:a()(p,f),style:w({},h,{},r)},n)},O=function(e){var t=e.linkComponent,n=e.className,r=e.cover,o=e.truncateNameForFullCover,s=e.colorBlind,c=(e.coverHeight,e.hasStickers),u=y(e,["linkComponent","className","cover","truncateNameForFullCover","colorBlind","coverHeight","hasStickers"]),d=a()(n,l.a.card,l.a.cardLink),p=x({cover:r,colorBlind:s,truncateNameForFullCover:o,hasStickers:c}),m=p.classNames,f=p.style;return t?i.a.createElement(t,b({className:a()(d,m)},u,{style:w({},f,{},u.style)})):i.a.createElement("a",b({className:a()(d,m)},u,{style:w({},f,{},u.style)}))},S=function(e){var t=e.height,n=e.children;return i.a.createElement("div",{className:l.a.stickers,style:t?{height:"".concat(t,"px")}:void 0},n)},E=function(e){var t=e.img,n=e.sharedSourceUrl,o=e.height,s=e.bgSize,c=e.bgColor,u=e.pattern,d=e.children;Object(r.useEffect)((function(){n&&h.UnsplashTracker.trackOncePerInterval(n)}),[n]);var p={height:"".concat(o,"px")};t&&(p.backgroundImage="url(".concat(t,")")),c&&(p.backgroundColor=c),s&&(p.backgroundSize=s);var m=a()(l.a.cover,"StripeDiagonal"===u&&l.a.StripeDiagonal,"WaveSquare"===u&&l.a.WaveSquare,"StripeVertical"===u&&l.a.StripeVertical,"DotsChecker"===u&&l.a.DotsChecker,"GrooveDiagonal"===u&&l.a.GrooveDiagonal,"StripeHorizontal"===u&&l.a.StripeHorizontal,"BrickHorizontal"===u&&l.a.BrickHorizontal,"BrickDiagonal"===u&&l.a.BrickDiagonal,"Scale"===u&&l.a.Scale,"BrickVertical"===u&&l.a.BrickVertical);return i.a.createElement("div",{className:m,style:p},d)},T=function(e){var t=e.children;return i.a.createElement("div",{className:l.a.details},t)},P=function(e){var t=e.children;return i.a.createElement("div",{className:l.a.title},t)},N=function(e){var t=e.children,n=e.className;return i.a.createElement("div",{className:a()(l.a.labels,u.a.cardFront,n)},t)},I=function(e){var t=e.children;return i.a.createElement("div",{className:a()(l.a.badges,p.a.cardFront)},t)},A=function(e){var t=e.children;return i.a.createElement("div",{className:a()(l.a.members,f.a.cardFront)},t)}},"./packages/trello-canonical-components/src/card-front/CardLabel.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/CardLabel.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./packages/trello-canonical-components/src/card-front/CardLabel.tsx":function(e,t,n){"use strict";n.d(t,"b",(function(){return c})),n.d(t,"a",(function(){return u}));var r=n("./node_modules/react/index.js"),i=n.n(r),o=n("./node_modules/classnames/index.js"),a=n.n(o),s=n("./packages/trello-canonical-components/src/card-front/CardLabel.less"),l=n.n(s),c={black:"BrickVertical",blue:"StripeHorizontal",green:"StripeDiagonal",lime:"Scale",orange:"StripeVertical",pink:"BrickHorizontal",purple:"GrooveDiagonal",red:"DotsChecker",sky:"BrickDiagonal",yellow:"WaveSquare",gray:"none",none:"none"},u=function(e){var t=e.className,n=e.color,r=e.pattern,o=e.dataTestClass,s=e.children,c=e.onClick,u=a()(t,l.a.label,s&&l.a.expanded,"blue"===n&&l.a.blue,"green"===n&&l.a.green,"lime"===n&&l.a.lime,"sky"===n&&l.a.sky,"orange"===n&&l.a.orange,"pink"===n&&l.a.pink,"purple"===n&&l.a.purple,"red"===n&&l.a.red,"yellow"===n&&l.a.yellow,"black"===n&&l.a.black,"gray"===n&&l.a.gray,"StripeDiagonal"===r&&l.a.StripeDiagonal,"WaveSquare"===r&&l.a.WaveSquare,"StripeVertical"===r&&l.a.StripeVertical,"DotsChecker"===r&&l.a.DotsChecker,"GrooveDiagonal"===r&&l.a.GrooveDiagonal,"StripeHorizontal"===r&&l.a.StripeHorizontal,"BrickDiagonal"===r&&l.a.BrickDiagonal,"Scale"===r&&l.a.Scale,"BrickHorizontal"===r&&l.a.BrickHorizontal,"BrickVertical"===r&&l.a.BrickVertical);return i.a.createElement("span",{className:u,"data-test-class":o,onClick:c,role:c&&"button"},s)}},"./packages/trello-canonical-components/src/card-front/Sticker.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/card-front/Sticker.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./packages/trello-canonical-components/src/card-front/index.ts":function(e,t,n){"use strict";n.r(t),n.d(t,"Card",(function(){return r.a})),n.d(t,"CardLink",(function(){return r.f})),n.d(t,"CardStickers",(function(){return r.h})),n.d(t,"CardCover",(function(){return r.c})),n.d(t,"CardDetails",(function(){return r.d})),n.d(t,"CardLabels",(function(){return r.e})),n.d(t,"CardMembers",(function(){return r.g})),n.d(t,"CardBadges",(function(){return r.b})),n.d(t,"CardTitle",(function(){return r.i})),n.d(t,"CardLabel",(function(){return i.a})),n.d(t,"ArchivedBadge",(function(){return o.a})),n.d(t,"AttachmentsBadge",(function(){return o.b})),n.d(t,"CardTemplateBadge",(function(){return o.c})),n.d(t,"ChecklistBadge",(function(){return o.d})),n.d(t,"CommentsBadge",(function(){return o.e})),n.d(t,"DescriptionBadge",(function(){return o.f})),n.d(t,"DueDateBadge",(function(){return o.g})),n.d(t,"NotificationBadge",(function(){return o.h})),n.d(t,"SubscribedBadge",(function(){return o.i})),n.d(t,"TrelloAttachmentsBadge",(function(){return o.j})),n.d(t,"VotesBadge",(function(){return o.k})),n.d(t,"CheckboxFieldBadge",(function(){return m})),n.d(t,"DateFieldBadge",(function(){return f})),n.d(t,"ListFieldBadge",(function(){return h})),n.d(t,"TextFieldBadge",(function(){return g})),n.d(t,"NumberFieldBadge",(function(){return v})),n.d(t,"Sticker",(function(){return k}));var r=n("./packages/trello-canonical-components/src/card-front/Card.tsx"),i=n("./packages/trello-canonical-components/src/card-front/CardLabel.tsx"),o=n("./packages/trello-canonical-components/src/card-front/Badges.tsx"),a=n("./node_modules/react/index.js"),s=n.n(a),l=n("./packages/config/index.ts"),c=n("./packages/colors/index.ts"),u=n("./packages/trello-canonical-components/src/card-front/Badge.tsx");function d(){return(d=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}var p=function(e){return s.a.createElement("svg",d({width:24,height:24,viewBox:"0 0 24 24"},e),s.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12 22C6.47715 22 2 17.5228 2 12C2 6.47715 6.47715 2 12 2C17.5228 2 22 6.47715 22 12C22 17.5228 17.5228 22 12 22ZM12 20C16.4183 20 20 16.4183 20 12C20 7.58172 16.4183 4 12 4C7.58172 4 4 7.58172 4 12C4 16.4183 7.58172 20 12 20ZM8.29289 11.2929C8.68342 10.9024 9.31658 10.9024 9.70711 11.2929L11 12.5858L14.2929 9.29289C14.6834 8.90237 15.3166 8.90237 15.7071 9.29289C16.0976 9.68342 16.0976 10.3166 15.7071 10.7071L11.7071 14.7071C11.3166 15.0976 10.6834 15.0976 10.2929 14.7071L8.29289 12.7071C7.90237 12.3166 7.90237 11.6834 8.29289 11.2929Z"}))},m=function(e){var t=e.className,n=e.field,r=e.item;return r&&r.value&&"true"===r.value.checked?s.a.createElement(u.b,{className:t,icon:s.a.createElement(p,null)},n.name):null},f=function(e){var t=e.className,n=e.field,r=e.item;if(!r||!r.value||!r.value.date)return null;var i=new Date(r.value.date).toLocaleString(l.locale,{month:"short",day:"numeric"});return s.a.createElement(u.a,{className:t},s.a.createElement("span",null,"".concat(n.name,": ").concat(i)))},h=function(e){var t=e.className,n=e.field,r=e.item;if(!(r&&r.idValue&&n&&n.options))return null;var i=n.options.find((function(e){return e.id===r.idValue}));if(!i||!i.value||!i.value.text)return null;var o="transparent",a="N400",l=new Map([["green",c.Green500],["yellow",c.Yellow500],["orange",c.Orange500],["red",c.Red500],["blue",c.TrelloBlue500],["purple",c.Purple500],["sky",c.Sky500],["lime",c.Lime500],["pink",c.Pink500],["black",c.N500]]);return i.color&&"none"!==i.color&&l.has(i.color)&&(o=l.get(i.color),a=c.N0),s.a.createElement(u.a,{className:t,bgColor:o,fontColor:a},s.a.createElement("span",null,"".concat(n.name,": ").concat(i.value.text)))},v=function(e){var t=e.className,n=e.field,r=e.item;if(!r||!r.value||!r.value.number)return null;var i=parseFloat(r.value.number).toLocaleString(window.navigator.language,{maximumFractionDigits:10});return s.a.createElement(u.a,{className:t},s.a.createElement("span",null,"".concat(n.name,": ").concat(i)))},g=function(e){var t=e.className,n=e.field,r=e.item;return r&&r.value&&r.value.text?s.a.createElement(u.a,{className:t},s.a.createElement("span",null,"".concat(n.name,": ").concat(r.value.text))):null},b=n("./packages/trello-canonical-components/src/card-front/Sticker.less"),y=n.n(b),k=function(e){var t=e.top,n=e.left,r=e.rotate,i=e.img,o=e.zIndex,a=void 0===o?0:o,l=e.alt,c=void 0===l?"":l,u={left:"".concat(n,"%"),top:"".concat(t,"%"),zIndex:a},d={transform:"rotate(".concat(r,"deg)")};return s.a.createElement("div",{className:y.a.sticker,style:u},s.a.createElement("img",{className:y.a.stickerImage,src:i,alt:c,style:d}))}},"./packages/trello-canonical-components/src/detail/Buttons.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/detail/Buttons.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./packages/trello-canonical-components/src/detail/Detail.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/detail/Detail.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./packages/trello-canonical-components/src/detail/Reply.less":function(e,t,n){var r=n("./node_modules/style-loader/dist/runtime/injectStylesIntoStyleTag.js"),i=n("./node_modules/css-loader/index.js?!./node_modules/postcss-loader/src/index.js?!./node_modules/less-loader/dist/cjs.js?!./packages/trello-canonical-components/src/detail/Reply.less");"string"==typeof(i=i.__esModule?i.default:i)&&(i=[[e.i,i,""]]);var o={insert:"head",singleton:!1};r(i,o);e.exports=i.locals||{}},"./packages/trello-canonical-components/src/icons/SubscribeIcon.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return i.a.createElement("svg",o({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M12.0006 18C7.46367 18 4.00142 13.74 4.00142 12C4.00142 9.999 7.45967 6 12.0006 6C16.3775 6 19.9988 9.973 19.9988 12C19.9988 13.74 16.5366 18 12.0006 18ZM12.0006 4C6.48003 4 2.00012 8.841 2.00012 12C2.00012 15.086 6.5771 20 12.0006 20C17.4241 20 22.0001 15.086 22.0001 12C22.0001 8.841 17.5212 4 12.0006 4ZM11.9775 13.9844C10.8745 13.9844 9.97752 13.0874 9.97752 11.9844C9.97752 10.8814 10.8745 9.9844 11.9775 9.9844C13.0805 9.9844 13.9775 10.8814 13.9775 11.9844C13.9775 13.0874 13.0805 13.9844 11.9775 13.9844ZM11.9775 7.9844C9.77152 7.9844 7.97752 9.7784 7.97752 11.9844C7.97752 14.1904 9.77152 15.9844 11.9775 15.9844C14.1835 15.9844 15.9775 14.1904 15.9775 11.9844C15.9775 9.7784 14.1835 7.9844 11.9775 7.9844Z"}))}},"./packages/trello-canonical-components/src/icons/VoteIcon.js":function(e,t,n){"use strict";var r=n("./node_modules/react/index.js"),i=n.n(r);function o(){return(o=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}t.a=function(e){return i.a.createElement("svg",o({width:24,height:24,viewBox:"0 0 24 24"},e),i.a.createElement("path",{fill:e.color||"currentColor",fillRule:"evenodd",clipRule:"evenodd",d:"M4.0003 12V19C3.99379 19.2619 4.09386 19.5155 4.278 19.7036C4.46214 19.8916 4.71488 19.9985 4.97934 20H5.99875V11H4.97934C4.71488 11.0015 4.46214 11.1084 4.278 11.2964C4.09386 11.4845 3.99379 11.7381 4.0003 12ZM19.2814 11.04C18.7031 10.3648 17.8537 9.97663 16.96 9.979H14.3256C14.366 9.798 14.4064 9.619 14.4367 9.447C14.9514 6.513 14.4367 5.447 13.932 4.85301C13.4706 4.31076 12.7907 3.99849 12.0749 4.00001C10.5305 4.05274 9.26304 5.22781 9.10746 6.751C8.71382 8.59 8.65327 8.751 8.13851 9.476L7.37143 10.565C7.13702 10.9004 7.01037 11.2981 7.00807 11.706V17.979C7.00941 18.5108 7.2239 19.0202 7.60436 19.3953C7.98483 19.7704 8.50009 19.9803 9.03681 19.979H16.2837C17.769 19.9868 19.0398 18.924 19.2814 17.472L19.9577 13.472C20.1065 12.6021 19.8589 11.7116 19.2814 11.04ZM17.283 17.14C17.2014 17.6233 16.7783 17.9768 16.2837 17.975L9.03681 17.975V11.706L9.80389 10.617C10.5253 9.57261 10.9727 8.36664 11.1059 7.108C11.1423 6.56547 11.3607 5.89944 12.0749 6C12.7891 6.10057 12.6502 7.916 12.4382 9.1C12.2229 10.081 11.9327 11.0445 11.5702 11.982L16.96 11.974C17.2574 11.9729 17.5402 12.1019 17.7328 12.3264C17.9255 12.551 18.0083 12.8483 17.9592 13.139L17.283 17.14Z"}))}},"./resources/images/TrelloGoldBadge.png":function(e,t,n){e.exports=n.p+"images/TrelloGoldBadge.3165e93a7df78639d858.png"},"./resources/images/auto-enable-calendar/calendar-hero.jpg":function(e,t,n){e.exports=n.p+"images/auto-enable-calendar/calendar-hero.b732539863e77e0efa62.jpg"},"./resources/images/business-class-feature-boards.png":function(e,t,n){e.exports=n.p+"images/business-class-feature-boards.511e144c0f72db99b819.png"},"./resources/images/business-class-feature-integration.png":function(e,t,n){e.exports=n.p+"images/business-class-feature-integration.ce5f8f256e6f3ccf9c53.png"},"./resources/images/business-class-feature-roadmap.png":function(e,t,n){e.exports=n.p+"images/business-class-feature-roadmap.0f99b85b579fc74b3199.png"},"./resources/images/business-class/feature-boards.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-boards.ae0af621e02da95fe156.svg"},"./resources/images/business-class/feature-butler.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-butler.e2436c87d32c2f1ecb71.svg"},"./resources/images/business-class/feature-control.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-control.4e47ce655980f89f0661.svg"},"./resources/images/business-class/feature-powerups.svg":function(e,t,n){e.exports=n.p+"images/business-class/feature-powerups.99f6c146243e939e36d8.svg"},"./resources/images/chevron.png":function(e,t,n){e.exports=n.p+"images/chevron.49062488fac145ed289e.png"},"./resources/images/directory/icons/compliant.svg":function(e,t,n){e.exports=n.p+"images/directory/icons/compliant.709c98ab9fefbb170d0f.svg"},"./resources/images/directory/icons/notCompliant.svg":function(e,t,n){e.exports=n.p+"images/directory/icons/notCompliant.22ef3361a6b3b7ee50ed.svg"},"./resources/images/directory/power-ups-banner-v2.png":function(e,t,n){e.exports=n.p+"images/directory/power-ups-banner-v2.08320d1b0a49f7d5c875.png"},"./resources/images/dropbox-mark.svg":function(e,t,n){e.exports=n.p+"images/dropbox-mark.9b13c8944db93b6233bb.svg"},"./resources/images/free-trial/light.svg":function(e,t,n){e.exports=n.p+"images/free-trial/light.a009cb5a5ddc30570b36.svg"},"./resources/images/free-trial/thumbs-up.svg":function(e,t,n){e.exports=n.p+"images/free-trial/thumbs-up.7a2986bddd638ea60fca.svg"},"./resources/images/icon-link.svg":function(e,t,n){e.exports=n.p+"images/icon-link.17095605578f7696a702.svg"},"./resources/images/illos.png":function(e,t,n){e.exports=n.p+"images/illos.abe6b994293eac4d9da6.png"},"./resources/images/moonshot/bc-sparkle.svg":function(e,t,n){e.exports=n.p+"images/moonshot/bc-sparkle.a2d5fa40765ab0f5e3c7.svg"},"./resources/images/patterns/dark/BrickDiagonal.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/BrickDiagonal.ad6bfbb1f14ba40b0f4a.svg"},"./resources/images/patterns/dark/BrickHorizontal.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/BrickHorizontal.cf0169751ef925310e92.svg"},"./resources/images/patterns/dark/DotsChecker.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/DotsChecker.ca0cf5f242b0ddde494a.svg"},"./resources/images/patterns/dark/GrooveDiagonal.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/GrooveDiagonal.6651027327b53ab2a861.svg"},"./resources/images/patterns/dark/Scale.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/Scale.68165eca1df968b922d7.svg"},"./resources/images/patterns/dark/StripeDiagonal.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/StripeDiagonal.cc30b2fa7d9b73cdae10.svg"},"./resources/images/patterns/dark/StripeHorizontal.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/StripeHorizontal.f332fc8687fb8b884318.svg"},"./resources/images/patterns/dark/StripeVertical.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/StripeVertical.0e628d414c23eaa2c0e1.svg"},"./resources/images/patterns/dark/WaveSquare.svg":function(e,t,n){e.exports=n.p+"images/patterns/dark/WaveSquare.9810752287610a74caed.svg"},"./resources/images/patterns/light/BrickDiagonal.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/BrickDiagonal.c08919b70c8238d07403.svg"},"./resources/images/patterns/light/BrickHorizontal.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/BrickHorizontal.0496dc05c7b746ffbd50.svg"},"./resources/images/patterns/light/BrickVertical.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/BrickVertical.ce7658e1e8df2de54d00.svg"},"./resources/images/patterns/light/DotsChecker.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/DotsChecker.c64ade9b1931e459fe77.svg"},"./resources/images/patterns/light/GrooveDiagonal.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/GrooveDiagonal.983768b586cd7471d756.svg"},"./resources/images/patterns/light/Scale.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/Scale.3ce802953f7ad2707ebd.svg"},"./resources/images/patterns/light/StripeDiagonal.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/StripeDiagonal.48c42842a8b8affda92b.svg"},"./resources/images/patterns/light/StripeHorizontal.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/StripeHorizontal.f337588386c0c0650d4e.svg"},"./resources/images/patterns/light/StripeVertical.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/StripeVertical.bff0791556d4eac08e56.svg"},"./resources/images/patterns/light/WaveSquare.svg":function(e,t,n){e.exports=n.p+"images/patterns/light/WaveSquare.f0eb2a7cad1a79ec67dd.svg"},"./resources/images/powerups/voting-icon.svg":function(e,t,n){e.exports=n.p+"images/powerups/voting-icon.7a64373ca0f3e1858b4a.svg"},"./resources/images/services/lock.svg":function(e,t,n){e.exports=n.p+"images/services/lock.df6bf3ec464a023a8419.svg"},"./resources/images/services/people.svg":function(e,t,n){e.exports=n.p+"images/services/people.43cb10027ddabf872cfb.svg"},"./resources/images/stars.svg":function(e,t,n){e.exports=n.p+"images/stars.3f9b4fea19413cdbaf75.svg"},"./resources/images/stickers/residue.png":function(e,t,n){e.exports=n.p+"images/stickers/residue.98ba01532da369b380d1.png"},"./resources/images/taco.png":function(e,t,n){e.exports=n.p+"images/taco.14455e01e7257a645712.png"},"./resources/images/upgrade-prompts/fortnite.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/fortnite.fe1c88f41c50dd16c42a.svg"},"./resources/images/upgrade-prompts/google.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/google.46dcb51f2b7ce44f8d20.svg"},"./resources/images/upgrade-prompts/peloton.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/peloton.995eeb3d53f362370d85.svg"},"./resources/images/upgrade-prompts/pinterest.svg":function(e,t,n){e.exports=n.p+"images/upgrade-prompts/pinterest.e9238b9d6fda8ebe3ccd.svg"},"./resources/images/views-upsell sync recursive ^\\.\\/.*\\.svg$":function(e,t,n){var r={"./calendar.svg":"./resources/images/views-upsell/calendar.svg","./dashboard.svg":"./resources/images/views-upsell/dashboard.svg","./map.svg":"./resources/images/views-upsell/map.svg","./table.svg":"./resources/images/views-upsell/table.svg","./timeline.svg":"./resources/images/views-upsell/timeline.svg"};function i(e){var t=o(e);return n(t)}function o(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}i.keys=function(){return Object.keys(r)},i.resolve=o,e.exports=i,i.id="./resources/images/views-upsell sync recursive ^\\.\\/.*\\.svg$"},"./resources/images/views-upsell/calendar.svg":function(e,t,n){e.exports=n.p+"images/views-upsell/calendar.9e29048702d482cfe491.svg"},"./resources/images/views-upsell/dashboard.svg":function(e,t,n){e.exports=n.p+"images/views-upsell/dashboard.64b51de95699d2f95681.svg"},"./resources/images/views-upsell/map.svg":function(e,t,n){e.exports=n.p+"images/views-upsell/map.51072afa32e8683333d5.svg"},"./resources/images/views-upsell/table.svg":function(e,t,n){e.exports=n.p+"images/views-upsell/table.b0b1749addd0606f1f88.svg"},"./resources/images/views-upsell/timeline.svg":function(e,t,n){e.exports=n.p+"images/views-upsell/timeline.67758ed5564e27fd98c2.svg"},"./resources/images/views/BoardViewsButtonCalloutImage.svg":function(e,t,n){e.exports=n.p+"images/views/BoardViewsButtonCalloutImage.22434587c8bf9bda2219.svg"},"./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-image.png":function(e,t,n){e.exports=n.p+"images/workspaces-preamble/workspaces-preamble-prompt-board-image.8de609db7af65df4bde9.png"},"./resources/images/workspaces-preamble/workspaces-preamble-prompt-board-invite-image.png":function(e,t,n){e.exports=n.p+"images/workspaces-preamble/workspaces-preamble-prompt-board-invite-image.e96bd5132d7721dd55b1.png"},2:function(e,t){},3:function(e,t){},4:function(e,t){}}]);
//# sourceMappingURL=board-view.e3e3f002711b9f7e545e.js.map